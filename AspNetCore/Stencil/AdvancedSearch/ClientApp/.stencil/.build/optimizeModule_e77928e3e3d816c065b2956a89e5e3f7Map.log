{"version":3,"names":["filterBarCss","FilterBar","componentWillLoad","this","options","shadowRoots","host","shadowRoot","loadModelOnStart","result","paging","pageSize","showChart","view","DataFilterView","context","getContext","addEventListener","model","getModel","query","getQuery","rootEntity","scan","entity","name","attr","attributes","addColumn","attribute","useEndpoint","useEnterprise","init","render","h","key","id"],"sources":["src/components/filter-bar/filter-bar.css?tag=filter-bar&encapsulation=shadow","src/components/filter-bar/filter-bar.tsx"],"sourcesContent":["@import \"../../../node_modules/@easyquery/ui/dist/assets/css/easyquery.ui.css\";","import { Component, Element, h } from '@stencil/core';\r\n\r\nimport { DataFilterView, EqViewOptions } from '@easyquery/ui';\r\nimport '@easyquery/enterprise';\r\n\r\n@Component({\r\n    tag: 'filter-bar',\r\n    styleUrl: './filter-bar.css',\r\n    shadow: true\r\n})\r\nexport class FilterBar {\r\n\r\n    private options: EqViewOptions;\r\n    private view: DataFilterView;\r\n\r\n    @Element() host: HTMLDivElement;\r\n    \r\n    componentWillLoad() {\r\n        this.options = {\r\n            shadowRoots: [ this.host.shadowRoot ],\r\n            loadModelOnStart: true,\r\n            result: {\r\n                paging: {\r\n                    pageSize: 15\r\n                },\r\n                showChart: false\r\n            }\r\n        };\r\n\r\n        this.view = new DataFilterView();\r\n\r\n        const context = this.view.getContext();\r\n        context.addEventListener('ready', () => {\r\n            const model = context.getModel();\r\n            const query = context.getQuery();\r\n         \r\n            // here you can specify wich entities \r\n            // and their attributes\r\n            // will be used for select\r\n            model.rootEntity.scan(null,\r\n                (entity) => {\r\n                    if (entity.name == \"Order\") {\r\n                        for(const attr of entity.attributes) {\r\n                            query.addColumn({\r\n                                attribute: attr\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            );\r\n        });\r\n\r\n        context\r\n            .useEndpoint('api/data-filtering')\r\n            .useEnterprise(() => {\r\n                this.view.init(this.options);\r\n            });\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div id=\"FilterBar\"></div>\r\n                <div id=\"ResultPanel\"></div>\r\n            </div>\r\n        )\r\n    }\r\n}"],"mappings":"sFAAA,MAAMA,EAAe,69jJ,MCURC,EAAS,M,yBAOlB,iBAAAC,GACIC,KAAKC,QAAU,CACXC,YAAa,CAAEF,KAAKG,KAAKC,YACzBC,iBAAkB,KAClBC,OAAQ,CACJC,OAAQ,CACJC,SAAU,IAEdC,UAAW,QAInBT,KAAKU,KAAO,IAAIC,EAEhB,MAAMC,EAAUZ,KAAKU,KAAKG,aAC1BD,EAAQE,iBAAiB,SAAS,KAC9B,MAAMC,EAAQH,EAAQI,WACtB,MAAMC,EAAQL,EAAQM,WAKtBH,EAAMI,WAAWC,KAAK,MACjBC,IACG,GAAIA,EAAOC,MAAQ,QAAS,CACxB,IAAI,MAAMC,KAAQF,EAAOG,WAAY,CACjCP,EAAMQ,UAAU,CACZC,UAAWH,G,KAK9B,IAGLX,EACKe,YAAY,sBACZC,eAAc,KACX5B,KAAKU,KAAKmB,KAAK7B,KAAKC,QAAQ,G,CAKxC,MAAA6B,GACI,OACIC,EAAA,OAAAC,IAAA,4CACID,EAAK,OAAAC,IAAA,2CAAAC,GAAG,cACRF,EAAA,OAAAC,IAAA,2CAAKC,GAAG,gB","ignoreList":[]}