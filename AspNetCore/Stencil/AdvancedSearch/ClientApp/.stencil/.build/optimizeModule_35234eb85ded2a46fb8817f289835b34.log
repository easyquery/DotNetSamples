import{r as t,h as e,a as s}from"./p-C0SbqvNT.js";import{A as n}from"./p-Cw5xsa14.js";const a="/";const o="./";const i=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");const r=(t,e)=>{var s=[];var n=0;var r=0;var f="";var h=e&&e.delimiter||a;var u=e&&e.delimiters||o;var d=false;var b;while((b=i.exec(t))!==null){var p=b[0];var y=b[1];var v=b.index;f+=t.slice(r,v);r=v+p.length;if(y){f+=y[1];d=true;continue}var g="";var m=t[r];var k=b[2];var w=b[3];var x=b[4];var P=b[5];if(!d&&f.length){var O=f.length-1;if(u.indexOf(f[O])>-1){g=f[O];f=f.slice(0,O)}}if(f){s.push(f);f="";d=false}var C=g!==""&&m!==undefined&&m!==g;var E=P==="+"||P==="*";var S=P==="?"||P==="*";var j=g||h;var R=w||x;s.push({name:k||n++,prefix:g,delimiter:j,optional:S,repeat:E,partial:C,pattern:R?l(R):"[^"+c(j)+"]+?"})}if(f||r<t.length){s.push(f+t.substr(r))}return s};const c=t=>t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");const l=t=>t.replace(/([=!:$/()])/g,"\\$1");const f=t=>t&&t.sensitive?"":"i";const h=(t,e)=>{if(!e)return t;var s=t.source.match(/\((?!\?)/g);if(s){for(var n=0;n<s.length;n++){e.push({name:n,prefix:null,delimiter:null,optional:false,repeat:false,partial:false,pattern:null})}}return t};const u=(t,e,s)=>{var n=[];for(var a=0;a<t.length;a++){n.push(p(t[a],e,s).source)}return new RegExp("(?:"+n.join("|")+")",f(s))};const d=(t,e,s)=>b(r(t,s),e,s);const b=(t,e,s)=>{s=s||{};var n=s.strict;var i=s.end!==false;var r=c(s.delimiter||a);var l=s.delimiters||o;var h=[].concat(s.endsWith||[]).map(c).concat("$").join("|");var u="";var d=false;for(var b=0;b<t.length;b++){var p=t[b];if(typeof p==="string"){u+=c(p);d=b===t.length-1&&l.indexOf(p[p.length-1])>-1}else{var y=c(p.prefix||"");var v=p.repeat?"(?:"+p.pattern+")(?:"+y+"(?:"+p.pattern+"))*":p.pattern;if(e)e.push(p);if(p.optional){if(p.partial){u+=y+"("+v+")?"}else{u+="(?:"+y+"("+v+"))?"}}else{u+=y+"("+v+")"}}}if(i){if(!n)u+="(?:"+r+")?";u+=h==="$"?"$":"(?="+h+")"}else{if(!n)u+="(?:"+r+"(?="+h+"))?";if(!d)u+="(?="+r+"|"+h+")"}return new RegExp("^"+u,f(s))};const p=(t,e,s)=>{if(t instanceof RegExp){return h(t,e)}if(Array.isArray(t)){return u(t,e,s)}return d(t,e,s)};const y=(t,e)=>new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t);const v=(t,e)=>y(t,e)?t.substr(e.length):t;const g=t=>t.charAt(t.length-1)==="/"?t.slice(0,-1):t;const m=t=>t.charAt(0)==="/"?t:"/"+t;const k=t=>t.charAt(0)==="/"?t.substr(1):t;const w=t=>{let e=t||"/";let s="";let n="";const a=e.indexOf("#");if(a!==-1){n=e.substr(a);e=e.substr(0,a)}const o=e.indexOf("?");if(o!==-1){s=e.substr(o);e=e.substr(0,o)}return{pathname:e,search:s==="?"?"":s,hash:n==="#"?"":n,query:{},key:""}};const x=t=>{const{pathname:e,search:s,hash:n}=t;let a=e||"/";if(s&&s!=="?"){a+=s.charAt(0)==="?"?s:`?${s}`}if(n&&n!=="#"){a+=n.charAt(0)==="#"?n:`#${n}`}return a};const P=t=>{if(!t){return{}}return(/^[?#]/.test(t)?t.slice(1):t).split("&").reduce(((t,e)=>{let[s,n]=e.split("=");t[s]=n?decodeURIComponent(n.replace(/\+/g," ")):"";return t}),{})};const O=t=>t.charAt(0)==="/";const C=t=>Math.random().toString(36).substr(2,t);const E=(t,e)=>{for(let s=e,n=s+1,a=t.length;n<a;s+=1,n+=1){t[s]=t[n]}t.pop()};const S=(t,e="")=>{let s=e&&e.split("/")||[];let n;let a=0;const o=t&&t.split("/")||[];const i=t&&O(t);const r=e&&O(e);const c=i||r;if(t&&O(t)){s=o}else if(o.length){s.pop();s=s.concat(o)}if(!s.length){return"/"}if(s.length){const t=s[s.length-1];n=t==="."||t===".."||t===""}else{n=false}for(let t=s.length;t>=0;t--){const e=s[t];if(e==="."){E(s,t)}else if(e===".."){E(s,t);a++}else if(a){E(s,t);a--}}if(!c){for(;a--;a){s.unshift("..")}}if(c&&s[0]!==""&&(!s[0]||!O(s[0]))){s.unshift("")}let l=s.join("/");if(n&&l.substr(-1)!=="/"){l+="/"}return l};const j=(t,e)=>{if(t===e){return true}if(t==null||e==null){return false}if(Array.isArray(t)){return Array.isArray(e)&&t.length===e.length&&t.every(((t,s)=>j(t,e[s])))}const s=typeof t;const n=typeof e;if(s!==n){return false}if(s==="object"){const s=t.valueOf();const n=e.valueOf();if(s!==t||n!==e){return j(s,n)}const a=Object.keys(t);const o=Object.keys(e);if(a.length!==o.length){return false}return a.every((s=>j(t[s],e[s])))}return false};const R=(t,e)=>t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&j(t.state,e.state);const T=(t,e,s,n)=>{let a;if(typeof t==="string"){a=w(t);if(e!==undefined){a.state=e}}else{a=Object.assign({pathname:""},t);if(a.search&&a.search.charAt(0)!=="?"){a.search="?"+a.search}if(a.hash&&a.hash.charAt(0)!=="#"){a.hash="#"+a.hash}if(e!==undefined&&a.state===undefined){a.state=e}}try{a.pathname=decodeURI(a.pathname)}catch(t){if(t instanceof URIError){throw new URIError('Pathname "'+a.pathname+'" could not be decoded. '+"This is likely caused by an invalid percent-encoding.")}else{throw t}}a.key=s;if(n){if(!a.pathname){a.pathname=n.pathname}else if(a.pathname.charAt(0)!=="/"){a.pathname=S(a.pathname,n.pathname)}}else{if(!a.pathname){a.pathname="/"}}a.query=P(a.search||"");return a};let _=0;const U={};const A=1e4;const L=(t,e)=>{const s=`${e.end}${e.strict}`;const n=U[s]||(U[s]={});const a=JSON.stringify(t);if(n[a]){return n[a]}const o=[];const i=p(t,o,e);const r={re:i,keys:o};if(_<A){n[a]=r;_+=1}return r};const H=(t,e={})=>{if(typeof e==="string"){e={path:e}}const{path:s="/",exact:n=false,strict:a=false}=e;const{re:o,keys:i}=L(s,{end:n,strict:a});const r=o.exec(t);if(!r){return null}const[c,...l]=r;const f=t===c;if(n&&!f){return null}return{path:s,url:s==="/"&&c===""?"/":c,isExact:f,params:i.reduce(((t,e,s)=>{t[e.name]=l[s];return t}),{})}};const M=(t,e)=>{if(t==null&&e==null){return true}if(e==null){return false}return t&&e&&t.path===e.path&&t.url===e.url&&j(t.params,e.params)};const $=class{constructor(e){t(this,e)}render(){return e("div",{key:"184047467379e9ba2b4565bfd0aedf821ab2d566"},e("nav-menu",{key:"f07c44e29fbc7b8477a60adf3fbb90aecd739bf0"}),e("div",{key:"a933c54763da5fe06dc1778455034ff82caf5723",class:"container"},e("slot",{key:"d6ba90c83d760ef420cb75d9cfc040ced637dafe"})))}};const q=class{constructor(e){t(this,e)}componentWillLoad(){this.host.innerHTML=""}render(){return e("app-layout",{key:"8aca39e5b655042306a75bc22c64a991b69823e5"},e("stencil-router",{key:"fc69ea078c3c007d4de90be9ce0d5b8e3b044243"},e("stencil-route-switch",{key:"6088ba3e5d379a0919d3a6a235614cb5db494e05",scrollTopOffset:0},e("stencil-route",{key:"8667eafc83884c2227c0137ad3d4d4b4da6ab606",url:"/",component:"app-home",exact:true}),e("stencil-route",{key:"06c786cae90ad9cd8d7b77498654eff63d36015a",url:"/counter",component:"app-counter",exact:true}),e("stencil-route",{key:"2e8443abe8d08c0c042efe01b6409a989b0bee7d",url:"/fetch-data",component:"fetch-data",exact:true}),e("stencil-route",{key:"d2b27dd69a50f41ba86b65e696edd426cfc6871a",url:"/easy-query",component:"easy-query",exact:true}),e("stencil-route",{key:"cf00dd53348e62ac3019bc283fd0a0d90b44b46d",url:"/filter-bar",component:"filter-bar",exact:true}))))}get host(){return s(this)}};const D="a.navbar-brand{white-space:normal;text-align:center;word-break:break-all}html{font-size:14px}@media (min-width: 768px){html{font-size:16px}}.box-shadow{box-shadow:0 .25rem .75rem rgba(0, 0, 0, .05)}";const I=class{constructor(e){t(this,e);this.isExpanded=false;this.toggle=()=>{this.isExpanded=!this.isExpanded}}render(){let t="navbar-collapse collapse d-sm-inline-flex flex-sm-row-reverse";if(this.isExpanded){t+=" show"}return e("header",{key:"10569a96dbe0e08addac824d08513fb46a7b7614"},e("nav",{key:"3839ba29f24cfee7178dd5de4c7851568efac57a",class:"navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3"},e("div",{key:"dcff4aa340303dff18227003f5a5b5bbe2450377",class:"container"},e("stencil-route-link",{key:"533044a16694f5fbdef5499391197b0e356dc20e",anchorClass:"navbar-brand",url:"/"},"EqStencilDemo"),e("button",{key:"583cab9ca12ec631cbf8d68cabf2e7493e648efb",class:"navbar-toggler",type:"button","aria-expanded":this.isExpanded,"data-toggle":"collapse","data-target":".navbar-collapse","aria-label":"Toggle navigation",onClick:this.toggle},e("span",{key:"c4b7adc5b2b5496a392a0f0b8dca7b06c28f9d3d",class:"navbar-toggler-icon"})),e("div",{key:"85452c0d4ea83695a20fdd8a1aa34761936ab92e",class:t},e("ul",{key:"8530126ae126aaeb6ec5e8cab41c805b73a4b110",class:"navbar-nav flex-grow"},e("li",{key:"09b352443551846120ea170dbecca7894cebe69d",class:"nav-item"},e("stencil-route-link",{key:"95e41a460ac938051cec3c816f7004efeee3fbfa",anchorClass:"nav-link text-dark",activeClass:"link-active",url:"/"},"Home")),e("li",{key:"d514bd82c8e47f2654cf3e441ac746069490b23b",class:"nav-item"},e("stencil-route-link",{key:"ad683fe2d914d5a32e39d4fa8423f8ebc9fee242",anchorClass:"nav-link text-dark",activeClass:"link-active",url:"/counter"},"Counter")),e("li",{key:"2e89a18380f0192d225432596cc273a91e4a5531",class:"nav-item"},e("stencil-route-link",{key:"e0c4566081f4bee93a72134f5e448a8f60400780",anchorClass:"nav-link text-dark",activeClass:"link-active",url:"/fetch-data"},"Fetch Data")),e("li",{key:"712064af353798288210cee53bc1b26c38566ab5",class:"nav-item"},e("stencil-route-link",{key:"8c6bc08c12aa958cb5194ad6726ea1965a2df064",anchorClass:"nav-link text-dark",activeClass:"link-active",url:"/easy-query"},"EasyQuery")),e("li",{key:"5a4dea273ca3152a8a5549c3f5f3c353de3b9f82",class:"nav-item"},e("stencil-route-link",{key:"5c490e2027cac504817db35c798f2de1de339324",anchorClass:"nav-link text-dark",activeClass:"link-active",url:"/filter-bar"},"Data Filter")))))))}};I.style=D;const N="stencil-route.inactive{display:none}";const F=class{constructor(e){t(this,e);this.group=null;this.match=null;this.componentProps={};this.exact=false;this.scrollOnNextRender=false;this.previousMatch=null}computeMatch(t){const e=this.group!=null||this.el.parentElement!=null&&this.el.parentElement.tagName.toLowerCase()==="stencil-route-switch";if(!t||e){return}this.previousMatch=this.match;return this.match=H(t.pathname,{path:this.url,exact:this.exact,strict:true})}async loadCompleted(){let t={};if(this.history&&this.history.location.hash){t={scrollToId:this.history.location.hash.substr(1)}}else if(this.scrollTopOffset){t={scrollTopOffset:this.scrollTopOffset}}if(typeof this.componentUpdated==="function"){this.componentUpdated(t)}else if(this.match&&!M(this.match,this.previousMatch)&&this.routeViewsUpdated){this.routeViewsUpdated(t)}}async componentDidUpdate(){await this.loadCompleted()}async componentDidLoad(){await this.loadCompleted()}render(){if(!this.match||!this.history){return null}const t=Object.assign({},this.componentProps,{history:this.history,match:this.match});if(this.routeRender){return this.routeRender(Object.assign({},t,{component:this.component}))}if(this.component){const s=this.component;return e(s,Object.assign({},t))}}get el(){return s(this)}static get watchers(){return{location:["computeMatch"]}}};n.injectProps(F,["location","history","historyType","routeViewsUpdated"]);F.style=N;const W=(t,e,s)=>s(t.confirm(e));const B=t=>t.metaKey||t.altKey||t.ctrlKey||t.shiftKey;const Y=t=>{const e=t.navigator.userAgent;if((e.indexOf("Android 2.")!==-1||e.indexOf("Android 4.0")!==-1)&&e.indexOf("Mobile Safari")!==-1&&e.indexOf("Chrome")===-1&&e.indexOf("Windows Phone")===-1){return false}return t.history&&"pushState"in t.history};const z=t=>t.userAgent.indexOf("Trident")===-1;const J=t=>t.userAgent.indexOf("Firefox")===-1;const Q=(t,e)=>e.state===undefined&&t.userAgent.indexOf("CriOS")===-1;const V=(t,e)=>{const s=t[e];const n="__storage_test__";try{s.setItem(n,n);s.removeItem(n);return true}catch(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")&&s.length!==0}};const G=(t,e)=>{if(t.charAt(0)=="/"&&e.charAt(e.length-1)=="/"){return e.slice(0,e.length-1)+t}return e+t};const K=class{constructor(e){t(this,e);this.unsubscribe=()=>{};this.activeClass="link-active";this.exact=false;this.strict=true;this.custom="a";this.match=null}componentWillLoad(){this.computeMatch()}computeMatch(){if(this.location){this.match=H(this.location.pathname,{path:this.urlMatch||this.url,exact:this.exact,strict:this.strict})}}handleClick(t){if(B(t)||!this.history||!this.url||!this.root){return}t.preventDefault();return this.history.push(G(this.url,this.root))}render(){let t={class:{[this.activeClass]:this.match!==null},onClick:this.handleClick.bind(this)};if(this.anchorClass){t.class[this.anchorClass]=true}if(this.custom==="a"){t=Object.assign({},t,{href:this.url,title:this.anchorTitle,role:this.anchorRole,tabindex:this.anchorTabIndex,"aria-haspopup":this.ariaHaspopup,id:this.anchorId,"aria-posinset":this.ariaPosinset,"aria-setsize":this.ariaSetsize,"aria-label":this.ariaLabel})}return e(this.custom,Object.assign({},t),e("slot",null))}get el(){return s(this)}static get watchers(){return{location:["computeMatch"]}}};n.injectProps(K,["history","location","root"]);const X=()=>((Math.random()*1e17).toString().match(/.{4}/g)||[]).join("-");const Z=(t,e,s)=>H(t,{path:e,exact:s,strict:true});const tt=t=>t.tagName==="STENCIL-ROUTE";const et=class{constructor(e){t(this,e);this.group=X();this.subscribers=[]}componentWillLoad(){if(this.location!=null){this.regenerateSubscribers(this.location)}}async regenerateSubscribers(t){if(t==null){return}let e=-1;this.subscribers=Array.prototype.slice.call(this.el.children).filter(tt).map(((s,n)=>{const a=Z(t.pathname,s.url,s.exact);if(a&&e===-1){e=n}return{el:s,match:a}}));if(e===-1){return}if(this.activeIndex===e){this.subscribers[e].el.match=this.subscribers[e].match;return}this.activeIndex=e;const s=this.subscribers[this.activeIndex];if(this.scrollTopOffset){s.el.scrollTopOffset=this.scrollTopOffset}s.el.group=this.group;s.el.match=s.match;s.el.componentUpdated=t=>{this.queue.write((()=>{this.subscribers.forEach(((t,e)=>{t.el.componentUpdated=undefined;if(e===this.activeIndex){return t.el.style.display=""}if(this.scrollTopOffset){t.el.scrollTopOffset=this.scrollTopOffset}t.el.group=this.group;t.el.match=null;t.el.style.display="none"}))}));if(this.routeViewsUpdated){this.routeViewsUpdated(Object.assign({scrollTopOffset:this.scrollTopOffset},t))}}}render(){return e("slot",null)}static get contextProps(){return[{name:"queue",context:"queue"}]}get el(){return s(this)}static get watchers(){return{location:["regenerateSubscribers"]}}};n.injectProps(et,["location","routeViewsUpdated"]);const st=(t,...e)=>{if(!t){console.warn(...e)}};const nt=()=>{let t;let e=[];const s=e=>{st(t==null,"A history supports only one prompt at a time");t=e;return()=>{if(t===e){t=null}}};const n=(e,s,n,a)=>{if(t!=null){const o=typeof t==="function"?t(e,s):t;if(typeof o==="string"){if(typeof n==="function"){n(o,a)}else{st(false,"A history needs a getUserConfirmation function in order to use a prompt message");a(true)}}else{a(o!==false)}}else{a(true)}};const a=t=>{let s=true;const n=(...e)=>{if(s){t(...e)}};e.push(n);return()=>{s=false;e=e.filter((t=>t!==n))}};const o=(...t)=>{e.forEach((e=>e(...t)))};return{setPrompt:s,confirmTransitionTo:n,appendListener:a,notifyListeners:o}};const at=(t,e="scrollPositions")=>{let s=new Map;const n=(e,n)=>{s.set(e,n);if(V(t,"sessionStorage")){const e=[];s.forEach(((t,s)=>{e.push([s,t])}));t.sessionStorage.setItem("scrollPositions",JSON.stringify(e))}};const a=t=>s.get(t);const o=t=>s.has(t);const i=e=>{n(e,[t.scrollX,t.scrollY])};if(V(t,"sessionStorage")){const n=t.sessionStorage.getItem(e);s=n?new Map(JSON.parse(n)):s}if("scrollRestoration"in t.history){history.scrollRestoration="manual"}return{set:n,get:a,has:o,capture:i}};const ot="popstate";const it="hashchange";const rt=(t,e={})=>{let s=false;const n=t.history;const a=t.location;const o=t.navigator;const i=Y(t);const r=!z(o);const c=at(t);const l=e.forceRefresh!=null?e.forceRefresh:false;const f=e.getUserConfirmation!=null?e.getUserConfirmation:W;const h=e.keyLength!=null?e.keyLength:6;const u=e.basename?g(m(e.basename)):"";const d=()=>{try{return t.history.state||{}}catch(t){return{}}};const b=t=>{t=t||{};const{key:e,state:s}=t;const{pathname:n,search:o,hash:i}=a;let r=n+o+i;st(!u||y(r,u),"You are attempting to use a basename on a page whose URL path does not begin "+'with the basename. Expected path "'+r+'" to begin with "'+u+'".');if(u){r=v(r,u)}return T(r,s,e||C(h))};const p=nt();const k=t=>{c.capture(N.location.key);Object.assign(N,t);N.location.scrollPosition=c.get(N.location.key);N.length=n.length;p.notifyListeners(N.location,N.action)};const w=t=>{if(!Q(o,t)){O(b(t.state))}};const P=()=>{O(b(d()))};const O=t=>{if(s){s=false;k()}else{const e="POP";p.confirmTransitionTo(t,e,f,(s=>{if(s){k({action:e,location:t})}else{E(t)}}))}};const E=t=>{const e=N.location;let n=j.indexOf(e.key);let a=j.indexOf(t.key);if(n===-1){n=0}if(a===-1){a=0}const o=n-a;if(o){s=true;H(o)}};const S=b(d());let j=[S.key];let R=0;let _=false;const U=t=>u+x(t);const A=(t,e)=>{st(!(typeof t==="object"&&t.state!==undefined&&e!==undefined),"You should avoid providing a 2nd state argument to push when the 1st "+"argument is a location-like object that already has state; it is ignored");const s="PUSH";const o=T(t,e,C(h),N.location);p.confirmTransitionTo(o,s,f,(t=>{if(!t){return}const e=U(o);const{key:r,state:c}=o;if(i){n.pushState({key:r,state:c},"",e);if(l){a.href=e}else{const t=j.indexOf(N.location.key);const e=j.slice(0,t===-1?0:t+1);e.push(o.key);j=e;k({action:s,location:o})}}else{st(c===undefined,"Browser history cannot push state in browsers that do not support HTML5 history");a.href=e}}))};const L=(t,e)=>{st(!(typeof t==="object"&&t.state!==undefined&&e!==undefined),"You should avoid providing a 2nd state argument to replace when the 1st "+"argument is a location-like object that already has state; it is ignored");const s="REPLACE";const o=T(t,e,C(h),N.location);p.confirmTransitionTo(o,s,f,(t=>{if(!t){return}const e=U(o);const{key:r,state:c}=o;if(i){n.replaceState({key:r,state:c},"",e);if(l){a.replace(e)}else{const t=j.indexOf(N.location.key);if(t!==-1){j[t]=o.key}k({action:s,location:o})}}else{st(c===undefined,"Browser history cannot replace state in browsers that do not support HTML5 history");a.replace(e)}}))};const H=t=>{n.go(t)};const M=()=>H(-1);const $=()=>H(1);const q=e=>{R+=e;if(R===1){t.addEventListener(ot,w);if(r){t.addEventListener(it,P)}}else if(R===0){t.removeEventListener(ot,w);if(r){t.removeEventListener(it,P)}}};const D=(t="")=>{const e=p.setPrompt(t);if(!_){q(1);_=true}return()=>{if(_){_=false;q(-1)}return e()}};const I=t=>{const e=p.appendListener(t);q(1);return()=>{q(-1);e()}};const N={length:n.length,action:"POP",location:S,createHref:U,push:A,replace:L,go:H,goBack:M,goForward:$,block:D,listen:I,win:t};return N};const ct="hashchange";const lt={hashbang:{encodePath:t=>t.charAt(0)==="!"?t:"!/"+k(t),decodePath:t=>t.charAt(0)==="!"?t.substr(1):t},noslash:{encodePath:k,decodePath:m},slash:{encodePath:m,decodePath:m}};const ft=(t,e={})=>{let s=false;let n=null;let a=0;let o=false;const i=t.location;const r=t.history;const c=J(t.navigator);const l=e.keyLength!=null?e.keyLength:6;const{getUserConfirmation:f=W,hashType:h="slash"}=e;const u=e.basename?g(m(e.basename)):"";const{encodePath:d,decodePath:b}=lt[h];const p=()=>{const t=i.href;const e=t.indexOf("#");return e===-1?"":t.substring(e+1)};const k=t=>i.hash=t;const w=t=>{const e=i.href.indexOf("#");i.replace(i.href.slice(0,e>=0?e:0)+"#"+t)};const P=()=>{let t=b(p());st(!u||y(t,u),"You are attempting to use a basename on a page whose URL path does not begin "+'with the basename. Expected path "'+t+'" to begin with "'+u+'".');if(u){t=v(t,u)}return T(t,undefined,C(l))};const O=nt();const E=t=>{Object.assign(z,t);z.length=r.length;O.notifyListeners(z.location,z.action)};const S=()=>{const t=p();const e=d(t);if(t!==e){w(e)}else{const t=P();const e=z.location;if(!s&&R(e,t)){return}if(n===x(t)){return}n=null;j(t)}};const j=t=>{if(s){s=false;E()}else{const e="POP";O.confirmTransitionTo(t,e,f,(s=>{if(s){E({action:e,location:t})}else{_(t)}}))}};const _=t=>{const e=z.location;let n=H.lastIndexOf(x(e));let a=H.lastIndexOf(x(t));if(n===-1){n=0}if(a===-1){a=0}const o=n-a;if(o){s=true;D(o)}};const U=p();const A=d(U);if(U!==A){w(A)}const L=P();let H=[x(L)];const M=t=>"#"+d(u+x(t));const $=(t,e)=>{st(e===undefined,"Hash history cannot push state; it is ignored");const s="PUSH";const a=T(t,undefined,C(l),z.location);O.confirmTransitionTo(a,s,f,(t=>{if(!t){return}const e=x(a);const o=d(u+e);const i=p()!==o;if(i){n=e;k(o);const t=H.lastIndexOf(x(z.location));const i=H.slice(0,t===-1?0:t+1);i.push(e);H=i;E({action:s,location:a})}else{st(false,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack");E()}}))};const q=(t,e)=>{st(e===undefined,"Hash history cannot replace state; it is ignored");const s="REPLACE";const a=T(t,undefined,C(l),z.location);O.confirmTransitionTo(a,s,f,(t=>{if(!t){return}const e=x(a);const o=d(u+e);const i=p()!==o;if(i){n=e;w(o)}const r=H.indexOf(x(z.location));if(r!==-1){H[r]=e}E({action:s,location:a})}))};const D=t=>{st(c,"Hash history go(n) causes a full page reload in this browser");r.go(t)};const I=()=>D(-1);const N=()=>D(1);const F=(t,e)=>{a+=e;if(a===1){t.addEventListener(ct,S)}else if(a===0){t.removeEventListener(ct,S)}};const B=(e="")=>{const s=O.setPrompt(e);if(!o){F(t,1);o=true}return()=>{if(o){o=false;F(t,-1)}return s()}};const Y=e=>{const s=O.appendListener(e);F(t,1);return()=>{F(t,-1);s()}};const z={length:r.length,action:"POP",location:L,createHref:M,push:$,replace:q,go:D,goBack:I,goForward:N,block:B,listen:Y,win:t};return z};const ht=(t,e)=>{const s=t.pathname.indexOf(e)==0?"/"+t.pathname.slice(e.length):t.pathname;return Object.assign({},t,{pathname:s})};const ut={browser:rt,hash:ft};const dt=class{constructor(e){t(this,e);this.root="/";this.historyType="browser";this.titleSuffix="";this.routeViewsUpdated=(t={})=>{if(this.history&&t.scrollToId&&this.historyType==="browser"){const e=this.history.win.document.getElementById(t.scrollToId);if(e){return e.scrollIntoView()}}this.scrollTo(t.scrollTopOffset||this.scrollTopOffset)}}componentWillLoad(){this.history=ut[this.historyType](this.el.ownerDocument.defaultView);this.history.listen((t=>{t=ht(t,this.root);this.location=t}));this.location=ht(this.history.location,this.root)}scrollTo(t){const e=this.history;if(t==null||this.isServer||!e){return}if(e.action==="POP"&&Array.isArray(e.location.scrollPosition)){return this.queue.write((()=>{if(e&&e.location&&Array.isArray(e.location.scrollPosition)){e.win.scrollTo(e.location.scrollPosition[0],e.location.scrollPosition[1])}}))}return this.queue.write((()=>{e.win.scrollTo(0,t)}))}render(){if(!this.location||!this.history){return}const t={historyType:this.historyType,location:this.location,titleSuffix:this.titleSuffix,root:this.root,history:this.history,routeViewsUpdated:this.routeViewsUpdated};return e(n.Provider,{state:t},e("slot",null))}static get contextProps(){return[{name:"isServer",context:"isServer"},{name:"queue",context:"queue"}]}get el(){return s(this)}};export{$ as app_layout,q as app_root,I as nav_menu,F as stencil_route,K as stencil_route_link,et as stencil_route_switch,dt as stencil_router};