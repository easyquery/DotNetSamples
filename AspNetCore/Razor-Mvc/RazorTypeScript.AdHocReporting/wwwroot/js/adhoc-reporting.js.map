{"version":3,"sources":["webpack://easyreport/webpack/bootstrap","webpack://easyreport/./node_modules/@easydata/core/dist/lib/types/data_type.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/types/entity_attr_kind.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/types/editor_tag.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_method.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_request.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/i18n/i18n.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/utils/utils.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/utils/string_utils.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_action_result.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_client.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/meta/meta_entity.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/meta/value_editor.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/meta/meta_data.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/data/data_column.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/data/data_row.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/data/easy_data_table.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/utils/easy_guid.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/event/event_emitter.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/i18n/load_default_locale_settings.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/ui-utils.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/dom_elem_builder.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/mask.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/drag_manager.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/grid/easy_grid_cell_renderer.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/grid/easy_grid_columns.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/grid/easy_grid.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/calendar.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/date_time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/default_calendar.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/default_time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/default_date_time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/dialogs/default_dialog_service.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/i18n/text_resources.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/link_type.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/utils.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/constants.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/format_parser.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/aggr_function.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/value_editor.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/data_kind.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/operator.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/expr_tag.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/entity.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/eq_editor_tag.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/common/tree.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/query_events.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/column.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/data_model.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/expression.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/cond_tag.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/cond_part.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/condition.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/widget_group.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/eq_actions.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/action.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/query.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/query_storage.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/model_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_model_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_data_fetcher.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_query_synchronizer.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_value_list_resolver.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_query_file_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/data/eq_totals_container.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/common/eq_services.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/data/eq_data_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_exporter.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/context.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/widget.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/version_info.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/i18n/text_resources.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/browser_utils.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/utils.js","webpack://easyreport/./node_modules/css-loader/dist/runtime/api.js","webpack://easyreport/./node_modules/style-loader/lib/addStyles.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/browser_utils.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/data/google_data_converter.js","webpack://easyreport/./ts/styles.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery.css?4782","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery.css","webpack://easyreport/./node_modules/style-loader/lib/urls.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-icons-default.css?af1a","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-icons-default.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery-mobile.css?97a4","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery-mobile.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eqview.css?3039","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eqview.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easychart.css?4c7e","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easychart.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid.css?b14a","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid-mobile.css?c32c","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid-mobile.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyfacets.css?ebb7","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyfacets.css","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-grid.css?91c4","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-grid.css","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-dialog.css?386a","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-dialog.css","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-forms.css?7af2","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-forms.css","webpack://easyreport/./ts/adhoc-reporting.ts","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/entities_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/popup_menu.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/display_format_parser.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/types/qp_editable_part.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/simple_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/aggrfunc_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/customsql_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/columns_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnsbar/column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnsbar/simple_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnsbar/aggrfunc_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/columns_bar.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/sortingbar/column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/sorting_bar.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/text_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/condition_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/dropdown.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/condition_group_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/types/facet_type.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/base_element_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/input_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/list_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/attribute_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/dropdown_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/addrow_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/operator_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/datetime_expression_render.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/subquery_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/bind_to_parent_column_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/query_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/filter_bar.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/html_content_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/eq_result_html_grid.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/grid.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/easy_grid_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/statement_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/process_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/manage_drilldown_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/result_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_type.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/dialog/totals_dialog.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/datatable_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/pivot_table_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_widget_chartjs.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_widget_google.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/chart_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/dialog/export_dialog.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/result_facets_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/export_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/locale_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/queryname_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/adv_search_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/data_filter_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/html_data_filter_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/report_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/i18n/text_resources.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/extensions.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/utils/lcv.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/query/condition_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/extensions.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/query/column_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/query/query_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/main/eqs_query_storage.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/dm/model_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/data/eqs_totals_calculator.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/public_api.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","DataType","EntityAttrKind","HttpMethod","EditorTag","Unknown","Edit","DateTime","List","CustomList","HttpRequest","xhr","descriptor","this","method","url","headers","queryParams","data","setHeader","setQueryParam","getXMLHttpRequest","getResponseHeaders","readyState","HEADERS_RECEIVED","headerMap","_i","arr_1","getAllResponseHeaders","trim","split","length","parts","header","shift","join","open","_this","UNSENT","keys","encodeURI","map","param","setRequestHeader","abort","repeatString","str","times","result","i18n","currentLocale","defaultTexts","ButtonOK","ButtonCancel","englishUSLocaleSettings","shortDateFormat","longDateFormat","editDateFormat","shortTimeFormat","editTimeFormat","longTimeFormat","shortMonthNames","longMonthNames","shortWeekDayNames","longWeekDayNames","decimalSeparator","currency","defaultLocale","localeId","englishName","displayName","texts","settings","allLocales","mappers","mapInfo","info","mappers_1","mapper","getCurrentLocale","setCurrentLocale","newLocale","assignDeep","getLocaleSettings","updateLocaleSettings","settingsToUpdate","updateLocaleInfo","localeData","localeInfoToUpdate","loadBrowserLocaleSettings","now","dateStr","timeStr","dateFormat","timeFormat","lang","navigator","language","undefined","Date","toLocaleDateString","year","month","day","toLocaleTimeString","hour","minute","second","replace","buildShortDateTimeFormat","dataType","format","localeSettings","Time","buildLongDateTimeFormat","addMapper","push","getLocales","locale","sort","a","b","setLocale","console","warn","getText","args","arguments","textsObj","resText","argLength","getOneLocaleSetting","getShortMonthName","monthNum","getLongMonthName","getShortWeekDayName","dayNum","toString","getLongWeekDayName","updateLocaleTexts","error","updateDefaultTexts","addLocale","localeInfo","resetLocales","dateTimeToStr","dateTime","numberToStr","number","toLocaleString","type","toUpperCase","digits","Number","parseInt","slice","style","useGrouping","minimumIntegerDigits","minimumFractionDigits","getNumberFromatOptions","utils","getAllDataTypes","values","getDateDataTypes","getStringDataTypes","String","Memo","_numericTypes","Byte","Word","Int32","Int64","Float","Currency","_intTypes","createArrayFrom","collection","collection_1","item","assign","target","source","sources","assignDeepCore","hashSet","sources_1","sourceVal","has","Array","isArray","set","getPrototypeOf","WeakMap","getIfDefined","defaultValue","IsDefinedAndNotNull","copyArrayTo","collection1","collection2","len1","len2","findItemById","array","id","arrLength","idx","findItemIndexById","indexOfArrayItem","arr","indexOf","len","moveArrayItem","index1","index2","splice","removeArrayItem","index","insertArrayItem","fillArray","start","end","relativeStart","k","Math","max","min","relativeEnd","final","shiftToFitWindow","absLeft","width","body","document","getElementsByTagName","winWidth","window","innerWidth","documentElement","clientWidth","absRight","isObject","val","isNumericType","dtype","isIntType","isNumeric","isNaN","parseFloat","isFinite","areCompatibleDataTypes","type1","type2","isPropSet","obj","propName","toLowerCase","prefixIdLen","symbols","magicTicks","squeeze","maxlen","step","nextIndex","ch","replaceAtString","substr","getRandomInt","floor","random","safeParseInt","test","generateId","prefix","prfx","pml","ptt","squeezeMoniker","randValue","maxSymbolIndex","buffer","rest","reverse","intToNum36","getTime","strToDateTime","normalized","formatItems","dateItems","monthIndex","dayIndex","yearIndex","hourIndex","minutesIndex","secondsIndex","today","getFullYear","getMonth","getDate","getDaysInMonth","_a","DT_FORMAT_RGEX","date","getHours","getMinutes","getSeconds","hour12","isPm","matches","yyyy","MMMM","MMM","MM","M","dd","HH","H","hh","h","tt","mm","ss","match","$1","extendStatics","HttpActionResult","request","promise","getPromise","getRequest","then","onfulfilled","onrejected","catch","finally","onfinally","__extends","setPrototypeOf","__proto__","__","constructor","__assign","apply","HttpResponseError","_super","status","message","Error","HttpClient","defaultHeaders","customPayload","options","send","Get","post","Post","put","Put","delete","Delete","contentType","XMLHttpRequest","desc","beforeEachRequest","onRequest","dataToSend","JSON","stringify","Promise","resolve","reject","onreadystatechange","responseObj","getResponseHeader","parse","responseText","MetaEntity","parent","caption","description","attributes","subEntities","loadFromData","model","dto","captionPlural","namePlur","ents","newEntity","createEntity","attrs","newAttr","createEntityAttr","scan","processAttribute","processEntity","opts","stop","internalProcessEntity","entity","attrCount","attr","subEntityCount","MetaEntityAttr","size","isPrimaryKey","isForeignKey","isNullable","showOnView","isEditable","showOnCreate","showOnEdit","showInLookup","lookupAttr","expr","kind","Data","cptn","ipk","ifk","lattr","lookupEntity","lent","dataAttr","dattr","lookupDataAttr","ldattr","nul","ied","ivis","sov","soc","soe","sil","displayFormat","dfmt","udata","userData","edtr","defaultEditor","getEditorById","createValueEditor","ValueEditor","tag","resType","defValue","defval","rtype","subType","getValueText","text","_b","_c","substring","MetaData","mainEntity","rootEntity","getMainEntity","loadFromJSON","stringJson","version","vers","editors","newEditor","entroot","setData","isEmpty","getId","getName","getRootEntity","editorId","editor","getAttributeById","attrId","getEntityAttrById","checkAttrProperty","attribute","res","listByEntityWithFilter","filterFunc","ent","entIdx","newEnt","items","isEntity","attrIdx","listByEntity","resultEntities","resultAttributes","newOpts","includeRootData","sortCheck","sortEntities","attrPlacement","concat","clear","addDefaultValueEditors","addOrUpdateValueEditor","ve","getEntitiesTree","getEntitiesTreeWithFilter","getFullEntityPathByAttr","sep","getEntityPathByAttr","root","entityCaption","entityText","getAttributeText","attrText","entityPath","RegExp","runThroughEntities","getFirstAttributeByFilter","label","originAttrId","isAggr","DataColumnList","_dateColumnIdx","configurable","add","colOrDesc","col","updateDateColumnIdx","getItems","filter","move","newIndex","oldIndex","getIndex","getDateColumnIndexes","removeAt","removeDate","DataRow","columns","toArray","from","getValue","colIdOrIndex","RangeError","setValue","EasyDataTable","_chunkSize","chunkMap","total","loader","needTotal","chunkSize","_columns","colDesc","rows","rowData","row","createRow","addRow","getRows","params","fromIndex","count","pageSize","page","offset","limit","endIndex","lbChunk","trunc","upChunk","allChunksCached","resultArr","loadChunk","chunks","table","getCachedChunks","chunks_1","chunk","getRow","getTotal","setTotal","getCachedCount","getCachedRows","dataOrRow","dateIdx","colId","forEach","column","rowOrValue","newRow","dateIdx_1","lastChunk","getLastChunk","createChunk","cachedTotal","getLastChunkIndex","reduce","acc","v","EasyGuid","newGuid","EventEmitter","silentMode","events","subscribe","eventType","callback","event","getEventRecByType","eventCallback","eventCallbacks","unsubscribe","callbackId","fire","postpone","force","eventRec","eqevent_1","emitAllFunc","setTimeout","enterSilentMode","exitSilentMode","isSilent","event_1","x","NaN","ceil","addElement","element","createElement","cssClass","className","appendChild","addCssClass","hideElement","display","showElement","toggleVisibility","first","duration","complete","isVisible","offsetWidth","offsetHeight","createBrowserEvent","eventName","Event","createEvent","initEvent","getViewportSize","height","clientHeight","innerHeight","getScrollPos","docElem","top","pageYOffset","scrollTop","left","pageXOffset","scrollLeft","getElementAbsolutePos","y","position","box","getBoundingClientRect","right","bottom","scollPos","clientTop","clientLeft","round","getWinSize","slideDown","removeProperty","getComputedStyle","overflow","paddingTop","paddingBottom","marginTop","marginBottom","boxSizing","transitionProperty","transitionDuration","slideUp","DomElementBuilder","parentElement","addChild","childBuilder","builder","domel","addChildElement","attrValue","setAttribute","title","dataId","dataValue","removeAttribute","show","removeStyle","hide","toHide","setStyle","visible","getClientRects","addClass","classNames","fullList","classList","removeClass","remove","toggleClass","toggle","on","listener","eventTypes","addEventListener","off","removeEventListener","styleId","styleValue","setProperty","innerText","html","innerHTML","oldElem","tagName","replaceWith","addText","textEl","createTextNode","addHtml","toDOM","appendTo","DomInputElementBuilder","valueAsDate","valueAsNumber","mask","maskPattern","input","9","inputHandler","e","mskd","startSelection","selectionStart","el","charAt","selectionEnd","keyCode","preventDefault","selection","onlyLodash","dispatchEvent","char","fromCharCode","charCode","mskd_1","selectionStart_1","selection_1","event_2","DomSelectElementBuilder","addOption","option","selected","HTMLDivElement","HTMLSpanElement","HTMLAnchorElement","HTMLButtonElement","HTMLImageElement","HTMLInputElement","HTMLSelectElement","DropEffect","touchEventIsDefined","TouchEvent","CellRendererType","EqDragEvent","dragImage","sourceEvent","dropEffect","Allow","pageX","pageY","MouseEvent","touches","Position","ev","eqDragManager","DragManager","delta","draggableItem","finishedSuccessfully","mouseDownPosition","containerDescriptors","containerDescriptorIndex","None","classPrefix","DRAG_DISABLED_ATTR","registerDraggableItem","ondragstart","detectDragging","hasAttribute","stopPropagation","cursorPosition","abs","startDragging","mouseMoveEventListener","mouseMoveDragListener","beforeDragStart","cloneNode","renderer","updateCusror","updateImageClass","scope","updateDragItemPosition","onDragStart","mouseDownListener","mouseUpListener","endDraggind","dropContDesc","container","scopes","onDrop","onDragLeave","onDragEnd","removeChild","registerDropContainer","removeDropContainer","descriptorOrSlot","descs","descs_1","detectDragEnterEvent","dragEnterEvent","detectDragLeaveEvent","dragLeaveEvent","event_3","onDragOver","setCursorStyle","Forbid","cursor","children","pos","event_4","onDragEnter","event_5","containerPos","DFMT_REGEX","GridColumnAlign","StringCellRendererDefault","cellElement","rowElement","cssPrefix","NumberCellRendererDefault","strValue","dataColumn","_","align","NONE","DateTimeCellRendererDefault","isDate","timeOptions","BoolCellRendererDefault","GridCellRendererStore","renderers","defaultRenderers","registerRenderer","setDefaultRenderer","STRING","NUMBER","DATETIME","BOOL","getDefaultRenderer","columnType","cellType","getCellType","getDefaultRendererByType","rendererType","getRenderer","Autoinc","Bool","DEFAULT_WIDTH_NUMBER","DEFAULT_WIDTH_DATE","DEFAULT_WIDTH_BOOL","DEFAULT_WIDTH_STRING","ROW_NUM_WIDTH","GridColumn","grid","isRowNum","_label","coltype","cellRendererStore","cellRenderer","onGetCellRenderer","GridColumnList","columnList","sync","hasRowNumCol","rowNumCol","onSyncGridColumn","EasyGrid","pagination","paginationOptions","maxButtonCount","useBootstrap","defaultDataGridOptions","slot","dataTable","fixHeightOnFirstRender","syncGridColumns","useRowNumeration","allowDragDrop","totals","calcGrandTotals","calculator","paging","enabled","addColumns","viewportRowsCount","showActiveRow","rowsOnPagePromise","containerInitialHeight","firstRender","prevRowTotals","landingIndex","landingSlot","_activeRowIndex","eventEmitter","setSlot","init","getElementById","getElementsByClassName","onInit","onRowClick","onRowDbClick","onAddColumnClick","onColumnChanged","onColumnDeleted","onColumnMoved","onPageChanged","onActiveRowChanged","activeRowIndex","eqCssPrefix","showLandingSlot","hideLandingSlot","refresh","fireEvent","columnId","getData","getColumns","destroy","clearDOM","render","hasData","rootDiv","renderHeader","headerDiv","renderBody","bodyDiv","renderFooter","footerDiv","gridContainer","updateHeight","firstRow","bodyCellContainerDiv","firstElementChild","bodyHeight_1","sbHeight","bodyViewportDiv","bodyHeight","headerViewportDiv","headerCellContainerDiv","headerRowDiv","hd","renderColumnHeader","renderAddColumnButton","containerWidth","sum","current","colBuilder","colDiv","attrLabel","showProgress","getRowsToRender","hideProgress","calcTotals_1","calcTotals","keyCols_1","getTotalsKeyCols","updateTotalsState","tr","renderRow","isLastPage","onVieportKeydown","calcSubTotalsCols","cols","calcSubTotals","prev","keyCols","pop","isLast","changeLevel","totalsOpts","renderTotalsRow","level","colIndex","getTotalsTitle","renderCell","getTotals","fillTotals","rowCount","querySelectorAll","newValue","ensureRowVisibility","rowOrIndex","getDataRow","rowRect","viewportRect","rowTop","rowBottom","viewportHeight","windowHeight","footerPaginateDiv","renderPageNavigator","pageInfoBlock","renderPageInfoBlock","pageInfoDiv","fistPageRecordNum","lastPageRecordNum","getLocalIndexByGlobal","getGlobalIndexByLocal","indexGlobal","rowBuilder","rowIndex","colindex","LEFT","RIGHT","CENTER","paginateDiv","pageIndex","pageCount","buttonClickHandler","getAttribute","focus","zeroBasedIndex","firstPageIndex","lastPageIndex","ul","li","newA","handler","handlerId","addColumnsTitle","colElems","rowElem","landingPos","newLandingIndex","cols_1","colPos","insertBefore","oldValue","updateActiveRow","activeRow","getActiveRow","Calendar","yearRange","setDate","currentDate","dateChanged","onDateChanged","DateTimePicker","calendar","timePicker","setDateTime","currentDateTime","setTime","getDateTime","showCalendar","createCalendar","showDateTimeInput","timePickerIsUsed","showTimePicker","oneClickDateSelection","dateTimeChanged","createTimePicker","onTimeChanged","time","setHours","setMinutes","anchor","beforeShow","onApply","cancel","onCancel","onDateTimeChanged","DefaultCalendar","daysOfWeek","months","calendarBody","isManualInputChanging","selectedMonth","selectedYear","rerenderMonth","renderManualDateInput","headerTextElem","renderCalendarButtons","getInputDateFormat","newDate","manualInputElem","jump","updateDisplayedDateValue","selectMonthElem","_loop_1","selectYearElem","next","rerenderSelectYear","exec","minusYear","plusYear","op","firstDay","getDay","daysInMonth","setFullYear","setMonth","dayOfWeek","cellsDrawnInLastRow","cellsToDraw","TimePicker","currentTime","timeChanged","DefaultTimePicker","updateDisplayedTime","hoursInput","minutesInput","timeText","slidersBuilder","timeToDraw","DefaultDateTimePicker","renderButtons","globalMouseDownHandler","srcElement","contains","nowButton","submitButton","calendarSlot","timePickerSlot","anchorPos","parentPos","DefaultDialogService","openConfirm","content","closable","submitable","cancelable","onSubmit","openPrompt","defVal","submitOnEnter","arrangeParents","beforeOpen","processInput","dlg","DefaultDialog","submitHandler","cancelHandler","keydownHandler","isActiveDialog","windowElement","headerElement","bodyElement","alertElement","footerElement","getRootElement","windowDiv","querySelector","submit","close","disableButtons","button","disabled","enableButtons","showAlert","reason","alert","clearAlert","onDestroy","windowDivs","turnOn","GridPageInfo","ButtonApply","ButtonNow","LinkType","equtils","eqconsts","FormatParser","formatStr","exprNum","tokenText","skipSpaces","npos","token","npos1","npos2","getToken","combinePath","path1","path2","strToLinkType","All","NotAll","Any","linkTypeToStr","parseOperatorFormat","operator","convertValue","fromDataType","toDataType","resInt","resFloat","ConstLists","SpecDateValues","isDefault","SpecTimeValues","BooleanValues","constLists","predicateLinkTypeList","DataKind","AggrFunction","sqlExpr","appliedTypes","aggrFunction","fmt","dtypes","EqValueEditor","sql","statement","extraParams","ExprTag","Operator","constValueFormat","isRange","caseIns","paramCount","defaultOperand","operands","pcnt","defOperand","newOperand","Operand","Scalar","operand","defText","txt","copyFrom","src","Entity","useInConditions","useInResult","useInSorting","uic","uir","uis","EntityAttr","defaultOperator","operators","defOperator","ops","EqEditorTag","SqlList","SubQuery","BindToParentColumn","QueryChangePart","QueryChangeAction","SortDirection","Tree","childs","findNode","child","setParents","DataModel","aggrFunctions","dateMacros","timeMacros","links","newOperator","aggrfuncs","newAggrFunc","getObject","createQuery","_listByEntityWithFilter","_listByEntity","addUIC","addUIR","addUIS","addOrUpdateOperator","removeOperator","soft","getOperatorIdsByDataType","Guid","BCD","buildQueryPath","query","tree","createTreeNodeFromEntity","subEnentity","getEntitiesInQuery","entities","columns_1","addEntityByExpression","rootCond","getRootCondition","fillEntitiesByCondtionGroup","getConditions","condition","isGroup","expressions","_d","_e","arg","EntityAttribute","baseAttrId","findLink","entityFrom","entityTo","link","getLinksByEntity","getFirstUICAttr","getFirstUICAttrInEntity","findOperatorById","operatorId","opCount","getOperatorById","getDefaultOperatorIdForAttr","getAggrFunctionCaption","funcId","funcTexts","funcCaption","func","getAggrFunctionFormat","funcFormat","getDefaultOperatorForAttr","getOperand","Query","getAggrFunctions","getDateMacroValue","macro","isDateMacro","getDateOrMacroValue","macroValue","getTimeMacroValue","isTimeMacro","getTimeOrMacroValue","getAllDateMacros","getAllTimeMacros","Expression","Constant","_value","distinct","_isDefaultValue","getParent","getModel","getQuery","Attribute","ParentEntityAttribute","subQuery","loadFromDataOrJson","saveToData","toJSONData","getExpressionIndex","silent","setContent","expressionChanged","hasText","tryCopyValueFrom","CondTag","ConditionPart","Column","justsorted","_isHidden","_id","sorting","sortIndex","blockId","isReadOnly","isJustSorted","setReadOnly","isHidden","setHidden","colData","srt","srtidx","hidden","fireChangedEvent","part","SortingColumns","Columns","action","Modify","changee","WidgetGroup","EqAction","EqActionResult","Condition","linkType","justAdded","conditions","_enabled","cond","setParent","Group","getLevel","isParameterized","setParameterized","isInJoin","setInJoin","clearConditions","addCondition","removeConditionAt","Simple","exprs","newExpr","linking","condPart","Conditions","tuneOperatorForAttr","getOperatorId","setOperatorId","newOperatorId","oldOperatorId","tuneValueExpressions","oldAttrId","exprCount","oldOperator","oldOperand","valExpr","createValueExpr","oldExpr","areCompitableEditors","oldEditor","addExpressionByOperand","valueNotDefined","defAttr","InvalidQueryError","captureStackTrace","extraData","innerData","isNewbie","_isModified","parentQuery","drillDowns","extraConditions","regenerateId","setDefaultName","modelId","modelName","attributeExprTag","attrTag","clientListRequestHandler","serverListRequestHandler","timezoneOffset","getTimezoneOffset","isModified","resetModified","isEx","reset","clearQuery","hasEnabledAggrColumns","AggregateFunction","setName","validate","CustomSql","validateConditionGroup","getAggregatedColumns","tryValidate","curCond","checkExpressions","values_1","parsedVal","changeStatus","loadFromJson","json","clearDrillDowns","conds","condData","createCondition","justsortcols","newCol","createColumn","dds","addDrillDown","getDrillDowns","getParentQuery","findColumnById","setModel","loadModelData","toJSON","rootCondToData","condGroup","extraConds","isEmptyConditions","isEmptyColumns","clearColumns","clearExtraConditions","setId","getDescription","setDescription","getUsedInTotalsColumns","getJustSortedColumns","getSortedColumns","sortedCols","col1","col2","getColumnSortIndex","getColumnById","addColumn","author","newColumn","attributeId","aggrFuncId","cusomtSql","readonly","addColumnObj","changeColumnType","exprValue","sqlText","customSqlExpr","exprId","moveColumn","removeColumn","addConditionGroup","addChildCondition","addExtraConditionGroup","addSimpleCondition","createSimpleConditionObject","addSimpleExtraCondition","inputValues","attrExpr","valCount","valLength","removeColumns","columnsToRemove","justSortedColumns","removeFromArray","arrToRemove","ctrLen","fireProcessEvent","wasModified","eventData","fireColumnsChangedEvent","fireConditionsChangedEvent","runThroughConditions","processCondition","processGroup","predicate","getOneValueForAttr","opid","addProcessCallback","removeProcessCallback","addChangedCallback","removeChangedCallback","getConditionsText","getConditionGroupText","condText","conjKey","conjText","opId","plen","pi","BrowserQueryStorage","context","keyPrefix","queryListKey","queryKeyPrefix","getQueryList","itemsString","localStorage","getItem","err","newQuery","loadQuery","queryItem","queryId","saveQuery","queryList","setItem","removeQuery","queryId_1","removeItem","EqModelLoader","modelPromise","getContext","createModelLoadingPromise","modelLoadingResolveFunc","modelLoadingRejectFunc","getModelPromise","startModelLoading","sendLoadModelRequest","EqServerModelLoader","http","getServices","getHttpClient","resolveEndpoint","responseData","EqServerDataFetcher","fetchData","requestData","EqServerQuerySynchronizer","syncQuery","EqServerValueListResolver","loadValueList","listId","EqQueryFileLoader","getQueryFile","actionResult","blob","Blob","fileName","lastIndexOf","msSaveOrOpenBlob","href","URL","createObjectURL","download","click","revokeObjectURL","uploadQueryFile","EqTotalsContainer","levels","setTotals","getLevelDesc","recivedCallbacks","keyColumns","keyColumns_1","keyCol","processFunc","field","DefaultTotalCalculator","calculate","EqServiceProvider","modelLoader","queryStorage","querySynchronizer","dataFetcher","valueListResolver","queryFileLoader","totalCalculator","httpClient","modelResolver","queryResolver","modelLoaderResolver","queryStorageResolver","querySynchronizerResolver","vlrResolver","dataFetcherResolver","queryFileLoaderResolver","totalCalculatoResolver","createDataModel","getModelLoader","getQueryStorage","getQuerySynchronizer","getDataFetcher","getValueListResolver","getQueryFileLoader","getTotalCalculator","registerDataModelResolver","resolver","registerQueryResolver","registerModelLoaderResolver","registerQueryStorageResolver","registerDataFetcherResolver","registerQuerySyncronizerResolver","registerValueListResolver","registerQueryFileLoaderResolver","registerTotalCalculator","EasyQueryDataLoader","dataLoadPromise","fetchDataChunk","success","dataLoader","resultTable","resultSet","meta","totalRecords","hasNext","EqServerExporter","setFormat","export","filename","EqContext","internalListCache","loadModelOnStart","loadQueryOnStart","endpointVarsRegex","_predefinedListRequestHandlers","onResult","macroName","_listRequestHandler","listName","newParams","editorParams","procParams","attrPattern","prop","dynamicParam","paramValue","requestPrams","list","getListFromCache","processed","predefinedHandler","addListToCache","eqServices","widgets","exporters","Map","endpoints","registerExporter","getExporter","getExportFormats","addDefaultExporters","exporter","endpointKey","matches_1","opt","optVal","setEndpoint","setEnpointIfNotExist","setDefaultEndpoints","endpointBase","defaultQueryId","listCache","setExternalListCache","baseEndpoint","endpoint","handlers","afterLoadModel","afterLoadQuery","afterSyncQuery","afterFetchData","afterExportResult","onProcessStart","onProcessEnd","onError","msg","msgTitle","msgText","sourceError","onListRequest","beforeLoadModel","beforeLoadQuery","beforeSyncQuery","beforeFetchData","beforeExportResult","initialQuery","defaultModelId","useDefaultExporters","widget","widgetOptions","getWidgetType","loadDefaultModel","addWidget","getAllWidgetsByType","widgetType","getWidgetByType","refreshWidgets","groups","belongsToGroup","addQueryChangedCallback","removeQueryChangedCallback","dataModel","loadModelFromData","modelPlainData","setDefaultModelId","startProcess","endProcess","throwError","loadModel","Model","clearResult","resultStatement","resultContent","cache","externalListCache","getListCacheKey","resetListCache","getListRequestHandler","getBaseEndpoint","GetValueList","Result","Success","errorMessage","LoadModel","callWhenModelLoaded","callFunc","LoadQuery","Properties","loadQueryList","startQueryListLoading","LoadQueryList","queries","useStorage","onNewQuery","NewQuery","SaveQuery","RemoveQuery","SyncQuery","Statement","querySaved","q","QueryStatus","processQueryForTotals","Ascending","GetQueryFile","UploadQueryFile","FetchData","maxLevel","fetchDrillDownData","exportResult","ExportResult","getDefaultTotalsSettings","prevEntity","getTotalsSettings","totalsSettings","wereTotalsColumnsChanged","setTotalsSettings","sCols","Widget","refreshCore","onProcessStartCore","onProcessEndCore","group","destroyCore","EqVersionInfo","major","minor","update","NewQueryName","Today","Yesterday","Tomorrow","FirstDayOfMonth","LastDayOfMonth","FirstDayOfWeek","FirstDayOfYear","FirstDayOfNextWeek","FirstDayOfNextMonth","FirstDayOfNextYear","Now","HourStart","Midnight","Noon","Entities","Attributes","Operators","AggreateFunctions","browserUtils","_isFirefox","_isIE","IsIE","eval","IsFirefox","ua","userAgent","_detectedIsMobileMode","_isMobileMode","detectIsMobileMode","isMobileMode","matchMedia","mobileModeChangeHandler","setIsMobileMode","onMobileModeChanged","getMobileCssClass","safeFocus","eqCssMobile","useSourceMap","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","sourceURLs","sourceRoot","cssWithMappingToString","mediaQuery","alreadyImportedModules","fn","memo","stylesInDom","isOldIE","all","atob","getTarget","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","addStyle","listToStyles","newStyles","base","css","media","insertStyleElement","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","firstChild","before","removeStyleElement","parentNode","createStyleElement","nonce","getNonce","addAttrs","transform","default","styleIndex","applyToSingletonTag","rel","createLinkElement","updateLink","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","Boolean","styleSheet","cssText","cssNode","childNodes","autoFixUrls","convertToAbsoluteUrls","oldSrc","IsEdge","GoogleDataConverter","tableObj","getNumberOfColumns","getNumberOfRows","getColumnObject","getColumnId","getColumnLabel","getColumnType","getColumnProperties","colType","googleDataTypeToDataType","includes","cell","convertTo","colCount","googleDataType","locals","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","ui_1","viewOptions","syncReportOnChange","showChart","enableExport","columnsBar","accentActiveColumn","allowAggrColumns","attrElementFormat","showColumnCaptions","adjustEntitiesMenuHeight","menuOptions","showSearchBoxAfter","activateOnMouseOver","queryPanel","alwaysShowButtonsInGroups","reportView","ReportView","setLicenseKeyEndpoint","useEnterprise","ColumnAction","EntitiesPanel","queryChangedCallbackId","panel","setOptions","renderProgressBlock","syncWithColumns","refreshCheckedStateByColumns","showIndicatorOnLoad","progressBlock","showToolbar","showSelectAllButton","showClearSelectionButton","showAddColumnButton","showAddConditionButton","showCheckboxes","showTooltips","draggableAttributes","showAttributes","showFilterBox","filterBoxMode","autoClearSelection","entityRenderedCallback","attributeRenderedCallback","edata","rootEntityBlock","entTree","entityTreeBlock","renderEntity","createFilterBox","createToolPanel","block","entityBlock","entityNode","entityChildren","nodeLabel","nodeInput","attrNode","attrInput","nodeToggleButton","currentOffset","divElem","itemsLength","this_1","checkbox","currentTarget","checked","Add","checkboxes","attrList_2","attrElems_1","attrList_1","filterBoxBlock","filterBoxInput","checkFilterAttribute","attrs_1","displayAttrCount","i_1","collapseAll","expandAll","defClass","toolPanelBlock","toolSelectAll","toolDeselectAll","toolAddColumns","toolAddCond","toolLeftBlock","toolRightBlock","selectAll","deselectAll","attrElements","attrList","self","attrElement","attrList_3","attrId_1","attrList_4","attrId_2","attrCaption","textContent","checkFilterText","filterText","exprColumns_1","entChildren","entElem","nodeButtons","inputs","MenuLevel","isFilteringMode","showSelected","parentMenu","menu","parentLevel","levelIndex","levelDiv","domWriteItemsId","menuId","itemRenderedCallback","applyItem","itemDiv","activeItem","selectedItem","initialized","updated","renderContent","setItems","itemBgColor","colors","bgON","itemFgColor","fgON","itemFontFamily","bgOVER","itemStyle","fontFamily","itemFontSize","fontSize","multiselect","isSubQuery","baseDivBuilder","useDefaultStyles","border","zIndex","baseDiv","applyDiv","applyBtn","borderBottom","padding","applyTextNode","buttons","cancelBtn","marginLeft","cancelText","hideMenu","searchBoxAlwaysShown","searchDivBuilder","searchEditBoxBuilder","deactivateItem","renderItems","searchBox","moveActiveItemUp","moveActiveItemDown","openSubLevel","searchDiv","scrollDiv","tabIndex","overflowX","overflowY","which","getRootLevel","closeDiv","filteredItems","activateItem","menuItem","showSubLevel","subLevel","focusScrollDiv","turnCheckboxes","itemCheckbox","isItemSelected","setItemSelected","submitItems","selectedItems","allSubitemsAreFiltered","filterCallback","isItemDiv","isLevelDiv","getMenuItem","renderItemsWithoutFilter","itemFilterCallback","getItemFilterCallback","color","paddingLeft","paddingRight","cb","defaultChecked","margin","verticalAlign","itemText","arrowSpan","arrowText","itemClickHandler","itemSelected","refreshCheckboxes","isCursorInside","renderItemsWithFilter","filterSections","pureFilterTexts","section","filterItems","renderItemWithFilter","matchesFilter","regexp","resultItems","restFilterSections","filterRegexp","groupItem","groupItemMatches","filterTexts","levelFilterText","highlightText","lowerText","lowerContent","indexInMas","itemOverBgColor","itemOverFgColor","fgOVER","itemClass","itemClassOver","backgroundColor","levelId","scroll","winSize","leftSpace","rightSpace","offsetParent","showAt","visibility","adjustTopPos","levelBottom","initLevelDiv","levelStyle","minItemWidth","maxItemWidth","maxHeight","newHeight","searchBoxAutoFocus","submitMenu","newItems","refreshItems","findItem","searchedText","PopupMenu","mouseIsOverBlock","mouseIsOverLink","toId","active","ancorFocused","adjustHeight","lastMenuID","updateProps","rootLevel","menuKeyUpHandler","stopImmediatePropagation","isOutside","menuLevel","shadow","commandTemplate","clearItemsMenuProps","clearItemMenuProps","setSelectedItems","selectedIds","showMenu","activeElement","itemSelectedCallback","menuClosedCallback","onMenuItemSelected","srcPos","anchorHeight","anchorWidth","scroll_1","knockMenuStyle","DisplayFormatParser","getTokenText","QPEditablePart","ColumnRendererCP","functionMenu","buttonMenu","isMouseOverBlock","keepShowingButtons","baseAttr","getButtonsToShow","sortingButton","renderSoringButton","replaceChild","hideButtons","createFunctionMenu","createButtonMenu","getClassesToAdd","renderCheckbox","renderExpressionBlock","showColumnTitles","renderCaptionBlock","renderEnabledButton","renderColumnTypeButton","renderDeleteButton","renderMenuButton","onMouseEnter","onMouseLeave","onMouseClick","alwaysShowButtons","showButtons","toggleColumnPicked","adjustButtonsVisibility","fireColumnChanged","getDefaultColumnCaption","inputEl","minWidth","isEndEvent","save","KeyboardEvent","FocusEvent","aEl","sortButtonDirectionCssClass","sortButtonCssClass","Descending","getUIS","sortMenu","moveMenu","Hidden","MoveTop","MoveDown","MoveUp","MoveBottom","SortingNone","SortingAsc","SortingDesc","buttonMenuHandler","leaveButtonBlock","evt","Menu","getDefaultTitleText","getAttributeCaption","titleElementFormat","changeTypeHandler","Enable","enterButtonBlock","isColumnActive","funcs","funcAllowed","funcs_1","toInclude","areCustomExpressionsAllowed","curQuery","colMenu","getButtonMenuSelectedItems","processExtraButtonMenuItems","common","allowHiddenColumns","sortItems","allowSorting","getSortMenuList","getMoveMenuList","extra","getExtraButtonMenuItems","arrSelected","SimpleColumnRendererCP","renderBaseExpression","showEntitiesMenu","baseExpressionItemSelectedCallback","attrid","changeTypeToCustomSql","newElement","changeTypeToAggr","AggrFuncColumnRendererCP","displayFormatParser","exprBlockBuilder","arrFormat","parseDisplayFormat","functionLink_1","changeTypeToSimple","parser","CustomSqlColumnRendererCP","exprBlock","getDefaultValue","ColumnsPanel","activeColumn","showAddRow","showHeader","allowDuplicates","allowCustomExpressions","menuSearchBoxAfter","columnRenderedCallback","customExpressionText","detachQueryObserver","attachQueryObserver","moveColumnCore","addNewColumn","renderBaseElements","minusHeight","headerBuilder","columnsBlock","addRowElement","queryEventCallbackId","focusedBefore","isFocusInside","modifyColumn_1","colEl","getColumnRenderer","newEl","focusElem","agjustHeaderVisibility","addColumn_1","addColumnElement","deleteColumn_1","previousSibling","focusCond","rowElems","rowHeight","absPos","scrollIntoView","behavior","createEntitiesMenu","createColumnMenus","renderColumn","isActive","colToAdd","getColumnByAttrId","checkColumnsArray","checkColumn","newColBlock","scrollToBottom","scrollHeight","getColumnsBlock","entitiesMenu","createSortMenu","createMoveMenu","direction","colToMove","ColumnRendererCB","tapedTwice","bar","renderSortingImage","renderButtonsBlock","renderSortingButton","renderButtonsBlockMobile","renderCaptionEditorMobile","getDefaultCaption","isFocused","ctrlKey","metaKey","clickEvent","buttonSortingClickHandler","buttonDeleteClickHandler","buttonTypeClickHandler","onHideButtonsMobile","onShowButtonsMobile","SimpleColumnRendererCB","AggrFuncColumnRendererCB","ColumnsBar","customQuery","sortMenuList","moveMenuList","addRowButton","elements","columnSlots","colSlot","colWidth","colHeight","paddingWidth","renderAddRowButton","renderColumnButtonsBlockMobile","columnButtonsBlockMobileArrow","columnButtonsBlockMobile","buttonsBlockSortingButton","currentColumnRenderer","hideColumnButtonsMobile","buttonsBlockTypeButton","buttonsBlockDeleteButton","showColumnButtonsMobile","columnRenderer","columnElement","currentActiveColumn","rect","offsetTop","offsetLeft","elem","columnSlot_1","colJson","globalCounter","ColumnRendererSB","sd","getArrow","SortingBar","ConditionAction","TextRenderer","ConditionRenderer","autoAppear","coreRender","onConditionRendered","SimpleConditionRenderer","renderConjunction","mayAppear","getOperatorRenderer","toAppear","exprRenderer_1","getExpressionRenderer","adjustWidth","accentActiveCondition","toggleConditionPicked","buttonsBlock","setConditionParameterized","setConditionInJoin","getConditionMenu","isFirstConditionInGroup","showConjunctions","linkTypeStr","conjuctionText","isConditionActive","alwaysShowButtonsInConditions","conditionMenuHandler","AddCondition","entMenu","getEntitiesMenu","descr","AddGroup","parent_1","condMenu","getConditionMenuSelectedItems","Parameterized","InJoin","parent_2","editableParts","Removal","Addition","onButtonMouseEnter","onButtonMouseLeave","buttonsToShow","DomDropDownElementBuilder","appear","onGetMenu","_onGetMenu","onItemSelected","_onItemSelected","dropdown","FacetType","ConditionGroupRenderer","isRoot","renderGroupRow","renderConditions","showRootRow","getConditionRenderer","ConditionGroupRowRenderer","buildGroupElements","getGroupTitle","groupTitle","curType_1","getLinkTypeMenu","getConditionGroupMenu","BaseElementRenderer","isEditMode","labelElement","renderLabelElement","renderEditor","showEditor","displayedText","getLabelText","getEmptyText","ExpressionRenderer","expression","valueEditor","onExpressionRendered","emptyTextValue","Value","validateInput","showValidationError","isEmptyValue","InputExpressionRenderer","inputBuilder","dontProcessBlur","validationResult","inputElement","closeEditor","maxWidth","MIN_WIDTH","inputValue","validateListInput","validateScalarInput","inputValues_1","ListExpressionRenderer","menuItemsList","showWhenReady","adjustNewValue","emptyTextList","getListName","fillMenuItemsList","renderMenuBlock","showLoader","hideLoader","getValuesAsArray","selLength","multiSelect","menuContainer","dialogZIndex","onComplete","takeDefaultValue","itemLen","CustomListExpressionRenderer","isLoading","onClickTemp","loaderElement","listRequestHandler","SqlListExpressionRenderer","AttributeExpressionRenderer","attrObj","attrFormat","emptyTextAttribute","DropDownRenderer","getMenu","AddRowRenderer","OperatorRenderer","operId","related","isRelatedToSubQuery","emptyTextOperator","DateTimeExpressionRenderer","dtp","internalDateFormat","internalTimeFormat","pickerOptions","convertToInternalFormat","dateTimePickerResolver","convertFromInternalFormat","macroText","SubQueryExpressionRenderer","dialogBlockBody","renderColumnBlock","renderQueryPanelBlock","exprType","colEntitiesList","colEntitiesMenu","columnBlock","setResultAttributeId","parentEl","queryPanelBlock","qpId","getSubQuery","parentPanel","subOptions","entitiesListFilter","listItems","listOptions","subQueryPanelListOptions","rootCondEl","minHeight","getDialogService","subQueryDialogWidth","BindToParentColumnExpressionRenderer","ParentColumn","attrDataType","QueryPanel","activeCondition","entitiesPopupHandler","allowParameterization","allowInJoinConditions","showPoweredBy","activateRootOnStart","subQueryDialogHeight","numberListSeparators","autoEditNewCondition","onGetConditionRenderer","onGetExpressionRenderer","onGetOperatorRenderer","onOperatorRendered","onGetAddRowRenderer","defaultQuery","model_1","hideLangindSlot","conditionMenu","linkTypeMenu","rootGroupMenu","groupMenu","modifyCondition_1","autoEdit","autoEdit_1","addCondition_1","newCondContainer","lastChild","deleteCondition_1","dateFormatValue","dateFormatDisplay","createConditionMenus","createLinkTypeMenu","rootContainer","addrowRenderer","getAddRowRenderer","attributeMenu","FilterBar","applyOnClose","showApplyButton","showClearButton","headerClickListener","headerClickHandler","qpElement","applyBtnClick","applyFilter","clearBtnClick","clearFilter","showQueryPanel","qpBlock","updateHeader","hideQueryPanel","headerTextElement","headerLinkElement","headerArrowBlock","headerArrowElement","textResize","headerIconElement","headerTextBlock","applyFilterCallback","HtmlContentWidget","contentElement","EqHtmlGrid","pageNavigatorPlaceholder","buttonClick","pageNum","pageItemCssClass","Grid","useCustomLocaleSettings","beforeTableRendering","applyDisplayFormats","EasyGridWidget","hasCustomTotalsSettings","autoRefresh","gridOptions","addColumnClickHandler","columnMovedHandler","updateTotalsSettings","StatementPanel","statementText","ProcessWidget","ManageDrillDownWidget","clickHandler","openDialog","ddQuery","dialogService","dialogBody","renderColumnsBarBlock","opIdx","columnsBarSlot","queryPanelSlot","submitDialog","destroyDialog","ChartType","ResultFacetTab","dialogTitle","canDisplayFlag","downloadAllClickHandler","textDiv","progressDiv","chunksToLoad","getChunksForLoading","recordsToLoad","ds","loadedRecords","progress","chunksToLoad_1","contentDiv","displayMessageDiv","showSettingsDialog","renderDialogContent","submited","submitSettingsDialog","fieldsContainer","renderFormFields","form","cont","tabNameInput","canDisplay","showUnableDisplayMessage","hideUnableDisplayMessage","getType","cachedChunks","diffOffset","numbOfChunks","diff","onResize","TotalsDialog","renderFields","getSelectedSettings","inputs_1","isIE","fieldsClass","sCol","DataTableFacetTab","reinitGrid","gridResolver","DataGrid","dropSettings","AggrFunc","ChartWidget","chartType","Pie","supportedChartTypes","potentialLabelColumns","potentialDataColumns","labelColumn","dataColumns","showOnPaging","hideSettings","hasColumnsForChart","prepareChartData","getSupportedChartTypes","getChartTypeName","ct","Area","Bar","Candlestick","Combo","Donut","Gauge","Histogram","Line","updateSettings","updateChartColumns","colNum","colLabel","ids_1","initChart","hasChartTypes","getCurrentChartType","mainDiv","canDraw","chartTypeSelector","sopt","ctkey","settingsDiv","chartDiv","initSettingsDiv","chartSettingsBtn","toggleSettings","drawChart","addContentDiv","delay","drawCore","settingsHeader","labelDiv","labelColumnSelectorCaption","labelColumnSelector","dataDiv","dataColumnSelectorCaption","dataColumnSelector","getPotentialLabelColumns","getPotentialDataColumns","getLabelColumnIndex","getDataColumnIndex","ChartJsWidget","chartLabels","chartColumns","hasChartJs","Chart","config","generateConfig","chartContext","getChartCanvas","canvases","borderColor","dataColors","datasetName","displayLegend","fillValue","getChartType","datasets","fill","labels","legend","GoogleChartWidget","hasGoogleCharts","google","charts","googleDataView","visualization","DataView","convertToGoogleFormat","convertToGoogleType","convertToGoogleValue","googleTable","DataTable","addRows","setCell","chartOptions","chartArea","getChartAreaWidth","createChart","draw","setColumns","ColumnChart","BarChart","ComboChart","AreaChart","LineChart","PieChart","CandlestickChart","ChartFacetTab","chart","getCurrent","labelCol","dataCol","PivotTableFacetTab","pivotTable","defaultRenderer","rowEl","fontWeight","PivotTable","createAggrFuncSelectBuilder","aggrFunc","csb","aggrfunc","aggrfuncs_1","createColumnsSelectBuilder","allowedTypes","colName","getContextDataTable","_loop_2","colTypes","fieldTypes","horizClass","rowName","fieldName","totalsRow","totalsCol","Average","updatePivotData","colIdx","rowIdx","fieldIdx","columnCol","columnRow","rowLabel","rowType","colValues","rowValues","colValue","rowValue","null_columns","new_rows","calcAggrFunc","totalByRow","new_rows_1","total_row","totalByCol","rows_1","Sum","average","Min","Max","Count","MAX_SAFE_INTEGER","fieldValue","MIN_SAFE_INTEGER","ExportDialog","defFormat","formats","ResultFacetsPanel","facets","activeFacetIndex","showExportButton","showRefreshButton","showMaximizeButton","showProcessIndicator","menuItems","renderProcessBlock","loadFacets","reloadFacets","createAddMenu","renderActiveFacet","updateTotalRecords","addMenu","recordsDiv","exportDiv","_processBlock","tabsDiv","tabsUl","facet","renderFacet","addClickHandler","manageDiv","bdb","exportHandler","refreshHandler","maximizeButton","maximizeHandler","facetTab","renderFacetTab","renderFacetBody","settingsClickHandler","closeClickHandler","selectClickHandler","refreshFacetTabs","removeFacet","createFacetTab","facetSlot","saveFacets","setActiveFacet","confirmed","createDefaultFacetIfNotExist","f","ExtraData","items_1","fd","ExportWidget","LocaleWidget","changeLocale","selectEl","locales","locales_1","optionEl","displayLocaleName","QueryNameWidget","mobClass","nameSlot","asteriskSlot","tooltipSlot","queryName","View","domRoots","defaultViewOptions","disableConfirmationOnQueryChange","queryFileExtensions","clearResultOnQueryChange","resultGrid","resultOptions","resetContext","renderSpinner","defaultErrorHandler","registerDialogServiceResolver","shadowRoots","initOptions","initWidgets","initDone","columnsPanel","entitiesPanel","resultPanel","filterBar","processBar","statementPanel","queryNameLabel","facetsPanel","resultCount","exportButton","slots","resultCountSpan","exportButtons","epElement","resolveElement","entitiesPanelWidget","createEntitiesPanelWidget","cpElement","columnsPanelWidget","createColumnsPanelWidget","cbElement","columnsBarWidget","createColumnsBarWidget","queryPanelWidget","createQueryPanelWidget","resultPanelSlot","resultGridWidget","gridPanel","createResultGridWidget","chartWidget","chartPanel","createChartWidget","qnElement","queryNameWidget","createQueryNameWidget","fbElement","filterBarWidget","createFilterBarWidget","sbElement","sortingBarWidget","createSortingBarWidget","pbElement","processWidget","createProcessWidget","stElement","statementPanelWidget","createStatementPanelWidget","clElement","createLocaleWidget","fpElement","resultFacetPanelWidget","createResultFacetsPanel","ewElement","exportWidget","createExportWidget","resultCountSlot","elementOrId","resolveElementsByClassName","elemList","displayRecordsCount","easyGrid","setDialogService","executeQuery","showResultSpinner","hideResultSpinner","toggleExportButtons","enableExportButtons","disableExportButtons","_spinnerDiv","slotElement","chartWidgetResolver","resultGridResolver","detach","localeWidget","statementWidget","AdvancedSearchView","disabledClass","dropdownContainerClass","dropdownButtonClass","dropdownContentClass","dropdownShowClass","_querySaveTemplate","queryListMenu","fetchDataButtonClickHandler","fetchDataButtonClick","clearQueryButtonClickHandler","clearQueryButtonClick","newQueryButtonClickHandler","newQueryButtonClick","loadQueryButtonClickHandler","loadQueryButtonClick","saveQueryButtonClickHandler","saveQueryButtonClick","copyQueryButtonClickHandler","copyQueryButtonClick","removeQueryButtonClickHandler","removeQueryButtonClick","storageButtonClickHandler","storageDropButtonClick","saveQueryToFileButtonClickHandler","saveQueryToFileButtonClick","loadQueryFromFileButtonClickHandler","loadQueryFromFileButtonClick","exportButtonClickHandler","queryChangedHandler","syncQueryOnChange","fetchDataOnChange","outsideClickHandler","currentContent","dropdowns","openDropdown","refreshQueryList","queryListPanel","checkIfQueryModified","exportClass","queryContentInputId","clearQueryButtonId","newQueryButtonId","loadQueryButtonId","saveQueryButtonId","copyQueryButtonId","removeQueryButtonId","storageButtonId","fetchDataButtonId","loadQueryFromFileButtonId","saveQueryToFileButtonId","queryListPanelId","queryContentInput","fetchDataButton","clearQueryButton","newQueryButton","loadQueryButton","saveQueryButton","copyQueryButton","removeQueryButton","storageButton","loadQueryFromFileButton","saveQueryToFileButton","elems","hideExportButtons","storageDropButton","loadQueryFromFileInput","accept","loadQueryFromFileInputSelect","createNewQuery","saveCurrentQuery","copyQuery","showSaveQueryDialog","showQueryChangedDialog","removeCurrentQuery","showNewQueryDialog","header_1","processEl_1","newQueryName","header_2","processEl_2","showRemoveQueryDialog","showSaveQueryToFileDialog","renderSaveToFileDialogBody","fileNameInput","formatSelector","header_3","processEl_3","showLoadQueryFromFileDialog","file","files","FormData","append","fillLoadQueryButtonMenu","AdvancedSearchViewJQuery","DataFilterView","applyQueryFilter","DataFilterViewJQuery","HtmlDataFilterView","reports","reportCache","useReportCache","_reportSaveTemplate","clearReportButtonClickHandler","clearReportButtonClick","newReportButtonClickHandler","newReportButtonClick","loadReportButtonClickHandler","loadReportButtonClick","saveReportButtonClickHandler","saveReportButtonClick","removeReportButtonClickHandler","removeReportButtonClick","updateReportButtonClickHandler","updateReportButtonClick","reload","defaultReportId","changeType","noSync","syncReport","renderReportList","reportId","clearReportButton","newReportButton","loadReportButton","saveReportButton","removeReportButton","updateReportButton","exportButtonsContainer","reportListSlot","newReport","insertIntoReportList","loadReport","reportToLoad","findReportById","reportLoaded","renderReportProps","reportContent","getReportContentFromCache","saveReportContentInCache","setActiveReport","saveCurrentReportAs","removeCurrentReport","report","reportId_1","removeFromReportList","reportIndex","currentReport","lastUpdated","rlItems","renderReportPanels","renderReportItemInList","showExportButtons","reportName","rid","reportsContainer","noReportPanel","indexOfReportById","clearErrors","errorHandler","findReportCacheItem","ReportViewJQuery","AltMenuAttribute","AltMenuConstantExpression","ButtonClose","ButtonNext","ButtonPrev","MenuEnable","MenuParameterization","MenuJoinCond","CmdClear","CmdDelete","CmdToggleEnable","CmdAddCondition","CmdAddCondGroup","ButtonSelectAll","ButtonDeselectAll","ButtonAddColumns","ButtonAddConditions","CmdClickToAddCondition","CmdDeleteRow","ErrIncorrectGroupTitleFormat","ErrNotNumber","ErrIncorrectInteger","ErrIncorrectNumberList","False","LinkTypeAll","LinkTypeAny","LinkTypeNone","LinkTypeNotAll","ConjAll","ConjAny","ConjNotAll","ConjNone","MsgApplySelection","MsgAs","MsgEmptyList","MsgEmptyListValue","MsgEmptyScalarValue","MsgSubQueryValue","MsgEmptyAttrValue","MsgEmptyOperator","MsgEmptyCustomSql","MsgCustomSql","MsgNoResult","MsgResultCount","MsgOf","ConditionGroupTitle","RootConditionGroupTitle","StrAddConditions","SubQueryDialogTitle","SubQueryColumnTitle","SubQueryEmptyColumn","SubQueryQueryPanelCaption","True","ButtonSorting","ButtonToAggr","ButtonToSimple","CmdAscending","CmdClickToAddColumn","CmdDeleteColumn","CmdDeleteSorting","CmdDescending","CmdGroupSort","CmdNotSorted","ColTypeAggrFunc","ColTypeCompound","ColTypeGroup","ColTypeSimple","HeaderExpression","HeaderSorting","HeaderTitle","SortHeaderColumn","SortHeaderSorting","StrAddColumns","CustomExpression","CmdMoveToStart","CmdMoveRight","CmdMoveLeft","CmdMoveToEnd","CmdMoveUp","CmdMoveDown","ButtonMenu","CmdToSimple","CmdMoveToFirst","CmdMoveToPrev","CmdMoveToNext","CmdMoveToLast","CmdHiddenColumn","RowButtonTitle","StrNoFilterDefined","StrNoFilterClickToAdd","HintHours","HintMinutes","RemoveQueryTitle","RemoveQueryContent","NewQueryTitle","NewQueryContent","NewQueryDefName","SaveQueryTitle","SaveQueryContent","SaveQueryDefName","QueryChangedTitle","QueryChangedContent","UpdateQuerySelector","FileNameLabel","SaveQueryToFileDlgTitle","NewReportDefName","NewReportDlgTitle","SaveReportDlgTitle","SaveReportDlgLabel","RemoveReportContent","Facets","TotalRecordsLabel","AddMenuItems","Pivot","LoadDataDlgTitle","LoadDataDlgContent","RefreshBtnTitle","ExportBtnTitle","MaximizeBtnTitle","RestoreBtnTitle","RemoveFacetDlgTitle","RemoveFacetDlgContent","DefaultDlgTitle","DefaultFacetTitle","TabNameLabel","ErrQueryChanged","ErrNotEnoughData","FacetTitle","DlgTitle","DataColumnSelectorLabel","LabelColumnSelectorLabel","ChartTypeSelectorLabel","ColumnFieldSelectorLabel","RowFieldSelectorLabel","CellDataSelectorLabel","TotalsRowLabel","TotalsColLabel","TotalGridLabel","TotalsDlgLabel","GrandTotalsLabel","TotalsDlgTitle","ExportDlgTitle","ExportDlgFmtLabel","Element","msMatchesSelector","webkitMatchesSelector","lcv","__kt","ck","infoBytes","binary_string","urlatob","bytes","Uint8Array","charCodeAt","_bs","part2","ed","setCharAt","f36","encChar","majVer","chr","trialDiv","ConditionEx","readOnly","parameterized","inJoin","newCond","ColumnEx","QueryEx","lType","EqServerQueryStorage","DataModelEx","path","findPath","addPathToTree","pathAdded","newNode","node","curPath","curStep","nextStep","passedEntities","pathFound","curStep_1","checkPath","nextStep_1","endPoint","entityLinks_1","entity2","newPath","EqTotalsCalculator","levelPromises","processLevel","resultsObtained","levelData","buildLevelData","valueColumns","valueColumns_1","valueCol","licenseKeyEndpoint","hideTrialWM","keyOrInitCallback","services","textAlign","opacity","font","transition","eq","lineHeight","korzh","trialOnly","createTrialWM"],"mappings":"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","file":"adhoc-reporting.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","/** Represents the common types of the data. */\r\nexport var DataType;\r\n(function (DataType) {\r\n    /** Unknown type value*/\r\n    DataType[DataType[\"Unknown\"] = 0] = \"Unknown\";\r\n    /** String value*/\r\n    DataType[DataType[\"String\"] = 1] = \"String\";\r\n    /** 8-bit integer value */\r\n    DataType[DataType[\"Byte\"] = 2] = \"Byte\";\r\n    /** 16-bit integer value */\r\n    DataType[DataType[\"Word\"] = 3] = \"Word\";\r\n    /** 32-bit integer value */\r\n    DataType[DataType[\"Int32\"] = 4] = \"Int32\";\r\n    /** 64-bit integer value */\r\n    DataType[DataType[\"Int64\"] = 5] = \"Int64\";\r\n    /** Boolean value */\r\n    DataType[DataType[\"Bool\"] = 6] = \"Bool\";\r\n    /** Floating-point numeric value */\r\n    DataType[DataType[\"Float\"] = 7] = \"Float\";\r\n    /** Money value */\r\n    DataType[DataType[\"Currency\"] = 8] = \"Currency\";\r\n    /** Binary-coded decimal value */\r\n    DataType[DataType[\"BCD\"] = 9] = \"BCD\";\r\n    /** Date value */\r\n    DataType[DataType[\"Date\"] = 10] = \"Date\";\r\n    /** Time value */\r\n    DataType[DataType[\"Time\"] = 11] = \"Time\";\r\n    /** Date and time value */\r\n    DataType[DataType[\"DateTime\"] = 12] = \"DateTime\";\r\n    /** Autoincrement 32-bit integer value */\r\n    DataType[DataType[\"Autoinc\"] = 13] = \"Autoinc\";\r\n    /** MEMO value (text with unlimited length) */\r\n    DataType[DataType[\"Memo\"] = 14] = \"Memo\";\r\n    /** BLOB value (any data with unlimited length) */\r\n    DataType[DataType[\"Blob\"] = 15] = \"Blob\";\r\n    /** Fixed character value */\r\n    DataType[DataType[\"FixedChar\"] = 16] = \"FixedChar\";\r\n    /** The unique identifier */\r\n    DataType[DataType[\"Guid\"] = 17] = \"Guid\";\r\n    /*-------- Spatial data types ----------*/\r\n    /** Any geometry data */\r\n    DataType[DataType[\"Geometry\"] = 18] = \"Geometry\";\r\n    /** Any data that represents some geography objects</summary> */\r\n    DataType[DataType[\"Geography\"] = 19] = \"Geography\";\r\n})(DataType || (DataType = {}));\r\n//# sourceMappingURL=data_type.js.map","export var EntityAttrKind;\r\n(function (EntityAttrKind) {\r\n    EntityAttrKind[EntityAttrKind[\"Data\"] = 0] = \"Data\";\r\n    EntityAttrKind[EntityAttrKind[\"Virtual\"] = 1] = \"Virtual\";\r\n    EntityAttrKind[EntityAttrKind[\"Lookup\"] = 2] = \"Lookup\";\r\n})(EntityAttrKind || (EntityAttrKind = {}));\r\n//# sourceMappingURL=entity_attr_kind.js.map","export var EditorTag = {\r\n    /** Unknown tag value */\r\n    Unknown: \"Unknown\",\r\n    /** Edit tag value */\r\n    Edit: \"EDIT\",\r\n    /** DateTime tag value  */\r\n    DateTime: \"DATETIME\",\r\n    /** List tag value */\r\n    List: \"LIST\",\r\n    /** CustomList tag value */\r\n    CustomList: \"CUSTOMLIST\"\r\n};\r\n//# sourceMappingURL=editor_tag.js.map","export var HttpMethod;\r\n(function (HttpMethod) {\r\n    HttpMethod[\"Trace\"] = \"TRACE\";\r\n    HttpMethod[\"Options\"] = \"OPTIONS\";\r\n    HttpMethod[\"Get\"] = \"GET\";\r\n    HttpMethod[\"Put\"] = \"PUT\";\r\n    HttpMethod[\"Post\"] = \"POST\";\r\n    HttpMethod[\"Delete\"] = \"DELETE\";\r\n})(HttpMethod || (HttpMethod = {}));\r\n//# sourceMappingURL=http_method.js.map","var HttpRequest = /** @class */ (function () {\r\n    function HttpRequest(xhr, descriptor) {\r\n        this.xhr = xhr;\r\n        this.method = descriptor.method;\r\n        this.url = descriptor.url;\r\n        this.headers = descriptor.headers;\r\n        this.queryParams = descriptor.queryParams;\r\n        this.data = descriptor.data;\r\n    }\r\n    HttpRequest.prototype.setHeader = function (name, value) {\r\n        this.headers[name] = value;\r\n    };\r\n    HttpRequest.prototype.setQueryParam = function (name, value) {\r\n        this.queryParams[name] = value;\r\n    };\r\n    HttpRequest.prototype.getXMLHttpRequest = function () {\r\n        return this.xhr;\r\n    };\r\n    HttpRequest.prototype.getResponseHeaders = function () {\r\n        if (this.xhr.readyState == this.xhr.HEADERS_RECEIVED) {\r\n            var headers = this.xhr.getAllResponseHeaders();\r\n            var arr = headers.trim().split(/[\\r\\n]+/);\r\n            // Create a map of header names to values\r\n            var headerMap = {};\r\n            for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\r\n                var line = arr_1[_i];\r\n                var parts = line.split(': ');\r\n                var header = parts.shift();\r\n                var value = parts.join(': ');\r\n                headerMap[header] = value;\r\n            }\r\n            return headerMap;\r\n        }\r\n        return {};\r\n    };\r\n    HttpRequest.prototype.open = function () {\r\n        var _this = this;\r\n        if (this.xhr.readyState !== this.xhr.UNSENT)\r\n            return;\r\n        var url = this.url;\r\n        if (this.queryParams && Object.keys(this.queryParams)) {\r\n            url += encodeURI('?' + Object.keys(this.queryParams)\r\n                .map(function (param) { return param + '=' + _this.queryParams[param]; })\r\n                .join('&'));\r\n        }\r\n        this.xhr.open(this.method, url, true);\r\n        this.xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n        for (var header in this.headers) {\r\n            this.xhr.setRequestHeader(header, this.headers[header]);\r\n        }\r\n    };\r\n    HttpRequest.prototype.abort = function () {\r\n        this.xhr.abort();\r\n    };\r\n    return HttpRequest;\r\n}());\r\nexport { HttpRequest };\r\n//# sourceMappingURL=http_request.js.map","import { DataType } from '../types/data_type';\r\nimport { utils } from '../utils/utils';\r\n/**\r\n * Contains internatialization functionality.\r\n */\r\nexport var i18n;\r\n(function (i18n) {\r\n    var defaultTexts = {\r\n        ButtonOK: 'OK',\r\n        ButtonCancel: 'Cancel'\r\n    };\r\n    var englishUSLocaleSettings = {\r\n        shortDateFormat: 'MM/dd/yyyy',\r\n        longDateFormat: 'dd MMM, yyyy',\r\n        editDateFormat: 'MM/dd/yyyy',\r\n        shortTimeFormat: 'HH:mm',\r\n        editTimeFormat: 'HH:mm',\r\n        longTimeFormat: 'HH:mm:ss',\r\n        shortMonthNames: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n        longMonthNames: ['January', 'February', 'March', 'April', 'May', 'June',\r\n            'July', 'August', 'September', 'October', 'November', 'December'],\r\n        shortWeekDayNames: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\r\n        longWeekDayNames: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\r\n        decimalSeparator: '.',\r\n        currency: 'USD'\r\n    };\r\n    var defaultLocale = {\r\n        localeId: 'en-US',\r\n        englishName: 'English',\r\n        displayName: 'English',\r\n        texts: defaultTexts,\r\n        settings: englishUSLocaleSettings\r\n    };\r\n    var allLocales = {\r\n        'en-US': defaultLocale\r\n    };\r\n    var currentLocale;\r\n    var mappers = [];\r\n    function mapInfo(info) {\r\n        for (var _i = 0, mappers_1 = mappers; _i < mappers_1.length; _i++) {\r\n            var mapper = mappers_1[_i];\r\n            mapper(info);\r\n        }\r\n    }\r\n    function addMapper(mapper) {\r\n        mappers.push(mapper);\r\n    }\r\n    i18n.addMapper = addMapper;\r\n    /**\r\n     * Gets added locales with their names.\r\n     * @returns  The locales.\r\n     */\r\n    function getLocales() {\r\n        var result = [];\r\n        for (var locale in allLocales) {\r\n            result.push({\r\n                locale: locale,\r\n                englishName: allLocales[locale].englishName,\r\n                displayName: allLocales[locale].displayName\r\n            });\r\n        }\r\n        return result.sort(function (a, b) {\r\n            if (a.englishName > b.englishName) {\r\n                return 1;\r\n            }\r\n            else if (a.englishName === b.englishName) {\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n    }\r\n    i18n.getLocales = getLocales;\r\n    /**\r\n     * Gets the current locale ID.\r\n     * @returns The locale.\r\n     */\r\n    function getCurrentLocale() {\r\n        return currentLocale.localeId;\r\n    }\r\n    i18n.getCurrentLocale = getCurrentLocale;\r\n    /**\r\n    * Sets the curent locale.\r\n    * @deprecated Use setCurrentLocale instead\r\n    * @param l The locale.\r\n    */\r\n    function setLocale(l) {\r\n        console.warn(\"This method is deprecated. Use setCurrentLocale instead\");\r\n        setCurrentLocale(l);\r\n    }\r\n    i18n.setLocale = setLocale;\r\n    /**\r\n     * Sets the curent locale.\r\n     * @param localeId The locale.\r\n     */\r\n    function setCurrentLocale(localeId) {\r\n        var newLocale = allLocales[localeId];\r\n        if (newLocale) {\r\n            utils.assignDeep(currentLocale, newLocale);\r\n        }\r\n        else {\r\n            currentLocale = {\r\n                englishName: localeId,\r\n                displayName: localeId,\r\n                texts: defaultTexts\r\n            };\r\n        }\r\n        currentLocale.localeId = localeId;\r\n    }\r\n    i18n.setCurrentLocale = setCurrentLocale;\r\n    /**\r\n     * Returns localized text by the key defined in parameter.\r\n     * Here we get the text of the resource string assigned to CmdClickToAddCondition key:\r\n     *\r\n     ```\r\n       const text = i18n.getText('CmdClickToAddCondition')\r\n     ```\r\n     * @param args The keys of the resource string.\r\n     * @returns Text of the resource defined by key or null if the key is not found\r\n     *\r\n     */\r\n    function getText() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var textsObj = currentLocale.texts;\r\n        var resText = '';\r\n        if (args && args.length) {\r\n            var argLength = args.length;\r\n            for (var i = 0; i < argLength; i++) {\r\n                resText = textsObj[args[i]];\r\n                if (typeof resText === 'object') {\r\n                    textsObj = resText;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return resText;\r\n    }\r\n    i18n.getText = getText;\r\n    function getLocaleSettings() {\r\n        return currentLocale.settings;\r\n    }\r\n    i18n.getLocaleSettings = getLocaleSettings;\r\n    function getOneLocaleSetting(key) {\r\n        return currentLocale.settings[key];\r\n    }\r\n    i18n.getOneLocaleSetting = getOneLocaleSetting;\r\n    function getShortMonthName(monthNum) {\r\n        var settings = getLocaleSettings();\r\n        if (monthNum > 0 && monthNum < 13) {\r\n            return settings.shortMonthNames[monthNum - 1];\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + monthNum;\r\n        }\r\n    }\r\n    i18n.getShortMonthName = getShortMonthName;\r\n    function getLongMonthName(monthNum) {\r\n        var settings = getLocaleSettings();\r\n        if (monthNum > 0 && monthNum < 13) {\r\n            return settings.longMonthNames[monthNum - 1];\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + monthNum;\r\n        }\r\n    }\r\n    i18n.getLongMonthName = getLongMonthName;\r\n    function getShortWeekDayName(dayNum) {\r\n        var settings = getLocaleSettings();\r\n        if (dayNum > 0 && dayNum < 8) {\r\n            return settings.shortWeekDayNames.length >= dayNum\r\n                ? settings.shortWeekDayNames[dayNum - 1]\r\n                : dayNum.toString();\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + dayNum;\r\n        }\r\n    }\r\n    i18n.getShortWeekDayName = getShortWeekDayName;\r\n    function getLongWeekDayName(dayNum) {\r\n        var settings = getLocaleSettings();\r\n        if (dayNum > 0 && dayNum < 8) {\r\n            return settings.longWeekDayNames.length >= dayNum\r\n                ? settings.longWeekDayNames[dayNum - 1]\r\n                : dayNum.toString();\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + dayNum;\r\n        }\r\n    }\r\n    i18n.getLongWeekDayName = getLongWeekDayName;\r\n    /**\r\n     * Updates the locale settings (date/time formats, separators, etc) for the specified locale.\r\n     * @param settingsToUpdate a LocaleSettings object\r\n     * @param locale The locale ID (like 'en', 'de', 'uk', etc).\r\n     * If not specified - the function will update the settings for the current locale\r\n     */\r\n    function updateLocaleSettings(settingsToUpdate) {\r\n        if (!currentLocale.settings) {\r\n            currentLocale.settings = utils.assignDeep({}, englishUSLocaleSettings);\r\n        }\r\n        currentLocale.settings = utils.assignDeep(currentLocale.settings, settingsToUpdate);\r\n    }\r\n    i18n.updateLocaleSettings = updateLocaleSettings;\r\n    /**\r\n     * Updates the texts for the current locale\r\n     * @param texts A plain JS object that contains textual resources\r\n     */\r\n    function updateLocaleTexts(texts) {\r\n        if (typeof texts !== 'object') {\r\n            console.error('Wrong parameter type in updateLocaleTexts function call.' +\r\n                'The first parameter (localeId) is not necessary. Use updateLocaleTexts(texts) instead');\r\n            return;\r\n        }\r\n        mapInfo({ localeId: currentLocale.localeId, texts: texts });\r\n        utils.assignDeep(currentLocale.texts, texts);\r\n    }\r\n    i18n.updateLocaleTexts = updateLocaleTexts;\r\n    function updateDefaultTexts(texts) {\r\n        for (var localeId in allLocales) {\r\n            var locale = allLocales[localeId];\r\n            locale.texts = utils.assignDeep({}, texts, locale.texts);\r\n        }\r\n        currentLocale.texts = utils.assignDeep({}, texts, currentLocale.texts);\r\n    }\r\n    i18n.updateDefaultTexts = updateDefaultTexts;\r\n    /**\r\n     * Updates the information for the specified locale.\r\n     * @param localeId The locale ID (like 'en', 'de', 'uk', etc).\r\n     * If the locale does exist yet - it will be added\r\n     * @param localeInfo  a LocaleInfo object that contains the locale settings and textual resources\r\n     */\r\n    function updateLocaleInfo(localeId, localeData) {\r\n        mapInfo(localeData);\r\n        var localeInfoToUpdate = currentLocale;\r\n        if (localeId) {\r\n            if (!localeData.localeId) {\r\n                localeData.localeId = localeId;\r\n            }\r\n            localeInfoToUpdate = allLocales[localeId];\r\n            if (!localeInfoToUpdate) {\r\n                localeInfoToUpdate = utils.assignDeep({}, defaultLocale);\r\n                allLocales[localeId] = localeInfoToUpdate;\r\n            }\r\n        }\r\n        utils.assignDeep(localeInfoToUpdate, localeData);\r\n    }\r\n    i18n.updateLocaleInfo = updateLocaleInfo;\r\n    /**\r\n     * Adds the locale.\r\n     * @param localeId The locale ID (like 'en', 'de', 'uk', etc).\r\n     * If the locale does exist yet - it will be created\r\n     * @param localeInfo - a LocaleInfo object that contains the locale settings and textual resources\r\n     */\r\n    function addLocale(localeId, localeInfo) {\r\n        updateLocaleInfo(localeId, localeInfo);\r\n    }\r\n    i18n.addLocale = addLocale;\r\n    /**\r\n     * Overwrites some locale settings (date/time formats) with the formats used in browser's current language\r\n     */\r\n    function determineSettingsByLocale(localeId) {\r\n        var now = new Date(2020, 5, 7, 19, 34, 56, 88);\r\n        var dateOptions = { year: 'numeric', month: 'numeric', day: 'numeric' };\r\n        var timeOptions = { hour: 'numeric', minute: 'numeric', second: 'numeric' };\r\n        var dateStr = now.toLocaleDateString(localeId, dateOptions);\r\n        var timeStr = now.toLocaleTimeString(localeId, timeOptions);\r\n        var dateFormat = dateStr\r\n            .replace('07', 'dd')\r\n            .replace('7', 'd')\r\n            .replace('06', 'MM')\r\n            .replace('6', 'M')\r\n            .replace('2020', 'yyyy')\r\n            .replace('20', 'yy');\r\n        var timeFormat = timeStr\r\n            .replace('19', 'HH')\r\n            .replace('07', 'hh')\r\n            .replace('7', 'h')\r\n            .replace('34', 'mm')\r\n            .replace('56', 'ss')\r\n            .replace('PM', 'tt');\r\n        if (!currentLocale.settings) {\r\n            currentLocale.settings = {};\r\n        }\r\n        var localeSettings = {\r\n            shortDateFormat: dateFormat,\r\n            editDateFormat: dateFormat,\r\n            shortTimeFormat: timeFormat\r\n        };\r\n        updateLocaleSettings(localeSettings);\r\n    }\r\n    function loadBrowserLocaleSettings() {\r\n        var lang = typeof navigator === 'object' ? navigator.language : undefined;\r\n        determineSettingsByLocale(lang);\r\n    }\r\n    function resetLocales() {\r\n        if (!currentLocale) {\r\n            currentLocale = utils.assignDeep({}, defaultLocale);\r\n            loadBrowserLocaleSettings();\r\n        }\r\n    }\r\n    i18n.resetLocales = resetLocales;\r\n    function dateTimeToStr(dateTime, dataType, format) {\r\n        if (format) {\r\n            if (format == \"d\") {\r\n                format = buildShortDateTimeFormat(DataType.Date);\r\n            }\r\n            else if (format == \"D\") {\r\n                format = buildLongDateTimeFormat(DataType.Date);\r\n            }\r\n            else if (format == \"f\") {\r\n                format = buildShortDateTimeFormat(DataType.DateTime);\r\n            }\r\n            else if (format == \"F\") {\r\n                format = buildLongDateTimeFormat(DataType.DateTime);\r\n            }\r\n        }\r\n        else {\r\n            format = buildShortDateTimeFormat(dataType);\r\n        }\r\n        return utils.dateTimeToStr(dateTime, format);\r\n    }\r\n    i18n.dateTimeToStr = dateTimeToStr;\r\n    function buildShortDateTimeFormat(dataType) {\r\n        var localeSettings = getLocaleSettings();\r\n        var format;\r\n        switch (dataType) {\r\n            case DataType.Date:\r\n                format = localeSettings.shortDateFormat;\r\n                break;\r\n            case DataType.Time:\r\n                format = localeSettings.shortTimeFormat;\r\n                break;\r\n            default:\r\n                format = localeSettings.shortDateFormat + ' ' + localeSettings.shortTimeFormat;\r\n                break;\r\n        }\r\n        return format;\r\n    }\r\n    function buildLongDateTimeFormat(dataType) {\r\n        var localeSettings = getLocaleSettings();\r\n        var format;\r\n        switch (dataType) {\r\n            case DataType.Date:\r\n                format = localeSettings.longDateFormat;\r\n                break;\r\n            case DataType.Time:\r\n                format = localeSettings.longTimeFormat;\r\n                break;\r\n            default:\r\n                format = localeSettings.longDateFormat + ' ' + localeSettings.longTimeFormat;\r\n                break;\r\n        }\r\n        return format;\r\n    }\r\n    function numberToStr(number, format) {\r\n        if (format) {\r\n            var locale = getCurrentLocale();\r\n            return number.toLocaleString(locale, getNumberFromatOptions(format));\r\n        }\r\n        var localeSettings = getLocaleSettings();\r\n        return utils.numberToStr(number, localeSettings.decimalSeparator);\r\n    }\r\n    i18n.numberToStr = numberToStr;\r\n    function getNumberFromatOptions(format) {\r\n        var localeSettings = getLocaleSettings();\r\n        var type = format[0].toUpperCase();\r\n        var digits = (format.length > 1)\r\n            ? Number.parseInt(format.slice(1))\r\n            : type == 'D' ? 1 : 2;\r\n        switch (type) {\r\n            case 'D':\r\n                return {\r\n                    style: 'decimal',\r\n                    useGrouping: false,\r\n                    minimumIntegerDigits: digits\r\n                };\r\n            case 'C':\r\n                return {\r\n                    style: 'currency',\r\n                    currency: localeSettings.currency,\r\n                    minimumFractionDigits: digits\r\n                };\r\n            default:\r\n                return {\r\n                    style: 'decimal',\r\n                    minimumFractionDigits: digits\r\n                };\r\n        }\r\n    }\r\n})(i18n || (i18n = {}));\r\n//# sourceMappingURL=i18n.js.map","import * as strf from './string_utils';\r\nimport { DataType } from '../types/data_type';\r\nimport { i18n } from '../i18n/i18n';\r\nexport var utils;\r\n(function (utils) {\r\n    function getAllDataTypes() {\r\n        return Object.values(DataType);\r\n    }\r\n    utils.getAllDataTypes = getAllDataTypes;\r\n    function getDateDataTypes() {\r\n        return [DataType.Time, DataType.Date, DataType.DateTime];\r\n    }\r\n    utils.getDateDataTypes = getDateDataTypes;\r\n    function getStringDataTypes() {\r\n        return [DataType.String, DataType.Memo];\r\n    }\r\n    utils.getStringDataTypes = getStringDataTypes;\r\n    var _numericTypes = [DataType.Byte, DataType.Word, DataType.Int32,\r\n        DataType.Int64, DataType.Float, DataType.Currency];\r\n    var _intTypes = [DataType.Byte, DataType.Word, DataType.Int32, DataType.Int64];\r\n    //-------------- object functions -------------------\r\n    /**\r\n     * Copy the content of all objests passed in `args` parameters into `target`\r\n     * and returns the result\r\n     * NB: This function copies only the first level properties.\r\n     * For a deep copy please use `assignDeep`\r\n     * @param target - the target object\r\n     * @param args  - an array of the source objects\r\n     */\r\n    function assign(target) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        for (var i = 0; i < args.length; i++) {\r\n            var source = args[i];\r\n            if (source) {\r\n                for (var key in source) {\r\n                    if (source.hasOwnProperty(key)) {\r\n                        target[key] = source[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n    utils.assign = assign;\r\n    /**\r\n     * Copy the content of all objests passed in `args` parameters into `target`\r\n     * and returns the result\r\n     * NB: This function make a deep copy -\r\n     * so `assignDeep` will be called recursively for all object properties\r\n     * on the first level.\r\n     * @param target - the target object\r\n     * @param sources  - an array of the source objects\r\n     */\r\n    function assignDeep(target) {\r\n        var sources = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            sources[_i - 1] = arguments[_i];\r\n        }\r\n        return assignDeepCore(new WeakMap(), target, sources);\r\n    }\r\n    utils.assignDeep = assignDeep;\r\n    function assignDeepCore(hashSet, target, sources) {\r\n        if (!target) {\r\n            target = {};\r\n        }\r\n        for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\r\n            var source = sources_1[_i];\r\n            if (source) {\r\n                for (var key in source) {\r\n                    if (source.hasOwnProperty(key)) {\r\n                        var sourceVal = source[key];\r\n                        if (sourceVal !== null && typeof sourceVal === 'object') {\r\n                            if (hashSet.has(sourceVal)) {\r\n                                target[key] = hashSet.get(sourceVal);\r\n                            }\r\n                            else {\r\n                                if (Array.isArray(sourceVal)) {\r\n                                    target[key] = createArrayFrom(sourceVal);\r\n                                    hashSet.set(sourceVal, target[key]);\r\n                                }\r\n                                else {\r\n                                    if (typeof target[key] == 'undefined') {\r\n                                        target[key] = Object.create(Object.getPrototypeOf(sourceVal));\r\n                                    }\r\n                                    hashSet.set(sourceVal, target[key]);\r\n                                    assignDeepCore(hashSet, target[key], [sourceVal]);\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            target[key] = sourceVal;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n    function getIfDefined(value, defaultValue) {\r\n        return (typeof value !== 'undefined') ? value : defaultValue;\r\n    }\r\n    utils.getIfDefined = getIfDefined;\r\n    function IsDefinedAndNotNull(value) {\r\n        return typeof value !== 'undefined' && value !== null;\r\n    }\r\n    utils.IsDefinedAndNotNull = IsDefinedAndNotNull;\r\n    function copyArrayTo(collection1, collection2) {\r\n        var len1 = collection1.length;\r\n        var len2 = collection2.length;\r\n        for (var i = 0; i < len1 && i < len2; i++) {\r\n            collection2[i] = collection1[i];\r\n        }\r\n    }\r\n    utils.copyArrayTo = copyArrayTo;\r\n    function createArrayFrom(collection) {\r\n        var result = [];\r\n        for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {\r\n            var item = collection_1[_i];\r\n            result.push(item);\r\n        }\r\n        return result;\r\n    }\r\n    utils.createArrayFrom = createArrayFrom;\r\n    /**\r\n     * Searches an array of the objects which implement ItemWithId by ID\r\n     * Returs the found object or null.\r\n     * @param array\r\n     * @param id\r\n     */\r\n    function findItemById(array, id) {\r\n        var arrLength = array.length;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            if (array[idx].id === id)\r\n                return array[idx];\r\n        }\r\n        return null;\r\n    }\r\n    utils.findItemById = findItemById;\r\n    function findItemIndexById(array, id) {\r\n        var arrLength = array.length;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            if (array[idx].id === id)\r\n                return idx;\r\n        }\r\n        return -1;\r\n    }\r\n    utils.findItemIndexById = findItemIndexById;\r\n    /**\r\n     * Searches an array of the objects which implement ItemWithId by ID\r\n     * Returs the index of the found element, or -1 if nothing was found.\r\n     * @param array\r\n     * @param id\r\n     */\r\n    function indexOfArrayItem(arr, item) {\r\n        if (arr.indexOf) {\r\n            return arr.indexOf(item);\r\n        }\r\n        else {\r\n            var len = arr.length;\r\n            for (var i = 0; i < len; i++) {\r\n                if (item == arr[i]) {\r\n                    return i;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n    utils.indexOfArrayItem = indexOfArrayItem;\r\n    /**\r\n     * Moves an item in some array to a new position\r\n     * @param array\r\n     * @param index1\r\n     * @param index2\r\n     */\r\n    function moveArrayItem(array, index1, index2) {\r\n        if (index1 >= array.length) {\r\n            throw 'Index out of bounds: ' + index1;\r\n        }\r\n        if (index2 >= array.length) {\r\n            index2 = array.length - 1;\r\n        }\r\n        var item = array.splice(index1, 1)[0];\r\n        array.splice(index2, 0, item);\r\n    }\r\n    utils.moveArrayItem = moveArrayItem;\r\n    /**\r\n     * Searches for a particular item in the array are removes that item if found.\r\n     * @param arr\r\n     * @param value\r\n     */\r\n    function removeArrayItem(arr, value) {\r\n        var index = arr.indexOf(value);\r\n        if (index != -1) {\r\n            return arr.splice(index, 1)[0];\r\n        }\r\n    }\r\n    utils.removeArrayItem = removeArrayItem;\r\n    function insertArrayItem(arr, index, value) {\r\n        arr.splice(index, 0, value);\r\n    }\r\n    utils.insertArrayItem = insertArrayItem;\r\n    function fillArray(arr, value, start, end) {\r\n        if (start === void 0) { start = 0; }\r\n        var len = arr.length >>> 0;\r\n        var relativeStart = start >> 0;\r\n        var k = relativeStart < 0 ?\r\n            Math.max(len + relativeStart, 0) :\r\n            Math.min(relativeStart, len);\r\n        var relativeEnd = end === undefined ?\r\n            len : end >> 0;\r\n        var final = relativeEnd < 0 ?\r\n            Math.max(len + relativeEnd, 0) :\r\n            Math.min(relativeEnd, len);\r\n        while (k < final) {\r\n            arr[k] = value;\r\n            k++;\r\n        }\r\n        return arr;\r\n    }\r\n    utils.fillArray = fillArray;\r\n    //------------ DOM utils ------------\r\n    /**\r\n     * Calculates the shift on which we need to move our element horizontally\r\n     * to find current window\r\n     * @param absLeft\r\n     * @param width\r\n     */\r\n    function shiftToFitWindow(absLeft, width) {\r\n        var body = document.getElementsByTagName('body')[0];\r\n        var winWidth = window.innerWidth || document.documentElement.clientWidth || body.clientWidth;\r\n        var absRight = absLeft + width;\r\n        var shift = 0;\r\n        if (absRight > winWidth) {\r\n            shift = winWidth - absRight - 10;\r\n            if (absLeft + shift < 0) {\r\n                shift = 10 - absLeft;\r\n            }\r\n        }\r\n        return shift;\r\n    }\r\n    utils.shiftToFitWindow = shiftToFitWindow;\r\n    /**\r\n     * Returns `true` if the value passed in the parameter is an object\r\n     * @param val\r\n     */\r\n    function isObject(val) {\r\n        if (val === null) {\r\n            return false;\r\n        }\r\n        return ((typeof val === 'function') || (typeof val === 'object'));\r\n    }\r\n    utils.isObject = isObject;\r\n    /**\r\n     * Returns `true` if the `DataType` value passed in the parameter\r\n     * represents some numeric type\r\n     * @param dtype\r\n     */\r\n    function isNumericType(dtype) {\r\n        var index = _numericTypes.indexOf(dtype);\r\n        return (index >= 0);\r\n    }\r\n    utils.isNumericType = isNumericType;\r\n    /**\r\n     * Returns `true` if the `DataType` value passed in the parameter\r\n     * represents some numeric type\r\n     * @param dtype\r\n     */\r\n    function isIntType(dtype) {\r\n        var index = _intTypes.indexOf(dtype);\r\n        return (index >= 0);\r\n    }\r\n    utils.isIntType = isIntType;\r\n    /**\r\n     * Returns `true` if the value passed in the parameter is an a numeric value\r\n     * @param val\r\n     */\r\n    function isNumeric(val) {\r\n        return !isNaN(parseFloat(val)) && isFinite(val);\r\n    }\r\n    utils.isNumeric = isNumeric;\r\n    /**\r\n     * Returns `true` if two data types  passed in parameters\r\n     * are compatible - so it's safe to copy the values between\r\n     * two expressions with these two types\r\n     * @param type1\r\n     * @param type2\r\n     */\r\n    function areCompatibleDataTypes(type1, type2) {\r\n        return typeof type1 == \"undefined\" || typeof type2 == \"undefined\" || type1 == DataType.Unknown || type2 == DataType.Unknown\r\n            || (type1 == type2) || (type1 == DataType.Date && type2 == DataType.DateTime)\r\n            || (type1 == DataType.DateTime && type2 == DataType.Date);\r\n    }\r\n    utils.areCompatibleDataTypes = areCompatibleDataTypes;\r\n    /**\r\n     * Returns `true` if the property with named `propName`\r\n     * in the object `obj` has some value\r\n     * @param obj\r\n     * @param propName\r\n     */\r\n    function isPropSet(obj, propName) {\r\n        return obj[propName] || obj[propName.toLowerCase()] || obj[propName.toUpperCase()];\r\n    }\r\n    utils.isPropSet = isPropSet;\r\n    //-------------- ID generator -----------\r\n    var prefixIdLen = 4;\r\n    var symbols = \"0123456789abcdefghijklmnopqrstuvwxyz\";\r\n    var magicTicks = 636712160627685350;\r\n    /**\r\n     * Generates an unique ID\r\n     */\r\n    function generateId(prefix) {\r\n        if (!prefix) {\r\n            prefix = 'easy';\r\n        }\r\n        var prfx = (prefix.length > prefixIdLen) ? squeezeMoniker(prefix, prefixIdLen) : prefix;\r\n        if (prfx && prfx.length > 0) {\r\n            prfx += \"-\";\r\n        }\r\n        //adding 2 random symbols\r\n        var randValue = strf.repeatString(\"\", 2);\r\n        ;\r\n        var maxSymbolIndex = symbols.length - 1;\r\n        randValue = replaceAtString(randValue, 0, symbols[getRandomInt(0, maxSymbolIndex)]);\r\n        randValue = replaceAtString(randValue, 1, symbols[getRandomInt(0, maxSymbolIndex)]);\r\n        //generating main ID part (64-base representation of the current value of the time ticks)\r\n        var ticksNum64 = intToNum36(getNowTicks() - magicTicks);\r\n        return prfx + randValue + ticksNum64;\r\n    }\r\n    utils.generateId = generateId;\r\n    function intToNum36(value) {\r\n        var targetBase = 36;\r\n        var i = 14;\r\n        var buffer = strf.repeatString(\"\", i);\r\n        var rest = value;\r\n        do {\r\n            buffer = replaceAtString(buffer, i--, symbols[rest % targetBase]);\r\n            rest = Math.floor(rest /= targetBase);\r\n        } while (rest > 0);\r\n        return strf.reverseString(buffer.trim());\r\n    }\r\n    function squeezeMoniker(str, maxlen) {\r\n        var parts = str.split('-');\r\n        var pml = 1;\r\n        var ptt = maxlen;\r\n        if (parts.length < maxlen) {\r\n            pml = maxlen / parts.length;\r\n            ptt = parts.length;\r\n        }\r\n        var result = \"\";\r\n        for (var i = 0; i < ptt; i++) {\r\n            result += squeeze(parts[i], pml);\r\n        }\r\n        return result;\r\n    }\r\n    function squeeze(str, maxlen) {\r\n        var len = str.length;\r\n        if (len > maxlen) {\r\n            var step = len / maxlen;\r\n            var result = \"\";\r\n            result += str[0];\r\n            var nextIndex = step;\r\n            var ch = void 0;\r\n            for (var i = 1; i < len; i++) {\r\n                ch = str[i];\r\n                if (i + 1 > nextIndex) {\r\n                    result += ch;\r\n                    nextIndex += step;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            return str;\r\n        }\r\n    }\r\n    function replaceAtString(str, index, value) {\r\n        return str.substr(0, index) + value + str.substr(index + value.length);\r\n    }\r\n    function getRandomInt(min, max) {\r\n        return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n    function getNowTicks() {\r\n        return (621355968e9 + (new Date()).getTime() * 1e4);\r\n    }\r\n    function safeParseInt(str) {\r\n        var isnum = /^\\d+$/.test(str);\r\n        if (!isnum)\r\n            throw \"Is not a valid number\";\r\n        return parseInt(str);\r\n    }\r\n    function getDaysInMonth(month, year) {\r\n        return new Date(year, month + 1, 0).getDate();\r\n    }\r\n    // ------------- date/time functions -------------------\r\n    // TO DO: improve to process all datetime cases\r\n    function strToDateTime(value, format) {\r\n        if (!value || value.length == 0)\r\n            return new Date();\r\n        var normalized = value.replace(/[^a-zA-Z0-9_]/g, '-');\r\n        var normalizedFormat = format.replace(/[^a-zA-Z0-9_]/g, '-');\r\n        var formatItems = normalizedFormat.split('-');\r\n        var dateItems = normalized.split('-');\r\n        var monthIndex = formatItems.indexOf(\"MM\");\r\n        var dayIndex = formatItems.indexOf(\"dd\");\r\n        var yearIndex = formatItems.indexOf(\"yyyy\");\r\n        var hourIndex = formatItems.indexOf(\"HH\");\r\n        var minutesIndex = formatItems.indexOf(\"mm\");\r\n        var secondsIndex = formatItems.indexOf(\"ss\");\r\n        var today = new Date();\r\n        try {\r\n            var year = yearIndex > -1 && yearIndex < dateItems.length ? safeParseInt(dateItems[yearIndex]) : today.getFullYear();\r\n            var month = monthIndex > -1 && monthIndex < dateItems.length ? safeParseInt(dateItems[monthIndex]) - 1 : today.getMonth() - 1;\r\n            if (month > 11)\r\n                throw '';\r\n            var day = dayIndex > -1 && dayIndex < dateItems.length ? safeParseInt(dateItems[dayIndex]) : today.getDate();\r\n            if (day > getDaysInMonth(month, year))\r\n                throw '';\r\n            var hour = hourIndex > -1 && hourIndex < dateItems.length ? safeParseInt(dateItems[hourIndex]) : 0;\r\n            if (hour > 23)\r\n                throw '';\r\n            var minute = minutesIndex > -1 && minutesIndex < dateItems.length ? safeParseInt(dateItems[minutesIndex]) : 0;\r\n            if (minute > 59)\r\n                throw '';\r\n            var second = secondsIndex > -1 && secondsIndex < dateItems.length ? safeParseInt(dateItems[secondsIndex]) : 0;\r\n            if (second > 59)\r\n                throw '';\r\n            return new Date(year, month, day, hour, minute, second);\r\n        }\r\n        catch (_a) {\r\n            throw \"Is not a valid date time.\";\r\n        }\r\n    }\r\n    utils.strToDateTime = strToDateTime;\r\n    var DT_FORMAT_RGEX = /\\[([^\\]]+)]|y{4}|M{1,4}|d{1,2}|H{1,2}|h{1,2}|m{2}|s{2}|t{2}/g;\r\n    /**\r\n     * Returns string representation of the date/time value according to the custom format (second parameter)\r\n     * The format is compatible with the one used in .NET: https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings\r\n     * @param date\r\n     * @param format\r\n     */\r\n    function dateTimeToStr(date, format) {\r\n        var year = date.getFullYear();\r\n        var month = date.getMonth() + 1;\r\n        var day = date.getDate();\r\n        var hour = date.getHours();\r\n        var minute = date.getMinutes();\r\n        var second = date.getSeconds();\r\n        var hour12 = hour % 12 || 12; //the remainder of the division by 12. Or 12 if it's 0\r\n        var isPm = hour > 11;\r\n        var matches = {\r\n            yyyy: year.toString(),\r\n            MMMM: i18n.getLongMonthName(month),\r\n            MMM: i18n.getShortMonthName(month),\r\n            MM: (month < 10) ? '0' + month : month.toString(),\r\n            M: month.toString(),\r\n            dd: (day < 10) ? '0' + day : day.toString(),\r\n            d: day.toString(),\r\n            HH: (hour < 10) ? '0' + hour : hour.toString(),\r\n            H: hour.toString(),\r\n            hh: (hour12 < 10) ? '0' + hour12 : hour12.toString(),\r\n            h: hour12.toString(),\r\n            tt: isPm ? 'PM' : 'AM',\r\n            mm: (minute < 10) ? '0' + minute : minute.toString(),\r\n            ss: (second < 10) ? '0' + second : second.toString()\r\n        };\r\n        return format.replace(DT_FORMAT_RGEX, function (match, $1) {\r\n            return $1 || matches[match];\r\n        });\r\n    }\r\n    utils.dateTimeToStr = dateTimeToStr;\r\n    /**\r\n    * Converts a numeric value to the string taking into the account the decimal separator\r\n    * @param value - the number to convert\r\n    * @param decimalSeparator - the symbol that represents decimal separator. If not specified the function gets the one from the current locale settings.\r\n    */\r\n    function numberToStr(number, decimalSeparator) {\r\n        decimalSeparator = decimalSeparator || i18n.getLocaleSettings().decimalSeparator;\r\n        return number.toString().replace('.', decimalSeparator);\r\n    }\r\n    utils.numberToStr = numberToStr;\r\n})(utils || (utils = {}));\r\n//# sourceMappingURL=utils.js.map","export function repeatString(str, times) {\r\n    var result = \"\";\r\n    for (var i = 0; i < times; i++) {\r\n        result += str;\r\n    }\r\n    return result;\r\n}\r\nexport function reverseString(str) {\r\n    return str.split(\"\").reverse().join(\"\");\r\n}\r\nexport function strEndsWith(str, symbol) {\r\n    return str && str.lastIndexOf(symbol) == (str.length - symbol.length);\r\n}\r\n/**\r\n * Adds two paths and returns the result\r\n * Correctly processes leading and trailing slashes\r\n * @param path1\r\n * @param path2\r\n */\r\nexport function combinePath(path1, path2) {\r\n    var result = path1;\r\n    if (result != null && result.length > 0) {\r\n        if (result.charAt(result.length - 1) != '/')\r\n            result += \"/\";\r\n        result += path2;\r\n    }\r\n    else {\r\n        result = path2;\r\n    }\r\n    return result;\r\n}\r\n//# sourceMappingURL=string_utils.js.map","var HttpActionResult = /** @class */ (function () {\r\n    function HttpActionResult(request, promise) {\r\n        this.request = request;\r\n        this.promise = promise;\r\n    }\r\n    HttpActionResult.prototype.getPromise = function () {\r\n        return this.promise;\r\n    };\r\n    HttpActionResult.prototype.getRequest = function () {\r\n        return this.request;\r\n    };\r\n    HttpActionResult.prototype.then = function (onfulfilled, onrejected) {\r\n        return this.promise.then(onfulfilled, onrejected);\r\n    };\r\n    HttpActionResult.prototype.catch = function (onrejected) {\r\n        return this.promise.catch(onrejected);\r\n    };\r\n    HttpActionResult.prototype.finally = function (onfinally) {\r\n        return this.promise.finally(onfinally);\r\n    };\r\n    return HttpActionResult;\r\n}());\r\nexport { HttpActionResult };\r\n//# sourceMappingURL=http_action_result.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { utils } from '../utils/utils';\r\nimport { HttpActionResult } from './http_action_result';\r\nimport { HttpMethod } from './http_method';\r\nimport { HttpRequest } from './http_request';\r\nvar HttpResponseError = /** @class */ (function (_super) {\r\n    __extends(HttpResponseError, _super);\r\n    function HttpResponseError(status, message) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.status = status;\r\n        return _this;\r\n    }\r\n    return HttpResponseError;\r\n}(Error));\r\nexport { HttpResponseError };\r\nvar HttpClient = /** @class */ (function () {\r\n    function HttpClient() {\r\n        this.defaultHeaders = {};\r\n        this.customPayload = undefined;\r\n    }\r\n    HttpClient.prototype.get = function (url, options) {\r\n        return this.send(HttpMethod.Get, url, null, options);\r\n    };\r\n    HttpClient.prototype.post = function (url, data, options) {\r\n        return this.send(HttpMethod.Post, url, data, options);\r\n    };\r\n    HttpClient.prototype.put = function (url, data, options) {\r\n        return this.send(HttpMethod.Put, url, data, options);\r\n    };\r\n    HttpClient.prototype.delete = function (url, data, options) {\r\n        return this.send(HttpMethod.Delete, url, data, options);\r\n    };\r\n    HttpClient.prototype.send = function (method, url, data, options) {\r\n        options = options || {};\r\n        var dataType = options.dataType || 'json';\r\n        var contentType = options.contentType || (dataType !== 'form-data')\r\n            ? 'application/json'\r\n            : null;\r\n        if (data && dataType != 'form-data' && this.customPayload) {\r\n            data.data = utils.assignDeep(data.data || {}, this.customPayload);\r\n        }\r\n        var XHR = ('onload' in new XMLHttpRequest())\r\n            ? XMLHttpRequest\r\n            : window[\"XDomainRequest\"]; //IE support\r\n        var xhr = new XHR();\r\n        var desc = {\r\n            method: method,\r\n            url: url,\r\n            headers: __assign({}, this.defaultHeaders, options.headers || {}),\r\n            queryParams: options.queryParams || {},\r\n            data: data\r\n        };\r\n        if (contentType)\r\n            desc.headers['Content-Type'] = contentType;\r\n        var request = new HttpRequest(xhr, desc);\r\n        if (this.beforeEachRequest) {\r\n            console.warn(\"HttpClient: 'beforeEachRequest' is deprecated and will be removed in future updates.\\n            Use 'onRequest' instead\");\r\n            this.beforeEachRequest(request);\r\n        }\r\n        if (this.onRequest) {\r\n            this.onRequest(request);\r\n        }\r\n        var dataToSend = (request.data && typeof request.data !== 'string'\r\n            && dataType == 'json')\r\n            ? JSON.stringify(request.data)\r\n            : request.data;\r\n        request.open();\r\n        return new HttpActionResult(request, new Promise(function (resolve, reject) {\r\n            xhr.onreadystatechange = function () {\r\n                if (xhr.readyState != 4) {\r\n                    return;\r\n                }\r\n                var responseContentType = xhr.getResponseHeader('Content-Type') || '';\r\n                var responseObj = (responseContentType.indexOf('application/json') == 0)\r\n                    ? JSON.parse(xhr.responseText)\r\n                    : xhr.responseText;\r\n                var status = xhr.status;\r\n                if (status >= 300 || status < 200) {\r\n                    var message = responseObj.message ||\r\n                        (status == 404\r\n                            ? \"No such endpoint: \" + url\r\n                            : responseObj);\r\n                    reject(new HttpResponseError(status, message));\r\n                    return;\r\n                }\r\n                resolve(responseObj);\r\n            };\r\n            xhr.send(dataToSend);\r\n        }));\r\n    };\r\n    return HttpClient;\r\n}());\r\nexport { HttpClient };\r\n//# sourceMappingURL=http_client.js.map","import { DataType } from '../types/data_type';\r\nimport { EntityAttrKind } from '../types/entity_attr_kind';\r\nimport { utils } from '../utils/utils';\r\n/**\r\n * Represents one entity.\r\n */\r\nvar MetaEntity = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function MetaEntity(parent) {\r\n        this.name = \"\";\r\n        this.caption = \"\";\r\n        this.description = \"\";\r\n        this.parent = parent;\r\n        this.attributes = new Array();\r\n        this.subEntities = new Array();\r\n    }\r\n    /**\r\n    * Loads entity from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param dto The JSON representation object.\r\n    */\r\n    MetaEntity.prototype.loadFromData = function (model, dto) {\r\n        if (dto) {\r\n            this.id = dto.id;\r\n            this.name = dto.name;\r\n            this.captionPlural = dto.namePlur;\r\n            this.caption = dto.name;\r\n            this.description = dto.desc;\r\n            this.subEntities = new Array();\r\n            if (dto.ents) {\r\n                for (var i = 0; i < dto.ents.length; i++) {\r\n                    var newEntity = model.createEntity(this);\r\n                    newEntity.loadFromData(model, dto.ents[i]);\r\n                    this.subEntities.push(newEntity);\r\n                }\r\n            }\r\n            this.attributes = new Array();\r\n            if (dto.attrs) {\r\n                for (var i = 0; i < dto.attrs.length; i++) {\r\n                    var newAttr = model.createEntityAttr(this);\r\n                    newAttr.loadFromData(model, dto.attrs[i]);\r\n                    this.attributes.push(newAttr);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MetaEntity.prototype.scan = function (processAttribute, processEntity) {\r\n        var opts = { stop: false };\r\n        var internalProcessEntity = function (entity) {\r\n            if (processEntity)\r\n                processEntity(entity, opts);\r\n            if (entity.attributes) {\r\n                var attrCount = entity.attributes.length;\r\n                for (var i = 0; (i < attrCount) && !opts.stop; i++) {\r\n                    var attr = entity.attributes[i];\r\n                    if (processAttribute) {\r\n                        processAttribute(attr, opts);\r\n                    }\r\n                    if (opts.stop)\r\n                        return;\r\n                }\r\n            }\r\n            if (entity.subEntities) {\r\n                var subEntityCount = entity.subEntities.length;\r\n                for (var i = 0; (i < subEntityCount) && !opts.stop; i++) {\r\n                    internalProcessEntity(entity.subEntities[i]);\r\n                }\r\n            }\r\n        };\r\n        internalProcessEntity(this);\r\n    };\r\n    return MetaEntity;\r\n}());\r\nexport { MetaEntity };\r\nvar MetaEntityAttr = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function MetaEntityAttr(entity) {\r\n        this.id = \"\";\r\n        this.caption = \"{Unrecognized attribute}\";\r\n        this.dataType = DataType.String;\r\n        this.size = 0;\r\n        this.isPrimaryKey = false;\r\n        this.isForeignKey = false;\r\n        this.isNullable = true;\r\n        this.showOnView = true;\r\n        this.isEditable = true;\r\n        this.showOnCreate = true;\r\n        this.showOnEdit = true;\r\n        this.showInLookup = false;\r\n        this.lookupAttr = \"\";\r\n        this.expr = \"\";\r\n        this.entity = entity;\r\n        this.kind = EntityAttrKind.Data;\r\n    }\r\n    /**\r\n     * Loads entity attribute from JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param dto The JSON representation object.\r\n     */\r\n    MetaEntityAttr.prototype.loadFromData = function (model, dto) {\r\n        if (dto) {\r\n            this.id = dto.id;\r\n            this.description = dto.desc;\r\n            this.caption = dto.cptn;\r\n            this.dataType = dto.dtype;\r\n            this.isPrimaryKey = dto.ipk;\r\n            this.isForeignKey = dto.ifk;\r\n            this.size = dto.size;\r\n            this.lookupAttr = dto.lattr;\r\n            this.lookupEntity = dto.lent;\r\n            this.dataAttr = dto.dattr;\r\n            this.lookupDataAttr = dto.ldattr;\r\n            this.isNullable = utils.getIfDefined(dto.nul, this.isNullable);\r\n            this.isEditable = utils.getIfDefined(dto.ied, this.isEditable);\r\n            this.showOnView = utils.getIfDefined(dto.ivis || dto.sov, this.showOnView);\r\n            this.showOnCreate = utils.getIfDefined(dto.soc, this.showOnCreate);\r\n            this.showOnEdit = utils.getIfDefined(dto.soe, this.showOnEdit);\r\n            this.showInLookup = utils.getIfDefined(dto.sil, this.showInLookup);\r\n            this.kind = dto.kind;\r\n            this.displayFormat = dto.dfmt;\r\n            if (dto.udata)\r\n                this.userData = dto.udata;\r\n            if (dto.edtr) {\r\n                this.defaultEditor = model.getEditorById(dto.edtr) || model.createValueEditor();\r\n            }\r\n        }\r\n    };\r\n    return MetaEntityAttr;\r\n}());\r\nexport { MetaEntityAttr };\r\n//# sourceMappingURL=meta_entity.js.map","import { EditorTag } from '../types/editor_tag';\r\nimport { DataType } from '../types/data_type';\r\n/**\r\n * Represents a value editor.\r\n */\r\nvar ValueEditor = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function ValueEditor() {\r\n        this.id = \"\";\r\n        this.tag = EditorTag.Unknown;\r\n        this.resType = DataType.Unknown;\r\n        this.defValue = \"\";\r\n    }\r\n    /**\r\n     * Loads value editor from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    ValueEditor.prototype.loadFromData = function (data) {\r\n        if (data) {\r\n            this.id = data.id;\r\n            this.tag = data.tag;\r\n            this.defValue = data.defval;\r\n            this.resType = data.rtype;\r\n            if (data.subType) {\r\n                this.resType = data.subType;\r\n            }\r\n            if (data.name) {\r\n                this.name = data.name;\r\n            }\r\n            if (data.values) {\r\n                this.values = data.values;\r\n            }\r\n        }\r\n    };\r\n    ValueEditor.prototype.getValueText = function (value) {\r\n        var result = \"\";\r\n        if (!this.values)\r\n            return result;\r\n        if (Array.isArray(value)) {\r\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\r\n                var item = _a[_i];\r\n                if (value.indexOf(item.id) >= 0) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var _b = 0, _c = this.values; _b < _c.length; _b++) {\r\n                var item = _c[_b];\r\n                if (item.id === value) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        if (result) {\r\n            result = result.substring(0, result.length - 1);\r\n        }\r\n        return result;\r\n    };\r\n    return ValueEditor;\r\n}());\r\nexport { ValueEditor };\r\n//# sourceMappingURL=value_editor.js.map","import { i18n } from '../i18n/i18n';\r\nimport { utils } from '../utils/utils';\r\nimport { EditorTag } from '../types/editor_tag';\r\nimport { DataType } from '../types/data_type';\r\nimport { MetaEntity, MetaEntityAttr } from './meta_entity';\r\nimport { ValueEditor } from './value_editor';\r\n/**\r\n * Represents a data model\r\n */\r\nvar MetaData = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function MetaData() {\r\n        this.mainEntity = null;\r\n        this.id = '__none';\r\n        this.name = 'Empty model';\r\n        this.rootEntity = this.createEntity();\r\n    }\r\n    /**\r\n     * Gets the main entity of model\r\n     * @return The main entity.\r\n     */\r\n    MetaData.prototype.getMainEntity = function () {\r\n        return this.mainEntity;\r\n    };\r\n    MetaData.prototype.createEntity = function (parent) {\r\n        return new MetaEntity(parent);\r\n    };\r\n    MetaData.prototype.createEntityAttr = function (parent) {\r\n        return new MetaEntityAttr(parent);\r\n    };\r\n    MetaData.prototype.createValueEditor = function () {\r\n        return new ValueEditor();\r\n    };\r\n    /**\r\n     * Loads data model from JSON.\r\n     * @param stringJson The JSON string.\r\n     */\r\n    MetaData.prototype.loadFromJSON = function (stringJson) {\r\n        var model = JSON.parse(stringJson);\r\n        this.loadFromData(model);\r\n    };\r\n    /**\r\n     * Loads data model from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    MetaData.prototype.loadFromData = function (data) {\r\n        this.id = data.id;\r\n        this.name = data.name;\r\n        this.version = data.vers;\r\n        //Editors\r\n        this.editors = new Array();\r\n        if (data.editors) {\r\n            for (var i = 0; i < data.editors.length; i++) {\r\n                var newEditor = this.createValueEditor();\r\n                newEditor.loadFromData(data.editors[i]);\r\n                this.editors.push(newEditor);\r\n            }\r\n        }\r\n        //rootEntity\r\n        this.rootEntity.loadFromData(this, data.entroot);\r\n    };\r\n    /**\r\n     * Sets data to data model.\r\n     * @param model Its JSON representation object or JSON string.\r\n     */\r\n    MetaData.prototype.setData = function (model) {\r\n        if (typeof model === 'string') {\r\n            this.loadFromJSON(model);\r\n        }\r\n        else {\r\n            this.loadFromData(model);\r\n        }\r\n    };\r\n    /**\r\n     * Checks wether the data model is empty.\r\n     * @returns `true` if the data model is empty, otherwise `false`.\r\n     */\r\n    MetaData.prototype.isEmpty = function () {\r\n        return this.rootEntity.subEntities.length === 0 && this.rootEntity.attributes.length === 0;\r\n    };\r\n    /**\r\n     * Gets ID of the data model.\r\n     * @returns The ID.\r\n     */\r\n    MetaData.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    /**\r\n     * Gets name of the data model.\r\n     * @returns The name.\r\n     */\r\n    MetaData.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    /**\r\n     * Gets root entity of the data model.\r\n     * @returns The root entity.\r\n     */\r\n    MetaData.prototype.getRootEntity = function () {\r\n        return this.rootEntity;\r\n    };\r\n    /**\r\n     * Finds editor by its ID.\r\n     * @param editorId The editor ID.\r\n     * @returns The value editor or `null`.\r\n     */\r\n    MetaData.prototype.getEditorById = function (editorId) {\r\n        for (var _i = 0, _a = this.editors; _i < _a.length; _i++) {\r\n            var editor = _a[_i];\r\n            if (editor.id === editorId) {\r\n                return editor;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified model (it's root entity and all its sub-entities).\r\n     * @param attrId The attribute ID.\r\n     * @returns The attribute or `null`.\r\n     */\r\n    MetaData.prototype.getAttributeById = function (attrId) {\r\n        var attr = this.getEntityAttrById(this.getRootEntity(), attrId);\r\n        if (!attr) {\r\n            return null;\r\n        }\r\n        return attr;\r\n    };\r\n    /**\r\n     * Checks wether attribute contains such property.\r\n     * @param attrId The attribute ID.\r\n     * @param propName The property name.\r\n     * @returns `true` if the attribute contains the property, otherwise `false`.\r\n     */\r\n    MetaData.prototype.checkAttrProperty = function (attrId, propName) {\r\n        var attribute = this.getAttributeById(attrId);\r\n        if (attribute) {\r\n            if (typeof attribute[propName] === 'undefined') {\r\n                throw 'No such property: ' + propName;\r\n            }\r\n            if (attribute[propName]) {\r\n                return true;\r\n            }\r\n            else if (attribute.lookupAttr) {\r\n                attrId = attribute.lookupAttr;\r\n                attribute = this.getAttributeById(attrId);\r\n                return attribute && attribute[propName];\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        else\r\n            return false;\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified entity and all its sub-entities.\r\n     * @param entity\r\n     * @param attrId\r\n     * @returns The attribute or `null`.\r\n     */\r\n    MetaData.prototype.getEntityAttrById = function (entity, attrId) {\r\n        var idx;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (idx = 0; idx < attrCount; idx++) {\r\n                if (entity.attributes[idx].id == attrId) {\r\n                    return entity.attributes[idx];\r\n                }\r\n            }\r\n        }\r\n        var res;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (idx = 0; idx < subEntityCount; idx++) {\r\n                res = this.getEntityAttrById(entity.subEntities[idx], attrId);\r\n                if (res)\r\n                    return res;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    MetaData.prototype.listByEntityWithFilter = function (entity, filterFunc) {\r\n        var result = new Array();\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    caption = i18n.getText('Entities', ent.name);\r\n                    if (!caption) {\r\n                        caption = ent.caption;\r\n                    }\r\n                    var newEnt = utils.assign(this.createEntity(), { id: ent.name, text: caption, items: [], isEntity: true });\r\n                    newEnt.items = this.listByEntityWithFilter(ent, filterFunc);\r\n                    if (newEnt.items.length > 0)\r\n                        result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    caption = i18n.getText('Attributes', attr.id);\r\n                    if (!caption)\r\n                        caption = attr.caption;\r\n                    var newEnt = utils.assign(this.createEntity(), { id: attr.id, text: caption, dataType: attr.dataType });\r\n                    result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    MetaData.prototype.listByEntity = function (entity, opts, filterFunc) {\r\n        opts = opts || {};\r\n        var resultEntities = [];\r\n        var resultAttributes = [];\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    caption = i18n.getText('Entities', ent.name) || ent.caption;\r\n                    var newEnt = utils.assign(this.createEntity(), {\r\n                        id: ent.name,\r\n                        text: caption,\r\n                        items: [],\r\n                        isEntity: true,\r\n                        description: ent.description\r\n                    });\r\n                    var newOpts = utils.assign({}, opts);\r\n                    newOpts.includeRootData = false;\r\n                    newEnt.items = this.listByEntity(ent, newOpts, filterFunc);\r\n                    if (newEnt.items.length > 0) {\r\n                        resultEntities.push(newEnt);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    caption = i18n.getText('Attributes', attr.id) || attr.caption;\r\n                    resultAttributes.push(utils.assign(this.createEntityAttr(entity), {\r\n                        id: attr.id, text: caption,\r\n                        dataType: attr.dataType, lookupAttr: attr.lookupAttr,\r\n                        description: attr.description\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        var sortCheck = function (a, b) {\r\n            if (a.text.toLowerCase() == b.text.toLowerCase()) {\r\n                return 0;\r\n            }\r\n            if (a.text.toLowerCase() > b.text.toLowerCase()) {\r\n                return 1;\r\n            }\r\n            return -1;\r\n        };\r\n        if (opts.sortEntities) {\r\n            resultEntities.sort(sortCheck);\r\n            resultAttributes.sort(sortCheck);\r\n        }\r\n        var result;\r\n        if (!opts.attrPlacement || opts.attrPlacement == 0) {\r\n            result = resultEntities.concat(resultAttributes);\r\n        }\r\n        else {\r\n            result = resultAttributes.concat(resultEntities);\r\n        }\r\n        if (opts.attrPlacement == 2) {\r\n            result.sort(sortCheck);\r\n        }\r\n        if (opts.includeRootData) {\r\n            caption = i18n.getText('Entities', entity.name);\r\n            if (!caption)\r\n                caption = entity.caption;\r\n            return { id: entity.name, text: caption, items: result };\r\n        }\r\n        else {\r\n            return result;\r\n        }\r\n    };\r\n    /**\r\n     * Clears data model.\r\n     */\r\n    MetaData.prototype.clear = function () {\r\n        this.rootEntity = this.createEntity();\r\n        this.editors = [];\r\n        this.version = '';\r\n    };\r\n    /**\r\n     * Add default value editors.\r\n     */\r\n    MetaData.prototype.addDefaultValueEditors = function () {\r\n        var ve;\r\n        ve = this.addOrUpdateValueEditor('_DTE', EditorTag.Edit, DataType.String);\r\n        ve.defValue = '';\r\n        this.addOrUpdateValueEditor('_DPDE', EditorTag.DateTime, DataType.DateTime);\r\n        this.addOrUpdateValueEditor('_DPTE', EditorTag.DateTime, DataType.DateTime);\r\n    };\r\n    /**\r\n    * Add or update a value editor.\r\n    * @param id The id.\r\n    * @param tag The tag.\r\n    * @param resType The result type.\r\n    * @returns The value editor.\r\n    */\r\n    MetaData.prototype.addOrUpdateValueEditor = function (id, tag, resType) {\r\n        var ve = utils.findItemById(this.editors, id);\r\n        if (!ve) {\r\n            ve = this.createValueEditor();\r\n            ve.id = id;\r\n            this.editors.push(ve);\r\n        }\r\n        ve.tag = tag;\r\n        ve.resType = resType;\r\n        return ve;\r\n    };\r\n    /**\r\n     * Gets entities tree.\r\n     * @param opts The options.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to options and the filter function\r\n     */\r\n    MetaData.prototype.getEntitiesTree = function (opts, filterFunc) {\r\n        return this.listByEntity(this.getRootEntity(), opts, filterFunc);\r\n    };\r\n    /**\r\n     * Gets entities tree due to filter.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to the filter function\r\n     */\r\n    MetaData.prototype.getEntitiesTreeWithFilter = function (filterFunc) {\r\n        return this.listByEntityWithFilter(this.getRootEntity(), filterFunc);\r\n    };\r\n    /**\r\n     * Finds full entity path by attribute\r\n     * @param attrId The attribute id.\r\n     * @param sep The separator.\r\n     * @returns The path.\r\n     */\r\n    MetaData.prototype.getFullEntityPathByAttr = function (attrId, sep) {\r\n        sep = sep || ' ';\r\n        return this.getEntityPathByAttr(this.getRootEntity(), attrId, sep, true);\r\n    };\r\n    /**\r\n    * Finds entity path by attribute\r\n    * @param entity The entity.\r\n    * @param attrId The attribute id.\r\n    * @param sep The separator.\r\n    * @param root The root option.\r\n    * @returns The path.\r\n    */\r\n    MetaData.prototype.getEntityPathByAttr = function (entity, attrId, sep, root) {\r\n        if (!entity)\r\n            return '';\r\n        sep = sep || ' ';\r\n        var entityCaption = '';\r\n        if (entity.caption && !root) {\r\n            var entityText = i18n.getText('Entities', entity.caption);\r\n            entityCaption = entityText ? entityText : entity.caption;\r\n        }\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var i = 0; i < attrCount; i++) {\r\n                if (entity.attributes[i].id == attrId) {\r\n                    return entityCaption;\r\n                }\r\n            }\r\n        }\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var i = 0; i < subEntityCount; i++) {\r\n                var ent = entity.subEntities[i];\r\n                var res = this.getEntityPathByAttr(ent, attrId, sep, false);\r\n                if (res !== '') {\r\n                    if (entityCaption !== '')\r\n                        res = entityCaption + sep + res;\r\n                    return res;\r\n                }\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n    /**\r\n     * Gets the attribute text.\r\n     * @param attr The attribute.\r\n     * @param format The format.\r\n     * @returns Formatted text.\r\n     */\r\n    MetaData.prototype.getAttributeText = function (attr, format) {\r\n        var attrText = i18n.getText('Attributes', attr.id);\r\n        if (!attrText) {\r\n            attrText = attr.caption;\r\n        }\r\n        if (!format) {\r\n            return attrText;\r\n        }\r\n        var result = '';\r\n        var entityPath = this.getFullEntityPathByAttr(attr.id, ' ');\r\n        if (entityPath) {\r\n            result = format.replace(new RegExp('{attr}', 'g'), attrText);\r\n            result = result.replace(new RegExp('{entity}', 'g'), entityPath);\r\n        }\r\n        else {\r\n            result = attrText;\r\n        }\r\n        return result.trim();\r\n    };\r\n    /**\r\n     * Scans model's entity tree and calls the callback functions for each attribute and entity.\r\n     * @param processAttribute The callback function which is called for each attribute in model's entity tree.\r\n     * The processed attribute is passed in the first function parameter.\r\n     * @param processEntity The callback function which is called for each entity in tree.\r\n     * The processed entity is passed in the first function parameter.\r\n     */\r\n    MetaData.prototype.runThroughEntities = function (processAttribute, processEntity) {\r\n        this.getRootEntity().scan(processAttribute, processEntity);\r\n    };\r\n    /**\r\n     * Finds first attribute by filter.\r\n     * @param filterFunc The filter function. Takes EntityAttr object in parameter and returns boolean\r\n     */\r\n    MetaData.prototype.getFirstAttributeByFilter = function (filterFunc) {\r\n        var res = null;\r\n        this.runThroughEntities(function (attr, opts) {\r\n            if (filterFunc(attr)) {\r\n                opts.stop = true;\r\n                res = attr;\r\n            }\r\n        }, null);\r\n        return res;\r\n    };\r\n    return MetaData;\r\n}());\r\nexport { MetaData };\r\n//# sourceMappingURL=meta_data.js.map","import { DataType } from '../types/data_type';\r\nimport { utils } from '../utils/utils';\r\nvar DataColumn = /** @class */ (function () {\r\n    function DataColumn(desc) {\r\n        if (!desc)\r\n            throw Error(\"Options are required\");\r\n        if (!desc.id)\r\n            throw Error(\"Field Id is required\");\r\n        if (!desc.label)\r\n            throw Error(\"Label is required\");\r\n        this.id = desc.id;\r\n        this.type = utils.getIfDefined(desc.type, DataType.String);\r\n        this.label = desc.label;\r\n        this.originAttrId = desc.originAttrId;\r\n        this.isAggr = desc.isAggr || false;\r\n        this.displayFormat = desc.dfmt;\r\n    }\r\n    return DataColumn;\r\n}());\r\nexport { DataColumn };\r\nvar DataColumnList = /** @class */ (function () {\r\n    function DataColumnList() {\r\n        this.items = [];\r\n        this.mapper = {};\r\n        this._dateColumnIdx = [];\r\n    }\r\n    Object.defineProperty(DataColumnList.prototype, \"count\", {\r\n        get: function () {\r\n            return this.items.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DataColumnList.prototype.add = function (colOrDesc) {\r\n        var col;\r\n        if (colOrDesc instanceof DataColumn) {\r\n            col = colOrDesc;\r\n        }\r\n        else {\r\n            col = new DataColumn(colOrDesc);\r\n        }\r\n        var index = this.items.length;\r\n        this.items.push(col);\r\n        this.mapper[col.id] = index;\r\n        if ([DataType.Date, DataType.DateTime, DataType.Time].indexOf(col.type) >= 0) {\r\n            this._dateColumnIdx.push(index);\r\n        }\r\n        return index;\r\n    };\r\n    DataColumnList.prototype.updateDateColumnIdx = function () {\r\n        this._dateColumnIdx = this.getItems()\r\n            .filter(function (col) { return [DataType.Date, DataType.DateTime, DataType.Time].indexOf(col.type) >= 0; })\r\n            .map(function (col, index) { return index; });\r\n    };\r\n    DataColumnList.prototype.put = function (index, col) {\r\n        //!!!!!!!!!check on \"out of index\"\r\n        this.items[index] = col;\r\n        this.updateDateColumnIdx();\r\n    };\r\n    DataColumnList.prototype.move = function (col, newIndex) {\r\n        var oldIndex = this.items.indexOf(col);\r\n        if (oldIndex >= 0 && oldIndex != newIndex) {\r\n            utils.moveArrayItem(this.items, oldIndex, newIndex);\r\n            this.updateDateColumnIdx();\r\n        }\r\n    };\r\n    DataColumnList.prototype.get = function (index) {\r\n        //!!!!!!!!!check on \"out of index\"\r\n        return this.items[index];\r\n    };\r\n    DataColumnList.prototype.getIndex = function (id) {\r\n        return this.mapper[id];\r\n    };\r\n    DataColumnList.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    DataColumnList.prototype.getDateColumnIndexes = function () {\r\n        return this._dateColumnIdx;\r\n    };\r\n    DataColumnList.prototype.removeAt = function (index) {\r\n        var col = this.get(index);\r\n        this.items.splice(index, 1);\r\n        var removeDate = this._dateColumnIdx.indexOf(index);\r\n        if (removeDate >= 0) {\r\n            this._dateColumnIdx.splice(removeDate, 1);\r\n        }\r\n        delete this.mapper[col.id];\r\n    };\r\n    DataColumnList.prototype.clear = function () {\r\n        this.items = [];\r\n        this._dateColumnIdx = [];\r\n        this.mapper = {};\r\n    };\r\n    return DataColumnList;\r\n}());\r\nexport { DataColumnList };\r\n//# sourceMappingURL=data_column.js.map","var DataRow = /** @class */ (function () {\r\n    function DataRow(columns, values) {\r\n        this.columns = columns;\r\n        this.values = values;\r\n    }\r\n    DataRow.prototype.toArray = function () {\r\n        return Array.from(this.values);\r\n    };\r\n    DataRow.prototype.size = function () {\r\n        return this.values.length;\r\n    };\r\n    DataRow.prototype.getValue = function (colIdOrIndex) {\r\n        var index;\r\n        if (typeof colIdOrIndex === \"string\") {\r\n            index = this.columns.getIndex(colIdOrIndex);\r\n            if (index === undefined) {\r\n                throw new RangeError(\"No column with id '\" + colIdOrIndex + \"'\");\r\n            }\r\n        }\r\n        else {\r\n            index = colIdOrIndex;\r\n        }\r\n        if (index >= this.values.length)\r\n            throw new RangeError(\"Out of range: \" + index);\r\n        return this.values[index];\r\n    };\r\n    DataRow.prototype.setValue = function (colIdOrIndex, value) {\r\n        var index;\r\n        if (typeof colIdOrIndex === \"string\") {\r\n            index = this.columns.getIndex(colIdOrIndex);\r\n            if (index === undefined) {\r\n                throw new RangeError(\"No column with id '\" + colIdOrIndex + \"'\");\r\n            }\r\n        }\r\n        else {\r\n            index = colIdOrIndex;\r\n        }\r\n        if (index >= this.values.length)\r\n            throw new RangeError(\"Out of range: \" + index);\r\n        this.values[index] = value;\r\n    };\r\n    return DataRow;\r\n}());\r\nexport { DataRow };\r\n//# sourceMappingURL=data_row.js.map","import { DataColumnList } from \"./data_column\";\r\nimport { DataRow } from \"./data_row\";\r\nvar EasyDataTable = /** @class */ (function () {\r\n    function EasyDataTable(options) {\r\n        this._chunkSize = 1000;\r\n        // object keeps number keys sorted\r\n        this.chunkMap = {};\r\n        this.total = 0;\r\n        this.loader = null;\r\n        this.needTotal = true;\r\n        options = options || {};\r\n        this._chunkSize = options.chunkSize || this._chunkSize;\r\n        this.loader = options.loader;\r\n        this._columns = new DataColumnList();\r\n        if (options.columns) {\r\n            for (var _i = 0, _a = options.columns; _i < _a.length; _i++) {\r\n                var colDesc = _a[_i];\r\n                this._columns.add(colDesc);\r\n            }\r\n        }\r\n        if (options.rows) {\r\n            for (var _b = 0, _c = options.rows; _b < _c.length; _b++) {\r\n                var rowData = _c[_b];\r\n                var row = this.createRow(rowData);\r\n                this.addRow(row);\r\n            }\r\n        }\r\n    }\r\n    Object.defineProperty(EasyDataTable.prototype, \"columns\", {\r\n        get: function () {\r\n            return this._columns;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EasyDataTable.prototype, \"chunkSize\", {\r\n        get: function () {\r\n            return this._chunkSize;\r\n        },\r\n        set: function (value) {\r\n            this._chunkSize = value;\r\n            this.total = 0;\r\n            this.needTotal = true;\r\n            this.chunkMap = {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EasyDataTable.prototype.getRows = function (params) {\r\n        var _this = this;\r\n        var fromIndex = 0, count = this._chunkSize;\r\n        if (params) {\r\n            if ('page' in params) {\r\n                fromIndex = params.pageSize * (params.page - 1);\r\n                count = params.pageSize;\r\n            }\r\n            else {\r\n                fromIndex = params.offset;\r\n                count = params.limit;\r\n            }\r\n        }\r\n        if (fromIndex >= this.total) {\r\n            return Promise.resolve([]);\r\n        }\r\n        var endIndex = fromIndex + count;\r\n        if (endIndex >= this.total) {\r\n            endIndex = this.total;\r\n        }\r\n        var lbChunk = Math.trunc(fromIndex / this._chunkSize);\r\n        var upChunk = Math.trunc(endIndex / this._chunkSize);\r\n        var allChunksCached = true;\r\n        for (var i = lbChunk; i <= upChunk; i++) {\r\n            if (!this.chunkMap[i]) {\r\n                allChunksCached = false;\r\n                break;\r\n            }\r\n        }\r\n        if (allChunksCached) {\r\n            var resultArr = [];\r\n            for (var i = lbChunk; i <= upChunk; i++) {\r\n                resultArr = resultArr.concat(this.chunkMap[i].rows);\r\n            }\r\n            return Promise.resolve(resultArr.slice(fromIndex - this.chunkMap[lbChunk].offset, endIndex - this.chunkMap[lbChunk].offset));\r\n        }\r\n        //if loader is not defined\r\n        if (!this.loader) {\r\n            throw \"Loader is not defined. Can't get the rows from \" + fromIndex + \" to \" + endIndex;\r\n        }\r\n        // we need total only fo first request\r\n        var needTotal = this.needTotal;\r\n        if (this.needTotal) {\r\n            this.needTotal = false;\r\n        }\r\n        return this.loader.loadChunk({\r\n            offset: lbChunk * this._chunkSize,\r\n            limit: this._chunkSize * (upChunk - lbChunk + 1),\r\n            needTotal: needTotal\r\n        })\r\n            .then(function (result) {\r\n            var chunks = result.table.getCachedChunks();\r\n            if (needTotal) {\r\n                _this.total = result.total;\r\n            }\r\n            var index = lbChunk;\r\n            for (var _i = 0, chunks_1 = chunks; _i < chunks_1.length; _i++) {\r\n                var chunk = chunks_1[_i];\r\n                _this.chunkMap[index] = {\r\n                    offset: index * _this._chunkSize,\r\n                    rows: chunk.rows\r\n                };\r\n                index++;\r\n            }\r\n            var resultArr = [];\r\n            for (var i = lbChunk; i <= upChunk; i++) {\r\n                resultArr = resultArr.concat(_this.chunkMap[i].rows);\r\n            }\r\n            return resultArr.slice(fromIndex - _this.chunkMap[lbChunk].offset, endIndex - _this.chunkMap[lbChunk].offset);\r\n        });\r\n    };\r\n    EasyDataTable.prototype.getRow = function (index) {\r\n        return this.getRows({ offset: index, limit: 1 })\r\n            .then(function (rows) { return rows.length > 0 ? rows[0] : null; });\r\n    };\r\n    EasyDataTable.prototype.getTotal = function () {\r\n        return this.total;\r\n    };\r\n    EasyDataTable.prototype.setTotal = function (total) {\r\n        this.total = total;\r\n        this.needTotal = false;\r\n        this.chunkMap = {};\r\n    };\r\n    EasyDataTable.prototype.getCachedCount = function () {\r\n        return this.getCachedRows().length;\r\n    };\r\n    EasyDataTable.prototype.clear = function () {\r\n        this.columns.clear();\r\n        this.chunkMap = {};\r\n        this.total = 0;\r\n        this.needTotal = true;\r\n    };\r\n    EasyDataTable.prototype.createRow = function (dataOrRow) {\r\n        var _this = this;\r\n        var dateIdx = this._columns.getDateColumnIndexes();\r\n        var values = new Array(this._columns.count);\r\n        var getValue = dataOrRow instanceof DataRow\r\n            ? function (colId) { return dataOrRow.getValue(colId); }\r\n            : function (colId) { return dataOrRow[colId]; };\r\n        if (dataOrRow) {\r\n            this.columns.getItems().forEach(function (column) {\r\n                var value = getValue(column.id);\r\n                var index = _this.columns.getIndex(column.id);\r\n                values[index] = (dateIdx.indexOf(index) >= 0)\r\n                    ? new Date(value)\r\n                    : value;\r\n            });\r\n        }\r\n        return new DataRow(this._columns, values);\r\n    };\r\n    EasyDataTable.prototype.addRow = function (rowOrValue) {\r\n        var newRow;\r\n        if (Array.isArray(rowOrValue)) {\r\n            var dateIdx = this._columns.getDateColumnIndexes();\r\n            if (dateIdx.length > 0) {\r\n                for (var _i = 0, dateIdx_1 = dateIdx; _i < dateIdx_1.length; _i++) {\r\n                    var idx = dateIdx_1[_i];\r\n                    rowOrValue[idx] = new Date(rowOrValue[idx]);\r\n                }\r\n            }\r\n            newRow = new DataRow(this._columns, rowOrValue);\r\n        }\r\n        else {\r\n            newRow = this.createRow(rowOrValue);\r\n        }\r\n        var lastChunk = this.getLastChunk();\r\n        if (!lastChunk || lastChunk.rows.length >= this._chunkSize) {\r\n            lastChunk = this.createChunk();\r\n        }\r\n        lastChunk.rows.push(newRow);\r\n        var cachedTotal = this.getCachedCount();\r\n        if (cachedTotal > this.total) {\r\n            this.total = cachedTotal;\r\n        }\r\n        return newRow;\r\n    };\r\n    EasyDataTable.prototype.createChunk = function (index) {\r\n        if (typeof index == 'undefined') {\r\n            index = this.getLastChunkIndex() + 1;\r\n        }\r\n        var chunk = { offset: index * this._chunkSize, rows: [] };\r\n        this.chunkMap[index] = chunk;\r\n        return chunk;\r\n    };\r\n    EasyDataTable.prototype.getLastChunkIndex = function () {\r\n        var keys = Object.keys(this.chunkMap);\r\n        return keys.length > 0\r\n            ? parseInt(keys[keys.length - 1])\r\n            : -1;\r\n    };\r\n    EasyDataTable.prototype.getLastChunk = function () {\r\n        var index = this.getLastChunkIndex();\r\n        return index > -1\r\n            ? this.chunkMap[index]\r\n            : null;\r\n    };\r\n    EasyDataTable.prototype.getCachedRows = function () {\r\n        return this.getCachedChunks()\r\n            .reduce(function (acc, v) { return acc.concat(v.rows); }, []);\r\n    };\r\n    EasyDataTable.prototype.getCachedChunks = function () {\r\n        return Object.values(this.chunkMap);\r\n    };\r\n    return EasyDataTable;\r\n}());\r\nexport { EasyDataTable };\r\n//# sourceMappingURL=easy_data_table.js.map","/**\r\n * EasyData representation of GUID.\r\n */\r\nvar EasyGuid = /** @class */ (function () {\r\n    function EasyGuid() {\r\n    }\r\n    /**\r\n     * Generates new GUID.\r\n     * @returns The string representation of GUID.\r\n     */\r\n    EasyGuid.newGuid = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    return EasyGuid;\r\n}());\r\nexport { EasyGuid };\r\n//# sourceMappingURL=easy_guid.js.map","import { EasyGuid } from '../utils/easy_guid';\r\n/**\r\n * The representation of event emitter.\r\n */\r\nvar EventEmitter = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param source The source.\r\n     */\r\n    function EventEmitter(source) {\r\n        this.silentMode = 0;\r\n        this.events = new Array();\r\n        this.source = source;\r\n    }\r\n    /**\r\n     * Subscries to the event.\r\n     * @param eventType The event type.\r\n     * @param callback The callback.\r\n     * @returns The subscribtion ID.\r\n     */\r\n    EventEmitter.prototype.subscribe = function (eventType, callback) {\r\n        var event = this.getEventRecByType(eventType);\r\n        var eventCallback = {\r\n            id: EasyGuid.newGuid(),\r\n            callback: callback\r\n        };\r\n        if (event) {\r\n            event.eventCallbacks.push(eventCallback);\r\n        }\r\n        else {\r\n            event = {\r\n                type: eventType,\r\n                eventCallbacks: new Array(eventCallback)\r\n            };\r\n            this.events.push(event);\r\n        }\r\n        return eventCallback.id;\r\n    };\r\n    /**\r\n     * Unsubsribes from the event.\r\n     * @param eventType The event type.\r\n     * @param callbackId The subscribtion ID.\r\n     */\r\n    EventEmitter.prototype.unsubscribe = function (eventType, callbackId) {\r\n        var event = this.getEventRecByType(eventType);\r\n        if (event) {\r\n            var index = -1;\r\n            for (index = 0; index < event.eventCallbacks.length; index++) {\r\n                if (event.eventCallbacks[index].id === callbackId) {\r\n                    break;\r\n                }\r\n            }\r\n            if (index >= 0) {\r\n                event.eventCallbacks.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Fires the event.\r\n     * @param eventType The event type.\r\n     * @param data The event data.\r\n     * @param postpone  The postpone.\r\n     * @param force To fire force. If value is `true`, ignores silent mode.\r\n     */\r\n    EventEmitter.prototype.fire = function (eventType, data, postpone, force) {\r\n        if (postpone === void 0) { postpone = 0; }\r\n        if (force === void 0) { force = false; }\r\n        if (this.silentMode && !force) {\r\n            return;\r\n        }\r\n        var eventRec = this.getEventRecByType(eventType);\r\n        if (eventRec) {\r\n            var eqevent_1 = {\r\n                type: eventType,\r\n                source: this.source,\r\n                data: data\r\n            };\r\n            var emitAllFunc = function () {\r\n                for (var _i = 0, _a = eventRec.eventCallbacks; _i < _a.length; _i++) {\r\n                    var callback = _a[_i];\r\n                    callback.callback(eqevent_1);\r\n                }\r\n            };\r\n            if (postpone > 0) {\r\n                setTimeout(emitAllFunc, postpone);\r\n            }\r\n            else {\r\n                emitAllFunc();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Enters to silent mode.\r\n     */\r\n    EventEmitter.prototype.enterSilentMode = function () {\r\n        this.silentMode++;\r\n    };\r\n    /**\r\n     * Exits from silent mode.\r\n     */\r\n    EventEmitter.prototype.exitSilentMode = function () {\r\n        if (this.silentMode) {\r\n            this.silentMode--;\r\n        }\r\n    };\r\n    /**\r\n     * Checks if emitter is in silent mode.\r\n     * @return `true`, if silent mode is enable.\r\n     */\r\n    EventEmitter.prototype.isSilent = function () {\r\n        return this.silentMode > 0;\r\n    };\r\n    EventEmitter.prototype.getEventRecByType = function (eventType) {\r\n        for (var _i = 0, _a = this.events; _i < _a.length; _i++) {\r\n            var event_1 = _a[_i];\r\n            if (event_1.type == eventType) {\r\n                return event_1;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return EventEmitter;\r\n}());\r\nexport { EventEmitter };\r\n//# sourceMappingURL=event_emitter.js.map","import { i18n } from './i18n';\r\ni18n.resetLocales();\r\n//# sourceMappingURL=load_default_locale_settings.js.map","//types\r\nexport * from './types/data_type';\r\nexport * from './types/entity_attr_kind';\r\nexport * from './types/editor_tag';\r\n//http\r\nexport * from './http/http_method';\r\nexport * from './http/http_request';\r\nexport * from './http/http_client';\r\n//meta data\r\nexport * from './meta/meta_data';\r\nexport * from './meta/meta_entity';\r\nexport * from './meta/value_editor';\r\nexport * from './data/data_column';\r\nexport * from './data/data_row';\r\nexport * from './data/easy_data_table';\r\n//event\r\nexport * from './event/event_emitter';\r\n//i18n\r\nexport * from './i18n/i18n';\r\n//utils\r\nexport * from './utils/easy_guid';\r\nexport * from './utils/string_utils';\r\nexport * from './utils/utils';\r\nimport './i18n/load_default_locale_settings';\r\nif (typeof Object.values !== 'function') {\r\n    Object.values = function (obj) {\r\n        return Object.keys(obj).map(function (key) { return obj[key]; });\r\n    };\r\n}\r\nif (typeof Math.trunc !== 'function') {\r\n    Math.trunc = function (x) {\r\n        if (isNaN(x)) {\r\n            return NaN;\r\n        }\r\n        if (x > 0) {\r\n            return Math.floor(x);\r\n        }\r\n        return Math.ceil(x);\r\n    };\r\n}\r\n//# sourceMappingURL=public_api.js.map","import { browserUtils } from './browser_utils';\r\n/**\r\n * Wraps all the elements inside \"parent\" by \"wrapper\" element\r\n * @param parent The element to add wrapper to.\r\n * @param wrapper The element that will wrap child elements.\r\n */\r\nexport function wrapInner(parent, wrapper) {\r\n    parent.appendChild(wrapper);\r\n    while (parent.firstChild !== wrapper) {\r\n        wrapper.appendChild(parent.firstChild);\r\n    }\r\n}\r\n/**\r\n * Creates ands adds a new [[HTMLElement]] to \"parent\"\r\n * @param parent The element to add new element to.\r\n * @param tag Html tag of the new element.\r\n * @param options The options. In particular, options.cssClass sets the new element class.\r\n * @returns New element.\r\n */\r\nexport function addElement(parent, tag, options) {\r\n    var element = document.createElement(tag);\r\n    var opts = options || {};\r\n    if (opts.cssClass) {\r\n        element.className = opts.cssClass;\r\n    }\r\n    parent.appendChild(element);\r\n    return element;\r\n}\r\n/**\r\n * Adds css class to the html element.\r\n * @param element The element to add css class to.\r\n * @param className The name of the css class to be added.\r\n */\r\nexport function addCssClass(element, className) {\r\n    element.className = (element.className)\r\n        ? element.className + ' ' + className\r\n        : className;\r\n}\r\n/**\r\n * Hides the html element.\r\n * @param element The element to be hidden.\r\n */\r\nexport function hideElement(element) {\r\n    element.style.display = 'none';\r\n}\r\n/**\r\n * Shows the html element.\r\n * @param element The element to be shown.\r\n * @param display The value of \"display\" style to be set. Default value is \"block\".\r\n */\r\nexport function showElement(element, display) {\r\n    if (!display) {\r\n        display = '';\r\n    }\r\n    element.style.display = display;\r\n}\r\n/**\r\n * Hides the \"first\" element and shows the \"second\".\r\n * @param first The element to be hidden.\r\n * @param second The element to be shown.\r\n * @param options The options. The following options are applied:\r\n * - display - the value of \"display\" style to be set. Default value is \"block\"\r\n * - duration - the duration of fading in and out\r\n * - complete - the callback to be called when toggle is complete\r\n */\r\nexport function toggleVisibility(first, second, options) {\r\n    if (!options) {\r\n        options = {};\r\n    }\r\n    if (!options.display) {\r\n        options.display = '';\r\n    }\r\n    if (!options.duration) {\r\n        options.duration = 200;\r\n    }\r\n    //TODO: later we need to make it fading in and out\r\n    hideElement(first);\r\n    showElement(second, options.display);\r\n    if (options.complete) {\r\n        options.complete();\r\n    }\r\n}\r\n/**\r\n * Checks if element is visible\r\n * @param element The element to check.\r\n * @returns `true` if visible, otherwise - `false`.\r\n */\r\nexport function isVisible(element) {\r\n    return element.style.display != 'none'\r\n        && element.offsetWidth != 0\r\n        && element.offsetHeight != 0;\r\n}\r\nexport function createBrowserEvent(eventName) {\r\n    var event;\r\n    if (typeof (Event) === 'function') {\r\n        event = new Event(eventName);\r\n    }\r\n    else {\r\n        event = document.createEvent('Event');\r\n        event.initEvent(eventName, true, true);\r\n    }\r\n    return event;\r\n}\r\nexport function getViewportSize() {\r\n    var width = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n    var height = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\r\n    return {\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\nexport function getDocSize() {\r\n    if (browserUtils.IsIE())\r\n        return getWinSize();\r\n    var width = Math.max(document.documentElement.clientWidth, document.body.clientWidth || 0);\r\n    var height = Math.max(document.documentElement.clientHeight, document.body.clientHeight || 0);\r\n    return {\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\nexport function getScrollPos() {\r\n    var body = document.body;\r\n    var docElem = document.documentElement;\r\n    return {\r\n        top: window.pageYOffset || docElem.scrollTop || body.scrollTop,\r\n        left: window.pageXOffset || docElem.scrollLeft || body.scrollLeft\r\n    };\r\n}\r\nexport function getElementAbsolutePos(element) {\r\n    var res = { x: 0, y: 0 };\r\n    if (element !== null) {\r\n        var position = offset(element);\r\n        res = { x: position.left, y: position.top };\r\n    }\r\n    return res;\r\n}\r\nfunction offset(element) {\r\n    var defaultBoundingClientRect = { top: 0, right: 0, bottom: 0, left: 0, width: 0, height: 0 };\r\n    var box;\r\n    try {\r\n        box = element.getBoundingClientRect();\r\n    }\r\n    catch (_a) {\r\n        box = defaultBoundingClientRect;\r\n    }\r\n    var body = document.body;\r\n    var docElem = document.documentElement;\r\n    var scollPos = getScrollPos();\r\n    var scrollTop = scollPos.top;\r\n    var scrollLeft = scollPos.left;\r\n    var clientTop = docElem.clientTop || body.clientTop || 0;\r\n    var clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n    var top = box.top + scrollTop - clientTop;\r\n    var left = box.left + scrollLeft - clientLeft;\r\n    return { top: Math.round(top), left: Math.round(left) };\r\n}\r\nexport function getWinSize() {\r\n    return {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n    };\r\n}\r\nexport function slideDown(target, duration, callback) {\r\n    target.style.removeProperty('display');\r\n    var display = window.getComputedStyle(target).display;\r\n    if (display === 'none')\r\n        display = 'block';\r\n    target.style.display = display;\r\n    var height = target.offsetHeight;\r\n    target.style.overflow = 'hidden';\r\n    target.style.height = 0 + 'px';\r\n    target.style.paddingTop = 0 + 'px';\r\n    target.style.paddingBottom = 0 + 'px';\r\n    target.style.marginTop = 0 + 'px';\r\n    target.style.marginBottom = 0 + 'px';\r\n    target.offsetHeight;\r\n    target.style.boxSizing = 'border-box';\r\n    target.style.transitionProperty = \"height, margin, padding\";\r\n    target.style.transitionDuration = duration + 'ms';\r\n    target.style.height = height + 'px';\r\n    target.style.removeProperty('padding-top');\r\n    target.style.removeProperty('padding-bottom');\r\n    target.style.removeProperty('margin-top');\r\n    target.style.removeProperty('margin-bottom');\r\n    window.setTimeout(function () {\r\n        target.style.removeProperty('height');\r\n        target.style.removeProperty('overflow');\r\n        target.style.removeProperty('transition-duration');\r\n        target.style.removeProperty('transition-property');\r\n        target.style.removeProperty('box-sizing');\r\n        if (callback) {\r\n            callback();\r\n        }\r\n    }, duration);\r\n}\r\nexport function slideUp(target, duration, callback) {\r\n    target.style.transitionProperty = 'height, margin, padding';\r\n    target.style.transitionDuration = duration + 'ms';\r\n    target.style.boxSizing = 'border-box';\r\n    target.style.height = target.offsetHeight + 'px';\r\n    target.offsetHeight;\r\n    target.style.overflow = 'hidden';\r\n    target.style.height = 0 + 'px';\r\n    target.style.paddingTop = 0 + 'px';\r\n    target.style.paddingBottom = 0 + 'px';\r\n    target.style.marginTop = 0 + 'px';\r\n    target.style.marginBottom = 0 + 'px';\r\n    window.setTimeout(function () {\r\n        target.style.display = 'none';\r\n        target.style.removeProperty('height');\r\n        target.style.removeProperty('padding-top');\r\n        target.style.removeProperty('padding-bottom');\r\n        target.style.removeProperty('margin-top');\r\n        target.style.removeProperty('margin-bottom');\r\n        target.style.removeProperty('overflow');\r\n        target.style.removeProperty('transition-duration');\r\n        target.style.removeProperty('transition-property');\r\n        target.style.removeProperty('box-sizing');\r\n        if (callback) {\r\n            callback();\r\n        }\r\n    }, duration);\r\n}\r\nexport var eqCssPrefix = 'eqjs';\r\nexport var eqCssMobile = 'eqjs-mobile';\r\n//# sourceMappingURL=ui-utils.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { mask } from './mask';\r\nvar DomElementBuilder = /** @class */ (function () {\r\n    function DomElementBuilder(tag, parent) {\r\n        if (typeof tag === \"string\") {\r\n            this.element = document.createElement(tag);\r\n        }\r\n        else {\r\n            this.element = tag;\r\n        }\r\n        if (parent && this.element.parentElement !== parent) {\r\n            parent.appendChild(this.element);\r\n        }\r\n    }\r\n    DomElementBuilder.prototype.addChild = function (tag, childBuilder) {\r\n        var builder = domel(tag, this.element);\r\n        if (childBuilder) {\r\n            childBuilder(builder);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.addChildElement = function (element) {\r\n        if (element) {\r\n            this.element.appendChild(element);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.attr = function (attrId, attrValue) {\r\n        this.element.setAttribute(attrId, attrValue);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.id = function (value) {\r\n        return this.attr(\"id\", value);\r\n    };\r\n    DomElementBuilder.prototype.title = function (value) {\r\n        return this.attr('title', value);\r\n    };\r\n    DomElementBuilder.prototype.data = function (dataId, dataValue) {\r\n        if (dataValue === void 0) { dataValue = null; }\r\n        if (dataValue === null) {\r\n            this.element.removeAttribute('data-' + dataId);\r\n            return this;\r\n        }\r\n        else {\r\n            return this.attr('data-' + dataId, dataValue);\r\n        }\r\n    };\r\n    DomElementBuilder.prototype.show = function () {\r\n        return this.removeStyle('display');\r\n    };\r\n    DomElementBuilder.prototype.hide = function (toHide) {\r\n        if (toHide === void 0) { toHide = true; }\r\n        return (toHide) ? this.setStyle('display', 'none') : this;\r\n    };\r\n    DomElementBuilder.prototype.visible = function (isVisible) {\r\n        if (isVisible === void 0) { isVisible = true; }\r\n        return isVisible ? this.setStyle('visibility', 'visible') : this.setStyle('visibility', 'hidden');\r\n    };\r\n    DomElementBuilder.prototype.isVisible = function () {\r\n        return !!(this.element.offsetWidth || this.element.offsetHeight || this.element.getClientRects().length);\r\n    };\r\n    DomElementBuilder.prototype.addClass = function (className) {\r\n        var classNames = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            classNames[_i - 1] = arguments[_i];\r\n        }\r\n        if (className) {\r\n            var fullList = className.trim().split(\" \").concat(classNames);\r\n            for (var i = 0; i < fullList.length; i++)\r\n                this.element.classList.add(fullList[i]);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.removeClass = function (className) {\r\n        var classNames = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            classNames[_i - 1] = arguments[_i];\r\n        }\r\n        if (className) {\r\n            var fullList = className.trim().split(\" \").concat(classNames);\r\n            for (var i = 0; i < fullList.length; i++)\r\n                this.element.classList.remove(fullList[i]);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.toggleClass = function (className, force) {\r\n        if (force === void 0) { force = undefined; }\r\n        if (className) {\r\n            this.element.classList.toggle(className, force);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.on = function (eventType, listener) {\r\n        var eventTypes = eventType.split(' ');\r\n        for (var i = 0; i < eventTypes.length; i++) {\r\n            this.element.addEventListener(eventTypes[i], listener);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.off = function (eventType, listener) {\r\n        var eventTypes = eventType.split(' ');\r\n        for (var i = 0; i < eventTypes.length; i++) {\r\n            this.element.removeEventListener(eventTypes[i], listener);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.setStyle = function (styleId, styleValue) {\r\n        this.element.style.setProperty(styleId, styleValue);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.removeStyle = function (styleId) {\r\n        this.element.style.removeProperty(styleId);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.text = function (text) {\r\n        this.element.innerText = text;\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.html = function (html) {\r\n        this.element.innerHTML = html;\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.clear = function () {\r\n        var oldElem = this.element;\r\n        this.element = document.createElement(this.element.tagName);\r\n        oldElem.replaceWith(this.element);\r\n    };\r\n    DomElementBuilder.prototype.addText = function (text) {\r\n        var textEl = document.createTextNode(text);\r\n        this.element.appendChild(textEl);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.addHtml = function (html) {\r\n        this.element.innerHTML += html;\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.toDOM = function () {\r\n        return this.element;\r\n    };\r\n    DomElementBuilder.prototype.appendTo = function (parent) {\r\n        if (parent) {\r\n            parent.appendChild(this.element);\r\n        }\r\n        return this;\r\n    };\r\n    return DomElementBuilder;\r\n}());\r\nexport { DomElementBuilder };\r\nvar DomInputElementBuilder = /** @class */ (function (_super) {\r\n    __extends(DomInputElementBuilder, _super);\r\n    function DomInputElementBuilder(element, parent) {\r\n        var _this = this;\r\n        if (element) {\r\n            _this = _super.call(this, element, parent) || this;\r\n        }\r\n        else {\r\n            _this = _super.call(this, \"input\", parent) || this;\r\n        }\r\n        return _this;\r\n    }\r\n    DomInputElementBuilder.prototype.name = function (value) {\r\n        this.element.name = value;\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.type = function (value) {\r\n        this.element.type = value;\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.size = function (value) {\r\n        this.element.size = value;\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.value = function (value) {\r\n        if (value instanceof Date) {\r\n            this.element.valueAsDate = value;\r\n        }\r\n        else if (typeof value === \"number\") {\r\n            this.element.valueAsNumber = value;\r\n        }\r\n        else {\r\n            this.element.value = value;\r\n        }\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.mask = function (maskPattern) {\r\n        mask(this.element, maskPattern);\r\n        return this;\r\n    };\r\n    return DomInputElementBuilder;\r\n}(DomElementBuilder));\r\nexport { DomInputElementBuilder };\r\nvar DomSelectElementBuilder = /** @class */ (function (_super) {\r\n    __extends(DomSelectElementBuilder, _super);\r\n    function DomSelectElementBuilder(element, parent) {\r\n        var _this = this;\r\n        if (element) {\r\n            _this = _super.call(this, element, parent) || this;\r\n        }\r\n        else {\r\n            _this = _super.call(this, \"select\", parent) || this;\r\n        }\r\n        return _this;\r\n    }\r\n    DomSelectElementBuilder.prototype.addOption = function (value) {\r\n        var option = document.createElement('option');\r\n        if (typeof value === \"string\") {\r\n            option.value = value;\r\n            option.innerHTML = value;\r\n        }\r\n        else {\r\n            option.value = value.value;\r\n            option.innerHTML = value.title || value.value;\r\n            option.selected = value.selected || false;\r\n        }\r\n        this.element.appendChild(option);\r\n        return this;\r\n    };\r\n    return DomSelectElementBuilder;\r\n}(DomElementBuilder));\r\nexport { DomSelectElementBuilder };\r\nexport function domel(tag, parent) {\r\n    if (tag === \"div\" || tag instanceof HTMLDivElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    if (tag === \"span\" || tag instanceof HTMLSpanElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"a\" || tag instanceof HTMLAnchorElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"button\" || tag instanceof HTMLButtonElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"img\" || tag instanceof HTMLImageElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"input\" || tag instanceof HTMLInputElement) {\r\n        return new DomInputElementBuilder(tag instanceof HTMLInputElement ? tag : null, parent);\r\n    }\r\n    else if (tag === \"select\" || tag instanceof HTMLSelectElement) {\r\n        return new DomSelectElementBuilder(tag instanceof HTMLSelectElement ? tag : null, parent);\r\n    }\r\n    return new DomElementBuilder(tag, parent);\r\n}\r\n//# sourceMappingURL=dom_elem_builder.js.map","export function mask(input, maskPattern) {\r\n    var d = { 9: '[0-9]', a: '[a-z]' };\r\n    var mask = maskPattern.split('');\r\n    var keyDownHandler = function (e) {\r\n        // backspace key or delete key\r\n        if (e.keyCode === 8 || e.keyCode === 46) {\r\n            e.preventDefault();\r\n            var mskd = [];\r\n            var startSelection = input.selectionStart;\r\n            if (startSelection == 0)\r\n                return;\r\n            var selection = startSelection;\r\n            var onlyLodash = true;\r\n            for (var index = mask.length - 1; index >= 0; index--) {\r\n                var el = mask[index];\r\n                if (d[el]) {\r\n                    var t = new RegExp(d[el], 'i').test(input.value.charAt(index));\r\n                    if (t && index != startSelection - 1) {\r\n                        onlyLodash = false;\r\n                    }\r\n                    if (index === startSelection - 1)\r\n                        selection--;\r\n                    mskd.push(t && index != startSelection - 1\r\n                        ? input.value.charAt(index)\r\n                        : '_');\r\n                }\r\n                else {\r\n                    if (index === selection - 1)\r\n                        selection--;\r\n                    if (startSelection - 1 === index)\r\n                        startSelection--;\r\n                    mskd.push(el);\r\n                }\r\n            }\r\n            input.value = !onlyLodash ? mskd.reverse().join('') : '';\r\n            input.selectionStart = input.selectionEnd = selection < 0 ? 0 : selection;\r\n            var event_1 = document.createEvent('Event');\r\n            event_1.initEvent('input', true, true);\r\n            input.dispatchEvent(event_1);\r\n        }\r\n    };\r\n    var keyPressHandler = function (e) {\r\n        var char = String.fromCharCode(e.charCode);\r\n        if (char) {\r\n            e.preventDefault();\r\n            var mskd_1 = [];\r\n            var selectionStart_1 = input.selectionStart;\r\n            var selection_1 = selectionStart_1;\r\n            mask.forEach(function (el, index) {\r\n                if (d[el]) {\r\n                    var ch = (index != selectionStart_1)\r\n                        ? input.value.charAt(index)\r\n                        : char;\r\n                    var t = new RegExp(d[el], 'i').test(ch);\r\n                    mskd_1.push(t ? ch : '_');\r\n                    if (t && selectionStart_1 === index)\r\n                        selection_1++;\r\n                }\r\n                else {\r\n                    mskd_1.push(el);\r\n                    if (selection_1 === index)\r\n                        selection_1++;\r\n                    if (selectionStart_1 === index)\r\n                        selectionStart_1++;\r\n                }\r\n            });\r\n            input.value = mskd_1.join('');\r\n            input.selectionStart = input.selectionEnd = selection_1;\r\n            var event_2 = document.createEvent('Event');\r\n            event_2.initEvent('input', true, true);\r\n            input.dispatchEvent(event_2);\r\n        }\r\n    };\r\n    var inputHandler = function (e) {\r\n        if (e.type === 'focus' && input.value !== '')\r\n            return;\r\n        var mskd = [];\r\n        var startSelection = input.selectionStart;\r\n        mask.forEach(function (el, index) {\r\n            if (d[el]) {\r\n                var t = new RegExp(d[el], 'i').test(input.value.charAt(index));\r\n                mskd.push(t ? input.value.charAt(index) : '_');\r\n            }\r\n            else {\r\n                mskd.push(el);\r\n            }\r\n        });\r\n        input.value = mskd.join('');\r\n        input.selectionStart = input.selectionEnd = startSelection;\r\n    };\r\n    input.addEventListener('keydown', keyDownHandler);\r\n    input.addEventListener('keypress', keyPressHandler);\r\n    input.addEventListener('input', inputHandler);\r\n    input.addEventListener('focus', inputHandler);\r\n}\r\n//# sourceMappingURL=mask.js.map","import { utils } from '@easydata/core';\r\nimport { getElementAbsolutePos } from './ui-utils';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nvar touchEventIsDefined = typeof TouchEvent !== 'undefined';\r\nexport var DropEffect;\r\n(function (DropEffect) {\r\n    DropEffect[\"None\"] = \"none\";\r\n    DropEffect[\"Allow\"] = \"allow\";\r\n    DropEffect[\"Forbid\"] = \"forbid\";\r\n})(DropEffect || (DropEffect = {}));\r\nvar EqDragEvent = /** @class */ (function () {\r\n    function EqDragEvent(item, dragImage, sourceEvent) {\r\n        this.dropEffect = DropEffect.Allow;\r\n        this.pageX = 0;\r\n        this.pageY = 0;\r\n        this.item = item;\r\n        this.dragImage = dragImage;\r\n        this.data = item.data;\r\n        this.sourceEvent = sourceEvent;\r\n        if (sourceEvent && sourceEvent instanceof MouseEvent) {\r\n            this.pageX = sourceEvent.pageX,\r\n                this.pageY = sourceEvent.pageY;\r\n        }\r\n        if (sourceEvent && touchEventIsDefined && sourceEvent instanceof TouchEvent\r\n            && sourceEvent.touches[0]) {\r\n            this.pageX = sourceEvent.touches[0].pageX,\r\n                this.pageY = sourceEvent.touches[0].pageY;\r\n        }\r\n    }\r\n    return EqDragEvent;\r\n}());\r\nexport { EqDragEvent };\r\nvar Position = /** @class */ (function () {\r\n    function Position(ev) {\r\n        if (ev && ev instanceof MouseEvent) {\r\n            this.x = ev.pageX,\r\n                this.y = ev.pageY;\r\n        }\r\n        if (ev && touchEventIsDefined && ev instanceof TouchEvent && ev.touches[0]) {\r\n            this.x = ev.touches[0].pageX,\r\n                this.y = ev.touches[0].pageY;\r\n        }\r\n    }\r\n    return Position;\r\n}());\r\nvar DragManager = /** @class */ (function () {\r\n    function DragManager() {\r\n        this.delta = 5;\r\n        this.draggableItem = null;\r\n        this.dragImage = null;\r\n        this.finishedSuccessfully = false;\r\n        this.mouseDownPosition = null;\r\n        this.containerDescriptors = [];\r\n        this.containerDescriptorIndex = -1;\r\n        this.dropEffect = DropEffect.None;\r\n        this.classPrefix = 'eqjs-drop';\r\n        this.DRAG_DISABLED_ATTR = 'drag-disabled';\r\n    }\r\n    DragManager.prototype.registerDraggableItem = function (descriptor) {\r\n        var _this = this;\r\n        var element = descriptor.element;\r\n        if (!element) {\r\n            throw Error(\"Element in draggle item is null or undefined\");\r\n        }\r\n        element.ondragstart = function () {\r\n            return false;\r\n        };\r\n        var detectDragging = function (ev) {\r\n            if (element.hasAttribute(_this.DRAG_DISABLED_ATTR)) {\r\n                return;\r\n            }\r\n            ev.preventDefault();\r\n            if (ev instanceof MouseEvent) {\r\n                ev.stopPropagation();\r\n            }\r\n            var cursorPosition = new Position(ev);\r\n            if (Math.abs(cursorPosition.x - _this.mouseDownPosition.x) > _this.delta\r\n                || Math.abs(cursorPosition.y - _this.mouseDownPosition.y) > _this.delta) {\r\n                startDragging(ev);\r\n            }\r\n        };\r\n        var mouseMoveEventListener = function (ev) {\r\n            _this.mouseMoveDragListener(ev);\r\n        };\r\n        var startDragging = function (ev) {\r\n            ev.preventDefault();\r\n            ev.stopPropagation();\r\n            element.removeEventListener('mousemove', detectDragging);\r\n            element.removeEventListener('touchmove', detectDragging);\r\n            _this.finishedSuccessfully = false;\r\n            if (descriptor.beforeDragStart)\r\n                descriptor.beforeDragStart();\r\n            _this.dragImage = domel('div')\r\n                .setStyle('position', 'absolute')\r\n                .setStyle('z-index', '65530')\r\n                .toDOM();\r\n            document.body.appendChild(_this.dragImage);\r\n            _this.dragImage.appendChild(element.cloneNode(true));\r\n            if (descriptor.renderer) {\r\n                descriptor.renderer(_this.dragImage);\r\n            }\r\n            _this.dropEffect = DropEffect.None;\r\n            _this.updateCusror(_this.dropEffect);\r\n            _this.updateImageClass(_this.dropEffect);\r\n            _this.draggableItem = {\r\n                element: element,\r\n                scope: descriptor.scope,\r\n                data: descriptor.data\r\n            };\r\n            _this.updateDragItemPosition(ev);\r\n            var event = new EqDragEvent(_this.draggableItem, _this.dragImage, ev);\r\n            event.dropEffect = _this.dropEffect;\r\n            if (descriptor.onDragStart) {\r\n                descriptor.onDragStart(event);\r\n            }\r\n            if (_this.dropEffect !== event.dropEffect) {\r\n                _this.dropEffect = event.dropEffect;\r\n                _this.updateImageClass(_this.dropEffect);\r\n            }\r\n            document.addEventListener('mousemove', mouseMoveEventListener, true);\r\n            document.addEventListener('touchmove', mouseMoveEventListener, true);\r\n        };\r\n        var mouseDownListener = function (ev) {\r\n            if (touchEventIsDefined && ev instanceof TouchEvent) {\r\n                ev.preventDefault();\r\n            }\r\n            _this.mouseDownPosition = new Position(ev);\r\n            element.addEventListener('mousemove', detectDragging);\r\n            element.addEventListener('touchmove', detectDragging);\r\n            document.addEventListener('mouseup', mouseUpListener);\r\n            document.addEventListener('touchend', mouseUpListener);\r\n        };\r\n        element.addEventListener('mousedown', mouseDownListener);\r\n        element.addEventListener('touchstart', mouseDownListener);\r\n        var mouseUpListener = function (ev) {\r\n            _this.mouseDownPosition = null;\r\n            element.removeEventListener('mousemove', detectDragging);\r\n            element.removeEventListener('touchmove', detectDragging);\r\n            document.removeEventListener('mousemove', mouseMoveEventListener, true);\r\n            document.removeEventListener('touchmove', mouseMoveEventListener, true);\r\n            if (_this.draggableItem) {\r\n                endDraggind(ev);\r\n            }\r\n        };\r\n        var endDraggind = function (ev) {\r\n            try {\r\n                if (_this.containerDescriptorIndex >= 0) {\r\n                    var dropContDesc = _this.containerDescriptors[_this.containerDescriptorIndex];\r\n                    var container = {\r\n                        element: dropContDesc.element,\r\n                        scopes: dropContDesc.scopes,\r\n                        data: dropContDesc.data\r\n                    };\r\n                    var event_1 = new EqDragEvent(_this.draggableItem, _this.dragImage, ev);\r\n                    try {\r\n                        if (container.scopes.indexOf(_this.draggableItem.scope) >= 0\r\n                            && _this.dropEffect === DropEffect.Allow) {\r\n                            _this.finishedSuccessfully = true;\r\n                            if (dropContDesc.onDrop) {\r\n                                dropContDesc.onDrop(container, event_1);\r\n                            }\r\n                        }\r\n                    }\r\n                    finally {\r\n                        if (dropContDesc.onDragLeave) {\r\n                            dropContDesc.onDragLeave(container, event_1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            finally {\r\n                try {\r\n                    var event_2 = new EqDragEvent(_this.draggableItem, _this.dragImage, ev);\r\n                    event_2.data.finishedSuccessfully = _this.finishedSuccessfully;\r\n                    if (descriptor.onDragEnd) {\r\n                        descriptor.onDragEnd(event_2);\r\n                    }\r\n                }\r\n                finally {\r\n                    _this.draggableItem = null;\r\n                    if (_this.dragImage && _this.dragImage.parentElement) {\r\n                        _this.dragImage.parentElement.removeChild(_this.dragImage);\r\n                    }\r\n                    _this.dragImage = null;\r\n                    _this.finishedSuccessfully = false;\r\n                    document.removeEventListener('mouseup', mouseUpListener);\r\n                    document.removeEventListener('touchend', mouseUpListener);\r\n                }\r\n            }\r\n        };\r\n    };\r\n    DragManager.prototype.registerDropContainer = function (descriptor) {\r\n        var element = descriptor.element;\r\n        if (!element) {\r\n            throw Error(\"Element in drop container is null or undefined\");\r\n        }\r\n        this.containerDescriptors.push(descriptor);\r\n    };\r\n    DragManager.prototype.removeDropContainer = function (descriptorOrSlot) {\r\n        var descs = this.containerDescriptors\r\n            .filter(function (desc) { return desc === descriptorOrSlot\r\n            || desc.element == descriptorOrSlot; });\r\n        if (descs) {\r\n            for (var _i = 0, descs_1 = descs; _i < descs_1.length; _i++) {\r\n                var desc = descs_1[_i];\r\n                utils.removeArrayItem(this.containerDescriptors, desc);\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.mouseMoveDragListener = function (ev) {\r\n        if (ev instanceof MouseEvent) {\r\n            ev.preventDefault();\r\n        }\r\n        ev.stopPropagation();\r\n        this.updateDragItemPosition(ev);\r\n        if (this.containerDescriptorIndex == -1) {\r\n            for (var i = 0; i < this.containerDescriptors.length; i++) {\r\n                var descriptor = this.containerDescriptors[i];\r\n                if (this.detectDragEnterEvent(descriptor.element, ev)) {\r\n                    this.containerDescriptorIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n            if (this.containerDescriptorIndex >= 0) {\r\n                this.dragEnterEvent(ev);\r\n            }\r\n        }\r\n        else {\r\n            var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n            if (this.detectDragLeaveEvent(descriptor.element, ev)) {\r\n                this.dragLeaveEvent(ev);\r\n                this.containerDescriptorIndex = -1;\r\n            }\r\n        }\r\n        if (this.containerDescriptorIndex >= 0) {\r\n            var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n            var container = {\r\n                element: descriptor.element,\r\n                scopes: descriptor.scopes,\r\n                data: descriptor.data\r\n            };\r\n            if (container.scopes.indexOf(this.draggableItem.scope) >= 0) {\r\n                var event_3 = new EqDragEvent(this.draggableItem, this.dragImage, ev);\r\n                event_3.dropEffect = this.dropEffect;\r\n                if (descriptor.onDragOver) {\r\n                    descriptor.onDragOver(container, event_3);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.updateCusror = function (dropEffect) {\r\n        switch (dropEffect) {\r\n            case DropEffect.Allow:\r\n                this.setCursorStyle(this.dragImage, 'grabbing');\r\n                break;\r\n            case DropEffect.Forbid:\r\n                this.setCursorStyle(this.dragImage, 'no-drop');\r\n                break;\r\n            default:\r\n                this.setCursorStyle(this.dragImage, 'grabbing');\r\n                break;\r\n        }\r\n    };\r\n    DragManager.prototype.updateImageClass = function (dropEffect) {\r\n        this.dragImage.classList.remove(this.classPrefix + \"-allow\");\r\n        this.dragImage.classList.remove(this.classPrefix + \"-forbid\");\r\n        this.dragImage.classList.remove(this.classPrefix + \"-none\");\r\n        switch (dropEffect) {\r\n            case DropEffect.Allow:\r\n                this.dragImage.classList.add(this.classPrefix + \"-allow\");\r\n                break;\r\n            case DropEffect.None:\r\n                this.dragImage.classList.add(this.classPrefix + \"-none\");\r\n                break;\r\n            case DropEffect.Forbid:\r\n                this.dragImage.classList.add(this.classPrefix + \"-forbid\");\r\n                break;\r\n            default:\r\n                this.dragImage.classList.add(this.classPrefix + \"-none\");\r\n                break;\r\n        }\r\n    };\r\n    DragManager.prototype.setCursorStyle = function (element, cursor) {\r\n        if (element) {\r\n            element.style.cursor = cursor;\r\n            for (var i = 0; i < element.children.length; i++) {\r\n                this.setCursorStyle(element.children[i], cursor);\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.updateDragItemPosition = function (ev) {\r\n        if (this.dragImage) {\r\n            var pos = new Position(ev);\r\n            this.dragImage.style.top = (pos.y - this.dragImage.offsetHeight / 2) + 'px';\r\n            this.dragImage.style.left = (pos.x - this.dragImage.offsetWidth / 2) + 'px';\r\n        }\r\n    };\r\n    DragManager.prototype.dragEnterEvent = function (ev) {\r\n        var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n        var container = {\r\n            element: descriptor.element,\r\n            scopes: descriptor.scopes,\r\n            data: descriptor.data\r\n        };\r\n        if (container.scopes.indexOf(this.draggableItem.scope) >= 0) {\r\n            var event_4 = new EqDragEvent(this.draggableItem, this.dragImage, ev);\r\n            event_4.dropEffect = DropEffect.Allow;\r\n            if (descriptor.onDragEnter) {\r\n                descriptor.onDragEnter(container, event_4);\r\n            }\r\n            this.dropEffect = event_4.dropEffect;\r\n            this.updateCusror(this.dropEffect);\r\n            this.updateImageClass(this.dropEffect);\r\n        }\r\n        else {\r\n            if (this.dropEffect !== DropEffect.Forbid) {\r\n                this.dropEffect = DropEffect.None;\r\n                this.updateCusror(this.dropEffect);\r\n                this.updateImageClass(this.dropEffect);\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.dragLeaveEvent = function (ev) {\r\n        var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n        var container = {\r\n            element: descriptor.element,\r\n            scopes: descriptor.scopes,\r\n            data: descriptor.data\r\n        };\r\n        if (container.scopes.indexOf(this.draggableItem.scope) >= 0) {\r\n            var event_5 = new EqDragEvent(this.draggableItem, this.dragImage, ev);\r\n            event_5.dropEffect = DropEffect.None;\r\n            if (descriptor.onDragLeave) {\r\n                descriptor.onDragLeave(container, event_5);\r\n            }\r\n            this.dropEffect = event_5.dropEffect;\r\n            this.updateCusror(this.dropEffect);\r\n            this.updateImageClass(this.dropEffect);\r\n        }\r\n    };\r\n    DragManager.prototype.detectDragEnterEvent = function (container, ev) {\r\n        var containerPos = getElementAbsolutePos(container);\r\n        var pos = new Position(ev);\r\n        if (pos.y < containerPos.y || pos.y > containerPos.y + container.offsetHeight) {\r\n            return false;\r\n        }\r\n        if (pos.x < containerPos.x || pos.x > containerPos.x + container.offsetWidth) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    DragManager.prototype.detectDragLeaveEvent = function (container, ev) {\r\n        var containerPos = getElementAbsolutePos(container);\r\n        var pos = new Position(ev);\r\n        if (pos.y > containerPos.y && pos.y < containerPos.y + container.offsetHeight\r\n            && pos.x > containerPos.x && pos.x < containerPos.x + container.offsetWidth) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    return DragManager;\r\n}());\r\nexport { DragManager };\r\n//global variable\r\nexport var eqDragManager = new DragManager();\r\n//# sourceMappingURL=drag_manager.js.map","import { i18n, DataType } from '@easydata/core';\r\nimport { GridColumnAlign } from './easy_grid_columns';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nvar cssPrefix = \"keg\";\r\nvar DFMT_REGEX = /{0:(.*?)}/g;\r\nexport var CellRendererType;\r\n(function (CellRendererType) {\r\n    CellRendererType[CellRendererType[\"STRING\"] = 1] = \"STRING\";\r\n    CellRendererType[CellRendererType[\"NUMBER\"] = 2] = \"NUMBER\";\r\n    CellRendererType[CellRendererType[\"DATETIME\"] = 3] = \"DATETIME\";\r\n    CellRendererType[CellRendererType[\"BOOL\"] = 4] = \"BOOL\";\r\n})(CellRendererType || (CellRendererType = {}));\r\nvar StringCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    var text = value ? value.toString().replace(/\\n/g, '\\u21B5 ') : '';\r\n    domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addHtml(text)\r\n        .title(value || '');\r\n};\r\nvar NumberCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    var strValue = (value || '').toString();\r\n    if (typeof value == 'number') {\r\n        if (column.dataColumn && column.dataColumn.displayFormat\r\n            && DFMT_REGEX.test(column.dataColumn.displayFormat)) {\r\n            strValue = column.dataColumn.displayFormat.replace(DFMT_REGEX, function (_, $1) {\r\n                return i18n.numberToStr(value, $1);\r\n            });\r\n        }\r\n        else {\r\n            strValue = value.toLocaleString();\r\n        }\r\n    }\r\n    var builder = domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addHtml(strValue)\r\n        .title(strValue);\r\n    if (column.align == GridColumnAlign.NONE) {\r\n        builder.addClass(cssPrefix + \"-cell-value-align-right\");\r\n    }\r\n};\r\nvar DateTimeCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    var isDate = Object.prototype.toString.call(value) === '[object Date]';\r\n    var strValue = (value || '').toString();\r\n    if (isDate) {\r\n        if (column.dataColumn && column.dataColumn.displayFormat\r\n            && DFMT_REGEX.test(column.dataColumn.displayFormat)) {\r\n            strValue = column.dataColumn.displayFormat.replace(DFMT_REGEX, function (_, $1) {\r\n                return i18n.dateTimeToStr(value, column.type, $1);\r\n            });\r\n        }\r\n        else {\r\n            var locale = i18n.getCurrentLocale();\r\n            var timeOptions = { hour: 'numeric', minute: 'numeric', second: 'numeric' };\r\n            switch (column.type) {\r\n                case DataType.Date:\r\n                    strValue = value.toLocaleDateString(locale);\r\n                    break;\r\n                case DataType.Time:\r\n                    strValue = value.toLocaleTimeString(locale, timeOptions);\r\n                    break;\r\n                case DataType.DateTime:\r\n                    strValue = value.toLocaleDateString(locale) + \" \" + value.toLocaleTimeString(locale, timeOptions);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    var builder = domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addHtml(strValue)\r\n        .title(strValue);\r\n    if (column.align == GridColumnAlign.NONE) {\r\n        builder.addClass(cssPrefix + \"-cell-value-align-right\");\r\n    }\r\n};\r\nvar BoolCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addClass(cssPrefix + \"-cell-value-bool\")\r\n        .addClass(cssPrefix + \"-\" + (value ? 'cell-value-true' : 'cell-value-false'));\r\n};\r\nvar GridCellRendererStore = /** @class */ (function () {\r\n    function GridCellRendererStore(options) {\r\n        this.renderers = {};\r\n        this.defaultRenderers = {};\r\n        this.registerRenderer('StringDefault', StringCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.STRING, StringCellRendererDefault);\r\n        this.registerRenderer('NumberDefault', NumberCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.NUMBER, NumberCellRendererDefault);\r\n        this.registerRenderer('DateTimeDefault', DateTimeCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.DATETIME, DateTimeCellRendererDefault);\r\n        this.registerRenderer('BoolDefault', BoolCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.BOOL, BoolCellRendererDefault);\r\n    }\r\n    GridCellRendererStore.prototype.getDefaultRenderer = function (columnType) {\r\n        var cellType = this.getCellType(columnType);\r\n        return this.defaultRenderers[CellRendererType[cellType]];\r\n    };\r\n    GridCellRendererStore.prototype.getDefaultRendererByType = function (rendererType) {\r\n        return this.defaultRenderers[CellRendererType[rendererType]];\r\n    };\r\n    GridCellRendererStore.prototype.setDefaultRenderer = function (cellType, renderer) {\r\n        if (renderer) {\r\n            this.defaultRenderers[CellRendererType[cellType]] = renderer;\r\n        }\r\n    };\r\n    GridCellRendererStore.prototype.getRenderer = function (name) {\r\n        return this.renderers[name];\r\n    };\r\n    GridCellRendererStore.prototype.registerRenderer = function (name, renderer) {\r\n        this.renderers[name] = renderer;\r\n    };\r\n    GridCellRendererStore.prototype.getCellType = function (dataType) {\r\n        switch (dataType) {\r\n            case DataType.Autoinc:\r\n            case DataType.Byte:\r\n            case DataType.Word:\r\n            case DataType.Currency:\r\n            case DataType.Float:\r\n            case DataType.Int32:\r\n            case DataType.Int64:\r\n                return CellRendererType.NUMBER;\r\n            case DataType.Date:\r\n            case DataType.DateTime:\r\n            case DataType.Time:\r\n                return CellRendererType.DATETIME;\r\n            case DataType.Bool:\r\n                return CellRendererType.BOOL;\r\n            default:\r\n                return CellRendererType.STRING;\r\n        }\r\n    };\r\n    return GridCellRendererStore;\r\n}());\r\nexport { GridCellRendererStore };\r\n//# sourceMappingURL=easy_grid_cell_renderer.js.map","import { utils } from '@easydata/core';\r\nimport { CellRendererType } from \"./easy_grid_cell_renderer\";\r\nvar DEFAULT_WIDTH = 150;\r\nvar DEFAULT_WIDTH_NUMBER = 120;\r\nvar DEFAULT_WIDTH_DATE = 200;\r\nvar DEFAULT_WIDTH_BOOL = 80;\r\nvar DEFAULT_WIDTH_STRING = 250;\r\nvar MIN_WIDTH_STRING = 100;\r\nvar MAX_WIDTH_STRING = 500;\r\nvar ROW_NUM_WIDTH = 60;\r\nexport var GridColumnAlign;\r\n(function (GridColumnAlign) {\r\n    GridColumnAlign[GridColumnAlign[\"NONE\"] = 1] = \"NONE\";\r\n    GridColumnAlign[GridColumnAlign[\"LEFT\"] = 2] = \"LEFT\";\r\n    GridColumnAlign[GridColumnAlign[\"CENTER\"] = 3] = \"CENTER\";\r\n    GridColumnAlign[GridColumnAlign[\"RIGHT\"] = 4] = \"RIGHT\";\r\n})(GridColumnAlign || (GridColumnAlign = {}));\r\nvar GridColumn = /** @class */ (function () {\r\n    function GridColumn(column, grid, isRowNum) {\r\n        if (isRowNum === void 0) { isRowNum = false; }\r\n        this._label = null;\r\n        //public left: number;\r\n        this.align = GridColumnAlign.NONE;\r\n        this.isVisible = true;\r\n        this.isRowNum = false;\r\n        this.dataColumn = column;\r\n        this.grid = grid;\r\n        if (column) {\r\n            var coltype = column.type;\r\n            var cellType = this.grid.cellRendererStore.getCellType(coltype);\r\n            switch (cellType) {\r\n                case CellRendererType.NUMBER:\r\n                    this.width = DEFAULT_WIDTH_NUMBER;\r\n                    break;\r\n                case CellRendererType.DATETIME:\r\n                    this.width = DEFAULT_WIDTH_DATE;\r\n                    break;\r\n                case CellRendererType.BOOL:\r\n                    this.width = DEFAULT_WIDTH_BOOL;\r\n                    break;\r\n                default:\r\n                    this.width = DEFAULT_WIDTH_STRING;\r\n            }\r\n            this.cellRenderer = this.grid.cellRendererStore.getDefaultRenderer(column.type);\r\n        }\r\n        else if (isRowNum) {\r\n            this.isRowNum = true;\r\n            this.width = ROW_NUM_WIDTH;\r\n            this._label = '';\r\n            this.cellRenderer = this.grid.cellRendererStore.getDefaultRendererByType(CellRendererType.NUMBER);\r\n        }\r\n        if (grid && grid.options && grid.options.onGetCellRenderer) {\r\n            this.cellRenderer = grid.options.onGetCellRenderer(this, this.cellRenderer) || this.cellRenderer;\r\n        }\r\n    }\r\n    Object.defineProperty(GridColumn.prototype, \"label\", {\r\n        get: function () {\r\n            return this._label ? this._label : this.isRowNum ? '' : this.dataColumn.label;\r\n        },\r\n        set: function (value) {\r\n            this._label = this.label;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(GridColumn.prototype, \"type\", {\r\n        get: function () {\r\n            return this.dataColumn ? this.dataColumn.type : null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return GridColumn;\r\n}());\r\nexport { GridColumn };\r\nvar GridColumnList = /** @class */ (function () {\r\n    function GridColumnList(columnList, grid) {\r\n        this.items = [];\r\n        this.grid = grid;\r\n        this.sync(columnList);\r\n    }\r\n    GridColumnList.prototype.sync = function (columnList, hasRowNumCol) {\r\n        if (hasRowNumCol === void 0) { hasRowNumCol = true; }\r\n        this.clear();\r\n        if (hasRowNumCol) {\r\n            var rowNumCol = new GridColumn(null, this.grid, true);\r\n            this.add(rowNumCol);\r\n        }\r\n        if (columnList) {\r\n            for (var _i = 0, _a = columnList.getItems(); _i < _a.length; _i++) {\r\n                var column = _a[_i];\r\n                var col = new GridColumn(column, this.grid);\r\n                if (this.grid.options.onSyncGridColumn) {\r\n                    this.grid.options.onSyncGridColumn(col);\r\n                }\r\n                this.add(col);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(GridColumnList.prototype, \"count\", {\r\n        get: function () {\r\n            return this.items.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GridColumnList.prototype.add = function (col) {\r\n        var index = this.items.length;\r\n        this.items.push(col);\r\n        return index;\r\n    };\r\n    GridColumnList.prototype.put = function (index, col) {\r\n        if (index >= 0 && index < this.items.length) {\r\n            this.items[index] = col;\r\n        }\r\n    };\r\n    GridColumnList.prototype.move = function (col, newIndex) {\r\n        var oldIndex = this.items.indexOf(col);\r\n        if (oldIndex >= 0 && oldIndex != newIndex)\r\n            utils.moveArrayItem(this.items, oldIndex, newIndex);\r\n    };\r\n    GridColumnList.prototype.get = function (index) {\r\n        if (index >= 0 && index < this.items.length) {\r\n            return this.items[index];\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    //    public getIndex(name: string) : number {\r\n    //        return this.mapper[name];\r\n    //    }\r\n    GridColumnList.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    GridColumnList.prototype.removeAt = function (index) {\r\n        var col = this.get(index);\r\n        this.items.splice(index, 1);\r\n        //delete this.mapper[col.name];\r\n    };\r\n    GridColumnList.prototype.clear = function () {\r\n        this.items = [];\r\n        //this.mapper = {};\r\n    };\r\n    return GridColumnList;\r\n}());\r\nexport { GridColumnList };\r\n//# sourceMappingURL=easy_grid_columns.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { EventEmitter, DataRow, utils, i18n } from '@easydata/core';\r\nimport { eqDragManager, DropEffect } from '../utils/drag_manager';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { getElementAbsolutePos, eqCssPrefix } from '../utils/ui-utils';\r\nimport { GridColumnList, GridColumnAlign } from './easy_grid_columns';\r\nimport { GridCellRendererStore } from './easy_grid_cell_renderer';\r\nvar DEFAULT_ROW_HEIGHT = 36;\r\nvar DEFAULT_ROW_COUNT = 15;\r\nvar EasyGrid = /** @class */ (function () {\r\n    function EasyGrid(options) {\r\n        this.cssPrefix = \"keg\";\r\n        this.pagination = { page: 1, pageSize: 30, total: 0 };\r\n        this.paginationOptions = {\r\n            maxButtonCount: 10,\r\n            useBootstrap: false //true\r\n        };\r\n        this.defaultDataGridOptions = {\r\n            slot: null,\r\n            dataTable: null,\r\n            fixHeightOnFirstRender: false,\r\n            syncGridColumns: true,\r\n            useRowNumeration: true,\r\n            allowDragDrop: false,\r\n            totals: {\r\n                calcGrandTotals: false,\r\n                calculator: null\r\n            },\r\n            paging: {\r\n                enabled: true,\r\n                pageSize: 30\r\n            },\r\n            addColumns: false,\r\n            viewportRowsCount: null,\r\n            showActiveRow: true\r\n        };\r\n        this.rowsOnPagePromise = null;\r\n        this.containerInitialHeight = 0;\r\n        this.firstRender = true;\r\n        this.prevRowTotals = null;\r\n        this.landingIndex = -1;\r\n        this.landingSlot = domel('div')\r\n            .addClass(this.cssPrefix + \"-col-landing-slot\")\r\n            .addChildElement(domel('div')\r\n            .toDOM())\r\n            .toDOM();\r\n        this._activeRowIndex = -1;\r\n        if (options && options.paging) {\r\n            options.paging = utils.assign(this.defaultDataGridOptions.paging, options.paging);\r\n        }\r\n        this.options = __assign({}, this.defaultDataGridOptions, options);\r\n        if (!this.options.slot)\r\n            throw Error('\"slot\" parameter is required to initialize EasyDataGrid');\r\n        if (!this.options.dataTable)\r\n            throw Error('\"dataTable\" parameter is required to initialize EasyDataGrid');\r\n        this.dataTable = options.dataTable;\r\n        this.eventEmitter = new EventEmitter(this);\r\n        this.cellRendererStore = new GridCellRendererStore(options);\r\n        this.columns = new GridColumnList(this.dataTable.columns, this);\r\n        this.setSlot(this.options.slot);\r\n        this.init(this.options);\r\n    }\r\n    EasyGrid.prototype.setSlot = function (slot) {\r\n        if (typeof slot === 'string') {\r\n            if (slot.length) {\r\n                if (slot[0] === '#') {\r\n                    this.slot = document.getElementById(slot.substring(1));\r\n                }\r\n                else if (slot[0] === '.') {\r\n                    var result = document.getElementsByClassName(slot.substring(1));\r\n                    if (result.length)\r\n                        this.slot = result[0];\r\n                }\r\n                else {\r\n                    throw Error('Unrecognized slot parameter ' +\r\n                        '(Must be id, class or HTMLElement): ' + slot);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.slot = slot;\r\n        }\r\n    };\r\n    EasyGrid.prototype.init = function (options) {\r\n        var _this = this;\r\n        if (options.onInit) {\r\n            this.addEventListener('init', options.onInit);\r\n        }\r\n        if (options.onRowClick) {\r\n            this.addEventListener('rowClick', options.onRowClick);\r\n        }\r\n        if (options.onRowDbClick) {\r\n            this.addEventListener('rowDbClick', options.onRowDbClick);\r\n        }\r\n        if (options.onAddColumnClick) {\r\n            this.addEventListener('addColumnClick', options.onAddColumnClick);\r\n        }\r\n        if (options.onColumnChanged) {\r\n            this.addEventListener('columnChanged', options.onColumnChanged);\r\n        }\r\n        if (options.onColumnDeleted) {\r\n            this.addEventListener('columnDeleted', options.onColumnDeleted);\r\n        }\r\n        if (options.onColumnMoved) {\r\n            this.addEventListener('columnMoved', options.onColumnMoved);\r\n        }\r\n        if (options.onPageChanged) {\r\n            this.addEventListener('pageChanged', options.onPageChanged);\r\n        }\r\n        if (options.onActiveRowChanged) {\r\n            this.addEventListener('activeRowChanged', options.onActiveRowChanged);\r\n        }\r\n        this.addEventListener('pageChanged', function (ev) { return _this.activeRowIndex = -1; });\r\n        utils.assignDeep(this.paginationOptions, options.pagination);\r\n        this.pagination.pageSize = this.options.paging.pageSize\r\n            || this.pagination.pageSize;\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"gridColumnMove\"],\r\n                onDragEnter: function (_, ev) {\r\n                    _this.slot.classList.add(eqCssPrefix + \"-drophover\");\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragOver: function (_, ev) {\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragLeave: function (_, ev) {\r\n                    ev.dropEffect = DropEffect.Forbid;\r\n                    _this.slot.classList.remove(eqCssPrefix + \"-drophover\");\r\n                    _this.hideLandingSlot();\r\n                },\r\n                onDrop: function (_, ev) {\r\n                    _this.dataTable.columns.move(ev.data.column, _this.landingIndex);\r\n                    _this.refresh();\r\n                    _this.fireEvent({\r\n                        type: 'columnMoved',\r\n                        columnId: ev.data.column.id,\r\n                        newIndex: _this.landingIndex\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        this.refresh();\r\n        this.fireEvent('init');\r\n    };\r\n    EasyGrid.prototype.fireEvent = function (event) {\r\n        if (typeof event === \"string\") {\r\n            this.eventEmitter.fire(event);\r\n        }\r\n        else {\r\n            this.eventEmitter.fire(event.type, event);\r\n        }\r\n    };\r\n    EasyGrid.prototype.setData = function (data) {\r\n        this.dataTable = data;\r\n        this.clear();\r\n        this.refresh();\r\n    };\r\n    EasyGrid.prototype.getData = function () {\r\n        return this.dataTable;\r\n    };\r\n    EasyGrid.prototype.getColumns = function () {\r\n        return this.columns;\r\n    };\r\n    EasyGrid.prototype.destroy = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    EasyGrid.prototype.refresh = function () {\r\n        this.clearDOM();\r\n        this.render();\r\n    };\r\n    EasyGrid.prototype.clearDOM = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    EasyGrid.prototype.clear = function () {\r\n        this.pagination.page = 1;\r\n        this.clearDOM();\r\n    };\r\n    EasyGrid.prototype.render = function () {\r\n        var _this = this;\r\n        if (!this.hasData() && !this.options.addColumns)\r\n            return;\r\n        this.containerInitialHeight = this.slot.clientHeight;\r\n        this.rootDiv = document.createElement('div');\r\n        this.rootDiv.style.width = '100%';\r\n        this.rootDiv.classList.add(this.cssPrefix + \"-root\");\r\n        this.columns.sync(this.dataTable.columns, this.options.useRowNumeration);\r\n        this.renderHeader();\r\n        this.rootDiv.appendChild(this.headerDiv);\r\n        this.renderBody();\r\n        this.rootDiv.appendChild(this.bodyDiv);\r\n        this.renderFooter();\r\n        this.rootDiv.appendChild(this.footerDiv);\r\n        var gridContainer = document.createElement('div');\r\n        gridContainer.classList.add(this.cssPrefix + \"-container\");\r\n        gridContainer.appendChild(this.rootDiv);\r\n        this.slot.appendChild(gridContainer);\r\n        if (this.rowsOnPagePromise) {\r\n            this.rowsOnPagePromise\r\n                .then(function () { return _this.updateHeight(); })\r\n                .then(function () {\r\n                _this.firstRender = false;\r\n                _this.rowsOnPagePromise = null;\r\n            });\r\n        }\r\n        else {\r\n            setTimeout(function () {\r\n                _this.updateHeight();\r\n                _this.firstRender = false;\r\n            }, 100);\r\n        }\r\n    };\r\n    EasyGrid.prototype.updateHeight = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            if (_this.options.viewportRowsCount) {\r\n                var firstRow = _this.bodyCellContainerDiv.firstElementChild;\r\n                var rowHeight = firstRow ? firstRow.offsetHeight : DEFAULT_ROW_HEIGHT;\r\n                var rowCount = _this.options.viewportRowsCount; // || DEFAULT_ROW_COUNT;\r\n                var bodyHeight_1 = rowHeight * rowCount;\r\n                domel(_this.bodyDiv)\r\n                    .setStyle('height', bodyHeight_1 + \"px\");\r\n                setTimeout(function () {\r\n                    var sbHeight = _this.bodyViewportDiv.offsetHeight - _this.bodyViewportDiv.clientHeight;\r\n                    bodyHeight_1 = bodyHeight_1 + sbHeight;\r\n                    domel(_this.bodyDiv)\r\n                        .setStyle('height', bodyHeight_1 + \"px\");\r\n                    resolve();\r\n                }, 100);\r\n                return;\r\n            }\r\n            else if (_this.containerInitialHeight > 0) {\r\n                var bodyHeight = _this.containerInitialHeight - _this.headerDiv.offsetHeight - _this.footerDiv.offsetHeight;\r\n                domel(_this.bodyDiv)\r\n                    .setStyle('height', bodyHeight + \"px\");\r\n            }\r\n            resolve();\r\n        })\r\n            .then(function () {\r\n            if (_this.options.fixHeightOnFirstRender && _this.firstRender) {\r\n                _this.slot.style.height = _this.slot.offsetHeight + \"px\";\r\n            }\r\n        });\r\n    };\r\n    EasyGrid.prototype.renderHeader = function () {\r\n        var _this = this;\r\n        this.headerDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-header\")\r\n            .toDOM();\r\n        this.headerViewportDiv = domel('div', this.headerDiv)\r\n            .addClass(this.cssPrefix + \"-header-viewport\")\r\n            .toDOM();\r\n        this.headerCellContainerDiv = domel('div', this.headerViewportDiv)\r\n            .addClass(this.cssPrefix + \"-header-cell-container\")\r\n            .toDOM();\r\n        this.headerRowDiv = domel('div', this.headerCellContainerDiv)\r\n            .addClass(this.cssPrefix + \"-header-row\")\r\n            .toDOM();\r\n        this.columns.getItems().forEach(function (column, index) {\r\n            if (!column.isVisible) {\r\n                return;\r\n            }\r\n            var hd = _this.renderColumnHeader(column, index);\r\n            _this.headerRowDiv.appendChild(hd);\r\n            if (column.isRowNum) {\r\n                domel(hd)\r\n                    .addChildElement(_this.renderAddColumnButton());\r\n            }\r\n        });\r\n        var containerWidth = this.columns.getItems().map(function (column) { return column.width; }).reduce(function (sum, current) { return sum + current; });\r\n        domel(this.headerCellContainerDiv)\r\n            .setStyle('width', containerWidth + \"px\");\r\n    };\r\n    EasyGrid.prototype.hasData = function () {\r\n        return this.dataTable.columns.count > 0;\r\n    };\r\n    EasyGrid.prototype.renderColumnHeader = function (column, index) {\r\n        var _this = this;\r\n        var colBuilder = domel('div')\r\n            .addClass(this.cssPrefix + \"-header-cell\")\r\n            .data('col-idx', \"\" + (index + 1))\r\n            .setStyle('width', column.width + \"px\");\r\n        if (column.dataColumn) {\r\n            colBuilder\r\n                .data('col-id', \"\" + column.dataColumn.id);\r\n        }\r\n        var colDiv = colBuilder.toDOM();\r\n        domel('div', colDiv)\r\n            .addClass(this.cssPrefix + \"-header-cell-resize\");\r\n        if (!column.isRowNum) {\r\n            domel('div', colDiv)\r\n                .addClass(this.cssPrefix + \"-header-cell-label\")\r\n                .text(column.label);\r\n        }\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDraggableItem({\r\n                element: colDiv,\r\n                scope: \"gridColumnMove\",\r\n                data: { column: column },\r\n                renderer: function (dragImage) {\r\n                    dragImage.innerHTML = '';\r\n                    var attrLabel = document.createElement('div');\r\n                    attrLabel.innerText = column.label;\r\n                    dragImage.classList.add(_this.cssPrefix + \"-sortable-helper\");\r\n                    dragImage.appendChild(attrLabel);\r\n                },\r\n                onDragStart: function (ev) {\r\n                    ev.dropEffect = DropEffect.Allow;\r\n                }\r\n            });\r\n        }\r\n        return colDiv;\r\n    };\r\n    EasyGrid.prototype.renderBody = function () {\r\n        var _this = this;\r\n        this.bodyDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-body\")\r\n            .toDOM();\r\n        this.bodyViewportDiv = domel('div', this.bodyDiv)\r\n            .addClass(this.cssPrefix + \"-body-viewport\")\r\n            .attr('tabIndex', '0')\r\n            .toDOM();\r\n        this.bodyCellContainerDiv = domel('div', this.bodyViewportDiv)\r\n            .addClass(this.cssPrefix + \"-cell-container\")\r\n            .toDOM();\r\n        if (this.dataTable) {\r\n            this.showProgress();\r\n            this.rowsOnPagePromise = this.getRowsToRender()\r\n                .then(function (rows) {\r\n                _this.hideProgress();\r\n                //prevent double rendering (bad solution, we have to figure out how to avoid this behavior properly)\r\n                _this.bodyCellContainerDiv.innerHTML = '';\r\n                _this.prevRowTotals = null;\r\n                if (rows.length) {\r\n                    var calcTotals_1 = _this.calcTotals();\r\n                    var keyCols_1 = _this.getTotalsKeyCols();\r\n                    rows.forEach(function (row, index) {\r\n                        if (calcTotals_1)\r\n                            _this.updateTotalsState(keyCols_1, row);\r\n                        var tr = _this.renderRow(row, index);\r\n                        _this.bodyCellContainerDiv.appendChild(tr);\r\n                    });\r\n                    if (calcTotals_1 && _this.isLastPage()) {\r\n                        var row = new DataRow(_this.dataTable.columns, new Array(_this.dataTable.columns.count));\r\n                        _this.updateTotalsState(keyCols_1, row, true);\r\n                    }\r\n                }\r\n                var containerWidth = _this.columns.getItems()\r\n                    .map(function (column) { return column.width; }).reduce(function (sum, current) { return sum + current; });\r\n                domel(_this.bodyCellContainerDiv)\r\n                    .setStyle('width', containerWidth + \"px\");\r\n                return rows.length;\r\n            })\r\n                .catch(function (error) { console.error(error); return 0; });\r\n        }\r\n        this.bodyViewportDiv.addEventListener('scroll', function (ev) {\r\n            domel(_this.headerViewportDiv)\r\n                .setStyle('margin-left', \"-\" + _this.bodyViewportDiv.scrollLeft + \"px\");\r\n        });\r\n        this.bodyViewportDiv.addEventListener('keydown', this.onVieportKeydown.bind(this));\r\n    };\r\n    EasyGrid.prototype.isLastPage = function () {\r\n        return this.pagination.page * this.pagination.pageSize >= this.pagination.total;\r\n    };\r\n    EasyGrid.prototype.calcTotals = function () {\r\n        return this.options.totals && (this.options.totals.calcGrandTotals\r\n            || this.calcSubTotalsCols())\r\n            && this.dataTable.columns.getItems()\r\n                .filter(function (col) { return col.isAggr; }).length > 0;\r\n    };\r\n    EasyGrid.prototype.calcSubTotalsCols = function () {\r\n        return this.options.totals.cols && Object.values(this.options.totals.cols)\r\n            .map(function (val) { return val.calcSubTotals; })\r\n            .reduce(function (prev, value) {\r\n            return prev || value;\r\n        }, false);\r\n    };\r\n    EasyGrid.prototype.getTotalsKeyCols = function () {\r\n        var keyCols = this.dataTable.columns.getItems()\r\n            .filter(function (col) { return !col.isAggr; });\r\n        keyCols.pop();\r\n        return keyCols;\r\n    };\r\n    EasyGrid.prototype.updateTotalsState = function (keyCols, newRow, isLast) {\r\n        if (isLast === void 0) { isLast = false; }\r\n        if (this.prevRowTotals && this.calcSubTotalsCols()) {\r\n            var changeLevel = -1;\r\n            for (var i = 0; i < keyCols.length; i++) {\r\n                var col = keyCols[i];\r\n                if (this.prevRowTotals.getValue(col.id) !== newRow.getValue(col.id)) {\r\n                    changeLevel = i;\r\n                    break;\r\n                }\r\n            }\r\n            if (changeLevel != -1) {\r\n                var totalsOpts = this.options.totals;\r\n                for (var i = keyCols.length; i > changeLevel; i--) {\r\n                    var col = keyCols[i - 1];\r\n                    if (totalsOpts.cols && totalsOpts.cols[col.id].calcSubTotals === false)\r\n                        continue;\r\n                    var row = new DataRow(this.dataTable.columns, this.prevRowTotals.toArray());\r\n                    var tr = this.renderTotalsRow(i, row);\r\n                    this.bodyCellContainerDiv.appendChild(tr);\r\n                }\r\n            }\r\n        }\r\n        if (isLast && this.options.totals.calcGrandTotals) {\r\n            var tr = this.renderTotalsRow(0, newRow);\r\n            this.bodyCellContainerDiv.appendChild(tr);\r\n        }\r\n        this.prevRowTotals = newRow;\r\n    };\r\n    EasyGrid.prototype.renderTotalsRow = function (level, row) {\r\n        var _this = this;\r\n        var rowBuilder = domel('div')\r\n            .addClass(this.cssPrefix + \"-row\")\r\n            .addClass(this.cssPrefix + \"-row-totals\")\r\n            .addClass(this.cssPrefix + \"-totals-lv\" + level)\r\n            .data('totals-level', \"\" + level)\r\n            .attr('tabindex', '-1');\r\n        var rowElement = rowBuilder.toDOM();\r\n        this.columns.getItems().forEach(function (column, index) {\r\n            if (!column.isVisible) {\r\n                return;\r\n            }\r\n            var colIndex = column.isRowNum ? -1 : _this.dataTable.columns.getIndex(column.dataColumn.id);\r\n            var val = (colIndex == level || level == 0 && colIndex == 0) ? _this.getTotalsTitle(level) : '';\r\n            if (colIndex == _this.dataTable.columns.count - 1) {\r\n                val = 'Calculating...';\r\n            }\r\n            rowElement.appendChild(_this.renderCell(column, colIndex, val, rowElement));\r\n        });\r\n        var totals = this.options.totals.calculator.getTotals();\r\n        totals.fillTotals(level, row)\r\n            .then(function () {\r\n            rowElement.innerHTML = '';\r\n            _this.columns.getItems().forEach(function (column, index) {\r\n                if (!column.isVisible) {\r\n                    return;\r\n                }\r\n                var colIndex = column.isRowNum ? -1 : _this.dataTable.columns.getIndex(column.dataColumn.id);\r\n                var val = (colIndex == level || level == 0 && colIndex == 0) ? _this.getTotalsTitle(level) : '';\r\n                if (!column.isRowNum && column.dataColumn.isAggr) {\r\n                    val = row.getValue(colIndex);\r\n                }\r\n                rowElement.appendChild(_this.renderCell(column, colIndex, val, rowElement));\r\n            });\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n        return rowElement;\r\n    };\r\n    EasyGrid.prototype.getTotalsTitle = function (level) {\r\n        return (level) ? 'Sub totals: ' : 'Grand totals: ';\r\n    };\r\n    EasyGrid.prototype.onVieportKeydown = function (ev) {\r\n        if (this.options.showActiveRow) {\r\n            var rowCount = this.bodyCellContainerDiv.querySelectorAll(\".\" + this.cssPrefix + \"-row\").length;\r\n            var newValue = void 0;\r\n            switch (ev.key) {\r\n                case 'ArrowLeft':\r\n                    break;\r\n                case 'ArrowRight':\r\n                    break;\r\n                case 'ArrowUp':\r\n                    ev.preventDefault();\r\n                    newValue = this.activeRowIndex < 0 || this.activeRowIndex >= rowCount ? rowCount - 1 : this.activeRowIndex - 1;\r\n                    this.activeRowIndex = newValue >= 0 ? newValue : 0;\r\n                    break;\r\n                case 'ArrowDown':\r\n                    ev.preventDefault();\r\n                    newValue = this.activeRowIndex < 0 || this.activeRowIndex >= rowCount ? 0 : this.activeRowIndex + 1;\r\n                    this.activeRowIndex = newValue < rowCount ? newValue : rowCount - 1;\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.ensureRowVisibility = function (rowOrIndex) {\r\n        var row = typeof rowOrIndex === 'number'\r\n            ? this.getDataRow(rowOrIndex)\r\n            : rowOrIndex;\r\n        if (row) {\r\n            var rowRect = row.getBoundingClientRect();\r\n            var viewportRect = this.bodyViewportDiv.getBoundingClientRect();\r\n            var rowTop = rowRect.top - viewportRect.top;\r\n            var rowBottom = rowRect.bottom - viewportRect.top;\r\n            var viewportHeight = this.bodyViewportDiv.clientHeight;\r\n            var windowHeight = window.innerHeight || document.documentElement.clientHeight;\r\n            if (rowTop > 0 &&\r\n                rowBottom <= viewportHeight &&\r\n                rowRect.top > 0 &&\r\n                rowRect.bottom < windowHeight) {\r\n                return;\r\n            }\r\n            if (rowTop < 0) {\r\n                this.bodyViewportDiv.scrollTop = this.bodyViewportDiv.scrollTop + rowTop;\r\n            }\r\n            else if (rowBottom > viewportHeight) {\r\n                this.bodyViewportDiv.scrollTop = this.bodyViewportDiv.scrollTop + rowBottom - viewportHeight;\r\n            }\r\n            rowRect = row.getBoundingClientRect();\r\n            if (rowRect.top < 0) {\r\n                document.documentElement.scrollTop = document.documentElement.scrollTop + rowRect.top;\r\n            }\r\n            else if (rowRect.bottom > windowHeight) {\r\n                document.documentElement.scrollTop = document.documentElement.scrollTop + rowRect.bottom - windowHeight;\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.getRowsToRender = function () {\r\n        if (this.options.paging.enabled === false) {\r\n            return Promise.resolve(this.dataTable.getCachedRows());\r\n        }\r\n        return this.dataTable.getRows({\r\n            page: this.pagination.page,\r\n            pageSize: this.pagination.pageSize\r\n        })\r\n            .catch(function (error) {\r\n            console.error(error);\r\n            return [];\r\n        });\r\n        ;\r\n    };\r\n    EasyGrid.prototype.renderFooter = function () {\r\n        this.footerDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-footer\")\r\n            .toDOM();\r\n        this.footerPaginateDiv = this.renderPageNavigator();\r\n        this.footerDiv.appendChild(this.footerPaginateDiv);\r\n        var pageInfoBlock = this.renderPageInfoBlock();\r\n        this.footerDiv.appendChild(pageInfoBlock);\r\n    };\r\n    EasyGrid.prototype.renderPageInfoBlock = function () {\r\n        var _this = this;\r\n        var pageInfoDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-page-info\")\r\n            .toDOM();\r\n        if (this.rowsOnPagePromise) {\r\n            this.rowsOnPagePromise.then(function (count) {\r\n                var fistPageRecordNum = count ? (_this.pagination.page - 1) * _this.pagination.pageSize + 1 : 0;\r\n                var lastPageRecordNum = count ? fistPageRecordNum + count - 1 : 0;\r\n                var total = _this.dataTable.getTotal();\r\n                pageInfoDiv.innerHTML = i18n.getText('GridPageInfo')\r\n                    .replace('{FirstPageRecordNum}', \"<span>\" + fistPageRecordNum.toString() + \"</span>\")\r\n                    .replace('{LastPageRecordNum}', \"<span>\" + lastPageRecordNum.toString() + \"</span>\")\r\n                    .replace('{Total}', \"<span>\" + total.toString() + \"</span>\");\r\n            });\r\n        }\r\n        return pageInfoDiv;\r\n    };\r\n    EasyGrid.prototype.showProgress = function () {\r\n    };\r\n    EasyGrid.prototype.hideProgress = function () {\r\n    };\r\n    EasyGrid.prototype.getLocalIndexByGlobal = function (index) {\r\n        if (this.pagination) {\r\n            return index % this.pagination.pageSize;\r\n        }\r\n        else {\r\n            return index;\r\n        }\r\n    };\r\n    EasyGrid.prototype.getGlobalIndexByLocal = function (index) {\r\n        if (this.pagination) {\r\n            return (this.pagination.page - 1) * this.pagination.pageSize + index;\r\n        }\r\n        else {\r\n            return index;\r\n        }\r\n    };\r\n    EasyGrid.prototype.renderRow = function (row, index) {\r\n        var _this = this;\r\n        var indexGlobal = this.getGlobalIndexByLocal(index);\r\n        var rowBuilder = domel('div')\r\n            .addClass(this.cssPrefix + \"-row\")\r\n            .addClass(this.cssPrefix + \"-row-\" + (index % 2 == 1 ? 'odd' : 'even'))\r\n            .data('row-idx', \"\" + indexGlobal)\r\n            .attr('tabindex', '-1')\r\n            .on('click', function (ev) {\r\n            _this.activeRowIndex = index;\r\n            _this.fireEvent({\r\n                type: 'rowClick',\r\n                row: row,\r\n                rowIndex: index,\r\n                sourceEvent: ev\r\n            });\r\n        })\r\n            .on('dblclick', function (ev) {\r\n            _this.fireEvent({\r\n                type: 'rowDbClick',\r\n                row: row,\r\n                rowIndex: index,\r\n                sourceEvent: ev\r\n            });\r\n        });\r\n        if (index == 0) {\r\n            rowBuilder.addClass(this.cssPrefix + \"-row-first\");\r\n        }\r\n        var rowElement = rowBuilder.toDOM();\r\n        if (this.options.showActiveRow && index == this.activeRowIndex) {\r\n            rowBuilder.addClass(this.cssPrefix + \"-row-active\");\r\n        }\r\n        this.columns.getItems().forEach(function (column) {\r\n            if (!column.isVisible) {\r\n                return;\r\n            }\r\n            var colindex = column.isRowNum ? -1 : _this.dataTable.columns.getIndex(column.dataColumn.id);\r\n            var val = column.isRowNum ? indexGlobal + 1 : row.getValue(colindex);\r\n            rowElement.appendChild(_this.renderCell(column, colindex, val, rowElement));\r\n        });\r\n        return rowElement;\r\n    };\r\n    EasyGrid.prototype.renderCell = function (column, colIndex, value, rowElement) {\r\n        var builder = domel('div')\r\n            .addClass(this.cssPrefix + \"-cell\")\r\n            .data('col-idx', \"\" + colIndex)\r\n            .attr('tabindex', '-1')\r\n            .setStyle('width', column.width + \"px\");\r\n        if (column.align == GridColumnAlign.LEFT) {\r\n            builder.addClass(this.cssPrefix + \"-cell-align-left\");\r\n        }\r\n        else if (column.align == GridColumnAlign.RIGHT) {\r\n            builder.addClass(this.cssPrefix + \"-cell-align-right\");\r\n        }\r\n        else if (column.align == GridColumnAlign.CENTER) {\r\n            builder.addClass(this.cssPrefix + \"-cell-align-center\");\r\n        }\r\n        if (column.cellRenderer) {\r\n            column.cellRenderer(value, column, builder.toDOM(), rowElement);\r\n        }\r\n        return builder.toDOM();\r\n    };\r\n    EasyGrid.prototype.renderPageNavigator = function () {\r\n        var _this = this;\r\n        var paginateDiv = document.createElement('div');\r\n        paginateDiv.className = this.cssPrefix + \"-pagination-wrapper\";\r\n        this.pagination.total = this.dataTable.getTotal();\r\n        if (this.options.paging && this.options.paging.enabled\r\n            && this.pagination.total > this.pagination.pageSize) {\r\n            var prefix = this.paginationOptions.useBootstrap ? '' : this.cssPrefix + \"-\";\r\n            paginateDiv.innerHTML = \"\";\r\n            var pageIndex = this.pagination.page || 1;\r\n            var pageCount = Math.ceil(this.pagination.total / this.pagination.pageSize) || 1;\r\n            var buttonClickHandler = function (ev) {\r\n                var element = ev.target;\r\n                if (element.hasAttribute('data-page')) {\r\n                    var page = parseInt(element.getAttribute('data-page'));\r\n                    _this.pagination.page = page;\r\n                    _this.fireEvent({ type: \"pageChanged\", page: page });\r\n                    _this.refresh();\r\n                    _this.bodyViewportDiv.focus();\r\n                }\r\n            };\r\n            var maxButtonCount = this.paginationOptions.maxButtonCount || 10;\r\n            var zeroBasedIndex = pageIndex - 1;\r\n            var firstPageIndex = zeroBasedIndex - (zeroBasedIndex % maxButtonCount) + 1;\r\n            var lastPageIndex = firstPageIndex + maxButtonCount - 1;\r\n            if (lastPageIndex > pageCount) {\r\n                lastPageIndex = pageCount;\r\n            }\r\n            var ul = document.createElement('ul');\r\n            ul.className = prefix + \"pagination\";\r\n            var li = document.createElement('li');\r\n            li.className = prefix + \"page-item\";\r\n            var a = document.createElement('span');\r\n            a.setAttribute(\"aria-hidden\", 'true');\r\n            a.className = prefix + \"page-link\";\r\n            if (firstPageIndex == 1) {\r\n                li.className += \" disabled\";\r\n            }\r\n            else {\r\n                if (this.paginationOptions.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                    a = newA;\r\n                }\r\n                a.className = prefix + \"page-link\";\r\n                a.addEventListener(\"click\", buttonClickHandler);\r\n            }\r\n            a.innerHTML = \"&laquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            for (var i = firstPageIndex; i <= lastPageIndex; i++) {\r\n                li = document.createElement('li');\r\n                li.className = prefix + \"page-item\";\r\n                if (i == pageIndex)\r\n                    li.className += \" active\";\r\n                a = document.createElement('a');\r\n                a.setAttribute('href', 'javascript:void(0)');\r\n                a.innerHTML = i.toString();\r\n                a.setAttribute('data-page', i.toString());\r\n                a.className = prefix + \"page-link\";\r\n                a.addEventListener(\"click\", buttonClickHandler);\r\n                li.appendChild(a);\r\n                ul.appendChild(li);\r\n            }\r\n            li = document.createElement('li');\r\n            li.className = prefix + \"page-item\";\r\n            a = document.createElement(\"span\");\r\n            a.setAttribute('aria-hidden', 'true');\r\n            a.className = prefix + \"page-link\";\r\n            if (lastPageIndex == pageCount) {\r\n                li.className += \" disabled\";\r\n            }\r\n            else {\r\n                if (this.paginationOptions.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                    a = newA;\r\n                }\r\n                a.className = prefix + \"page-link\";\r\n                a.addEventListener(\"click\", buttonClickHandler);\r\n            }\r\n            a.innerHTML = \"&raquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            paginateDiv.appendChild(ul);\r\n        }\r\n        return paginateDiv;\r\n    };\r\n    EasyGrid.prototype.addEventListener = function (eventType, handler) {\r\n        return this.eventEmitter.subscribe(eventType, function (event) { return handler(event.data); });\r\n    };\r\n    EasyGrid.prototype.removeEventListener = function (eventType, handlerId) {\r\n        this.eventEmitter.unsubscribe(eventType, handlerId);\r\n    };\r\n    EasyGrid.prototype.renderAddColumnButton = function () {\r\n        var _this = this;\r\n        if (this.options.addColumns) {\r\n            return domel('div')\r\n                .addClass(this.cssPrefix + \"-addrow\")\r\n                .title(this.options.addColumnsTitle || 'Add column')\r\n                .addChild('a', function (builder) { return builder\r\n                .attr('href', 'javascript:void(0)')\r\n                .on('click', function (e) {\r\n                e.preventDefault();\r\n                _this.fireEvent({\r\n                    type: 'addColumnClick',\r\n                    sourceEvent: e\r\n                });\r\n            }); })\r\n                .toDOM();\r\n        }\r\n        return domel('span')\r\n            .addText('#')\r\n            .toDOM();\r\n    };\r\n    EasyGrid.prototype.showLandingSlot = function (pageX, pageY) {\r\n        var colElems = this.headerRowDiv.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-table-col]\");\r\n        var cols = [];\r\n        for (var i = 1; i < colElems.length; i++) {\r\n            var rowElem = colElems[i];\r\n            if (rowElem.style.display === 'none')\r\n                continue;\r\n            cols.push(rowElem);\r\n        }\r\n        if (cols.length === 0) {\r\n            this.landingIndex = 0;\r\n            this.headerRowDiv.appendChild(this.landingSlot);\r\n            return;\r\n        }\r\n        var landingPos = getElementAbsolutePos(this.landingSlot);\r\n        if (pageX >= landingPos.x && pageX <= landingPos.x + this.landingSlot.offsetWidth) {\r\n            return;\r\n        }\r\n        var newLandingIndex = this.landingIndex;\r\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\r\n            var col = cols_1[_i];\r\n            var colPos = getElementAbsolutePos(col);\r\n            var width = col.offsetWidth;\r\n            if (pageX > colPos.x && pageX < colPos.x + width) {\r\n                // -1 as we don't need to count add button here\r\n                newLandingIndex = parseInt(col.getAttribute('data-col-idx')) - 1;\r\n            }\r\n        }\r\n        if (newLandingIndex != this.landingIndex) {\r\n            this.landingIndex = newLandingIndex;\r\n            if (this.landingIndex < cols.length) {\r\n                this.headerRowDiv.insertBefore(this.landingSlot, cols[this.landingIndex]);\r\n            }\r\n            else {\r\n                this.headerRowDiv.appendChild(this.landingSlot);\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.hideLandingSlot = function () {\r\n        var _this = this;\r\n        this.landingIndex = -1;\r\n        setTimeout(function () {\r\n            if (_this.landingSlot.parentElement) {\r\n                _this.landingSlot.parentElement.removeChild(_this.landingSlot);\r\n            }\r\n        }, 10);\r\n    };\r\n    Object.defineProperty(EasyGrid.prototype, \"activeRowIndex\", {\r\n        get: function () {\r\n            return this._activeRowIndex;\r\n        },\r\n        set: function (value) {\r\n            if (value !== this._activeRowIndex) {\r\n                var oldValue = this._activeRowIndex;\r\n                this._activeRowIndex = value;\r\n                this.updateActiveRow();\r\n                this.fireEvent({\r\n                    type: 'activeRowChanged',\r\n                    oldValue: oldValue,\r\n                    newValue: this.activeRowIndex,\r\n                    rowIndex: this.getGlobalIndexByLocal(this.activeRowIndex)\r\n                });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EasyGrid.prototype.updateActiveRow = function () {\r\n        var _this = this;\r\n        if (this.options.showActiveRow) {\r\n            var rows = this.bodyCellContainerDiv.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row-active]\");\r\n            rows.forEach(function (el) { el.classList.remove(_this.cssPrefix + \"-row-active\"); });\r\n            var activeRow = this.getActiveRow();\r\n            if (activeRow) {\r\n                activeRow.classList.add(this.cssPrefix + \"-row-active\");\r\n                this.ensureRowVisibility(this.activeRowIndex);\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.getActiveRow = function () {\r\n        return this.getDataRow(this.activeRowIndex);\r\n    };\r\n    EasyGrid.prototype.getDataRow = function (index) {\r\n        var rows = Array.from(this.bodyCellContainerDiv.querySelectorAll(\".\" + this.cssPrefix + \"-row:not(.\" + this.cssPrefix + \"-row-totals)\"));\r\n        if (index >= 0 && index < rows.length)\r\n            return rows[index];\r\n        return null;\r\n    };\r\n    EasyGrid.prototype.focus = function () {\r\n        this.bodyViewportDiv.focus();\r\n    };\r\n    return EasyGrid;\r\n}());\r\nexport { EasyGrid };\r\n//# sourceMappingURL=easy_grid.js.map","var Calendar = /** @class */ (function () {\r\n    function Calendar(slot, options) {\r\n        this.slot = slot;\r\n        this.options = options || {};\r\n        if (!this.options.yearRange) {\r\n            this.options.yearRange = 'c-10:c+10';\r\n        }\r\n    }\r\n    Object.defineProperty(Calendar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'kdtp-cal';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Calendar.prototype.setDate = function (date) {\r\n        this.currentDate = new Date(date);\r\n    };\r\n    Calendar.prototype.getDate = function () {\r\n        return new Date(this.currentDate);\r\n    };\r\n    Calendar.prototype.dateChanged = function (apply) {\r\n        if (this.options.onDateChanged) {\r\n            this.options.onDateChanged(this.currentDate, apply);\r\n        }\r\n    };\r\n    return Calendar;\r\n}());\r\nexport { Calendar };\r\n//# sourceMappingURL=calendar.js.map","import { getElementAbsolutePos } from '../utils/ui-utils';\r\nvar DateTimePicker = /** @class */ (function () {\r\n    function DateTimePicker(options) {\r\n        this.calendar = null;\r\n        this.timePicker = null;\r\n        this.options = options;\r\n        this.render();\r\n    }\r\n    Object.defineProperty(DateTimePicker.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'kdtp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DateTimePicker.prototype.setDateTime = function (dateTime) {\r\n        this.currentDateTime = new Date(dateTime);\r\n        if (this.calendar) {\r\n            this.calendar.setDate(this.currentDateTime);\r\n        }\r\n        if (this.timePicker) {\r\n            this.timePicker.setTime(this.currentDateTime);\r\n        }\r\n    };\r\n    DateTimePicker.prototype.getDateTime = function () {\r\n        return new Date(this.currentDateTime);\r\n    };\r\n    DateTimePicker.prototype.render = function () {\r\n        var _this = this;\r\n        if (this.options.showCalendar) {\r\n            this.calendar = this.createCalendar({\r\n                yearRange: this.options.yearRange,\r\n                showDateTimeInput: this.options.showDateTimeInput,\r\n                timePickerIsUsed: this.options.showTimePicker,\r\n                oneClickDateSelection: this.options.oneClickDateSelection,\r\n                onDateChanged: function (date, apply) {\r\n                    _this.currentDateTime = date;\r\n                    if (_this.timePicker) {\r\n                        _this.timePicker.setTime(_this.currentDateTime);\r\n                    }\r\n                    if (_this.options.showTimePicker) {\r\n                        _this.dateTimeChanged();\r\n                    }\r\n                    if (apply) {\r\n                        _this.apply(_this.currentDateTime);\r\n                    }\r\n                }\r\n            });\r\n            if (this.calendar)\r\n                this.calendar.render();\r\n        }\r\n        if (this.options.showTimePicker) {\r\n            this.timePicker = this.createTimePicker({\r\n                onTimeChanged: function (time) {\r\n                    _this.currentDateTime.setHours(time.getHours());\r\n                    _this.currentDateTime.setMinutes(time.getMinutes());\r\n                    if (_this.calendar) {\r\n                        _this.calendar.setDate(_this.currentDateTime);\r\n                    }\r\n                    _this.dateTimeChanged();\r\n                }\r\n            });\r\n            if (this.timePicker)\r\n                this.timePicker.render();\r\n        }\r\n        this.setDateTime(new Date());\r\n    };\r\n    DateTimePicker.prototype.createCalendar = function (options) {\r\n        return null;\r\n    };\r\n    DateTimePicker.prototype.createTimePicker = function (options) {\r\n        return null;\r\n    };\r\n    DateTimePicker.prototype.show = function (anchor) {\r\n        if (this.options.beforeShow) {\r\n            this.options.beforeShow();\r\n        }\r\n        var pos = getElementAbsolutePos(anchor || document.body);\r\n        this.slot.style.top = pos.y + anchor.clientHeight + 'px';\r\n        this.slot.style.left = pos.x + 'px';\r\n    };\r\n    DateTimePicker.prototype.apply = function (date) {\r\n        if (this.options.onApply) {\r\n            this.options.onApply(date);\r\n        }\r\n        this.destroy();\r\n    };\r\n    DateTimePicker.prototype.cancel = function () {\r\n        if (this.options.onCancel) {\r\n            this.options.onCancel();\r\n        }\r\n        this.destroy();\r\n    };\r\n    DateTimePicker.prototype.destroy = function () {\r\n        if (this.slot && this.slot.parentElement) {\r\n            this.slot.parentElement.removeChild(this.slot);\r\n        }\r\n    };\r\n    DateTimePicker.prototype.dateTimeChanged = function () {\r\n        if (this.options.onDateTimeChanged) {\r\n            this.options.onDateTimeChanged(this.currentDateTime);\r\n        }\r\n    };\r\n    return DateTimePicker;\r\n}());\r\nexport { DateTimePicker };\r\n//# sourceMappingURL=date_time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { Calendar } from './calendar';\r\nvar DefaultCalendar = /** @class */ (function (_super) {\r\n    __extends(DefaultCalendar, _super);\r\n    function DefaultCalendar(slot, options) {\r\n        var _this = _super.call(this, slot, options) || this;\r\n        _this.daysOfWeek = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n        _this.months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n        _this.calendarBody = null;\r\n        _this.isManualInputChanging = false;\r\n        for (var i = 0; i < _this.daysOfWeek.length; i++) {\r\n            _this.daysOfWeek[i] = i18n.getShortWeekDayName(i + 1);\r\n        }\r\n        for (var i = 0; i < _this.months.length; i++) {\r\n            _this.months[i] = i18n.getLongMonthName(i + 1);\r\n        }\r\n        return _this;\r\n    }\r\n    DefaultCalendar.prototype.setDate = function (date) {\r\n        _super.prototype.setDate.call(this, date);\r\n        this.selectedMonth = this.currentDate.getMonth();\r\n        this.selectedYear = this.currentDate.getFullYear();\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.render = function () {\r\n        var _this = this;\r\n        var header = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-header\");\r\n        if (this.options.showDateTimeInput) {\r\n            header\r\n                .addChildElement(this.renderManualDateInput());\r\n        }\r\n        else {\r\n            header\r\n                .addChild('span', function (builder) { return _this.headerTextElem = builder.toDOM(); });\r\n        }\r\n        domel(this.slot)\r\n            .addChildElement(this.renderCalendarButtons());\r\n        this.calendarBody = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-body\")\r\n            .toDOM();\r\n    };\r\n    DefaultCalendar.prototype.getInputDateFormat = function () {\r\n        var settings = i18n.getLocaleSettings();\r\n        return (this.options.timePickerIsUsed)\r\n            ? settings.editDateFormat + \" \" + settings.editTimeFormat\r\n            : settings.editDateFormat;\r\n    };\r\n    DefaultCalendar.prototype.renderManualDateInput = function () {\r\n        var _this = this;\r\n        var format = this.getInputDateFormat();\r\n        var builder = domel('input')\r\n            .attr('placeholder', format)\r\n            .addClass(this.cssPrefix + \"-header-input\");\r\n        builder\r\n            .mask(format.replace('yyyy', '9999')\r\n            .replace('MM', '99')\r\n            .replace('dd', '99')\r\n            .replace('HH', '99')\r\n            .replace('mm', '99')\r\n            .replace('ss', '99'))\r\n            .on('input', function (ev) {\r\n            builder.removeClass('error');\r\n            try {\r\n                _this.isManualInputChanging = true;\r\n                var newDate = dataUtils.strToDateTime(_this.manualInputElem.value, format);\r\n                _this.currentDate = newDate;\r\n                _this.jump(_this.currentDate.getFullYear(), _this.currentDate.getMonth());\r\n                _this.dateChanged(false);\r\n            }\r\n            catch (e) {\r\n                builder.addClass('error');\r\n            }\r\n            finally {\r\n                _this.isManualInputChanging = false;\r\n            }\r\n        })\r\n            .on('keydown', function (ev) {\r\n            if (ev.keyCode === 13) {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n                if (_this.manualInputElem.className.indexOf('error') < 0\r\n                    && !_this.isManualInputChanging)\r\n                    _this.dateChanged(true);\r\n            }\r\n        })\r\n            .on('focus', function () {\r\n            setTimeout(function () {\r\n                _this.manualInputElem.selectionStart = 0;\r\n                _this.manualInputElem.selectionEnd = 0;\r\n            }, 50);\r\n        });\r\n        this.manualInputElem = builder.toDOM();\r\n        return this.manualInputElem;\r\n    };\r\n    DefaultCalendar.prototype.updateDisplayedDateValue = function () {\r\n        if (this.manualInputElem) {\r\n            if (!this.isManualInputChanging) {\r\n                var format = this.getInputDateFormat();\r\n                this.manualInputElem.value = dataUtils.dateTimeToStr(this.currentDate, format);\r\n                this.manualInputElem.focus();\r\n            }\r\n        }\r\n        else if (this.headerTextElem) {\r\n            var locale = i18n.getCurrentLocale();\r\n            this.headerTextElem.innerText = this.currentDate.toLocaleString(locale == 'en' ? undefined : locale, {\r\n                year: 'numeric',\r\n                month: 'long',\r\n                day: 'numeric',\r\n            });\r\n        }\r\n    };\r\n    DefaultCalendar.prototype.renderCalendarButtons = function () {\r\n        var _this = this;\r\n        var builder = domel('nav')\r\n            .addClass(this.cssPrefix + \"-nav\")\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-prev\")\r\n            .on('click', function () {\r\n            _this.prev();\r\n        })\r\n            .addChild('span', function (builder) { return builder.html('&lsaquo;'); }); })\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-selectors\")\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-month\")\r\n            .addChild('select', function (builder) {\r\n            builder\r\n                .on('change', function () {\r\n                _this.jump(_this.selectedYear, parseInt(_this.selectMonthElem.value));\r\n            });\r\n            var _loop_1 = function (i) {\r\n                builder.addChild('option', function (builder) { return builder\r\n                    .attr('value', i.toString())\r\n                    .text(_this.months[i]); });\r\n            };\r\n            for (var i = 0; i < _this.months.length; i++) {\r\n                _loop_1(i);\r\n            }\r\n            _this.selectMonthElem = builder.toDOM();\r\n        }); })\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-year\")\r\n            .addChild('select', function (builder) { return _this.selectYearElem = builder\r\n            .on('change', function () {\r\n            _this.jump(parseInt(_this.selectYearElem.value), _this.selectedMonth);\r\n        })\r\n            .toDOM(); }); }); })\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-next\")\r\n            .on('click', function () {\r\n            _this.next();\r\n        })\r\n            .addChild('span', function (builder) { return builder.html('&rsaquo;'); }); });\r\n        return builder.toDOM();\r\n    };\r\n    DefaultCalendar.prototype.prev = function () {\r\n        this.selectedYear = (this.selectedMonth === 0) ? this.selectedYear - 1 : this.selectedYear;\r\n        this.selectedMonth = (this.selectedMonth === 0) ? 11 : this.selectedMonth - 1;\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.next = function () {\r\n        this.selectedYear = (this.selectedMonth === 11) ? this.selectedYear + 1 : this.selectedYear;\r\n        this.selectedMonth = (this.selectedMonth + 1) % 12;\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.rerenderSelectYear = function () {\r\n        var match = /c-(\\d*):c\\+(\\d*)/g.exec(this.options.yearRange);\r\n        var minusYear = 0;\r\n        var plusYear = 1;\r\n        if (match !== null) {\r\n            minusYear = parseInt(match[1]);\r\n            plusYear = parseInt(match[2]);\r\n        }\r\n        this.selectYearElem.innerHTML = '';\r\n        for (var i = 0; i <= minusYear + plusYear; i++) {\r\n            var op = document.createElement(\"option\");\r\n            var year = this.selectedYear - minusYear + i;\r\n            op.value = year.toString();\r\n            op.innerText = year.toString();\r\n            this.selectYearElem.appendChild(op);\r\n        }\r\n    };\r\n    DefaultCalendar.prototype.jump = function (year, month) {\r\n        this.selectedYear = year;\r\n        this.selectedMonth = month;\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.rerenderMonth = function () {\r\n        var _this = this;\r\n        //header text\r\n        this.updateDisplayedDateValue();\r\n        this.rerenderSelectYear();\r\n        var firstDay = (new Date(this.selectedYear, this.selectedMonth)).getDay();\r\n        var daysInMonth = new Date(this.selectedYear, this.selectedMonth + 1, 0).getDate();\r\n        this.calendarBody.innerHTML = \"\";\r\n        this.selectYearElem.value = this.selectedYear.toString();\r\n        this.selectMonthElem.value = this.selectedMonth.toString();\r\n        this.daysOfWeek.forEach(function (day, idx) {\r\n            domel('div', _this.calendarBody)\r\n                .addClass(_this.cssPrefix + \"-weekday\")\r\n                .addClass(idx == 0 || idx == 6 ? _this.cssPrefix + \"-weekend\" : '')\r\n                .text(day);\r\n        });\r\n        // Add empty cells before first day\r\n        for (var i = 0; i < firstDay; i++) {\r\n            domel('div', this.calendarBody)\r\n                .addClass(this.cssPrefix + \"-day-empty\");\r\n        }\r\n        // Add all month days\r\n        var today = new Date();\r\n        for (var day = 1; day <= daysInMonth; day++) {\r\n            var builder = domel('div', this.calendarBody)\r\n                .addClass(this.cssPrefix + \"-day\")\r\n                .attr('data-date', day.toString())\r\n                .text(day.toString())\r\n                .on('click', function (e) {\r\n                _this.currentDate.setFullYear(_this.selectedYear);\r\n                _this.currentDate.setMonth(_this.selectedMonth);\r\n                _this.currentDate.setDate(parseInt(e.target.getAttribute('data-date')));\r\n                _this.dateChanged(_this.options.oneClickDateSelection);\r\n            });\r\n            if (day === today.getDate() && this.selectedYear === today.getFullYear() && this.selectedMonth === today.getMonth()) {\r\n                builder.addClass(this.cssPrefix + \"-day-current\");\r\n            }\r\n            if (day === this.currentDate.getDate() && this.selectedYear === this.currentDate.getFullYear() && this.selectedMonth === this.currentDate.getMonth()) {\r\n                builder.addClass(this.cssPrefix + \"-day-selected\");\r\n            }\r\n            var dayOfWeek = (firstDay + day - 1) % 7;\r\n            if (dayOfWeek == 0 || dayOfWeek == 6) {\r\n                builder.addClass(this.cssPrefix + \"-weekend\");\r\n            }\r\n        }\r\n        // Add empty cells after last day\r\n        var cellsDrawnInLastRow = (firstDay + daysInMonth) % 7;\r\n        var cellsToDraw = cellsDrawnInLastRow == 0 ? 0 : 7 - cellsDrawnInLastRow;\r\n        for (var i = 0; i < cellsToDraw; i++) {\r\n            domel('div', this.calendarBody)\r\n                .addClass(this.cssPrefix + \"-day-empty\");\r\n        }\r\n    };\r\n    DefaultCalendar.prototype.dateChanged = function (apply) {\r\n        _super.prototype.dateChanged.call(this, apply);\r\n        this.rerenderMonth();\r\n    };\r\n    return DefaultCalendar;\r\n}(Calendar));\r\nexport { DefaultCalendar };\r\n//# sourceMappingURL=default_calendar.js.map","var TimePicker = /** @class */ (function () {\r\n    function TimePicker(slot, options) {\r\n        this.slot = slot;\r\n        this.options = options || {};\r\n    }\r\n    Object.defineProperty(TimePicker.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'kdtp-tp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TimePicker.prototype.setTime = function (time) {\r\n        this.currentTime = new Date(time);\r\n    };\r\n    TimePicker.prototype.getTime = function () {\r\n        return new Date(this.currentTime);\r\n    };\r\n    TimePicker.prototype.timeChanged = function () {\r\n        if (this.options.onTimeChanged) {\r\n            this.options.onTimeChanged(this.currentTime);\r\n        }\r\n    };\r\n    return TimePicker;\r\n}());\r\nexport { TimePicker };\r\n//# sourceMappingURL=time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { TimePicker } from './time_picker';\r\nvar DefaultTimePicker = /** @class */ (function (_super) {\r\n    __extends(DefaultTimePicker, _super);\r\n    function DefaultTimePicker() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefaultTimePicker.prototype.setTime = function (time) {\r\n        _super.prototype.setTime.call(this, time);\r\n        this.updateDisplayedTime();\r\n        this.hoursInput.valueAsNumber = time.getHours();\r\n        this.minutesInput.valueAsNumber = time.getMinutes();\r\n    };\r\n    DefaultTimePicker.prototype.render = function () {\r\n        var _this = this;\r\n        domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-time\")\r\n            .addChild('span', function (builder) { return _this.timeText = builder.toDOM(); })\r\n            .toDOM();\r\n        var slidersBuilder = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-sliders\");\r\n        slidersBuilder\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-time-row\")\r\n            .title('Hours')\r\n            .addChild('input', function (builder) { return _this.hoursInput = builder\r\n            .addClass(_this.cssPrefix + \"-input-hours\")\r\n            .type('range')\r\n            .attr('min', '0')\r\n            .attr('max', '23')\r\n            .attr('step', '1')\r\n            .on('input', function (e) {\r\n            _this.currentTime.setHours(_this.hoursInput.valueAsNumber);\r\n            _this.updateDisplayedTime();\r\n            _this.timeChanged();\r\n        })\r\n            .toDOM(); }); });\r\n        slidersBuilder\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-time-row\")\r\n            .title('Minutes')\r\n            .addChild('input', function (builder) { return _this.minutesInput = builder\r\n            .addClass(_this.cssPrefix + \"-input-minutes\")\r\n            .type('range')\r\n            .attr('min', '0')\r\n            .attr('max', '59')\r\n            .attr('step', '1')\r\n            .on('input', function (e) {\r\n            _this.currentTime.setMinutes(_this.minutesInput.valueAsNumber);\r\n            _this.updateDisplayedTime();\r\n            _this.timeChanged();\r\n        })\r\n            .toDOM(); }); });\r\n        return this.slot;\r\n    };\r\n    DefaultTimePicker.prototype.updateDisplayedTime = function () {\r\n        var locale = i18n.getCurrentLocale();\r\n        var timeToDraw = this.currentTime.toLocaleString(locale == 'en' ? undefined : locale, {\r\n            hour: \"numeric\",\r\n            minute: \"numeric\"\r\n        });\r\n        this.timeText.innerText = timeToDraw;\r\n    };\r\n    return DefaultTimePicker;\r\n}(TimePicker));\r\nexport { DefaultTimePicker };\r\n//# sourceMappingURL=default_time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { DateTimePicker } from './date_time_picker';\r\nimport { DefaultCalendar } from './default_calendar';\r\nimport { DefaultTimePicker } from './default_time_picker';\r\nimport { getElementAbsolutePos } from '../utils/ui-utils';\r\nvar DefaultDateTimePicker = /** @class */ (function (_super) {\r\n    __extends(DefaultDateTimePicker, _super);\r\n    function DefaultDateTimePicker() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefaultDateTimePicker.prototype.render = function () {\r\n        var _this = this;\r\n        this.slot = domel('div', document.body)\r\n            .addClass(\"\" + this.cssPrefix)\r\n            .attr('tabIndex', '0')\r\n            .setStyle('position', 'absolute')\r\n            .setStyle('top', '-1000px')\r\n            .setStyle('left', '-1000px')\r\n            .on('keydown', function (ev) {\r\n            if (ev.keyCode === 27) { // ESC is pressed\r\n                _this.cancel();\r\n            }\r\n            else if (ev.keyCode === 13) { // Enter is pressed\r\n                _this.apply(_this.getDateTime());\r\n            }\r\n            return false;\r\n        })\r\n            .toDOM();\r\n        _super.prototype.render.call(this);\r\n        this.renderButtons();\r\n        this.globalMouseDownHandler = function (e) {\r\n            var event = window.event || e;\r\n            var o = event.srcElement || event.target;\r\n            var isOutside = !_this.slot.contains(event.target);\r\n            if (isOutside) {\r\n                document.removeEventListener('mousedown', _this.globalMouseDownHandler, true);\r\n                _this.cancel();\r\n            }\r\n            return true;\r\n        };\r\n    };\r\n    DefaultDateTimePicker.prototype.renderButtons = function () {\r\n        var _this = this;\r\n        var builder = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-buttons\")\r\n            .addChild('button', function (b) { return _this.nowButton = b\r\n            .addClass(_this.cssPrefix + \"-button \" + _this.cssPrefix + \"-button-now\")\r\n            .text(i18n.getText('ButtonNow'))\r\n            .on('click', function () {\r\n            _this.setDateTime(new Date());\r\n            _this.dateTimeChanged();\r\n            return false;\r\n        })\r\n            .toDOM(); });\r\n        if (this.options.showTimePicker || !this.options.oneClickDateSelection) {\r\n            builder.addChild('button', function (b) { return _this.submitButton = b\r\n                .addClass(_this.cssPrefix + \"-button \" + _this.cssPrefix + \"-button-apply\")\r\n                .text(i18n.getText('ButtonApply'))\r\n                .on('click', function () {\r\n                _this.apply(_this.getDateTime());\r\n                return false;\r\n            })\r\n                .toDOM(); });\r\n        }\r\n        builder.addChild('button', function (b) { return _this.submitButton = b\r\n            .addClass(_this.cssPrefix + \"-button \" + _this.cssPrefix + \"-button-cancel\")\r\n            .text(i18n.getText('ButtonCancel'))\r\n            .on('click', function () {\r\n            _this.cancel();\r\n            return false;\r\n        })\r\n            .toDOM(); });\r\n    };\r\n    DefaultDateTimePicker.prototype.createCalendar = function (options) {\r\n        this.calendarSlot =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-cal\")\r\n                .toDOM();\r\n        return new DefaultCalendar(this.calendarSlot, options);\r\n    };\r\n    DefaultDateTimePicker.prototype.createTimePicker = function (options) {\r\n        this.timePickerSlot =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-tp\")\r\n                .toDOM();\r\n        return new DefaultTimePicker(this.timePickerSlot, options);\r\n    };\r\n    DefaultDateTimePicker.prototype.show = function (anchor) {\r\n        var _this = this;\r\n        if (this.options.showDateTimeInput) {\r\n            if (this.options.beforeShow) {\r\n                this.options.beforeShow();\r\n            }\r\n            var anchorPos = getElementAbsolutePos(anchor || document.body);\r\n            var parentPos = getElementAbsolutePos(anchor ? anchor.parentElement || anchor : document.body);\r\n            this.slot.style.top = parentPos.y + 'px';\r\n            this.slot.style.left = anchorPos.x + 'px';\r\n        }\r\n        else {\r\n            _super.prototype.show.call(this, anchor);\r\n            this.slot.focus();\r\n        }\r\n        setTimeout(function () {\r\n            document.addEventListener('mousedown', _this.globalMouseDownHandler, true);\r\n        }, 1);\r\n    };\r\n    return DefaultDateTimePicker;\r\n}(DateTimePicker));\r\nexport { DefaultDateTimePicker };\r\n//# sourceMappingURL=default_date_time_picker.js.map","import { i18n, utils } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nvar cssPrefix = \"kdlg\";\r\nvar DefaultDialogService = /** @class */ (function () {\r\n    function DefaultDialogService() {\r\n    }\r\n    DefaultDialogService.prototype.openConfirm = function (title, content, callback) {\r\n        var _this = this;\r\n        var template = \"<div id=\\\"\" + cssPrefix + \"-dialog-confirm\\\">\" + content + \"</div>\";\r\n        var options = {\r\n            title: title,\r\n            closable: false,\r\n            submitable: true,\r\n            cancelable: true,\r\n            body: template\r\n        };\r\n        if (callback) {\r\n            options.onSubmit = function () {\r\n                callback(true);\r\n            };\r\n            options.onCancel = function () {\r\n                callback(false);\r\n            };\r\n            this.open(options);\r\n            return;\r\n        }\r\n        return new Promise(function (resolve) {\r\n            options.onSubmit = function () {\r\n                resolve(true);\r\n            };\r\n            options.onCancel = function () {\r\n                resolve(false);\r\n            };\r\n            _this.open(options);\r\n        });\r\n    };\r\n    DefaultDialogService.prototype.openPrompt = function (title, content, defVal, callback) {\r\n        var _this = this;\r\n        var template = \"<div id=\\\"\" + cssPrefix + \"-dialog-form\\\" class=\\\"kfrm-form\\\">\\n            <div class=\\\"kfrm-fields label-above\\\">\\n                <label for=\\\"\" + cssPrefix + \"-dialog-form-input\\\" id=\\\"\" + cssPrefix + \"-dialog-form-content\\\">\" + content + \"</label>\\n                <input type=\\\"text\\\" name=\\\"\" + cssPrefix + \"-dialog-form-input\\\" id=\\\"\" + cssPrefix + \"-dialog-form-input\\\" />\\n            </div>\\n        </div>\";\r\n        var options = {\r\n            title: title,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            body: template,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(cssPrefix + \"-dialog-form-input\");\r\n                if (defVal) {\r\n                    input.value = defVal;\r\n                }\r\n                input.focus();\r\n            }\r\n        };\r\n        var processInput = function (callback) {\r\n            var input = document.getElementById(cssPrefix + \"-dialog-form-input\");\r\n            var result = input.value;\r\n            if (result && result.replace(/\\s/g, '').length > 0) {\r\n                callback(result);\r\n                return true;\r\n            }\r\n            input.classList.add('eqjs-invalid');\r\n            return false;\r\n        };\r\n        if (callback) {\r\n            options.onSubmit = function () {\r\n                return processInput(callback);\r\n            };\r\n            options.onCancel = function () {\r\n                callback(\"\");\r\n            };\r\n            this.open(options);\r\n            return;\r\n        }\r\n        return new Promise(function (resolve) {\r\n            options.onSubmit = function () {\r\n                return processInput(resolve);\r\n            };\r\n            options.onCancel = function () {\r\n                resolve(\"\");\r\n            };\r\n            _this.open(options);\r\n        });\r\n    };\r\n    DefaultDialogService.prototype.open = function (options) {\r\n        var dlg = new DefaultDialog(options);\r\n        dlg.open();\r\n        return dlg;\r\n    };\r\n    return DefaultDialogService;\r\n}());\r\nexport { DefaultDialogService };\r\nvar DefaultDialog = /** @class */ (function () {\r\n    function DefaultDialog(options) {\r\n        var _this = this;\r\n        this.options = options;\r\n        this.submitHandler = function () {\r\n            if (_this.options.onSubmit && _this.options.onSubmit() === false) {\r\n                return false;\r\n            }\r\n            _this.destroy();\r\n            return true;\r\n        };\r\n        this.cancelHandler = function () {\r\n            if (_this.options.onCancel) {\r\n                _this.options.onCancel();\r\n            }\r\n            _this.destroy();\r\n        };\r\n        this.keydownHandler = function (ev) {\r\n            if (ev.keyCode == 13 && _this.isActiveDialog()) {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n                if (_this.submitHandler()) {\r\n                    window.removeEventListener('keydown', _this.keydownHandler, false);\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        var id = utils.generateId('dlg');\r\n        this.slot =\r\n            domel('div', document.body)\r\n                .attr('tab-index', '-1')\r\n                .data('dialog-id', id)\r\n                .addClass('kdlg-modal', 'is-active')\r\n                .addChild('div', function (b) { return b\r\n                .addClass('kdlg-modal-background'); })\r\n                .addChild('div', function (b) { return _this.windowElement = b\r\n                .addClass('kdlg-modal-window')\r\n                .addChild('header', function (b) {\r\n                _this.headerElement = b\r\n                    .addClass('kdlg-header')\r\n                    .addChild('p', function (b) { return b\r\n                    .addClass('kdlg-header-title')\r\n                    .addText(options.title); })\r\n                    .toDOM();\r\n                if (options.closable !== false)\r\n                    b.addChild('button', function (b) { return b\r\n                        .addClass('kdlg-modal-close')\r\n                        .on('click', function () {\r\n                        _this.cancelHandler();\r\n                    }); });\r\n            })\r\n                .addChild('section', function (b) {\r\n                _this.bodyElement = b\r\n                    .addClass('kdlg-body')\r\n                    .toDOM();\r\n                if (typeof options.body === 'string') {\r\n                    b.addHtml(options.body);\r\n                }\r\n                else {\r\n                    b.addChildElement(options.body);\r\n                }\r\n            })\r\n                .addChild('div', function (b) { return _this.alertElement = b\r\n                .addClass('kdlg-alert-container')\r\n                .toDOM(); })\r\n                .addChild('footer', function (b) {\r\n                _this.footerElement = b\r\n                    .addClass('kdlg-footer', 'align-right')\r\n                    .toDOM();\r\n                if (options.submitable === false)\r\n                    return;\r\n                b.addChild('button', function (b) { return b\r\n                    .addClass('kfrm-button', 'is-info')\r\n                    .addText(i18n.getText('ButtonOK'))\r\n                    .on('click', function (e) {\r\n                    _this.submitHandler();\r\n                }); });\r\n                if (options.cancelable !== false)\r\n                    b.addChild('button', function (builder) { return builder\r\n                        .addClass('kfrm-button')\r\n                        .addText(i18n.getText('ButtonCancel'))\r\n                        .on('click', function (e) {\r\n                        _this.cancelHandler();\r\n                    }); });\r\n            })\r\n                .toDOM(); })\r\n                .toDOM();\r\n    }\r\n    DefaultDialog.prototype.getRootElement = function () {\r\n        return this.slot;\r\n    };\r\n    DefaultDialog.prototype.open = function () {\r\n        if (this.options.beforeOpen) {\r\n            this.options.beforeOpen();\r\n        }\r\n        domel(this.slot).show();\r\n        if (this.options.arrangeParents) {\r\n            this.arrangeParents(true);\r\n        }\r\n        var windowDiv = this.slot\r\n            .querySelector('.kdlg-modal-window');\r\n        if (this.options.height) {\r\n            windowDiv.style.height = typeof this.options.height === 'string'\r\n                ? this.options.height\r\n                : this.options.height + \"px\";\r\n        }\r\n        if (this.options.width) {\r\n            windowDiv.style.width = typeof this.options.width === 'string'\r\n                ? this.options.width\r\n                : this.options.width + \"px\";\r\n        }\r\n        if (this.options.submitOnEnter) {\r\n            window.addEventListener('keydown', this.keydownHandler, false);\r\n        }\r\n    };\r\n    DefaultDialog.prototype.submit = function () {\r\n        this.submitHandler();\r\n    };\r\n    DefaultDialog.prototype.cancel = function () {\r\n        this.cancelHandler();\r\n    };\r\n    DefaultDialog.prototype.close = function () {\r\n        this.destroy();\r\n    };\r\n    DefaultDialog.prototype.disableButtons = function () {\r\n        var buttons = this.slot.querySelectorAll('button');\r\n        buttons.forEach(function (button) { return button.disabled = true; });\r\n    };\r\n    DefaultDialog.prototype.enableButtons = function () {\r\n        var buttons = this.slot.querySelectorAll('button');\r\n        buttons.forEach(function (button) { return button.disabled = false; });\r\n    };\r\n    DefaultDialog.prototype.showAlert = function (text, reason, replace) {\r\n        var alert = domel('div')\r\n            .addClass(\"kdlg-alert \" + (reason || ''))\r\n            .addChild('span', function (b) { return b\r\n            .addClass('kdlg-alert-closebtn')\r\n            .text('')\r\n            .on('click', function (ev) {\r\n            var alert = ev.target.parentElement;\r\n            alert.parentElement.removeChild(alert);\r\n        }); })\r\n            .addText(text)\r\n            .toDOM();\r\n        if (replace === true) {\r\n            this.clearAlert();\r\n        }\r\n        this.alertElement.appendChild(alert);\r\n    };\r\n    DefaultDialog.prototype.clearAlert = function () {\r\n        this.alertElement.innerHTML = '';\r\n    };\r\n    DefaultDialog.prototype.destroy = function () {\r\n        if (this.options.arrangeParents) {\r\n            this.arrangeParents(false);\r\n        }\r\n        document.body.removeChild(this.slot);\r\n        if (this.options.submitOnEnter) {\r\n            window.removeEventListener('keydown', this.keydownHandler, false);\r\n        }\r\n        if (this.options.onDestroy) {\r\n            this.options.onDestroy();\r\n        }\r\n    };\r\n    DefaultDialog.prototype.isActiveDialog = function () {\r\n        var windowDivs = document.documentElement.querySelectorAll('.kdlg-modal');\r\n        return windowDivs[windowDivs.length - 1] === this.slot;\r\n    };\r\n    DefaultDialog.prototype.arrangeParents = function (turnOn) {\r\n        var windowDivs = document.documentElement.querySelectorAll('.kdlg-modal-window');\r\n        for (var i = 0; i < windowDivs.length - 1; i++) {\r\n            if (turnOn) {\r\n                var offset = i == 0 ? 20 : i * 40 + 20;\r\n                domel(windowDivs[i])\r\n                    .setStyle('margin-top', offset + \"px\")\r\n                    .setStyle('margin-left', offset + \"px\");\r\n            }\r\n            else {\r\n                domel(windowDivs[i])\r\n                    .removeStyle('margin-top')\r\n                    .removeStyle('margin-left');\r\n            }\r\n        }\r\n    };\r\n    return DefaultDialog;\r\n}());\r\nexport { DefaultDialog };\r\n//# sourceMappingURL=default_dialog_service.js.map","import { i18n } from '@easydata/core';\r\nfunction addEasyDataUITexts() {\r\n    i18n.updateDefaultTexts({\r\n        GridPageInfo: '{FirstPageRecordNum} - {LastPageRecordNum} of {Total} records',\r\n        ButtonApply: 'Apply',\r\n        ButtonNow: 'Now'\r\n    });\r\n}\r\naddEasyDataUITexts();\r\n//# sourceMappingURL=text_resources.js.map","// grid\r\nexport * from './grid/easy_grid';\r\nexport * from './grid/easy_grid_columns';\r\nexport * from './grid/easy_grid_cell_renderer';\r\n//datetimepicker\r\nexport * from './datetimepicker/calendar';\r\nexport * from './datetimepicker/date_time_picker';\r\nexport * from './datetimepicker/default_calendar';\r\nexport * from './datetimepicker/default_date_time_picker';\r\nexport * from './datetimepicker/default_time_picker';\r\nexport * from './datetimepicker/time_picker';\r\n// utils\r\nexport * from './utils/browser_utils';\r\nexport * from './utils/dom_elem_builder';\r\nexport * from './utils/drag_manager';\r\nexport * from './utils/mask';\r\nexport * from './utils/ui-utils';\r\n//dialogs\r\nexport * from './dialogs/default_dialog_service';\r\nimport './i18n/text_resources';\r\n//# sourceMappingURL=public_api.js.map","/** Represents type of linking of conditions in group (predicate).*/\r\nexport var LinkType;\r\n(function (LinkType) {\r\n    /**\r\n     * None of the conditions must be truth (all must be false).\r\n     * In SQL it will look like: `NOT (Condition1 OR Condition2 OR ...)`.\r\n     */\r\n    LinkType[LinkType[\"None\"] = 0] = \"None\";\r\n    /** At least one condition must be truth. In SQL they are connected by `OR` operator.*/\r\n    LinkType[LinkType[\"Any\"] = 1] = \"Any\";\r\n    /**\r\n     * Not all conditions must be truth (at least one must false).\r\n     * In SQL it will look like: `NOT(Condition1 AND Condition2 AND ...)`.\r\n     */\r\n    LinkType[LinkType[\"NotAll\"] = 2] = \"NotAll\";\r\n    /** All conditions must be truth, in result SQL they are connected by `AND` operator;*/\r\n    LinkType[LinkType[\"All\"] = 3] = \"All\";\r\n})(LinkType || (LinkType = {}));\r\n//# sourceMappingURL=link_type.js.map","import { DataType } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { FormatParser } from \"./format_parser\";\r\nimport { LinkType } from '../types/link_type';\r\nexport var equtils;\r\n(function (equtils) {\r\n    /**\r\n     * Adds two paths and returns the result\r\n     * Correctly processes leading and trailing slashes\r\n     * @param path1\r\n     * @param path2\r\n     */\r\n    function combinePath(path1, path2) {\r\n        var result = path1;\r\n        if (result != null && result.length > 0) {\r\n            if (result.charAt(result.length - 1) != '/')\r\n                result += \"/\";\r\n            result += path2;\r\n        }\r\n        else {\r\n            result = path2;\r\n        }\r\n        return result;\r\n    }\r\n    equtils.combinePath = combinePath;\r\n    /**\r\n     * Converts a string to a `LinkType` value\r\n     * @param str\r\n     */\r\n    function strToLinkType(str) {\r\n        if (str == \"All\") {\r\n            return LinkType.All;\r\n        }\r\n        else if (str == \"NotAll\") {\r\n            return LinkType.NotAll;\r\n        }\r\n        else if (str == \"Any\") {\r\n            return LinkType.Any;\r\n        }\r\n        else {\r\n            return LinkType.None;\r\n        }\r\n    }\r\n    equtils.strToLinkType = strToLinkType;\r\n    /**\r\n     * Converts a `LinkType` value to a string\r\n     * @param type\r\n     */\r\n    function linkTypeToStr(type) {\r\n        if (type === LinkType.All) {\r\n            return \"All\";\r\n        }\r\n        else if (type === LinkType.NotAll) {\r\n            return \"NotAll\";\r\n        }\r\n        else if (type == LinkType.Any) {\r\n            return \"Any\";\r\n        }\r\n        else {\r\n            return \"None\";\r\n        }\r\n    }\r\n    equtils.linkTypeToStr = linkTypeToStr;\r\n    /**\r\n     * Parses the operator's format string and returns a list of tokens\r\n     * @param operator\r\n     */\r\n    function parseOperatorFormat(operator) {\r\n        var format = i18n.getText('Operators', operator.id, 'format');\r\n        if (!format) {\r\n            format = i18n.getText('Operators', operator.id, 'displayFormat');\r\n        }\r\n        if (!format) {\r\n            format = operator.displayFormat;\r\n        }\r\n        var parser = new FormatParser(format);\r\n        return parser.parse();\r\n    }\r\n    equtils.parseOperatorFormat = parseOperatorFormat;\r\n    //----------- value converstion utils --------------\r\n    /**\r\n     * Converts a value from one DataType to another\r\n     * @param value\r\n     * @param fromDataType - the original data type\r\n     * @param toDataType - the data type we want to get\r\n     */\r\n    function convertValue(value, fromDataType, toDataType) {\r\n        switch (toDataType) {\r\n            case DataType.String:\r\n                return value;\r\n            case (DataType.Autoinc, DataType.Byte, DataType.Int32, DataType.Int64, DataType.Word):\r\n                var resInt = parseInt(value);\r\n                return isNaN(resInt) ? '' : resInt.toString();\r\n            case (DataType.Currency, DataType.Float):\r\n                var resFloat = parseFloat(value);\r\n                return isNaN(resFloat) ? '' : resFloat.toString();\r\n            default:\r\n                return '';\r\n        }\r\n    }\r\n    equtils.convertValue = convertValue;\r\n})(equtils || (equtils = {}));\r\n//# sourceMappingURL=utils.js.map","export var eqconsts;\r\n(function (eqconsts) {\r\n    /**\r\n     * Defines some commonly used constants\r\n     */\r\n    var ConstLists = /** @class */ (function () {\r\n        function ConstLists() {\r\n            /**\r\n             * Contains macros for the special dates (like Today, First day of the month, etc)\r\n             */\r\n            this.SpecDateValues = [\r\n                { id: '${Today}', key: 'Today', isDefault: true },\r\n                { id: '${Yesterday}', key: 'Yesterday' },\r\n                { id: '${Tomorrow}', key: 'Tomorrow' },\r\n                { id: '${FirstDayOfMonth}', key: 'FirstDayOfMonth' },\r\n                { id: '${FirstDayOfYear}', key: 'FirstDayOfYear' }\r\n            ];\r\n            /**\r\n             * Contains macros for the special times (like Now, Noon, etc)\r\n             */\r\n            this.SpecTimeValues = [\r\n                { id: '${Now}', key: 'Now', isDefault: true },\r\n                { id: '${HourStart}', key: 'HourStart' },\r\n                { id: '${Midnight}', key: 'Midnight' },\r\n                { id: '${Noon}', key: 'Noon' }\r\n            ];\r\n            /**\r\n             * Boolean values macros (true and false)\r\n             */\r\n            this.BooleanValues = [\r\n                { id: '${false}', key: 'False' },\r\n                { id: '${true}', key: 'True', isDefault: true }\r\n            ];\r\n        }\r\n        return ConstLists;\r\n    }());\r\n    /**\r\n     * Contains some constants (macros) with special date/time and boolean values.\r\n     */\r\n    eqconsts.constLists = new ConstLists();\r\n    /**\r\n     * Constants representing various types of relationships between conditions\r\n     */\r\n    eqconsts.predicateLinkTypeList = [\r\n        { id: 'All', key: 'LinkTypeAll' },\r\n        { id: 'Any', key: 'LinkTypeAny' },\r\n        { id: 'None', key: 'LinkTypeNone' },\r\n        { id: 'NotAll', key: 'LinkTypeNotAll' }\r\n    ];\r\n})(eqconsts || (eqconsts = {}));\r\n//# sourceMappingURL=constants.js.map","/**\r\n * Represents a parser for format expressions in operators\r\n */\r\nvar FormatParser = /** @class */ (function () {\r\n    function FormatParser(format) {\r\n        this.start(format);\r\n    }\r\n    /**\r\n     * Starts parsing of the format string passed in the parameter\r\n     * @param format\r\n     */\r\n    FormatParser.prototype.start = function (format) {\r\n        this.formatStr = format;\r\n        this.pos = 0;\r\n        this.exprNum = 0;\r\n        this.tokenText = '';\r\n    };\r\n    /**\r\n     * Skips all spcaes till the beginning of next token\r\n     */\r\n    FormatParser.prototype.skipSpaces = function () {\r\n        while (this.pos < this.formatStr.length && this.formatStr.charAt(this.pos) === ' ')\r\n            this.pos++;\r\n    };\r\n    /**\r\n     * Scans the source and gets the next token\r\n     */\r\n    FormatParser.prototype.next = function () {\r\n        this.skipSpaces();\r\n        if (this.pos >= this.formatStr.length)\r\n            return false;\r\n        var npos = 0;\r\n        if (this.formatStr.charAt(this.pos) === '{') {\r\n            npos = this.formatStr.indexOf('}', this.pos);\r\n            if (npos < 0)\r\n                return false;\r\n            this.tokenText = this.formatStr.substring(this.pos, npos + 1);\r\n            if (this.tokenText.indexOf('{expr') === 0) {\r\n                this.token = 'expression';\r\n                this.exprNum = parseInt(this.tokenText.substring(5, this.tokenText.length));\r\n            }\r\n            this.pos = npos + 1;\r\n        }\r\n        else if (this.formatStr.charAt(this.pos) === '[' && this.pos < this.formatStr.length - 1 && this.formatStr.charAt(this.pos + 1) === '[') {\r\n            this.pos += 2;\r\n            npos = this.formatStr.indexOf(']]', this.pos);\r\n            this.token = 'operator';\r\n            this.tokenText = this.formatStr.substring(this.pos, npos);\r\n            this.pos = npos + 2;\r\n        }\r\n        else {\r\n            this.token = 'text';\r\n            var npos1 = this.formatStr.indexOf('{', this.pos);\r\n            if (npos1 < 0)\r\n                npos1 = this.formatStr.length;\r\n            var npos2 = this.formatStr.indexOf('[[', this.pos);\r\n            if (npos2 < 0)\r\n                npos2 = this.formatStr.length;\r\n            npos = Math.min(npos1, npos2);\r\n            this.tokenText = this.formatStr.substring(this.pos, npos).trim();\r\n            this.pos = npos;\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Returns current token\r\n     */\r\n    FormatParser.prototype.getToken = function () {\r\n        return {\r\n            type: this.token,\r\n            text: this.tokenText,\r\n            index: this.exprNum - 1\r\n        };\r\n    };\r\n    /**\r\n     * Parses all source string passed in constructor and returns the list of tokens\r\n     */\r\n    FormatParser.prototype.parse = function () {\r\n        var result = [];\r\n        while (this.next()) {\r\n            result.push(this.getToken());\r\n        }\r\n        return result;\r\n    };\r\n    return FormatParser;\r\n}());\r\nexport { FormatParser };\r\n//# sourceMappingURL=format_parser.js.map","/**\r\n * Represents an aggregate function\r\n */\r\nvar AggrFunction = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function AggrFunction() {\r\n        this.id = \"\";\r\n        this.caption = \"\";\r\n        this.sqlExpr = \"\";\r\n        this.displayFormat = \"\";\r\n        this.appliedTypes = [];\r\n    }\r\n    /**\r\n     * Loads an aggregate function from its JSON representation object\r\n     * @param aggrFunction The JSON representation object\r\n     */\r\n    AggrFunction.prototype.loadFromData = function (aggrFunction) {\r\n        if (aggrFunction) {\r\n            this.id = aggrFunction.id;\r\n            this.caption = aggrFunction.cptn;\r\n            this.displayFormat = aggrFunction.fmt;\r\n            this.sqlExpr = aggrFunction.expr;\r\n            this.appliedTypes = aggrFunction.dtypes || this.appliedTypes;\r\n        }\r\n    };\r\n    return AggrFunction;\r\n}());\r\nexport { AggrFunction };\r\n//# sourceMappingURL=aggr_function.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ValueEditor } from '@easydata/core';\r\n/**\r\n * Represents a value editor.\r\n */\r\nvar EqValueEditor = /** @class */ (function (_super) {\r\n    __extends(EqValueEditor, _super);\r\n    /** The default constructor. */\r\n    function EqValueEditor() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n     * Loads value editor from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    EqValueEditor.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            if (data.sql) {\r\n                this.statement = data.sql;\r\n            }\r\n            if (data.extraParams) {\r\n                this.extraParams = data.extraParams;\r\n            }\r\n        }\r\n    };\r\n    return EqValueEditor;\r\n}(ValueEditor));\r\nexport { EqValueEditor };\r\n//# sourceMappingURL=value_editor.js.map","/** Represents expression kinds.*/\r\nexport var DataKind;\r\n(function (DataKind) {\r\n    /** Represents one value of some type: one constant or one attribute (field).*/\r\n    DataKind[DataKind[\"Scalar\"] = 0] = \"Scalar\";\r\n    /** The same as Scalar but represents only one constant value of some type.*/\r\n    DataKind[DataKind[\"Const\"] = 1] = \"Const\";\r\n    /** The same as Scalar but represents only one attribute.*/\r\n    DataKind[DataKind[\"Attribute\"] = 2] = \"Attribute\";\r\n    /** Represents a list of scalar values. */\r\n    DataKind[DataKind[\"List\"] = 4] = \"List\";\r\n    /** Special expression kind which represents a sub query.*/\r\n    DataKind[DataKind[\"Query\"] = 5] = \"Query\";\r\n    /** Special expression kind which represents a binding to parent column.*/\r\n    DataKind[DataKind[\"ParentColumn\"] = 6] = \"ParentColumn\";\r\n})(DataKind || (DataKind = {}));\r\n//# sourceMappingURL=data_kind.js.map","import { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { EqValueEditor } from './value_editor';\r\nimport { DataKind } from '../types/data_kind';\r\n/**\r\n * Represents a logical expression or predicate, like comparisions or `LIKE` predicate.\r\n */\r\nvar Operator = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function Operator() {\r\n        this.id = \"\";\r\n        this.expr = \"\";\r\n        this.constValueFormat = \"{const}\";\r\n        this.caption = \"{Unrecognized operator}\";\r\n        this.displayFormat = \"{expr1} [[{unrecognized operator}]] {expr2}\";\r\n        this.isRange = false;\r\n        this.caseIns = false;\r\n        this.paramCount = 2;\r\n        this.defaultOperand = new Operand();\r\n        this.appliedTypes = [];\r\n        this.operands = new Array();\r\n    }\r\n    /**\r\n    * Loads operator from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param data The JSON representation object.\r\n    */\r\n    Operator.prototype.loadFromData = function (model, data) {\r\n        if (data) {\r\n            this.id = data.id;\r\n            this.caption = data.cptn;\r\n            this.caseIns = data.caseIns;\r\n            this.isRange = data.isRange;\r\n            this.displayFormat = data.fmt;\r\n            this.paramCount = data.pcnt;\r\n            this.expr = data.expr;\r\n            this.appliedTypes = data.dtypes || this.appliedTypes;\r\n            if (data.defOperand) {\r\n                this.defaultOperand.loadFromData(model, data.defOperand);\r\n            }\r\n            if (data.editor) {\r\n                this.defaultOperand.editor = model.getEditorById(data.editor) || new EqValueEditor();\r\n            }\r\n            if (data.operands) {\r\n                for (var i = 0; i < data.operands.length; i++) {\r\n                    var newOperand = new Operand();\r\n                    newOperand.loadFromData(model, data.operands[i]);\r\n                    if (data.editor) {\r\n                        newOperand.editor = model.getEditorById(data.editor) || new EqValueEditor();\r\n                    }\r\n                    this.operands.push(newOperand);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return Operator;\r\n}());\r\nexport { Operator };\r\n/**\r\n * Represents one operand in some operator's expression\r\n */\r\nvar Operand = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function Operand() {\r\n        this.kind = DataKind.Scalar;\r\n        this.dataType = DataType.Unknown;\r\n        this.editor = new EqValueEditor();\r\n        this.defValue = \"\";\r\n    }\r\n    /**\r\n     * Loads operand from its JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param data The JSON representation object.\r\n     */\r\n    Operand.prototype.loadFromData = function (model, operand) {\r\n        this.kind = operand.kind;\r\n        this.dataType = operand.dtype;\r\n        this.defValue = operand.val;\r\n        this.defText = operand.txt;\r\n        ;\r\n        if (operand.editor) {\r\n            this.editor = model.getEditorById(operand.editor) || new EqValueEditor();\r\n        }\r\n    };\r\n    /**\r\n     * Copies operand from other operand.\r\n     * @param scr The operand.\r\n     */\r\n    Operand.prototype.copyFrom = function (src) {\r\n        dataUtils.assign(this, src);\r\n    };\r\n    return Operand;\r\n}());\r\nexport { Operand };\r\n//# sourceMappingURL=operator.js.map","/** Contains several constant definitions for expressions tag */\r\nexport var ExprTag;\r\n(function (ExprTag) {\r\n    /** Unknown expression */\r\n    ExprTag[ExprTag[\"Unknown\"] = 0] = \"Unknown\";\r\n    /** Constant expression */\r\n    ExprTag[ExprTag[\"Constant\"] = 1] = \"Constant\";\r\n    /** Entity attributre expression */\r\n    ExprTag[ExprTag[\"EntityAttribute\"] = 2] = \"EntityAttribute\";\r\n    /** Parent entity attribute expression */\r\n    ExprTag[ExprTag[\"ParentEntityAttribute\"] = 3] = \"ParentEntityAttribute\";\r\n    /** Agrregate function expression */\r\n    ExprTag[ExprTag[\"AggregateFunction\"] = 4] = \"AggregateFunction\";\r\n    /** Parent column expression */\r\n    ExprTag[ExprTag[\"ParentColumn\"] = 5] = \"ParentColumn\";\r\n    /** Query expression */\r\n    ExprTag[ExprTag[\"Query\"] = 11] = \"Query\";\r\n    /** Custom sql expression */\r\n    ExprTag[ExprTag[\"CustomSql\"] = 21] = \"CustomSql\";\r\n})(ExprTag || (ExprTag = {}));\r\n//# sourceMappingURL=expr_tag.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { MetaEntity, MetaEntityAttr } from '@easydata/core';\r\n/**\r\n * Represents one entity.\r\n */\r\nvar Entity = /** @class */ (function (_super) {\r\n    __extends(Entity, _super);\r\n    /** The default constructor. */\r\n    function Entity(parent) {\r\n        var _this = _super.call(this, parent) || this;\r\n        _this.useInConditions = false;\r\n        _this.useInResult = false;\r\n        _this.useInSorting = false;\r\n        return _this;\r\n    }\r\n    /**\r\n    * Loads entity from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param data The JSON representation object.\r\n    */\r\n    Entity.prototype.loadFromData = function (model, data) {\r\n        _super.prototype.loadFromData.call(this, model, data);\r\n        if (data) {\r\n            this.useInConditions = data.uic;\r\n            this.useInResult = data.uir;\r\n            this.useInSorting = data.uis;\r\n        }\r\n    };\r\n    Entity.prototype.scan = function (processAttribute, processEntity) {\r\n        _super.prototype.scan.call(this, function (attr, opts) { return processAttribute && processAttribute(attr, opts); }, function (entity, opts) { return processEntity && processEntity(entity, opts); });\r\n    };\r\n    return Entity;\r\n}(MetaEntity));\r\nexport { Entity };\r\n/**\r\n * Represents entity attribute.\r\n */\r\nvar EntityAttr = /** @class */ (function (_super) {\r\n    __extends(EntityAttr, _super);\r\n    /** The default constructor. */\r\n    function EntityAttr(entity) {\r\n        var _this = _super.call(this, entity) || this;\r\n        /**\r\n         * The parameters associated with this entity attribute\r\n         */\r\n        _this.params = [];\r\n        _this.useInConditions = true;\r\n        _this.useInResult = true;\r\n        _this.useInSorting = true;\r\n        _this.defaultOperator = \"\";\r\n        _this.operators = new Array();\r\n        _this.lookupAttr = \"\";\r\n        _this.expr = \"\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * Loads entity attribute from JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param data The JSON representation object.\r\n     */\r\n    EntityAttr.prototype.loadFromData = function (model, data) {\r\n        _super.prototype.loadFromData.call(this, model, data);\r\n        if (data) {\r\n            this.useInConditions = data.uic;\r\n            this.useInResult = data.uir;\r\n            this.useInSorting = data.uis;\r\n            this.expr = data.sql;\r\n            this.defaultOperator = data.defOperator;\r\n            this.operators = data.ops;\r\n            if (data.udata)\r\n                this.userData = data.udata;\r\n        }\r\n    };\r\n    return EntityAttr;\r\n}(MetaEntityAttr));\r\nexport { EntityAttr };\r\n//# sourceMappingURL=entity.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { EditorTag } from \"@easydata/core\";\r\n/** Represents editor tags*/\r\nexport var EqEditorTag = __assign({}, EditorTag, { \r\n    /** SqlList tag value */\r\n    SqlList: \"SQLLIST\", \r\n    /** SubQuery tag value */\r\n    SubQuery: \"SUBQUERY\", \r\n    /** Bind to parent column tag value */\r\n    BindToParentColumn: \"BINDTOPARENTCOLUMN\" });\r\n//# sourceMappingURL=eq_editor_tag.js.map","var Tree = /** @class */ (function () {\r\n    function Tree(value) {\r\n        if (value === void 0) { value = null; }\r\n        this.childs = [];\r\n        this.value = null;\r\n        this.parent = null;\r\n        if (value) {\r\n            if (Array.isArray(value)) {\r\n                this.value = value[0];\r\n                if (value.length > 1) {\r\n                    this.addChild(new Tree(value.slice(1)));\r\n                }\r\n            }\r\n            else if (value instanceof Tree) {\r\n                this.value = value.value;\r\n                this.childs = value.childs;\r\n            }\r\n            else {\r\n                this.value = value;\r\n            }\r\n        }\r\n    }\r\n    Tree.prototype.contains = function (value) {\r\n        if (this.value === value)\r\n            return true;\r\n        for (var _i = 0, _a = this.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            if (child.contains(value))\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    Tree.prototype.findNode = function (value) {\r\n        if (this.value === value)\r\n            return this;\r\n        for (var _i = 0, _a = this.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            var result = child.findNode(value);\r\n            if (result)\r\n                return result;\r\n        }\r\n        return null;\r\n    };\r\n    Tree.prototype.addChild = function (child) {\r\n        child.parent = this;\r\n        this.childs.push(child);\r\n    };\r\n    Tree.prototype.setParents = function () {\r\n        for (var _i = 0, _a = this.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            child.parent = this;\r\n            child.setParents();\r\n        }\r\n    };\r\n    return Tree;\r\n}());\r\nexport { Tree };\r\n//# sourceMappingURL=tree.js.map","export var QueryChangePart;\r\n(function (QueryChangePart) {\r\n    QueryChangePart[QueryChangePart[\"Conditions\"] = 1] = \"Conditions\";\r\n    QueryChangePart[QueryChangePart[\"Columns\"] = 2] = \"Columns\";\r\n    QueryChangePart[QueryChangePart[\"SortingColumns\"] = 4] = \"SortingColumns\";\r\n    QueryChangePart[QueryChangePart[\"Properties\"] = 32] = \"Properties\";\r\n    QueryChangePart[QueryChangePart[\"ExtraData\"] = 64] = \"ExtraData\";\r\n    QueryChangePart[QueryChangePart[\"All\"] = 127] = \"All\";\r\n})(QueryChangePart || (QueryChangePart = {}));\r\nexport var QueryChangeAction;\r\n(function (QueryChangeAction) {\r\n    QueryChangeAction[QueryChangeAction[\"Add\"] = 1] = \"Add\";\r\n    QueryChangeAction[QueryChangeAction[\"Modify\"] = 2] = \"Modify\";\r\n    QueryChangeAction[QueryChangeAction[\"Delete\"] = 4] = \"Delete\";\r\n    QueryChangeAction[QueryChangeAction[\"All\"] = 127] = \"All\";\r\n})(QueryChangeAction || (QueryChangeAction = {}));\r\n//# sourceMappingURL=query_events.js.map","import { utils as dataUtils } from '@easydata/core';\r\nimport { Expression } from './expression';\r\nimport { QueryChangePart, QueryChangeAction } from './query_events';\r\n/** Represents sorting direction. */\r\nexport var SortDirection;\r\n(function (SortDirection) {\r\n    /** No sorting. */\r\n    SortDirection[SortDirection[\"None\"] = 0] = \"None\";\r\n    /** Ascending order. */\r\n    SortDirection[SortDirection[\"Ascending\"] = 1] = \"Ascending\";\r\n    /** Descending order. */\r\n    SortDirection[SortDirection[\"Descending\"] = 2] = \"Descending\";\r\n})(SortDirection || (SortDirection = {}));\r\n/**\r\n * Represents some column which will be queried\r\n */\r\nvar Column = /** @class */ (function () {\r\n    /** the default constructor. */\r\n    function Column(query, justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        this.query = query;\r\n        this.justsorted = justsorted;\r\n        /** Column is enabled */\r\n        this.enabled = true;\r\n        /** The parameters associated with this column */\r\n        this.params = [];\r\n        this._isHidden = false;\r\n        this._id = dataUtils.generateId('col');\r\n        this.caption = '';\r\n        this.sorting = SortDirection.None;\r\n        this.sortIndex = -1;\r\n        this.expr = new Expression(this);\r\n        this.blockId = '';\r\n    }\r\n    Object.defineProperty(Column.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Column.prototype.getModel = function () {\r\n        return this.query.getModel();\r\n    };\r\n    Column.prototype.getQuery = function () {\r\n        return this.query;\r\n    };\r\n    /** Indicates whether this column is read-only */\r\n    Column.prototype.isReadOnly = function () {\r\n        return false;\r\n    };\r\n    /** Indicates whether this column is just-sorted */\r\n    Column.prototype.isJustSorted = function () {\r\n        return this.justsorted;\r\n    };\r\n    Column.prototype.setReadOnly = function (value) {\r\n        //do nothing. Read-only columns are not supported here\r\n    };\r\n    /** Indicates whether this column is invisible */\r\n    Column.prototype.isHidden = function () {\r\n        return this._isHidden;\r\n    };\r\n    Column.prototype.setHidden = function (value) {\r\n        this._isHidden = value;\r\n    };\r\n    /**\r\n      * Loads column from its JSON representation object.\r\n      * @param model The Data Model.\r\n      * @param colData The JSON representation object.\r\n      */\r\n    Column.prototype.loadFromData = function (model, colData) {\r\n        if (colData) {\r\n            if (colData.id) {\r\n                this._id = colData.id;\r\n            }\r\n            this.caption = colData.cptn;\r\n            if (typeof colData.srt !== 'undefined') {\r\n                this.sorting = colData.srt;\r\n                this.sortIndex = colData.srtidx;\r\n            }\r\n            if (colData.enabled === false) {\r\n                this.enabled = colData.enabled;\r\n            }\r\n            this.expr.loadFromData(model, colData.expr);\r\n            this.blockId = colData.blockId;\r\n            if (colData.hidden) {\r\n                this.setHidden(true);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Saves the column to a data transfer object (ready for sending to the server-side) .\r\n     * @returns An plain object that represents the column.\r\n     */\r\n    Column.prototype.saveToData = function () {\r\n        var obj = {};\r\n        obj.id = this._id;\r\n        if (this.caption) {\r\n            obj.cptn = this.caption;\r\n        }\r\n        if (typeof this.sorting !== 'undefined') {\r\n            obj.srt = this.sorting;\r\n            obj.srtidx = this.sortIndex;\r\n        }\r\n        obj.expr = this.expr.saveToData();\r\n        if (this.blockId) {\r\n            obj.blockId = this.blockId;\r\n        }\r\n        if (this.enabled === false) {\r\n            obj.enabled = this.enabled;\r\n        }\r\n        if (this.isHidden()) {\r\n            obj.hidden = true;\r\n        }\r\n        return obj;\r\n    };\r\n    Column.prototype.fireChangedEvent = function () {\r\n        this.query.fireChangedEvent({\r\n            part: (this.justsorted)\r\n                ? QueryChangePart.SortingColumns\r\n                : QueryChangePart.Columns,\r\n            action: QueryChangeAction.Modify,\r\n            changee: this\r\n        });\r\n    };\r\n    Column.prototype.getExpressionIndex = function (expr) {\r\n        return 0;\r\n    };\r\n    Column.prototype.expressionChanged = function (expr, oldValue) {\r\n    };\r\n    return Column;\r\n}());\r\nexport { Column };\r\n//# sourceMappingURL=column.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DataType, MetaData, utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { AggrFunction } from './aggr_function';\r\nimport { Operator, Operand } from './operator';\r\nimport { Entity, EntityAttr } from './entity';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { EqEditorTag } from '../types/eq_editor_tag';\r\nimport { Query } from '../query/query';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { Tree } from '../common/tree';\r\n/**\r\n * Represents a data model\r\n */\r\nvar DataModel = /** @class */ (function (_super) {\r\n    __extends(DataModel, _super);\r\n    /** The default constructor. */\r\n    function DataModel() {\r\n        var _this = _super.call(this) || this;\r\n        _this.mainEntity = null;\r\n        _this.operators = new Array();\r\n        _this.rootEntity = new Entity();\r\n        _this.aggrFunctions = new Array();\r\n        _this.dateMacros = ['${{Today}}', '${{Yesterday}}',\r\n            '${{Tomorrow}}', '${{FirstDayOfMonth}}', '${{LastDayOfMonth}}',\r\n            '${{FirstDayOfWeek}}', '${{FirstDayOfYear}}', '${{FirstDayOfNextWeek}}', '${{FirstDayOfPrevMonth}}',\r\n            '${{FirstDayOfNextMonth}}', '${{FirstDayOfNextYear}}', '${{FirstDayOfPrevYear}}', '${{FirstDayOfPrevWeek}}'];\r\n        _this.timeMacros = ['${{Now}}', '${{HourStart}}', '${{Midnight}}', '${{Noon}}'];\r\n        _this.links = [];\r\n        return _this;\r\n    }\r\n    /**\r\n     * Gets the main entity of model\r\n     * @return The main entity.\r\n     */\r\n    DataModel.prototype.getMainEntity = function () {\r\n        return this.mainEntity;\r\n    };\r\n    /**\r\n     * Loads data model from JSON.\r\n     * @param stringJson The JSON string.\r\n     */\r\n    DataModel.prototype.loadFromJSON = function (stringJson) {\r\n        var model = JSON.parse(stringJson);\r\n        this.loadFromData(model);\r\n    };\r\n    /**\r\n     * Loads data model from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    DataModel.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        //Operators\r\n        this.operators = new Array();\r\n        if (data.operators) {\r\n            for (var i = 0; i < data.operators.length; i++) {\r\n                var newOperator = new Operator();\r\n                newOperator.loadFromData(this, data.operators[i]);\r\n                this.operators.push(newOperator);\r\n            }\r\n        }\r\n        //rootEntity\r\n        this.rootEntity.loadFromData(this, data.entroot);\r\n        //Aggr Functions\r\n        this.aggrFunctions = new Array();\r\n        if (data.aggrfuncs) {\r\n            for (var i = 0; i < data.aggrfuncs.length; i++) {\r\n                var newAggrFunc = new AggrFunction();\r\n                newAggrFunc.loadFromData(data.aggrfuncs[i]);\r\n                this.aggrFunctions.push(newAggrFunc);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Gets the data model object.\r\n     * @returns Tha data model.\r\n     */\r\n    DataModel.prototype.getObject = function () {\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets data to data model.\r\n     * @param model Its JSON representation object or JSON string.\r\n     */\r\n    DataModel.prototype.setData = function (model) {\r\n        if (typeof model === 'string') {\r\n            this.loadFromJSON(model);\r\n        }\r\n        else {\r\n            this.loadFromData(model);\r\n        }\r\n    };\r\n    /**\r\n     * Creates entity.\r\n     * @param parent The parent entity.\r\n     * @returns The Entity.\r\n     */\r\n    DataModel.prototype.createEntity = function (parent) {\r\n        return new Entity(parent);\r\n    };\r\n    /**\r\n     * Creates entity attribute.\r\n     * @param parent The parent entity.\r\n     * @returns The entity attribute.\r\n     */\r\n    DataModel.prototype.createEntityAttr = function (parent) {\r\n        return new EntityAttr(parent);\r\n    };\r\n    /**\r\n     * Creates query.\r\n     * @returns The Query.\r\n     */\r\n    DataModel.prototype.createQuery = function () {\r\n        return new Query(this);\r\n    };\r\n    /**\r\n     * Gets root entity of the data model.\r\n     * @returns The root entity.\r\n     */\r\n    DataModel.prototype.getRootEntity = function () {\r\n        return this.rootEntity;\r\n    };\r\n    /**\r\n     * Finds editor by its ID.\r\n     * @param editorId The editor ID.\r\n     * @returns The value editor or `null`.\r\n     */\r\n    DataModel.prototype.getEditorById = function (editorId) {\r\n        return _super.prototype.getEditorById.call(this, editorId);\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified model (it's root entity and all its sub-entities).\r\n     * @param attrId The attribute ID.\r\n     * @returns The attribute or `null`.\r\n     */\r\n    DataModel.prototype.getAttributeById = function (attrId) {\r\n        var attr = this.getEntityAttrById(this.getRootEntity(), attrId);\r\n        if (!attr) {\r\n            return null;\r\n        }\r\n        return attr;\r\n    };\r\n    /**\r\n     * Checks wether attribute contains such property.\r\n     * @param attrId The attribute ID.\r\n     * @param propName The property name.\r\n     * @returns `true` if the attribute contains the property, otherwise `false`.\r\n     */\r\n    DataModel.prototype.checkAttrProperty = function (attrId, propName) {\r\n        var attribute = this.getAttributeById(attrId);\r\n        if (attribute) {\r\n            if (typeof attribute[propName] === 'undefined') {\r\n                throw 'No such property: ' + propName;\r\n            }\r\n            if (attribute[propName]) {\r\n                return true;\r\n            }\r\n            else if (attribute.lookupAttr) {\r\n                attrId = attribute.lookupAttr;\r\n                attribute = this.getAttributeById(attrId);\r\n                return attribute && attribute[propName];\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        else\r\n            return false;\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified entity and all its sub-entities.\r\n     * @param entity\r\n     * @param attrId\r\n     * @returns The attribute or `null`.\r\n     */\r\n    DataModel.prototype.getEntityAttrById = function (entity, attrId) {\r\n        return _super.prototype.getEntityAttrById.call(this, entity, attrId);\r\n    };\r\n    DataModel.prototype._listByEntityWithFilter = function (entity, filterFunc) {\r\n        var result = new Array();\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    caption = i18n.getText('Entities', ent.name);\r\n                    if (!caption) {\r\n                        caption = ent.caption;\r\n                    }\r\n                    var newEnt = dataUtils.assign(new Entity(), { id: ent.name, text: caption, items: [], isEntity: true });\r\n                    newEnt.items = this._listByEntityWithFilter(ent, filterFunc);\r\n                    if (newEnt.items.length > 0)\r\n                        result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    caption = i18n.getText('Attributes', attr.id);\r\n                    if (!caption)\r\n                        caption = attr.caption;\r\n                    var newEnt = dataUtils.assign(new Entity(), { id: attr.id, text: caption, dataType: attr.dataType });\r\n                    result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    DataModel.prototype._listByEntity = function (entity, opts, filterFunc) {\r\n        opts = opts || {};\r\n        var resultEntities = [];\r\n        var resultAttributes = [];\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    if (opts.addUIC !== false && ent.useInConditions !== false ||\r\n                        opts.addUIR !== false && ent.useInResult !== false ||\r\n                        opts.addUIS !== false && ent.useInSorting !== false) {\r\n                        caption = i18n.getText('Entities', ent.name) || ent.caption;\r\n                        var newEnt = dataUtils.assign(new Entity(), {\r\n                            id: ent.name,\r\n                            text: caption,\r\n                            items: [],\r\n                            isEntity: true,\r\n                            description: ent.description\r\n                        });\r\n                        var newOpts = dataUtils.assign({}, opts);\r\n                        newOpts.includeRootData = false;\r\n                        newEnt.items = this._listByEntity(ent, newOpts, filterFunc);\r\n                        if (newEnt.items.length > 0) {\r\n                            resultEntities.push(newEnt);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    if (opts.addUIC !== false && attr.useInConditions !== false ||\r\n                        opts.addUIR !== false && attr.useInResult !== false ||\r\n                        opts.addUIS !== false && attr.useInSorting !== false) {\r\n                        caption = i18n.getText('Attributes', attr.id) || attr.caption;\r\n                        resultAttributes.push(dataUtils.assign(new EntityAttr(entity), { id: attr.id, text: caption, dataType: attr.dataType, lookupAttr: attr.lookupAttr, description: attr.description }));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var sortCheck = function (a, b) {\r\n            if (a.text.toLowerCase() == b.text.toLowerCase()) {\r\n                return 0;\r\n            }\r\n            if (a.text.toLowerCase() > b.text.toLowerCase()) {\r\n                return 1;\r\n            }\r\n            return -1;\r\n        };\r\n        if (opts.sortEntities) {\r\n            resultEntities.sort(sortCheck);\r\n            resultAttributes.sort(sortCheck);\r\n        }\r\n        var result;\r\n        if (!opts.attrPlacement || opts.attrPlacement == 0) {\r\n            result = resultEntities.concat(resultAttributes);\r\n        }\r\n        else {\r\n            result = resultAttributes.concat(resultEntities);\r\n        }\r\n        if (opts.attrPlacement == 2) {\r\n            result.sort(sortCheck);\r\n        }\r\n        if (opts.includeRootData) {\r\n            caption = i18n.getText('Entities', entity.name);\r\n            if (!caption)\r\n                caption = entity.caption;\r\n            return { id: entity.name, text: caption, items: result };\r\n        }\r\n        else {\r\n            return result;\r\n        }\r\n    };\r\n    /**\r\n     * Clears data model.\r\n     */\r\n    DataModel.prototype.clear = function () {\r\n        _super.prototype.clear.call(this);\r\n        this.operators = [];\r\n        this.aggrFunctions = [];\r\n    };\r\n    /**\r\n     * Add or update an operator.\r\n     * @param desc The operator descriptor.\r\n     * @returns The operator.\r\n     */\r\n    DataModel.prototype.addOrUpdateOperator = function (desc) {\r\n        var op = dataUtils.findItemById(this.operators, desc.id);\r\n        if (!op) {\r\n            op = new Operator();\r\n            op.id = desc.id;\r\n            this.operators.push(op);\r\n        }\r\n        op.caption = desc.caption;\r\n        op.expr = desc.expr || '';\r\n        op.displayFormat = desc.format;\r\n        op.defaultOperand = new Operand();\r\n        op.defaultOperand.kind = desc.kind || DataKind.Scalar;\r\n        if (desc.appliedTypes)\r\n            op.appliedTypes = desc.appliedTypes;\r\n        if (desc.paramCount > 0) {\r\n            op.paramCount = desc.paramCount;\r\n        }\r\n        this.runThroughEntities(function (attr, opts) {\r\n            if (attr.operators.indexOf(op.id) < 0 && op.appliedTypes.indexOf(attr.dataType) >= 0) {\r\n                attr.operators.push(op.id);\r\n            }\r\n        });\r\n        return op;\r\n    };\r\n    /**\r\n     * Removes an operator.\r\n     * @param id The id.\r\n     * @param soft If `false` - removes operators from model and attributes. Otherwise only\r\n     * from attributes.\r\n     */\r\n    DataModel.prototype.removeOperator = function (id, soft) {\r\n        if (soft === void 0) { soft = false; }\r\n        var op = dataUtils.findItemById(this.operators, id);\r\n        if (op) {\r\n            if (!soft)\r\n                dataUtils.removeArrayItem(this.operators, op);\r\n            this.runThroughEntities(function (attr, opts) {\r\n                dataUtils.removeArrayItem(attr.operators, op.id);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Get operators for data type.\r\n     * @param type The data type\r\n     * @return The array of operator ids.\r\n     */\r\n    DataModel.prototype.getOperatorIdsByDataType = function (type) {\r\n        switch (type) {\r\n            case DataType.String:\r\n            case DataType.Memo:\r\n                return 'StartsWith,EndsWith,Contains,Equal,InList,NotStartsWith,NotEndsWith,NotContains,NotEqual,NotInList,IsNull,IsNotNull'.split(',');\r\n            case DataType.Guid:\r\n                return 'Equal,NotEqual'.split(',');\r\n            case DataType.Date:\r\n            case DataType.DateTime:\r\n                return 'DateWithinToday,DateWithinThisWeek,DateWithinPrevWeek,DateWithinThisMonth,DateWithinPrevMonth,DateWithinThisYear,DateWithinPrevYear,DateBeforePrecise,DateAfterPrecise,DatePeriodPrecise,IsNull,IsNotNull'.split(',');\r\n            case DataType.Time:\r\n                return 'TimeBeforePrecise,TimeAfterPrecise,TimePeriodPrecise,IsNull,IsNotNull'.split(',');\r\n            case DataType.Byte:\r\n            case DataType.Word:\r\n            case DataType.Int32:\r\n            case DataType.Int64:\r\n            case DataType.Float:\r\n            case DataType.Currency:\r\n            case DataType.BCD:\r\n            case DataType.Autoinc:\r\n            case DataType.Unknown:\r\n                return 'Equal,Between,LessThan,LessOrEqual,GreaterThan,GreaterOrEqual,InList,NotEqual,NotBetween,NotInList,IsNull,IsNotNull'.split(',');\r\n            case DataType.Bool:\r\n                return 'IsTrue,NotTrue'.split(',');\r\n            default:\r\n                var result = [];\r\n                for (var _i = 0, _a = this.operators; _i < _a.length; _i++) {\r\n                    var op = _a[_i];\r\n                    if (op.appliedTypes.indexOf(type) >= 0)\r\n                        result.push(op.id);\r\n                }\r\n                return result;\r\n        }\r\n    };\r\n    /**\r\n     * Builds entities tree used in query.\r\n     * @param query The query.\r\n     */\r\n    DataModel.prototype.buildQueryPath = function (query) {\r\n        var entity = this.mainEntity || this.rootEntity;\r\n        var tree = this.createTreeNodeFromEntity(entity);\r\n        tree.setParents();\r\n        return tree;\r\n    };\r\n    DataModel.prototype.createTreeNodeFromEntity = function (entity) {\r\n        var tree = new Tree(entity);\r\n        for (var _i = 0, _a = entity.subEntities; _i < _a.length; _i++) {\r\n            var subEnentity = _a[_i];\r\n            tree.addChild(this.createTreeNodeFromEntity(subEnentity));\r\n        }\r\n        return tree;\r\n    };\r\n    /**\r\n     * Get Entities used in query.\r\n     * @param query The query.\r\n     */\r\n    DataModel.prototype.getEntitiesInQuery = function (query) {\r\n        if (query.model.id !== this.id)\r\n            throw Error('Model mithmatch');\r\n        var entities = [];\r\n        var columns = query.getColumns();\r\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\r\n            var column = columns_1[_i];\r\n            if (!column.enabled)\r\n                continue;\r\n            this.addEntityByExpression(entities, column.expr);\r\n        }\r\n        var rootCond = query.getRootCondition();\r\n        this.fillEntitiesByCondtionGroup(entities, rootCond);\r\n        return entities;\r\n    };\r\n    DataModel.prototype.fillEntitiesByCondtionGroup = function (entities, root) {\r\n        for (var _i = 0, _a = root.getConditions(); _i < _a.length; _i++) {\r\n            var condition = _a[_i];\r\n            if (!condition.isGroup()) {\r\n                for (var _b = 0, _c = condition.expressions; _b < _c.length; _b++) {\r\n                    var expr = _c[_b];\r\n                    this.addEntityByExpression(entities, expr);\r\n                    if (expr.args) {\r\n                        for (var _d = 0, _e = expr.args; _d < _e.length; _d++) {\r\n                            var arg = _e[_d];\r\n                            this.addEntityByExpression(entities, arg);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this.fillEntitiesByCondtionGroup(entities, condition);\r\n            }\r\n        }\r\n    };\r\n    DataModel.prototype.addEntityByExpression = function (entities, expr) {\r\n        if (expr.tag !== ExprTag.EntityAttribute)\r\n            return;\r\n        var attrId = expr.baseAttrId || expr.value;\r\n        if (attrId) {\r\n            var attr = this.getAttributeById(attrId);\r\n            if (attr) {\r\n                if (attr.entity && dataUtils.indexOfArrayItem(entities, attr.entity) < 0) {\r\n                    entities.push(attr.entity);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Finds link between two entities.\r\n     * @param entityFrom The entity `from`.\r\n     * @param entityTo The entity `to`.\r\n     * @return The link.\r\n     */\r\n    DataModel.prototype.findLink = function (entityFrom, entityTo) {\r\n        for (var _i = 0, _a = this.links; _i < _a.length; _i++) {\r\n            var link = _a[_i];\r\n            if (link.entityFrom == entityFrom\r\n                && link.entityTo == entityTo)\r\n                return link;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Get links with the entity.\r\n     * @param entity The entity.\r\n     * @return The link.\r\n     */\r\n    DataModel.prototype.getLinksByEntity = function (entity) {\r\n        var result = [];\r\n        for (var _i = 0, _a = this.links; _i < _a.length; _i++) {\r\n            var link = _a[_i];\r\n            if (link.entityFrom == entity || link.entityTo == entity) {\r\n                result.push(link);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Gets entities tree.\r\n     * @param opts The options.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to options and the filter function\r\n     */\r\n    DataModel.prototype.getEntitiesTree = function (opts, filterFunc) {\r\n        return this._listByEntity(this.getRootEntity(), opts, filterFunc);\r\n    };\r\n    /**\r\n     * Gets entities tree due to filter.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to the filter function\r\n     */\r\n    DataModel.prototype.getEntitiesTreeWithFilter = function (filterFunc) {\r\n        return this._listByEntityWithFilter(this.getRootEntity(), filterFunc);\r\n    };\r\n    /**\r\n     * Finds full entity path by attribute\r\n     * @param attrId The attribute id.\r\n     * @param sep The separator.\r\n     * @returns The path.\r\n     */\r\n    DataModel.prototype.getFullEntityPathByAttr = function (attrId, sep) {\r\n        sep = sep || ' ';\r\n        return this.getEntityPathByAttr(this.getRootEntity(), attrId, sep, true);\r\n    };\r\n    /**\r\n    * Finds entity path by attribute\r\n    * @param entity The entity.\r\n    * @param attrId The attribute id.\r\n    * @param sep The separator.\r\n    * @param root The root option.\r\n    * @returns The path.\r\n    */\r\n    DataModel.prototype.getEntityPathByAttr = function (entity, attrId, sep, root) {\r\n        return _super.prototype.getEntityPathByAttr.call(this, entity, attrId, sep, root);\r\n    };\r\n    /**\r\n     * Gets the attribute text.\r\n     * @param attr The attribute.\r\n     * @param format The format.\r\n     * @returns Formatted text.\r\n     */\r\n    DataModel.prototype.getAttributeText = function (attr, format) {\r\n        return _super.prototype.getAttributeText.call(this, attr, format);\r\n    };\r\n    DataModel.prototype.getFirstUICAttr = function () {\r\n        return this.getFirstUICAttrInEntity(this.getRootEntity());\r\n    };\r\n    /**\r\n     * Gets first `UIC` attribute in specified entity\r\n     * (`UIC` stands for `use in conditions` - so such attribute can be used in conditions)\r\n     * @param entity Entity object to search our attribute in.\r\n     * @returns The entity attribute or `null`\r\n     */\r\n    DataModel.prototype.getFirstUICAttrInEntity = function (entity) {\r\n        if (entity.useInConditions !== false) {\r\n            if (entity.attributes) {\r\n                var attrCount = entity.attributes.length;\r\n                for (var i = 0; i < attrCount; i++) {\r\n                    if (entity.attributes[i].useInConditions) {\r\n                        return entity.attributes[i];\r\n                    }\r\n                }\r\n            }\r\n            if (entity.subEntities) {\r\n                var subEntityCount = entity.subEntities.length;\r\n                for (var i = 0; i < subEntityCount; i++) {\r\n                    var result = this.getFirstUICAttrInEntity(entity.subEntities[i]);\r\n                    if (result) {\r\n                        return result;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Scans model's entity tree and calls the callback functions for each attribute and entity.\r\n     * @param processAttribute The callback function which is called for each attribute in model's entity tree.\r\n     * The processed attribute is passed in the first function parameter.\r\n     * @param processEntity The callback function which is called for each entity in tree.\r\n     * The processed entity is passed in the first function parameter.\r\n     */\r\n    DataModel.prototype.runThroughEntities = function (processAttribute, processEntity) {\r\n        this.getRootEntity().scan(processAttribute, processEntity);\r\n    };\r\n    /**\r\n     * Finds first attribute by filter.\r\n     * @param filterFunc The filter function. Takes EntityAttr object in parameter and returns boolean\r\n     */\r\n    DataModel.prototype.getFirstAttributeByFilter = function (filterFunc) {\r\n        var res = null;\r\n        this.runThroughEntities(function (attr, opts) {\r\n            if (filterFunc(attr)) {\r\n                opts.stop = true;\r\n                res = attr;\r\n            }\r\n        }, null);\r\n        return res;\r\n    };\r\n    /**\r\n     * Finds operator in model by its ID.\r\n     * This function runs through all operators inside specified model and returns the one with specified ID.\r\n     * @param operatorId An operator ID.\r\n     * @returns The operator or `null`.\r\n     */\r\n    DataModel.prototype.findOperatorById = function (operatorId) {\r\n        if (this.operators.length > 0) {\r\n            var opCount = this.operators.length;\r\n            for (var idx = 0; idx < opCount; idx++) {\r\n                if (this.operators[idx].id == operatorId) {\r\n                    return this.operators[idx];\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Finds operator in model by its ID.\r\n     * his function runs through all operators inside specified model and returns the one with specified ID.\r\n     * @param operatorId Operator ID.\r\n     * @returns The operator or special `NullOperator` object if operator is not found.\r\n     */\r\n    DataModel.prototype.getOperatorById = function (operatorId) {\r\n        var op = this.findOperatorById(operatorId);\r\n        if (!op)\r\n            op = new Operator();\r\n        return op;\r\n    };\r\n    DataModel.prototype.getDefaultOperatorIdForAttr = function (attr) {\r\n        if (attr.defaultOperator) {\r\n            return attr.defaultOperator;\r\n        }\r\n        else if (attr.operators.length > 0) {\r\n            return attr.operators[0];\r\n        }\r\n        else {\r\n            return (new Operator()).id;\r\n        }\r\n    };\r\n    /**\r\n     * Gets caption of the aggregate function.\r\n     * @param funcId The function id.\r\n     * @returns The caption.\r\n     */\r\n    DataModel.prototype.getAggrFunctionCaption = function (funcId) {\r\n        var funcTexts = i18n.getText('AggregateFunctions', funcId);\r\n        var funcCaption = funcTexts ? funcTexts.caption : i18n.getText('Aggr' + funcId.replace(' ', '') + '_Caption');\r\n        if (funcCaption) {\r\n            return funcCaption;\r\n        }\r\n        var func = dataUtils.findItemById(this.aggrFunctions, funcId);\r\n        if (!func || !func.caption)\r\n            return funcId;\r\n        return func.caption;\r\n    };\r\n    /**\r\n     * Gets format of the aggregate function.\r\n     * @param funcId The function id.\r\n     * @returns The caption.\r\n     */\r\n    DataModel.prototype.getAggrFunctionFormat = function (funcId) {\r\n        var funcTexts = i18n.getText('AggregateFunctions', funcId);\r\n        var funcFormat = funcTexts ? funcTexts.displayFormat : i18n.getText('Aggr' + funcId.replace(' ', '') + '_Format');\r\n        if (funcFormat) {\r\n            return funcFormat;\r\n        }\r\n        var func = dataUtils.findItemById(this.aggrFunctions, funcId);\r\n        if (!func || !func.displayFormat)\r\n            return '';\r\n        return func.displayFormat;\r\n    };\r\n    /**\r\n     * Gets default operator for an attribute.\r\n     * @param attr The attribute.\r\n     * @returns The operator.\r\n     */\r\n    DataModel.prototype.getDefaultOperatorForAttr = function (attr) {\r\n        var operatorId = this.getDefaultOperatorIdForAttr(attr);\r\n        return this.getOperatorById(operatorId);\r\n    };\r\n    /**\r\n     * Gets operand.\r\n     * @param attr The attribute.\r\n     * @param operator The operator.\r\n     * @param index The index.\r\n     * @returns The operand.\r\n     */\r\n    DataModel.prototype.getOperand = function (attr, operator, index) {\r\n        var defOperand = new Operand();\r\n        if (operator && operator.defaultOperand) {\r\n            defOperand.copyFrom(operator.defaultOperand);\r\n            if (!defOperand.defValue) {\r\n                defOperand.defValue = '';\r\n            }\r\n            if (!defOperand.defText) {\r\n                defOperand.defText = '';\r\n            }\r\n        }\r\n        else {\r\n            defOperand.kind = DataKind.Scalar;\r\n            defOperand.dataType = attr.dataType;\r\n            defOperand.defValue = '';\r\n            defOperand.defText = '';\r\n            defOperand.editor = null;\r\n        }\r\n        var result = defOperand;\r\n        if (result.dataType === DataType.Unknown && attr) {\r\n            result.dataType = attr.dataType;\r\n        }\r\n        if (operator && (index >= 0)) {\r\n            if (operator.operands && operator.operands[index - 1]) {\r\n                result = dataUtils.assign(result, operator.operands[index - 1]);\r\n            }\r\n        }\r\n        ;\r\n        if (!result.editor) {\r\n            if (defOperand.editor) {\r\n                result.editor = defOperand.editor;\r\n            }\r\n            else if (defOperand.kind === DataKind.Query) {\r\n                result.editor.tag = EqEditorTag.SubQuery;\r\n            }\r\n            else if (attr && attr.defaultEditor) {\r\n                result.editor = attr.defaultEditor;\r\n            }\r\n            else if (result.dataType === DataType.Date || result.dataType === DataType.DateTime\r\n                || result.dataType === DataType.Time) {\r\n                result.editor.tag = EqEditorTag.DateTime;\r\n            }\r\n            else {\r\n                result.editor.tag = EqEditorTag.Edit;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Gets the list of aggegate functions.\r\n     * @returns AN array of aggregate functions.\r\n     */\r\n    DataModel.prototype.getAggrFunctions = function () {\r\n        return this.aggrFunctions;\r\n    };\r\n    /**\r\n     * Gets date by its macro value.\r\n     * @param macro The macro value.\r\n     * @returns The date or `null`\r\n     */\r\n    DataModel.prototype.getDateMacroValue = function (macro) {\r\n        if (this.isDateMacro(macro)) {\r\n            var d = new Date();\r\n            var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n            switch (macroName) {\r\n                case 'Today':\r\n                    break;\r\n                case 'Yesterday':\r\n                    d.setDate(d.getDate() - 1);\r\n                    break;\r\n                case 'Tomorrow':\r\n                    d.setDate(d.getDate() + 1);\r\n                    break;\r\n                case 'FirstDayOfMonth':\r\n                    d.setDate(1);\r\n                    break;\r\n                case 'LastDayOfMonth':\r\n                    d.setMonth(d.getMonth() + 1, 0);\r\n                    break;\r\n                case 'FirstDayOfPrevWeek':\r\n                    var day = d.getDay();\r\n                    day = (day == 0) ? 1 : 8 - day; //We start week from Monday, but js - from Sunday\r\n                    d.setDate(d.getDate() - day);\r\n                    break;\r\n                case 'FirstDayOfWeek':\r\n                    var day = d.getDay();\r\n                    day = (day == 0) ? 6 : day - 1; //We start week from Monday, but js - from Sunday\r\n                    d.setDate(d.getDate() - day);\r\n                    break;\r\n                case 'FirstDayOfYear':\r\n                    d.setMonth(0, 1);\r\n                    break;\r\n                case 'FirstDayOfNextWeek':\r\n                    var day = d.getDay();\r\n                    day = (day == 0) ? 1 : 8 - day; //We start week from Monday, but js - from Sunday\r\n                    d.setDate(d.getDate() + day);\r\n                    break;\r\n                case 'FirstDayOfNextMonth':\r\n                    d.setMonth(d.getMonth() + 1, 1);\r\n                    break;\r\n                case 'FirstDayOfPrevMonth':\r\n                    d.setMonth(d.getMonth() - 1, 1);\r\n                    break;\r\n                case 'FirstDayOfPrevYear':\r\n                    d.setFullYear(d.getFullYear() - 1, 0, 1);\r\n                    break;\r\n                case 'FirstDayOfNextYear':\r\n                    d.setFullYear(d.getFullYear() + 1, 0, 1);\r\n                    break;\r\n            }\r\n            ;\r\n            return d;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Checks wether macro value is date.\r\n     * @param macro The macro value.\r\n     * @retruns `true` if the macro value is date, otherwise `false`.\r\n     */\r\n    DataModel.prototype.isDateMacro = function (macro) {\r\n        return dataUtils.indexOfArrayItem(this.dateMacros, macro) >= 0;\r\n    };\r\n    /**\r\n    * Gets date  or macro by macro value.\r\n    * @param macroValue The macro value.\r\n    * @returns The date or macro valu.\r\n    */\r\n    DataModel.prototype.getDateOrMacroValue = function (macroValue) {\r\n        var d = this.getDateMacroValue(macroValue);\r\n        return d ? d : macroValue;\r\n    };\r\n    /**\r\n    * Gets time by its macro value.\r\n    * @param macro The macro value.\r\n    * @returns The date or `null`.\r\n    */\r\n    DataModel.prototype.getTimeMacroValue = function (macro) {\r\n        var d = new Date();\r\n        if (this.isTimeMacro(macro)) {\r\n            var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n            switch (macroName) {\r\n                case 'Now':\r\n                    break;\r\n                case 'HourStart':\r\n                    d.setMinutes(0, 0, 0);\r\n                    break;\r\n                case 'Midnight':\r\n                    d.setHours(0, 0, 0, 0);\r\n                    break;\r\n                case 'Noon':\r\n                    d.setHours(12, 0, 0, 0);\r\n                    break;\r\n            }\r\n            ;\r\n            return d;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n    * Checks wether macro value is time.\r\n    * @param macro The macro value.\r\n    * @retruns `true` if the macro value is time, otherwise `false`.\r\n    */\r\n    DataModel.prototype.isTimeMacro = function (macro) {\r\n        return dataUtils.indexOfArrayItem(this.timeMacros, macro) >= 0;\r\n    };\r\n    /**\r\n     * Gets time or macro by macro value.\r\n     * @param macroValue The macro value.\r\n     * @returns The time or macro valu.\r\n     */\r\n    DataModel.prototype.getTimeOrMacroValue = function (time) {\r\n        var t = this.getTimeMacroValue(time);\r\n        return t ? t : time;\r\n    };\r\n    /**\r\n     * Gets all date marcos.\r\n     * @returns The array of marcos\r\n     */\r\n    DataModel.prototype.getAllDateMacros = function () {\r\n        return this.dateMacros;\r\n    };\r\n    /**\r\n     * Gets all time marcos.\r\n     * @returns The array of marcos\r\n     */\r\n    DataModel.prototype.getAllTimeMacros = function () {\r\n        return this.timeMacros;\r\n    };\r\n    return DataModel;\r\n}(MetaData));\r\nexport { DataModel };\r\n//# sourceMappingURL=data_model.js.map","import { DataType } from '@easydata/core';\r\nimport { equtils } from '../utils/utils';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { Query } from './query';\r\n/**\r\n * Represents expression object.\r\n */\r\nvar Expression = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function Expression(parent) {\r\n        var _this = this;\r\n        this.parent = parent;\r\n        /** The tag. */\r\n        this.tag = ExprTag.Constant;\r\n        /** The data kind. */\r\n        this.kind = DataKind.Scalar;\r\n        /** The data type. */\r\n        this.dataType = DataType.String;\r\n        /** The value. */\r\n        this._value = ''; //DO NOT forget remove any\r\n        /**\r\n         * The distinct option. (e.g `SELECT DISTINCT`)\r\n         */\r\n        this.distinct = false;\r\n        this._isDefaultValue = false;\r\n        this.getText = function () { return _this.text || _this._value; };\r\n        this.args = new Array();\r\n    }\r\n    Expression.prototype.getParent = function () {\r\n        return this.parent;\r\n    };\r\n    Expression.prototype.getModel = function () {\r\n        return this.parent.getQuery().getModel();\r\n    };\r\n    /**\r\n     * Loads expression from its JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param data The JSON representation object.\r\n     */\r\n    Expression.prototype.loadFromData = function (model, data) {\r\n        if (data) {\r\n            this.tag = data.tag;\r\n            if (data.val) {\r\n                this._value = data.val;\r\n                this.text = data.txt;\r\n            }\r\n            else if (data.id) {\r\n                this.kind = DataKind.Attribute;\r\n                this._value = data.id;\r\n                this.text = data.txt;\r\n            }\r\n            if (typeof data.dtype !== 'undefined') {\r\n                this.dataType = data.dtype;\r\n            }\r\n            if (this.tag == ExprTag.EntityAttribute\r\n                || this.tag == ExprTag.ParentEntityAttribute) {\r\n                this.kind = DataKind.Attribute;\r\n                //Do not load other info for EntityAttr\r\n                return;\r\n            }\r\n            if (typeof data.kind !== 'undefined') {\r\n                this.kind = data.kind;\r\n            }\r\n            if (data.query) {\r\n                this.subQuery = new Query(model);\r\n                this.subQuery.loadFromDataOrJson(data.query);\r\n            }\r\n            if (typeof data.distinct !== 'undefined') {\r\n                this.distinct = data.distinct;\r\n            }\r\n            if (data.func) {\r\n                this.func = data.func;\r\n                if (data.args) {\r\n                    for (var i = 0; i < data.args.length; i++) {\r\n                        var arg = new Expression(this.parent);\r\n                        arg.loadFromData(model, data.args[i]);\r\n                        this.args.push(arg);\r\n                    }\r\n                }\r\n            }\r\n            if (data.sql) {\r\n                this.sql = data.sql;\r\n                this.baseAttrId = data.baseAttrId;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Saves expression from JSON representation object.\r\n    * @returns The JSON representation object.\r\n    */\r\n    Expression.prototype.saveToData = function () {\r\n        var obj = {\r\n            tag: this.tag\r\n        };\r\n        if (typeof this.dataType !== \"undefined\") {\r\n            obj.dtype = this.dataType;\r\n        }\r\n        //Do not save other info for EntityAttr\r\n        if (this.tag == ExprTag.EntityAttribute) {\r\n            if (this._value) {\r\n                obj.id = this._value;\r\n                obj.val = this._value;\r\n            }\r\n            if (this.text) {\r\n                obj.txt = this.text;\r\n            }\r\n            return obj;\r\n        }\r\n        if (this.subQuery) {\r\n            obj.query = this.subQuery.toJSONData();\r\n        }\r\n        if (typeof this.kind !== \"undefined\") {\r\n            obj.kind = this.kind;\r\n        }\r\n        if (this._value) {\r\n            obj.val = this._value;\r\n        }\r\n        if (this.text) {\r\n            obj.txt = this.text;\r\n        }\r\n        if (this.distinct) {\r\n            obj.distinct = this.distinct;\r\n        }\r\n        if (this.func) {\r\n            obj.func = this.func;\r\n            obj.args = [];\r\n            for (var i = 0; i < this.args.length; i++) {\r\n                obj.args.push(this.args[i].saveToData());\r\n            }\r\n        }\r\n        if (this.sql) {\r\n            obj.sql = this.sql;\r\n            obj.baseAttrId = this.baseAttrId;\r\n        }\r\n        return obj;\r\n    };\r\n    Expression.prototype.getIndex = function () {\r\n        return this.parent.getExpressionIndex(this);\r\n    };\r\n    Object.defineProperty(Expression.prototype, \"value\", {\r\n        get: function () {\r\n            return this._value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Expression.prototype.setValue = function (val, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        this.setContent(val, undefined, silent);\r\n    };\r\n    Expression.prototype.setContent = function (val, txt, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        var oldValue = this.value;\r\n        if (this.kind == DataKind.Attribute && val) {\r\n            var attr = this.getModel().getAttributeById(val);\r\n            if (!attr) {\r\n                throw \"No such entity attribute:\" + val;\r\n            }\r\n            this.dataType = attr.dataType;\r\n        }\r\n        this._value = val;\r\n        if (typeof txt !== 'undefined') {\r\n            this.text = txt;\r\n        }\r\n        else if (typeof this.text !== 'undefined') {\r\n            this.text = val;\r\n        }\r\n        this._isDefaultValue = false;\r\n        if (!silent) {\r\n            this.parent.expressionChanged(this, oldValue);\r\n        }\r\n    };\r\n    Expression.prototype.isEmpty = function () {\r\n        return !(this.text || this._value);\r\n    };\r\n    Expression.prototype.hasText = function () {\r\n        return this.text && this.text.length > 0;\r\n    };\r\n    Expression.prototype.tryCopyValueFrom = function (expr) {\r\n        if (this.kind == expr.kind) {\r\n            if (this.dataType == expr.dataType) {\r\n                this.setContent(expr.value.length ? expr.value : this._value, (expr.text && expr.text.length) ? expr.text : this.text, true);\r\n            }\r\n            else {\r\n                var val = equtils.convertValue(expr.value, expr.dataType, this.dataType);\r\n                this.setContent(val.length ? val : this._value, (expr.text && expr.text.length) ? expr.text : this.text, true);\r\n            }\r\n            this.subQuery = expr.subQuery;\r\n            this.sql = expr.sql;\r\n            this.baseAttrId = expr.baseAttrId;\r\n        }\r\n        else if (!this._isDefaultValue) {\r\n            this.setContent('', '', true);\r\n            this.subQuery = null;\r\n            this.sql = null;\r\n            this.baseAttrId = null;\r\n        }\r\n    };\r\n    return Expression;\r\n}());\r\nexport { Expression };\r\n//# sourceMappingURL=expression.js.map","/**\r\n * Represents a type of condition.\r\n * Current we have 2 possible types: a simple condition or a predicate - a group of conditions\r\n*/\r\nexport var CondTag;\r\n(function (CondTag) {\r\n    /** An unknown type of condition (just in case).*/\r\n    CondTag[CondTag[\"Unknown\"] = 0] = \"Unknown\";\r\n    /** A simple condition (e.g. SomeField > SomeValue).*/\r\n    CondTag[CondTag[\"Simple\"] = 1] = \"Simple\";\r\n    /** A predicate (a group of conditions).*/\r\n    CondTag[CondTag[\"Group\"] = 51] = \"Group\";\r\n})(CondTag || (CondTag = {}));\r\n//# sourceMappingURL=cond_tag.js.map","export var ConditionPart;\r\n(function (ConditionPart) {\r\n    ConditionPart[ConditionPart[\"EntityAttr\"] = 2] = \"EntityAttr\";\r\n    ConditionPart[ConditionPart[\"Operator\"] = 4] = \"Operator\";\r\n    ConditionPart[ConditionPart[\"Value\"] = 8] = \"Value\";\r\n    ConditionPart[ConditionPart[\"All\"] = 14] = \"All\";\r\n})(ConditionPart || (ConditionPart = {}));\r\n//# sourceMappingURL=cond_part.js.map","import { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { Expression } from './expression';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { LinkType } from '../types/link_type';\r\nimport { CondTag } from '../types/cond_tag';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { QueryChangePart, QueryChangeAction } from './query_events';\r\nimport { EqEditorTag } from '../types/eq_editor_tag';\r\nimport { ConditionPart } from '../types/cond_part';\r\n/**\r\n * Represents some condition.\r\n */\r\nvar Condition = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param tag The condition tag\r\n     */\r\n    function Condition(query, tag) {\r\n        this.query = query;\r\n        /**\r\n         *  The linking type.\r\n         */\r\n        this.linkType = LinkType.All; //only for predicates\r\n        this.parent = null;\r\n        this._id = dataUtils.generateId('cond');\r\n        this.justAdded = false;\r\n        this.tag = tag || CondTag.Unknown;\r\n        this.enabled = true;\r\n        this.operatorId = '';\r\n        this.blockId = '';\r\n        this.expressions = new Array();\r\n        this.conditions = new Array();\r\n    }\r\n    Object.defineProperty(Condition.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Condition.prototype, \"enabled\", {\r\n        get: function () {\r\n            return this._enabled && (!this.getParent() || this.getParent().enabled);\r\n        },\r\n        set: function (value) {\r\n            this._enabled = value && (!this.getParent() || this.getParent().enabled);\r\n            this.conditions && this.conditions.forEach(function (cond) {\r\n                cond.enabled = value;\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Condition.prototype.getQuery = function () {\r\n        return this.query;\r\n    };\r\n    Condition.prototype.getModel = function () {\r\n        return this.query.getModel();\r\n    };\r\n    Condition.prototype.getParent = function () {\r\n        return this.parent;\r\n    };\r\n    Condition.prototype.setParent = function (parent) {\r\n        this.parent = parent;\r\n    };\r\n    Condition.prototype.getConditions = function () {\r\n        return this.conditions;\r\n    };\r\n    Condition.prototype.isEmpty = function () {\r\n        return this.conditions.length === 0;\r\n    };\r\n    Condition.prototype.isGroup = function () {\r\n        return (this.tag == CondTag.Group) || (this.parent == null);\r\n    };\r\n    Condition.prototype.getLevel = function () {\r\n        var parent = this.getParent();\r\n        return parent ? parent.getLevel() + 1 : 0;\r\n    };\r\n    /**\r\n     * Indicates whether this condition is read-only.\r\n     */\r\n    Condition.prototype.isReadOnly = function () {\r\n        return false;\r\n    };\r\n    Condition.prototype.setReadOnly = function (value) {\r\n    };\r\n    /**\r\n     * The value indicating whether this condition is parameterized.\r\n     */\r\n    Condition.prototype.isParameterized = function () {\r\n        return false;\r\n    };\r\n    Condition.prototype.setParameterized = function (value) {\r\n    };\r\n    /**\r\n     * Indicates whether this condition must be placed into `JOIN` clause in result `SQL`.\r\n     */\r\n    Condition.prototype.isInJoin = function () {\r\n        return false;\r\n    };\r\n    Condition.prototype.setInJoin = function (value) {\r\n    };\r\n    Condition.prototype.clearConditions = function () {\r\n        this.conditions = [];\r\n    };\r\n    Condition.prototype.addCondition = function (cond) {\r\n        cond.setParent(this);\r\n        return this.conditions.push(cond);\r\n    };\r\n    Condition.prototype.removeConditionAt = function (index) {\r\n        this.conditions.splice(index, 1);\r\n    };\r\n    /**\r\n    * Loads condtion from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param data The JSON representation object.\r\n    */\r\n    Condition.prototype.loadFromData = function (model, data) {\r\n        if (data) {\r\n            this.tag = data.tag;\r\n            if (!this.tag) {\r\n                this.tag = (!this.parent || this.conditions.length > 0) ? CondTag.Group : CondTag.Simple;\r\n            }\r\n            if (typeof data.enabled !== 'undefined') {\r\n                this.enabled = data.enabled;\r\n            }\r\n            if (typeof data.disabled !== 'undefined') {\r\n                this.enabled = !data.disabled;\r\n            }\r\n            if (this.tag == CondTag.Simple) {\r\n                this.operatorId = data.op;\r\n                if (data.exprs) {\r\n                    for (var i = 0; i < data.exprs.length; i++) {\r\n                        var newExpr = new Expression(this);\r\n                        newExpr.loadFromData(model, data.exprs[i]);\r\n                        this.expressions.push(newExpr);\r\n                    }\r\n                }\r\n            }\r\n            this.linkType = data.linking;\r\n        }\r\n    };\r\n    /**\r\n     * Saves condition to JSON representation object.\r\n     * @returns The JSON representation object.\r\n     */\r\n    Condition.prototype.saveToData = function () {\r\n        var obj = {};\r\n        obj.tag = this.tag;\r\n        if (!this.enabled) {\r\n            obj.enabled = this.enabled;\r\n        }\r\n        if (this.tag == CondTag.Simple) {\r\n            obj.op = this.operatorId;\r\n            obj.exprs = [];\r\n            for (var i = 0; i < this.expressions.length; i++) {\r\n                obj.exprs.push(this.expressions[i].saveToData());\r\n            }\r\n        }\r\n        if (this.tag == CondTag.Group) {\r\n            //if condition group\r\n            obj.linking = this.linkType;\r\n        }\r\n        return obj;\r\n    };\r\n    Condition.prototype.fireChangedEvent = function (condPart) {\r\n        if (condPart === void 0) { condPart = ConditionPart.All; }\r\n        this.query.fireChangedEvent({\r\n            part: QueryChangePart.Conditions,\r\n            action: QueryChangeAction.Modify,\r\n            changee: this,\r\n            condPart: condPart\r\n        });\r\n    };\r\n    Condition.prototype.getExpressionIndex = function (expr) {\r\n        return this.expressions.indexOf(expr, 0);\r\n    };\r\n    Condition.prototype.expressionChanged = function (expr, oldValue) {\r\n        if (expr.getIndex() == 0 && expr.tag == ExprTag.EntityAttribute) {\r\n            //this is a base entity attribute, we need to re-pack the whole condition\r\n            this.tuneOperatorForAttr(expr.value);\r\n        }\r\n    };\r\n    Condition.prototype.getOperatorId = function () {\r\n        return this.operatorId;\r\n    };\r\n    Condition.prototype.setOperatorId = function (newOperatorId, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        var oldOperatorId = this.operatorId;\r\n        this.operatorId = newOperatorId;\r\n        if (!silent) {\r\n            var model = this.getModel();\r\n            var operator = model.getOperatorById(newOperatorId);\r\n            var attrId = this.expressions[0].value;\r\n            var attr = model.getAttributeById(attrId);\r\n            this.tuneValueExpressions(attr, operator, attr.id, oldOperatorId);\r\n        }\r\n    };\r\n    Condition.prototype.tuneOperatorForAttr = function (oldAttrId) {\r\n        var model = this.getModel();\r\n        var attrId = this.expressions[0].value;\r\n        var attr = model.getAttributeById(attrId);\r\n        if (attr != null) {\r\n            var newOperator = this.getModel().getDefaultOperatorForAttr(attr);\r\n            var oldOperatorId = this.operatorId;\r\n            this.operatorId = newOperator.id;\r\n            this.tuneValueExpressions(attr, newOperator, oldAttrId, oldOperatorId);\r\n        }\r\n    };\r\n    Condition.prototype.tuneValueExpressions = function (attr, operator, oldAttrId, oldOperatorId) {\r\n        var model = this.getModel();\r\n        if (!operator)\r\n            return;\r\n        var exprCount = this.expressions.length;\r\n        var oldAttr = oldAttrId ? model.getAttributeById(oldAttrId) : null;\r\n        var oldOperator = null;\r\n        if (oldOperatorId) {\r\n            oldOperator = model.getOperatorById(oldOperatorId);\r\n        }\r\n        if (oldOperator && oldOperator.paramCount == operator.paramCount) {\r\n            //add  necessary expressions\r\n            var i = 1;\r\n            while (i < operator.paramCount) {\r\n                var oldOperand = model.getOperand(attr, oldOperator, i);\r\n                var operand = model.getOperand(attr, operator, i);\r\n                if (operand.dataType == DataType.Unknown) {\r\n                    operand.dataType = attr.dataType;\r\n                }\r\n                if (i >= exprCount) {\r\n                    var valExpr = this.createValueExpr(operand);\r\n                    this.expressions.push(valExpr);\r\n                }\r\n                else {\r\n                    var oldExpr = this.expressions[i];\r\n                    //create new value expression according to the corresponding operand\r\n                    var newExpr = this.createValueExpr(operand);\r\n                    if (this.areCompitableEditors(oldOperand.editor, operand.editor)) {\r\n                        newExpr.tryCopyValueFrom(oldExpr);\r\n                    }\r\n                    this.expressions[i] = newExpr;\r\n                }\r\n                i++;\r\n            }\r\n            if (exprCount > i) {\r\n                //remove all redundant expressions\r\n                this.expressions.splice(i, exprCount - i);\r\n            }\r\n        }\r\n        else {\r\n            this.expressions.splice(1, this.expressions.length - 1);\r\n            for (var i = 1; i < operator.paramCount; i++) {\r\n                var operand = model.getOperand(attr, operator, i);\r\n                if (operand.dataType == DataType.Unknown) {\r\n                    operand.dataType = attr.dataType;\r\n                }\r\n                var valExpr = this.createValueExpr(operand);\r\n                this.expressions.push(valExpr);\r\n            }\r\n        }\r\n    };\r\n    Condition.prototype.areCompitableEditors = function (oldEditor, newEditor) {\r\n        if (newEditor.tag == EqEditorTag.CustomList || newEditor.tag == EqEditorTag.List\r\n            || newEditor.tag == EqEditorTag.SqlList) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    Condition.prototype.addExpressionByOperand = function (operand, val) {\r\n        if (val === void 0) { val = null; }\r\n        var expr = this.createValueExpr(operand, val);\r\n        this.expressions.push(expr);\r\n        return expr;\r\n    };\r\n    Condition.prototype.createValueExpr = function (operand, val) {\r\n        if (val === void 0) { val = null; }\r\n        var valueNotDefined = val === null || typeof val === 'undefined';\r\n        var value = val ? val : operand.defValue;\r\n        var text = val ? val : operand.defText;\r\n        var result = new Expression(this);\r\n        if (operand.kind === DataKind.Query) {\r\n            result.tag = ExprTag.Query;\r\n            result.dataType = operand.dataType;\r\n            result.kind = operand.kind;\r\n            result.setContent(value, text, true);\r\n        }\r\n        else if (operand.kind === DataKind.Attribute) {\r\n            if (!valueNotDefined) {\r\n                var defAttr = this.getModel().getFirstAttributeByFilter(function (attr) {\r\n                    return attr.useInConditions == true && (!operand.dataType || attr.dataType == operand.dataType);\r\n                });\r\n                value = defAttr ? defAttr.id : null;\r\n            }\r\n            result.tag = ExprTag.EntityAttribute;\r\n            result.kind = operand.kind;\r\n            result.dataType = operand.dataType;\r\n            result.setContent(value, text, true);\r\n        }\r\n        else {\r\n            if (valueNotDefined) {\r\n                if (operand.defValue && operand.defValue != \"\") {\r\n                    value = operand.defValue;\r\n                }\r\n                else {\r\n                    if (operand.editor && operand.editor.defValue) {\r\n                        value = operand.editor.defValue;\r\n                    }\r\n                    else {\r\n                        value = '';\r\n                    }\r\n                }\r\n                if (operand.editor) {\r\n                    text = operand.editor.getValueText(value);\r\n                }\r\n            }\r\n            result.tag = ExprTag.Constant;\r\n            result.dataType = operand.dataType;\r\n            result.kind = operand.kind;\r\n            result.setContent(value, text, true);\r\n            result._isDefaultValue = valueNotDefined;\r\n        }\r\n        return result;\r\n    };\r\n    return Condition;\r\n}());\r\nexport { Condition };\r\n//# sourceMappingURL=condition.js.map","/** Represents groups of widgets. Used to identify widgets */\r\nexport var WidgetGroup;\r\n(function (WidgetGroup) {\r\n    /** None widget group. */\r\n    WidgetGroup[WidgetGroup[\"None\"] = 0] = \"None\";\r\n    /** The group of widgets responsible for the Model. */\r\n    WidgetGroup[WidgetGroup[\"Model\"] = 1] = \"Model\";\r\n    /** The group of widgets responsible for the Query. */\r\n    WidgetGroup[WidgetGroup[\"Query\"] = 2] = \"Query\";\r\n    /** The group of widgets responsible for the Result. */\r\n    WidgetGroup[WidgetGroup[\"Result\"] = 4] = \"Result\";\r\n    /** The group of widgets responsible for the statement. */\r\n    WidgetGroup[WidgetGroup[\"Statement\"] = 8] = \"Statement\";\r\n    /** The group of widgets responsible for tracking Query status. */\r\n    WidgetGroup[WidgetGroup[\"QueryStatus\"] = 16] = \"QueryStatus\";\r\n    /** All. */\r\n    WidgetGroup[WidgetGroup[\"All\"] = 65535] = \"All\";\r\n})(WidgetGroup || (WidgetGroup = {}));\r\n//# sourceMappingURL=widget_group.js.map","export var EqAction;\r\n(function (EqAction) {\r\n    EqAction[\"LoadModel\"] = \"LoadModel\";\r\n    EqAction[\"LoadQuery\"] = \"LoadQuery\";\r\n    EqAction[\"LoadQueryList\"] = \"LoadQueryList\";\r\n    EqAction[\"NewQuery\"] = \"NewQuery\";\r\n    EqAction[\"SaveQuery\"] = \"SaveQuery\";\r\n    EqAction[\"RemoveQuery\"] = \"RemoveQuery\";\r\n    EqAction[\"SyncQuery\"] = \"SyncQuery\";\r\n    EqAction[\"FetchData\"] = \"FetchData\";\r\n    EqAction[\"GetValueList\"] = \"GetValueList\";\r\n    EqAction[\"ExportResult\"] = \"ExportResult\";\r\n    EqAction[\"GetQueryFile\"] = \"GetQueryFile\";\r\n    EqAction[\"UploadQueryFile\"] = \"UploadQueryFile\";\r\n})(EqAction || (EqAction = {}));\r\n//# sourceMappingURL=eq_actions.js.map","export var EqActionResult;\r\n(function (EqActionResult) {\r\n    EqActionResult[EqActionResult[\"Error\"] = 0] = \"Error\";\r\n    EqActionResult[EqActionResult[\"Success\"] = 1] = \"Success\";\r\n})(EqActionResult || (EqActionResult = {}));\r\n//# sourceMappingURL=action.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EventEmitter, utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { equtils } from '../utils/utils';\r\nimport { DataModel } from '../dm/data_model';\r\nimport { Expression } from './expression';\r\nimport { Column, SortDirection } from './column';\r\nimport { Condition } from './condition';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { LinkType } from '../types/link_type';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { CondTag } from '../types/cond_tag';\r\nimport { QueryChangePart } from './query_events';\r\n/**\r\n * The error that appears when the query is not valid\r\n */\r\nvar InvalidQueryError = /** @class */ (function (_super) {\r\n    __extends(InvalidQueryError, _super);\r\n    /**\r\n     * Creates an instance of error type.\r\n     * @param message The error message\r\n     */\r\n    function InvalidQueryError(message) {\r\n        var _this = _super.call(this, message) || this;\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(_this, InvalidQueryError);\r\n        }\r\n        _this.name = 'InvalidQueryError';\r\n        return _this;\r\n    }\r\n    return InvalidQueryError;\r\n}(Error));\r\nexport { InvalidQueryError };\r\n/**\r\n * Represents Query.\r\n */\r\nvar Query = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param model The data model.\r\n     * @param data JSON representation object.\r\n     * @param options The options.\r\n     * @throws {InvalidQueryError} The error throws when query is not valid.\r\n     */\r\n    function Query(model, data, options) {\r\n        /**\r\n         * Contains user-defined extra data for current query.\r\n         */\r\n        this.extraData = {};\r\n        this.innerData = {};\r\n        this.isNewbie = true;\r\n        this._isModified = false;\r\n        this.parentQuery = null;\r\n        this.drillDowns = [];\r\n        this.eventEmitter = new EventEmitter(this);\r\n        this.root = new Condition(this, CondTag.Group);\r\n        this.extraConditions = new Condition(this, CondTag.Group);\r\n        this.columns = new Array();\r\n        this.justsorted = new Array();\r\n        if (!this.id) {\r\n            this.regenerateId();\r\n        }\r\n        this.setDefaultName();\r\n        this.description = \"\";\r\n        this.modelId = \"\";\r\n        this.modelName = \"\";\r\n        this.model = (model) ? model : new DataModel();\r\n        if (data) {\r\n            this.loadFromData(data);\r\n        }\r\n        this.attributeExprTag = (options) ? options.attrTag || ExprTag.EntityAttribute : ExprTag.EntityAttribute;\r\n        this.clientListRequestHandler = (options) ? options.clientListRequestHandler : new Array();\r\n        this.serverListRequestHandler = (options) ? options.serverListRequestHandler : new Array();\r\n        this.timezoneOffset = (new Date()).getTimezoneOffset();\r\n        if (options) {\r\n            this.parentQuery = options.parent;\r\n        }\r\n    }\r\n    Query.prototype.isModified = function () {\r\n        return this._isModified;\r\n    };\r\n    Query.prototype.resetModified = function () {\r\n        this._isModified = false;\r\n    };\r\n    Query.prototype.isEx = function () {\r\n        return false;\r\n    };\r\n    /**\r\n     * Resets the query: clears all its conditions and columns, regenerate the ID and sets the default name.\r\n     * @param silent Indicates whether we need to avoid firing the QueryChanged event.\r\n     */\r\n    Query.prototype.reset = function (clearQuery) {\r\n        if (clearQuery === void 0) { clearQuery = true; }\r\n        if (clearQuery) {\r\n            this.clear();\r\n        }\r\n        this.regenerateId();\r\n        this.setDefaultName();\r\n        this._isModified = false;\r\n        this.isNewbie = true;\r\n    };\r\n    Query.prototype.hasEnabledAggrColumns = function () {\r\n        return this.columns.filter(function (col) { return col.enabled\r\n            && col.expr.tag === ExprTag.AggregateFunction; }).length > 0;\r\n    };\r\n    Query.prototype.setDefaultName = function () {\r\n        this.setName(i18n.getText('NewQueryName'));\r\n        return this.getName();\r\n    };\r\n    /**\r\n     * Validates wether the query corresponds to the model.\r\n     * @param options Validate options.\r\n     * @throws {InvalidQueryError} If query is not valid.\r\n     */\r\n    Query.prototype.validate = function (options) {\r\n        options = options || {};\r\n        var entityAttrNotExistError = \"EntityAttribute isn't declared in the model: \";\r\n        var wrongExprTag = \"The expression has wrond tag: \";\r\n        if (!this.model) {\r\n            throw new InvalidQueryError(\"Model is not declared\");\r\n        }\r\n        if (this.columns) {\r\n            for (var _i = 0, _a = this.columns; _i < _a.length; _i++) {\r\n                var column = _a[_i];\r\n                if (column.expr.tag == ExprTag.EntityAttribute\r\n                    || column.expr.tag === ExprTag.ParentEntityAttribute) {\r\n                    var attr = this.model.getAttributeById(column.expr.value);\r\n                    if (!attr) {\r\n                        throw new InvalidQueryError(entityAttrNotExistError + column.expr.value);\r\n                    }\r\n                }\r\n                else if (column.expr.tag === ExprTag.AggregateFunction) {\r\n                    var attr = this.model.getAttributeById(column.expr.args[0].value);\r\n                    if (!attr) {\r\n                        throw new InvalidQueryError(entityAttrNotExistError + column.expr.args[0].value);\r\n                    }\r\n                }\r\n                else if (column.expr.tag !== ExprTag.CustomSql) {\r\n                    throw new InvalidQueryError(wrongExprTag + column.expr.tag);\r\n                }\r\n            }\r\n        }\r\n        if (this.root && this.root.getConditions()) {\r\n            this.validateConditionGroup(this.root, options);\r\n        }\r\n    };\r\n    Query.prototype.getAggregatedColumns = function () {\r\n        return this.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag === ExprTag.AggregateFunction; });\r\n    };\r\n    /**\r\n     * Validates wether the query corresponds to the model.\r\n     * @param options Validate options.\r\n     * @returns `true` if it is valid, otherwise `false`\r\n     */\r\n    Query.prototype.tryValidate = function (options) {\r\n        try {\r\n            this.validate(options);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            if (e.name == 'InvalidQueryError') {\r\n                return false;\r\n            }\r\n            else {\r\n                throw e;\r\n            }\r\n        }\r\n    };\r\n    Query.prototype.validateConditionGroup = function (curCond, options) {\r\n        if (curCond.isGroup()) {\r\n            for (var _i = 0, _a = curCond.getConditions(); _i < _a.length; _i++) {\r\n                var condition = _a[_i];\r\n                if (!condition.enabled)\r\n                    continue;\r\n                this.validateConditionGroup(condition, options);\r\n            }\r\n        }\r\n        else if (curCond.expressions[0].tag === ExprTag.EntityAttribute) {\r\n            var attrId = curCond.expressions[0].value;\r\n            var attr = this.model.getAttributeById(attrId);\r\n            if (!attr) {\r\n                throw new InvalidQueryError(\"EntityAttribute isn't declared in the model: \" + attrId);\r\n            }\r\n            if (!options.checkExpressions)\r\n                return;\r\n            for (var i = 1; i < curCond.expressions.length; i++) {\r\n                var expr = curCond.expressions[i];\r\n                if (expr.tag !== ExprTag.Constant)\r\n                    continue;\r\n                //validate number exprs\r\n                if (dataUtils.isNumericType(expr.dataType)) {\r\n                    if (!expr.value.length) {\r\n                        throw new InvalidQueryError(\"Expression constant is empty in condition: \" + curCond.id);\r\n                    }\r\n                    var values = [];\r\n                    if (expr.kind === DataKind.List) {\r\n                        values = expr.value.split(/\\s*,\\s*/);\r\n                    }\r\n                    else {\r\n                        values = [expr.value];\r\n                    }\r\n                    for (var _b = 0, values_1 = values; _b < values_1.length; _b++) {\r\n                        var value = values_1[_b];\r\n                        var parsedVal = +value;\r\n                        if (isNaN(parsedVal)) {\r\n                            throw new InvalidQueryError(\"Expression constant is NaN in condition:\" + curCond.id);\r\n                        }\r\n                        if (dataUtils.isIntType(expr.dataType) && parsedVal != parseInt(value, 10)) {\r\n                            throw new InvalidQueryError(\"Expression constant is wrong interger in condition: \" + curCond.id);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets data to the query.\r\n     * @param data JSON representation object or JSON string\r\n     * @param changeStatus Indicate whether we should change the \"isModified\" status (by default == `true`)\r\n     */\r\n    Query.prototype.loadFromDataOrJson = function (data, changeStatus) {\r\n        if (changeStatus === void 0) { changeStatus = true; }\r\n        if (data) {\r\n            if (typeof data === \"string\") {\r\n                this.loadFromJson(data, changeStatus);\r\n            }\r\n            else {\r\n                this.loadFromData(data, changeStatus);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Loads query from JSON.\r\n     * @param json The JSON string.\r\n     * @throws {InvalidQueryError} The error throws when query is not valid.\r\n     */\r\n    Query.prototype.loadFromJson = function (json, changeStatus) {\r\n        if (changeStatus === void 0) { changeStatus = true; }\r\n        var data = JSON.parse(json);\r\n        this.loadFromData(data, changeStatus);\r\n    };\r\n    /**\r\n     * Loads query from data representation.\r\n     * @param data\r\n     * @param changeStatus\r\n     * @throws {InvalidQueryError} The error throws when query is not valid.\r\n     */\r\n    Query.prototype.loadFromData = function (data, changeStatus) {\r\n        if (changeStatus === void 0) { changeStatus = true; }\r\n        var noErrors = false;\r\n        this.clear();\r\n        this.clearDrillDowns();\r\n        if (data) {\r\n            this.id = data.id;\r\n            this.root.loadFromData(this.model, data.root);\r\n            if (data.root && data.root.conds) {\r\n                for (var i = 0; i < data.root.conds.length; i++) {\r\n                    var condData = data.root.conds[i];\r\n                    if (condData.conds && !this.isEx()) {\r\n                        console.error(\"Community version doesn't support working with groups.\");\r\n                        continue;\r\n                    }\r\n                    var cond = this.createCondition();\r\n                    cond.loadFromData(this.model, condData);\r\n                    this.root.addCondition(cond);\r\n                }\r\n            }\r\n            this.name = data.name;\r\n            this.description = data.desc;\r\n            this.justsorted = [];\r\n            if (data.justsortcols) {\r\n                for (var i = 0; i < data.justsortcols.length; i++) {\r\n                    var newCol = this.createColumn(true);\r\n                    newCol.loadFromData(this.model, data.justsortcols[i]);\r\n                    this.justsorted.push(newCol);\r\n                }\r\n            }\r\n            if (data.cols) {\r\n                for (var i = 0; i < data.cols.length; i++) {\r\n                    var newCol = this.createColumn();\r\n                    newCol.loadFromData(this.model, data.cols[i]);\r\n                    this.columns.push(newCol);\r\n                }\r\n            }\r\n            if (data.extraData) {\r\n                this.extraData = data.extraData;\r\n            }\r\n            this.innerData = data.innerData || this.innerData;\r\n            if (data.dds && data.dds.length) {\r\n                for (var _i = 0, _a = data.dds; _i < _a.length; _i++) {\r\n                    var dd = _a[_i];\r\n                    var query = this.addDrillDown();\r\n                    query.loadFromData(dd);\r\n                }\r\n            }\r\n        }\r\n        noErrors = true;\r\n        if (noErrors) {\r\n            if (changeStatus) {\r\n                this.isNewbie = false;\r\n                this._isModified = false;\r\n            }\r\n        }\r\n        this.validate();\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    Query.prototype.addDrillDown = function () {\r\n        var query = this.model.createQuery();\r\n        query.parentQuery = this;\r\n        this.drillDowns.push(query);\r\n        return query;\r\n    };\r\n    Query.prototype.getDrillDowns = function () {\r\n        return this.drillDowns;\r\n    };\r\n    Query.prototype.getParentQuery = function () {\r\n        return this.parentQuery;\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    Query.prototype.findColumnById = function (colId) {\r\n        for (var _i = 0, _a = this.columns; _i < _a.length; _i++) {\r\n            var col = _a[_i];\r\n            if (col.id === colId)\r\n                return col;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Gets DataModel object associated with this query.\r\n     * @retruns The data model.\r\n     */\r\n    Query.prototype.getModel = function () {\r\n        return this.model;\r\n    };\r\n    /**\r\n     * Sets DataModel object associated with this query.\r\n     * @param model The data model.\r\n     */\r\n    Query.prototype.setModel = function (model) {\r\n        this.model = model;\r\n    };\r\n    /**\r\n     * Loads data model.\r\n     * @param model JSON representation object or JSON string.\r\n     */\r\n    Query.prototype.loadModelData = function (model) {\r\n        this.model.setData(model);\r\n    };\r\n    /**\r\n     * Returns JSON representation of this query.\r\n     * @retruns JSON string.\r\n     */\r\n    Query.prototype.toJSON = function () {\r\n        return JSON.stringify(this.toJSONData());\r\n    };\r\n    /**\r\n     * Returns JSON representation of this query.\r\n     * @retruns JSON representation object.\r\n     */\r\n    Query.prototype.toJSONData = function () {\r\n        var _this = this;\r\n        var obj = {\r\n            modelId: this.model ? this.model.getId() : null,\r\n            modelName: this.model ? this.model.getName() : null\r\n        };\r\n        obj.id = this.id;\r\n        obj.name = this.name;\r\n        if (this.description) {\r\n            obj.desc = this.description;\r\n        }\r\n        obj.cols = [];\r\n        for (var i = 0; i < this.columns.length; i++) {\r\n            obj.cols.push(this.columns[i].saveToData());\r\n        }\r\n        obj.justsortcols = [];\r\n        for (var i = 0; i < this.justsorted.length; i++) {\r\n            obj.justsortcols.push(this.justsorted[i].saveToData());\r\n        }\r\n        if (this.extraData) {\r\n            obj.extraData = this.extraData;\r\n        }\r\n        if (this.innerData) {\r\n            obj.innerData = this.innerData;\r\n        }\r\n        var rootCondToData = function (condGroup) {\r\n            var result = condGroup.saveToData();\r\n            result.conds = [];\r\n            var conditions = condGroup.getConditions();\r\n            for (var i = 0; i < conditions.length; i++) {\r\n                if (conditions[i].isGroup() && !_this.isEx()) {\r\n                    console.error(\"Community version doesn't support working with groups.\");\r\n                    continue;\r\n                }\r\n                result.conds.push(conditions[i].saveToData());\r\n            }\r\n            return result;\r\n        };\r\n        obj.root = rootCondToData(this.root);\r\n        obj.extraConds = rootCondToData(this.extraConditions);\r\n        if (this.drillDowns.length > 0) {\r\n            obj.dds = [];\r\n            for (var _i = 0, _a = this.drillDowns; _i < _a.length; _i++) {\r\n                var dd = _a[_i];\r\n                obj.dds.push(dd.toJSONData());\r\n            }\r\n        }\r\n        obj.timezoneOffset = this.timezoneOffset;\r\n        return obj;\r\n    };\r\n    /**\r\n     * Checks wether query does not contains any condtion.\r\n     * @retruns `true` if query does not contain any condition, otherwise `false`.\r\n     */\r\n    Query.prototype.isEmptyConditions = function () {\r\n        return this.root.isEmpty();\r\n    };\r\n    /**\r\n     * Checks wether query does not contains any column.\r\n     * @retruns `true` if query does not contain any column, otherwise `false`.\r\n     */\r\n    Query.prototype.isEmptyColumns = function () {\r\n        return !this.columns || this.columns.length === 0;\r\n    };\r\n    /**\r\n     * Checks wether query does not contains any column and any condition.\r\n     * @retruns `true` if query does not contain any column and any condition, otherwise `false`.\r\n     */\r\n    Query.prototype.isEmpty = function () {\r\n        return this.isEmptyColumns() && this.isEmptyConditions();\r\n    };\r\n    /**\r\n     * Clears the query (all conditions, columns, extraData, etc).\r\n     */\r\n    Query.prototype.clear = function () {\r\n        this.clearColumns();\r\n        this.clearConditions();\r\n        this.clearExtraConditions();\r\n        this.innerData = {};\r\n        this.extraData = {};\r\n    };\r\n    /**\r\n     * Clears all columns in query\r\n     */\r\n    Query.prototype.clearColumns = function () {\r\n        this.columns = [];\r\n        this.justsorted = [];\r\n    };\r\n    /**\r\n     * Clears all conditions in query.\r\n     */\r\n    Query.prototype.clearConditions = function () {\r\n        this.root.clearConditions();\r\n        this.root.linkType = LinkType.All;\r\n        this.root.enabled = true;\r\n    };\r\n    /**\r\n     * Clears all extra conditions in query\r\n     */\r\n    Query.prototype.clearExtraConditions = function () {\r\n        this.extraConditions.clearConditions();\r\n    };\r\n    /**\r\n     * Clears all drill downs\r\n     */\r\n    Query.prototype.clearDrillDowns = function () {\r\n        this.drillDowns = [];\r\n    };\r\n    /**\r\n     * Gets query ID.\r\n     * @returns The ID>\r\n     */\r\n    Query.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    /**\r\n     * Sets query ID.\r\n     * @param id New Query ID.\r\n     */\r\n    Query.prototype.setId = function (id) {\r\n        this.id = id;\r\n    };\r\n    /**\r\n     * Regenerates current query ID.\r\n     * @param id New Query ID.\r\n     */\r\n    Query.prototype.regenerateId = function () {\r\n        this.id = dataUtils.generateId(\"quer\");\r\n    };\r\n    /**\r\n     * Gets name of the query.\r\n     * @retruns The name.\r\n     */\r\n    Query.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    /**\r\n     * Sets name of the query\r\n     * @param name New name.\r\n     */\r\n    Query.prototype.setName = function (name) {\r\n        this.name = name;\r\n    };\r\n    /**\r\n     * Gets description of the query.\r\n     * @retruns The description.\r\n     */\r\n    Query.prototype.getDescription = function () {\r\n        return this.description;\r\n    };\r\n    /**\r\n     * Sets description of the query\r\n     * @param description New description.\r\n     */\r\n    Query.prototype.setDescription = function (description) {\r\n        this.description = description;\r\n    };\r\n    /**\r\n     * Get array of columns.\r\n     * @retruns Columns.\r\n     */\r\n    Query.prototype.getColumns = function () {\r\n        return this.columns;\r\n    };\r\n    /**\r\n     * Gets array of columns that are used as keys\r\n     * for totals.\r\n     */\r\n    Query.prototype.getUsedInTotalsColumns = function () {\r\n        var cols = this.getColumns()\r\n            .filter(function (col) { return col.enabled && col.expr.tag === ExprTag.EntityAttribute; });\r\n        if (cols.length)\r\n            cols.pop();\r\n        return cols;\r\n    };\r\n    /**\r\n     * Get array of columns used only in sorting.\r\n     * @retruns Columns.\r\n     */\r\n    Query.prototype.getJustSortedColumns = function () {\r\n        return this.justsorted;\r\n    };\r\n    /**\r\n     * Gets array of columns used in sorting\r\n     * @retruns Columns\r\n     */\r\n    Query.prototype.getSortedColumns = function () {\r\n        var sortedCols = new Array();\r\n        var cols = this.getColumns()\r\n            .concat(this.getJustSortedColumns());\r\n        for (var i = 0; i < cols.length; i++) {\r\n            var col = cols[i];\r\n            if (col.sortIndex >= 0) {\r\n                sortedCols.push(col);\r\n            }\r\n        }\r\n        sortedCols.sort(function (col1, col2) {\r\n            return col1.sortIndex - col2.sortIndex;\r\n        });\r\n        return sortedCols;\r\n    };\r\n    /**\r\n     * Gets Colummn sorting index.\r\n     * @param col The column.\r\n     * @retruns The index.\r\n     */\r\n    Query.prototype.getColumnSortIndex = function (col) {\r\n        if (col.sorting != SortDirection.None) {\r\n            if (col.sortIndex < 0) {\r\n                var cols = this.getColumns()\r\n                    .concat(this.getJustSortedColumns());\r\n                return dataUtils.indexOfArrayItem(cols, col);\r\n            }\r\n            else {\r\n                return col.sortIndex;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    Query.prototype.createColumn = function (justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        return new Column(this, justsorted);\r\n    };\r\n    Query.prototype.getColumnById = function (id) {\r\n        return dataUtils.findItemById(this.columns, id);\r\n    };\r\n    /**\r\n     * Adds a new column with specified parameters\r\n     * @param desriptor The descriptor of the new column. Can contain different parameters like:\r\n     * `attribute` - a reference to a EntityAttr object,\r\n     * `attributeId` - an ID of the entity attribute we need (if we don't indicate `attribute`),\r\n     * `index`, sorting`, 'sortIndex` and other\r\n     *\r\n     * @param author The author of this operation. This parameter is used in EasyQuery widgets only to indicate which of the initiates the change.\r\n     * @retruns The column.\r\n     * @example\r\n     * query.addColumn({\r\n     *     attributeId: 'Customers.CompanyName',\r\n     *     sortIndex: SortDirection.Ascending\r\n     * }});\r\n     */\r\n    Query.prototype.addColumn = function (descriptor, author) {\r\n        var columns = (descriptor.justsorted)\r\n            ? this.justsorted\r\n            : this.columns;\r\n        var newColumn;\r\n        if (descriptor.column) {\r\n            newColumn = descriptor.column;\r\n        }\r\n        else {\r\n            newColumn = this.createColumn(descriptor.justsorted);\r\n            var attr = void 0;\r\n            if (descriptor.attribute) {\r\n                attr = descriptor.attribute;\r\n            }\r\n            else if (descriptor.attributeId) {\r\n                attr = this.model.getAttributeById(descriptor.attributeId);\r\n                if (!attr) {\r\n                    throw new Error(\"Incorrect attribute id (\" + descriptor.attributeId + \"): addColumn\");\r\n                }\r\n            }\r\n            else {\r\n                throw new Error(\"Not enought data: addColumn\");\r\n            }\r\n            if (descriptor.aggrFuncId && descriptor.cusomtSql) {\r\n                console.warn(\"Column cannot be created using aggrFuncId and customSql at the same time. \" +\r\n                    \"cusomSql will be used.\");\r\n            }\r\n            if (descriptor.cusomtSql) {\r\n                newColumn.caption = 'Custom SQL Column';\r\n                newColumn.expr.tag = ExprTag.CustomSql;\r\n                newColumn.expr.baseAttrId = attr.id;\r\n                newColumn.expr.sql = descriptor.cusomtSql;\r\n            }\r\n            else if (descriptor.aggrFuncId) {\r\n                newColumn.caption = attr.caption + ' '\r\n                    + this.model.getAggrFunctionCaption(descriptor.aggrFuncId);\r\n                newColumn.expr.tag = ExprTag.AggregateFunction;\r\n                newColumn.expr.func = descriptor.aggrFuncId;\r\n                newColumn.expr.distinct = false;\r\n                var arg = new Expression(newColumn);\r\n                arg.setValue(attr.id, true);\r\n                arg.tag = ExprTag.EntityAttribute;\r\n                newColumn.expr.args.push(arg);\r\n                ;\r\n            }\r\n            else {\r\n                newColumn.caption = attr.caption;\r\n                newColumn.expr.setValue(attr.id, true);\r\n                newColumn.expr.tag = ExprTag.EntityAttribute;\r\n            }\r\n            newColumn.caption = descriptor.caption || newColumn.caption;\r\n            newColumn.sorting = descriptor.sorting || SortDirection.None;\r\n            newColumn.sortIndex = descriptor.sortIndex || -1;\r\n            newColumn.enabled = dataUtils.getIfDefined(descriptor.enabled, true);\r\n            newColumn.setReadOnly(dataUtils.getIfDefined(descriptor.readonly, false));\r\n        }\r\n        if (descriptor.index && descriptor.index >= 0 && descriptor.index < columns.length) {\r\n            columns.splice(descriptor.index, 0, newColumn);\r\n        }\r\n        else {\r\n            columns.push(newColumn);\r\n        }\r\n        return newColumn;\r\n    };\r\n    /**\r\n     * Adds a new column with specified index.\r\n     * @param column The column or array of columns\r\n     * @param index The index of new column\r\n     * @param author The author.\r\n     * @example\r\n     * const column = new Column();\r\n     * column.caption = \"Company name\";\r\n     *\r\n     * query.addColumn(column, 1)\r\n     */\r\n    Query.prototype.addColumnObj = function (column, index, author) {\r\n        var columns = this.columns;\r\n        if (typeof column.length == \"undefined\") {\r\n            if (typeof index == \"number\") {\r\n                columns.splice(index, 0, column);\r\n            }\r\n            else {\r\n                columns.push(column);\r\n            }\r\n        }\r\n        else {\r\n            if (typeof index == \"number\") {\r\n                columns.push.apply(columns, [index, 0].concat(column));\r\n            }\r\n            else {\r\n                columns.push.apply(columns, [].concat(column));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Changes column to Aggregate function, custom expression or simple column.\r\n     * @param column The column to change.\r\n     * @param tag New column expression tag.\r\n     * @param args The arguments (Contains aggregate function id)\r\n     */\r\n    Query.prototype.changeColumnType = function (column, tag, args) {\r\n        if (column.isJustSorted())\r\n            return;\r\n        args = args || {};\r\n        if (tag === ExprTag.AggregateFunction) {\r\n            if (!args.funcId)\r\n                throw Error(\"'funcId' argument is not defined\");\r\n            if (column.expr.tag == ExprTag.AggregateFunction) {\r\n                column.expr.func = args.funcId;\r\n                return;\r\n            }\r\n            var exprValue = column.expr.value;\r\n            column.caption = '';\r\n            var expr = new Expression(column);\r\n            expr.tag = ExprTag.AggregateFunction;\r\n            expr.func = args.funcId;\r\n            expr.distinct = false;\r\n            var arg = new Expression(column);\r\n            //arg.id = exprValue;\r\n            arg.setValue(exprValue, true);\r\n            arg.tag = ExprTag.EntityAttribute;\r\n            expr.args.push(arg);\r\n            column.expr = expr;\r\n        }\r\n        else if (tag === ExprTag.CustomSql) {\r\n            var attrId = (column.expr.tag == ExprTag.AggregateFunction)\r\n                ? column.expr.args[0].value\r\n                : column.expr.value;\r\n            column.caption = '';\r\n            var sqlText = '';\r\n            if (this.model) {\r\n                sqlText = this.model.getAttributeById(attrId).expr;\r\n            }\r\n            var customSqlExpr = new Expression(column);\r\n            customSqlExpr.tag = ExprTag.CustomSql;\r\n            customSqlExpr.sql = sqlText;\r\n            customSqlExpr.baseAttrId = attrId;\r\n            column.expr = customSqlExpr;\r\n        }\r\n        else if (tag === ExprTag.EntityAttribute) {\r\n            if (column.expr.tag === ExprTag.EntityAttribute\r\n                || column.expr.tag === ExprTag.ParentEntityAttribute) {\r\n                return;\r\n            }\r\n            var exprId = (column.expr.tag === ExprTag.CustomSql)\r\n                ? column.expr.baseAttrId\r\n                : column.expr.args[0].value;\r\n            column.caption = '';\r\n            var expr = new Expression(column);\r\n            expr.tag = ExprTag.EntityAttribute;\r\n            //expr.id = exprId;\r\n            expr.setValue(exprId, true);\r\n            column.expr = expr;\r\n        }\r\n    };\r\n    /**\r\n     * Moves the column with specified index to another position.\r\n     * @param index1 The index of the column that should be moved.\r\n     * @param index2 The index of the position the column should be moved to\r\n     * @param author The author\r\n     */\r\n    Query.prototype.moveColumn = function (index1, index2) {\r\n        var columns = this.getColumns();\r\n        dataUtils.moveArrayItem(columns, index1, index2);\r\n    };\r\n    /**\r\n     * Removes the column.\r\n     * @param column The column to be removed.\r\n     * @param author The author\r\n     */\r\n    Query.prototype.removeColumn = function (column, author) {\r\n        var columns = (column.isJustSorted())\r\n            ? this.getJustSortedColumns()\r\n            : this.getColumns();\r\n        dataUtils.removeArrayItem(columns, column);\r\n    };\r\n    /**\r\n     * Adds a condition group - a group of simple conditions (predicates) linked by AND or OR\r\n     * @param descriptor The descriptor of the new condition group.\r\n     * @returns The new search condition.\r\n     */\r\n    Query.prototype.addConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        console.error(\"Community version doesn't support working with groups.\");\r\n        return null;\r\n    };\r\n    Query.prototype.addExtraConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        console.error(\"Community version doesn't support working with groups.\");\r\n        return null;\r\n    };\r\n    Query.prototype.createCondition = function (tag) {\r\n        if (tag === void 0) { tag = CondTag.Simple; }\r\n        return new Condition(this, tag);\r\n    };\r\n    /**\r\n     *  Adds a new simple condition (a predicate)\r\n     * @param descriptor The descriptor which defines different parameters of the new condition\r\n     * @returns The new condition.\r\n     */\r\n    Query.prototype.addSimpleCondition = function (descriptor) {\r\n        var parent = descriptor.parent || this.getRootCondition();\r\n        var model = this.getModel();\r\n        if (!model)\r\n            return null;\r\n        if (!descriptor.attribute && !descriptor.attributeId) {\r\n            throw new Error(\"Either `attribute` or `attributeId` parameter must have a value\");\r\n        }\r\n        if (!descriptor.attribute) {\r\n            descriptor.attribute = model.getAttributeById(descriptor.attributeId);\r\n            if (!descriptor.attribute) {\r\n                throw new Error(\"Could not find this attribute: \" + descriptor.attributeId);\r\n            }\r\n        }\r\n        if (!descriptor.operator && descriptor.operatorId) {\r\n            descriptor.operator = model.getOperatorById(descriptor.operatorId);\r\n        }\r\n        if (!descriptor.operator) {\r\n            descriptor.operator = model.getDefaultOperatorForAttr(descriptor.attribute);\r\n        }\r\n        var cond = this.createSimpleConditionObject(descriptor.attribute, descriptor.operator, descriptor.value);\r\n        parent.addCondition(cond);\r\n        cond.enabled = dataUtils.getIfDefined(descriptor.enabled, true);\r\n        cond.setReadOnly(dataUtils.getIfDefined(descriptor.readonly, false));\r\n        return cond;\r\n    };\r\n    Query.prototype.addSimpleExtraCondition = function (descriptor) {\r\n        descriptor.parent = descriptor.parent || this.extraConditions;\r\n        return this.addSimpleCondition(descriptor);\r\n    };\r\n    Query.prototype.createSimpleConditionObject = function (attr, operator, inputValues) {\r\n        if (!attr || !attr.useInConditions) {\r\n            var attrCaption = attr ? attr.caption : 'NULL';\r\n            throw \"Can't add a condition with such attribute: \" + attrCaption;\r\n        }\r\n        var cond = this.createCondition(CondTag.Simple);\r\n        cond.setOperatorId(operator.id, true);\r\n        var attrExpr = new Expression(cond);\r\n        attrExpr.setValue(attr.id, true);\r\n        attrExpr.tag = this.attributeExprTag;\r\n        attrExpr.kind = DataKind.Attribute;\r\n        attrExpr.dataType = attr.dataType;\r\n        cond.expressions.push(attrExpr);\r\n        var model = this.getModel();\r\n        var valCount = operator.paramCount;\r\n        var values = dataUtils.fillArray(new Array(valCount - 1), null);\r\n        if (inputValues !== null && typeof inputValues !== \"undefined\") {\r\n            if (Array.isArray(inputValues)) {\r\n                dataUtils.copyArrayTo(inputValues, values);\r\n            }\r\n            else if (valCount > 0) {\r\n                values[0] = inputValues;\r\n            }\r\n        }\r\n        var valLength = values.length;\r\n        for (var i = 0; i < valLength; i++) {\r\n            var operand = model.getOperand(attr, operator, i + 1);\r\n            cond.addExpressionByOperand(operand, values[i]);\r\n        }\r\n        return cond;\r\n    };\r\n    /**\r\n     * Removes several columns passed as array.\r\n     * @param columnsToRemove The list of columns to be removed.\r\n     * @param author The author.\r\n     */\r\n    Query.prototype.removeColumns = function (columnsToRemove, author) {\r\n        var justSortedColumns = columnsToRemove.filter(function (c) { return c.isJustSorted(); });\r\n        var columns = columnsToRemove.filter(function (c) { return !c.isJustSorted(); });\r\n        function removeFromArray(arr, arrToRemove) {\r\n            var ctrLen = arrToRemove.length;\r\n            for (var i = 0; i < ctrLen; i++) {\r\n                var index = arr.indexOf(arrToRemove[i]);\r\n                if (index >= 0) {\r\n                    arr.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n        if (columns.length > 0) {\r\n            removeFromArray(this.getColumns(), columns);\r\n        }\r\n        if (justSortedColumns.length > 0) {\r\n            removeFromArray(this.getJustSortedColumns(), justSortedColumns);\r\n        }\r\n    };\r\n    /**\r\n     * Fires process event.\r\n     * @param data The data.\r\n     */\r\n    Query.prototype.fireProcessEvent = function (data) {\r\n        this.eventEmitter.fire('query.process', data);\r\n    };\r\n    Query.prototype.fireChangedEvent = function (params, postpone, wasModified) {\r\n        if (typeof (postpone) != 'undefined' || typeof (wasModified) != 'undefined') {\r\n            params.postpone = postpone || 0;\r\n            params.wasModified = wasModified;\r\n            console.warn('Method with \\'postpone\\' and \\'wasModified\\' args is deprecated. Pass params in data object');\r\n        }\r\n        this._isModified = typeof (params.wasModified) != 'undefined'\r\n            ? params.wasModified\r\n            : true;\r\n        var eventData = params || {\r\n            part: QueryChangePart.All\r\n        };\r\n        this.eventEmitter.fire('query.change', eventData, params.postpone || 0);\r\n    };\r\n    Query.prototype.fireColumnsChangedEvent = function (action, column, justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        this.fireChangedEvent({\r\n            part: (justsorted)\r\n                ? QueryChangePart.SortingColumns\r\n                : QueryChangePart.Columns,\r\n            action: action,\r\n            changee: column\r\n        });\r\n    };\r\n    Query.prototype.fireConditionsChangedEvent = function (action, condition) {\r\n        this.fireChangedEvent({\r\n            part: QueryChangePart.Conditions,\r\n            action: action,\r\n            changee: condition\r\n        });\r\n    };\r\n    /**\r\n     * Runs through condition with this callback.\r\n     * @param processCondition The function to process condition.\r\n     */\r\n    Query.prototype.runThroughConditions = function (processCondition) {\r\n        var processGroup = function (predicate) {\r\n            for (var i = 0; i < predicate.getConditions().length; i++) {\r\n                var cond = predicate.getConditions()[i];\r\n                if (cond.isGroup()) {\r\n                    processGroup(cond);\r\n                }\r\n                else {\r\n                    if (processCondition)\r\n                        processCondition(cond);\r\n                }\r\n            }\r\n        };\r\n        processGroup(this.getRootCondition());\r\n    };\r\n    /**\r\n     * Gets one value for the attribute\r\n     * @param attrId The attribute ID.\r\n     * @retruns The value.\r\n     */\r\n    Query.prototype.getOneValueForAttr = function (attrId) {\r\n        var res = null;\r\n        this.runThroughConditions(function (cond) {\r\n            if (cond.enabled) {\r\n                var expr = cond.expressions[0];\r\n                var opid = cond.getOperatorId();\r\n                if (expr.value == attrId && cond.expressions[1] &&\r\n                    (opid == \"Equal\" || opid == \"InList\" || opid == \"StartsWith\")) {\r\n                    res = cond.expressions[1].value;\r\n                }\r\n            }\r\n        });\r\n        return res;\r\n    };\r\n    /**\r\n     * Gets root predicate\r\n     * @retruns The condition.\r\n     */\r\n    Query.prototype.getRootCondition = function () {\r\n        return this.root;\r\n    };\r\n    /**\r\n     * Add process callback\r\n     * @param callback The callback.\r\n     * @retruns The callback ID.\r\n     */\r\n    Query.prototype.addProcessCallback = function (callback) {\r\n        return this.eventEmitter.subscribe('query.process', callback);\r\n    };\r\n    /**\r\n     * Remove process callback\r\n     * @param callbackId The callback ID.\r\n     */\r\n    Query.prototype.removeProcessCallback = function (callbackId) {\r\n        this.eventEmitter.unsubscribe('query.process', callbackId);\r\n    };\r\n    /**\r\n     * Add changed callback\r\n     * @param callback The callback ID.\r\n     */\r\n    Query.prototype.addChangedCallback = function (callback) {\r\n        return this.eventEmitter.subscribe('query.change', callback);\r\n    };\r\n    /**\r\n     * Remove changed callback\r\n     * @param callbackId The callback ID.\r\n     */\r\n    Query.prototype.removeChangedCallback = function (callbackId) {\r\n        this.eventEmitter.unsubscribe('query.change', callbackId);\r\n    };\r\n    /**\r\n     * Retruns conditions text\r\n     */\r\n    Query.prototype.getConditionsText = function () {\r\n        var model = this.getModel();\r\n        if (!model)\r\n            return '';\r\n        var getConditionGroupText = function (predicate) {\r\n            var result = '', conjKey = \"Conj\" + equtils.linkTypeToStr(predicate.linkType), conjText = i18n.getText(conjKey), condText, i;\r\n            for (i = 0; i < predicate.getConditions().length; i++) {\r\n                condText = \"\";\r\n                var cond = predicate.getConditions()[i];\r\n                if (cond.enabled || typeof (cond.enabled) === \"undefined\") {\r\n                    if (cond.isGroup()) {\r\n                        condText = getConditionGroupText(cond);\r\n                        if (condText) {\r\n                            condText = \"(\" + condText + \")\";\r\n                        }\r\n                    }\r\n                    else {\r\n                        var opId = cond.getOperatorId();\r\n                        var operator = model.getOperatorById(opId);\r\n                        var parts = equtils.parseOperatorFormat(operator);\r\n                        var plen = parts.length;\r\n                        for (var pi = 0; pi < plen; pi++) {\r\n                            var part = parts[pi];\r\n                            var txt = part.text;\r\n                            if (part.type == \"expression\") {\r\n                                var expr = cond.expressions[part.index];\r\n                                if (expr.kind == DataKind.Attribute || expr.tag == ExprTag.EntityAttribute) {\r\n                                    var attr = model.getAttributeById(expr.value);\r\n                                    txt = model.getAttributeText(attr, \"{entity} {attr}\");\r\n                                }\r\n                                else {\r\n                                    txt = expr.getText();\r\n                                }\r\n                            }\r\n                            if (pi > 0)\r\n                                condText += \" \";\r\n                            condText += txt;\r\n                        }\r\n                    }\r\n                }\r\n                if (condText) {\r\n                    if (i > 0 && result) {\r\n                        result += \" \" + conjText + \" \";\r\n                    }\r\n                    result += condText;\r\n                }\r\n            }\r\n            if (predicate.linkType == LinkType.None || predicate.linkType == LinkType.NotAll) {\r\n                result = \"not ( \" + result + \" )\";\r\n            }\r\n            return result;\r\n        };\r\n        return getConditionGroupText(this.getRootCondition());\r\n    };\r\n    return Query;\r\n}());\r\nexport { Query };\r\n//# sourceMappingURL=query.js.map","import { utils as dataUtils } from '@easydata/core';\r\nimport { Query } from '../query/query';\r\nvar BrowserQueryStorage = /** @class */ (function () {\r\n    function BrowserQueryStorage(context) {\r\n        this.context = context;\r\n    }\r\n    BrowserQueryStorage.prototype.init = function (options) {\r\n        var keyPrefix = 'eq';\r\n        if (options && options.keyPrefix) {\r\n            keyPrefix = options.keyPrefix;\r\n        }\r\n        this.queryListKey = keyPrefix + '-querylist';\r\n        this.queryKeyPrefix = keyPrefix;\r\n    };\r\n    BrowserQueryStorage.prototype.getQueryList = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var itemsString = localStorage.getItem(_this.queryListKey);\r\n                if (itemsString) {\r\n                    resolve(JSON.parse(itemsString));\r\n                }\r\n                resolve([]);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n            ;\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.newQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var query = new Query(_this.context.getModel());\r\n            query.reset();\r\n            if (options && options.name) {\r\n                query.setName(options.name);\r\n            }\r\n            else {\r\n                query.setDefaultName();\r\n            }\r\n            resolve(query.toJSONData());\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.loadQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var queryItem = localStorage.getItem(_this.queryKeyPrefix + '-' + options.queryId);\r\n                if (queryItem) {\r\n                    resolve(JSON.parse(queryItem));\r\n                }\r\n                reject(new Error('Query is not found: ' + options.queryId));\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.saveQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var modelId = options.modelId || _this.context.getModel().getId();\r\n                var query = options.query || _this.context.getQuery();\r\n                var queryList = [];\r\n                var itemsString = localStorage.getItem(_this.queryListKey);\r\n                if (itemsString) {\r\n                    queryList = JSON.parse(itemsString);\r\n                }\r\n                var item = dataUtils.findItemById(queryList, query.getId());\r\n                if (!item) {\r\n                    queryList.push({ id: query.getId(), name: query.getName(), text: query.getDescription() });\r\n                }\r\n                item.name = query.getName();\r\n                item.text = query.getDescription();\r\n                localStorage.setItem(_this.queryListKey, JSON.stringify(queryList));\r\n                localStorage.setItem(_this.queryKeyPrefix + '-' + query.getId(), query.toJSON());\r\n                resolve(null);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.removeQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var modelId = options.modelId || _this.context.getModel().getId();\r\n                var queryId_1 = options.queryId || _this.context.getQuery().getId();\r\n                var queryList = [];\r\n                var itemsString = localStorage.getItem(_this.queryListKey);\r\n                if (itemsString) {\r\n                    queryList = JSON.parse(itemsString);\r\n                }\r\n                queryList = queryList.filter(function (item) { return item.id != queryId_1; });\r\n                localStorage.setItem(_this.queryListKey, JSON.stringify(queryList));\r\n                localStorage.removeItem(_this.queryKeyPrefix + '-' + queryId_1);\r\n                resolve();\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    return BrowserQueryStorage;\r\n}());\r\nexport { BrowserQueryStorage };\r\n//# sourceMappingURL=query_storage.js.map","var EqModelLoader = /** @class */ (function () {\r\n    function EqModelLoader(context) {\r\n        this.context = context;\r\n        this.modelPromise = null;\r\n    }\r\n    EqModelLoader.prototype.init = function (options) {\r\n    };\r\n    EqModelLoader.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    EqModelLoader.prototype.createModelLoadingPromise = function () {\r\n        var _this = this;\r\n        this.modelPromise = new Promise(function (resolve, reject) {\r\n            _this.modelLoadingResolveFunc = resolve;\r\n            _this.modelLoadingRejectFunc = reject;\r\n        });\r\n    };\r\n    /**\r\n     * Returns the `Promise` of the model loading process\r\n     */\r\n    EqModelLoader.prototype.getModelPromise = function () {\r\n        return this.modelPromise\r\n            || Promise.reject(new Error(\"Model has been never loaded.\"));\r\n    };\r\n    EqModelLoader.prototype.startModelLoading = function (options) {\r\n        this.createModelLoadingPromise();\r\n        this.sendLoadModelRequest(options);\r\n        return this.modelPromise;\r\n    };\r\n    return EqModelLoader;\r\n}());\r\nexport { EqModelLoader };\r\n//# sourceMappingURL=model_loader.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EqModelLoader } from '../main/model_loader';\r\nvar EqServerModelLoader = /** @class */ (function (_super) {\r\n    __extends(EqServerModelLoader, _super);\r\n    function EqServerModelLoader(context) {\r\n        return _super.call(this, context) || this;\r\n    }\r\n    EqServerModelLoader.prototype.init = function () {\r\n    };\r\n    EqServerModelLoader.prototype.sendLoadModelRequest = function (options) {\r\n        var _this = this;\r\n        var context = this.getContext();\r\n        var http = context.getServices().getHttpClient();\r\n        var url = context.resolveEndpoint('GetModel', { modelId: options.modelId });\r\n        http.get(url)\r\n            .then(function (responseData) {\r\n            if (!responseData.model) {\r\n                _this.modelLoadingRejectFunc(new Error('Wrong response format for \"GetModel\" request'));\r\n            }\r\n            _this.modelLoadingResolveFunc(responseData.model);\r\n        })\r\n            .catch(function (error) {\r\n            _this.modelLoadingRejectFunc(error);\r\n        });\r\n    };\r\n    return EqServerModelLoader;\r\n}(EqModelLoader));\r\nexport { EqServerModelLoader };\r\n//# sourceMappingURL=eqs_model_loader.js.map","var EqServerDataFetcher = /** @class */ (function () {\r\n    function EqServerDataFetcher(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerDataFetcher.prototype.fetchData = function (options) {\r\n        var query = options.query || this.context.getQuery();\r\n        var queryId = query.getId();\r\n        var requestData = {\r\n            'query': query.toJSONData(),\r\n            'options': options.options\r\n        };\r\n        if (options.chunk) {\r\n            requestData['chunk'] = options.chunk;\r\n        }\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('FetchData', { modelId: query.getModel().getId(), queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, requestData)\r\n            .then(function (data) { return data; });\r\n    };\r\n    return EqServerDataFetcher;\r\n}());\r\nexport { EqServerDataFetcher };\r\n//# sourceMappingURL=eqs_data_fetcher.js.map","var EqServerQuerySynchronizer = /** @class */ (function () {\r\n    function EqServerQuerySynchronizer(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerQuerySynchronizer.prototype.syncQuery = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var ops = options.options || {};\r\n        var requestData = {\r\n            'query': query.toJSONData(),\r\n            'options': ops,\r\n        };\r\n        if (options.data) {\r\n            requestData.data = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('SyncQuery', { modelId: query.getModel().getId(), queryId: query.getId() });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, requestData)\r\n            .then(function (responseData) { return responseData; });\r\n    };\r\n    return EqServerQuerySynchronizer;\r\n}());\r\nexport { EqServerQuerySynchronizer };\r\n//# sourceMappingURL=eqs_query_synchronizer.js.map","import { utils as dataUtils } from '@easydata/core';\r\nvar EqServerValueListResolver = /** @class */ (function () {\r\n    function EqServerValueListResolver(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerValueListResolver.prototype.loadValueList = function (options) {\r\n        var modelId = options.modelId || this.context.getModel().getId();\r\n        var requestData = dataUtils.assign({ modelId: modelId }, options.params);\r\n        var editorId = requestData.editorId;\r\n        var http = this.context.getServices().getHttpClient();\r\n        var url = this.context.resolveEndpoint('GetValueList', { modelId: modelId, listId: editorId });\r\n        var queryParams = {};\r\n        if (options && options.params && options.params.queryParams) {\r\n            queryParams = options.params.queryParams;\r\n        }\r\n        return http.get(url, { queryParams: queryParams })\r\n            .then(function (responseData) {\r\n            if (responseData && responseData.values) {\r\n                return responseData.values;\r\n            }\r\n            else {\r\n                throw new Error('Wrong response format. No \"values\" property');\r\n            }\r\n        });\r\n    };\r\n    return EqServerValueListResolver;\r\n}());\r\nexport { EqServerValueListResolver };\r\n//# sourceMappingURL=eqs_value_list_resolver.js.map","var EqQueryFileLoader = /** @class */ (function () {\r\n    function EqQueryFileLoader(context) {\r\n        this.context = context;\r\n    }\r\n    EqQueryFileLoader.prototype.getQueryFile = function (options) {\r\n        var query = options.query || this.context.getQuery();\r\n        var url = this.context.resolveEndpoint('GetQueryFile', { modelId: query.getModel().getId(),\r\n            format: options.format || 'xml' });\r\n        var http = this.context.getServices().getHttpClient();\r\n        var actionResult = http.post(url, {\r\n            query: query.toJSONData()\r\n        });\r\n        var request = actionResult.getRequest();\r\n        return actionResult.then(function (responseData) {\r\n            var blob = new Blob([responseData]);\r\n            var fileName = request.getXMLHttpRequest()\r\n                .getResponseHeader(\"Content-Disposition\").match(/filename=\"(.*)\"/)[1];\r\n            if (options.fileName) {\r\n                fileName = options.fileName\r\n                    + fileName.substring(fileName.lastIndexOf('.'));\r\n            }\r\n            if (window.navigator.msSaveOrOpenBlob) {\r\n                // Internet Explorer\r\n                window.navigator.msSaveOrOpenBlob(blob, fileName);\r\n            }\r\n            else {\r\n                var a = document.createElement(\"a\");\r\n                document.body.appendChild(a);\r\n                a.style.display = \"none\";\r\n                a.href = window.URL.createObjectURL(blob);\r\n                a.download = fileName;\r\n                a.click();\r\n                window.URL.revokeObjectURL(a.href);\r\n                document.body.removeChild(a);\r\n            }\r\n        });\r\n    };\r\n    EqQueryFileLoader.prototype.uploadQueryFile = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var url = this.context.resolveEndpoint('UploadQueryFile', { modelId: query.getModel().getId() });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, options.data, {\r\n            dataType: 'form-data'\r\n        })\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    return EqQueryFileLoader;\r\n}());\r\nexport { EqQueryFileLoader };\r\n//# sourceMappingURL=eqs_query_file_loader.js.map","var EqTotalsContainer = /** @class */ (function () {\r\n    function EqTotalsContainer(context) {\r\n        this.context = context;\r\n        this.levels = {};\r\n    }\r\n    EqTotalsContainer.prototype.setTotals = function (level, data) {\r\n        var desc = this.getLevelDesc(level);\r\n        desc.data = data;\r\n        if (desc.recivedCallbacks) {\r\n            for (var _i = 0, _a = desc.recivedCallbacks; _i < _a.length; _i++) {\r\n                var callback = _a[_i];\r\n                callback(desc.data);\r\n            }\r\n        }\r\n        desc.recivedCallbacks = [];\r\n    };\r\n    EqTotalsContainer.prototype.fillTotals = function (level, row) {\r\n        var _this = this;\r\n        var curQuery = this.context.getQuery();\r\n        // get key columns for the level\r\n        var cols = curQuery.getUsedInTotalsColumns();\r\n        var keyColumns = cols.slice(0, level);\r\n        // compose key\r\n        var key = {};\r\n        for (var _i = 0, keyColumns_1 = keyColumns; _i < keyColumns_1.length; _i++) {\r\n            var keyCol = keyColumns_1[_i];\r\n            key[keyCol.id] = row.getValue(keyCol.id);\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            var desc = _this.getLevelDesc(level);\r\n            var processFunc = function (data) {\r\n                // map values\r\n                var value = data.get(JSON.stringify(key));\r\n                if (value) {\r\n                    for (var field in value) {\r\n                        row.setValue(field, value[field]);\r\n                    }\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject();\r\n                }\r\n            };\r\n            if (desc.data) {\r\n                processFunc(desc.data);\r\n            }\r\n            else {\r\n                desc.recivedCallbacks.push(processFunc);\r\n            }\r\n        });\r\n    };\r\n    EqTotalsContainer.prototype.getLevelDesc = function (level) {\r\n        var desc = this.levels[level];\r\n        if (!desc) {\r\n            desc = {\r\n                recivedCallbacks: []\r\n            };\r\n        }\r\n        this.levels[level] = desc;\r\n        return desc;\r\n    };\r\n    return EqTotalsContainer;\r\n}());\r\nexport { EqTotalsContainer };\r\nvar DefaultTotalCalculator = /** @class */ (function () {\r\n    function DefaultTotalCalculator(context) {\r\n        this.context = context;\r\n    }\r\n    DefaultTotalCalculator.prototype.getTotals = function () {\r\n        return new EqTotalsContainer(this.context);\r\n    };\r\n    DefaultTotalCalculator.prototype.calculate = function (options) {\r\n        console.warn(\"Grand totals and sub totals calculation can be used in Enterprise version only\");\r\n        return Promise.resolve();\r\n    };\r\n    return DefaultTotalCalculator;\r\n}());\r\nexport { DefaultTotalCalculator };\r\n//# sourceMappingURL=eq_totals_container.js.map","import { HttpClient } from '@easydata/core';\r\nimport { Query } from '../query/query';\r\nimport { DataModel } from '../dm/data_model';\r\nimport { BrowserQueryStorage } from '../main/query_storage';\r\nimport { EqServerModelLoader } from '../eqs/eqs_model_loader';\r\nimport { EqServerDataFetcher } from '../eqs/eqs_data_fetcher';\r\nimport { EqServerQuerySynchronizer } from '../eqs/eqs_query_synchronizer';\r\nimport { EqServerValueListResolver } from '../eqs/eqs_value_list_resolver';\r\nimport { EqQueryFileLoader } from '../eqs/eqs_query_file_loader';\r\nimport { DefaultTotalCalculator } from '../data/eq_totals_container';\r\nvar EqServiceProvider = /** @class */ (function () {\r\n    function EqServiceProvider(context) {\r\n        this.context = context;\r\n        this.modelLoader = null;\r\n        this.queryStorage = null;\r\n        this.querySynchronizer = null;\r\n        this.dataFetcher = null;\r\n        this.valueListResolver = null;\r\n        this.queryFileLoader = null;\r\n        this.totalCalculator = null;\r\n        this.httpClient = new HttpClient();\r\n        this.httpClient.defaultHeaders['x-eqjs-version'] = '7.0.0';\r\n        this.modelResolver = function (_) { return new DataModel(); };\r\n        this.queryResolver = function (context) { return new Query(context.getModel()); };\r\n        this.modelLoaderResolver = function (context) { return new EqServerModelLoader(context); };\r\n        this.queryStorageResolver = function (context) { return new BrowserQueryStorage(context); };\r\n        this.querySynchronizerResolver = function (context) { return new EqServerQuerySynchronizer(context); };\r\n        this.vlrResolver = function (context) { return new EqServerValueListResolver(context); };\r\n        this.dataFetcherResolver = function (context) { return new EqServerDataFetcher(context); };\r\n        this.queryFileLoaderResolver = function (context) { return new EqQueryFileLoader(context); };\r\n        this.totalCalculatoResolver = function (context) { return new DefaultTotalCalculator(context); };\r\n    }\r\n    EqServiceProvider.prototype.reset = function () {\r\n        this.modelLoader = null;\r\n        this.queryStorage = null;\r\n        this.querySynchronizer = null;\r\n    };\r\n    EqServiceProvider.prototype.getHttpClient = function () {\r\n        return this.httpClient;\r\n    };\r\n    EqServiceProvider.prototype.createDataModel = function () {\r\n        if (!this.modelResolver) {\r\n            throw 'Model resolver is not defined';\r\n        }\r\n        return this.modelResolver(this.context);\r\n    };\r\n    EqServiceProvider.prototype.createQuery = function () {\r\n        if (!this.queryResolver) {\r\n            throw 'Query resolver is not defined';\r\n        }\r\n        return this.queryResolver(this.context);\r\n    };\r\n    EqServiceProvider.prototype.getModelLoader = function () {\r\n        if (!this.modelLoader) {\r\n            if (!this.modelLoaderResolver) {\r\n                throw 'ModelLoaderResolver is not defined';\r\n            }\r\n            this.modelLoader = this.modelLoaderResolver(this.context);\r\n        }\r\n        return this.modelLoader;\r\n    };\r\n    EqServiceProvider.prototype.getQueryStorage = function () {\r\n        if (!this.queryStorage) {\r\n            if (!this.queryStorageResolver) {\r\n                throw 'QueryStorageResolver is not defined';\r\n            }\r\n            this.queryStorage = this.queryStorageResolver(this.context);\r\n        }\r\n        return this.queryStorage;\r\n    };\r\n    EqServiceProvider.prototype.getQuerySynchronizer = function () {\r\n        if (!this.querySynchronizer) {\r\n            if (!this.querySynchronizerResolver) {\r\n                throw 'QuerySynchronizerResolver is not defined';\r\n            }\r\n            this.querySynchronizer = this.querySynchronizerResolver(this.context);\r\n        }\r\n        return this.querySynchronizer;\r\n    };\r\n    EqServiceProvider.prototype.getDataFetcher = function () {\r\n        if (!this.dataFetcher) {\r\n            if (!this.dataFetcherResolver) {\r\n                throw 'DataFetcherResolver is not defined';\r\n            }\r\n            this.dataFetcher = this.dataFetcherResolver(this.context);\r\n        }\r\n        return this.dataFetcher;\r\n    };\r\n    EqServiceProvider.prototype.getValueListResolver = function () {\r\n        if (!this.valueListResolver) {\r\n            if (!this.vlrResolver) {\r\n                throw 'Resolver for ValueListResolver is not defined';\r\n            }\r\n            this.valueListResolver = this.vlrResolver(this.context);\r\n        }\r\n        return this.valueListResolver;\r\n    };\r\n    EqServiceProvider.prototype.getQueryFileLoader = function () {\r\n        if (!this.queryFileLoader) {\r\n            if (!this.queryFileLoaderResolver) {\r\n                throw 'Resolver for QueryFileLoader is not defined';\r\n            }\r\n            this.queryFileLoader = this.queryFileLoaderResolver(this.context);\r\n        }\r\n        return this.queryFileLoader;\r\n    };\r\n    EqServiceProvider.prototype.getTotalCalculator = function () {\r\n        if (!this.totalCalculator) {\r\n            if (!this.totalCalculatoResolver) {\r\n                throw 'Resolver for TotalCalculator is not defined';\r\n            }\r\n            this.totalCalculator = this.totalCalculatoResolver(this.context);\r\n        }\r\n        return this.totalCalculator;\r\n    };\r\n    EqServiceProvider.prototype.registerDataModelResolver = function (resolver) {\r\n        this.modelResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryResolver = function (resolver) {\r\n        this.queryResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerModelLoaderResolver = function (resolver) {\r\n        this.modelLoaderResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryStorageResolver = function (resolver) {\r\n        this.queryStorageResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerDataFetcherResolver = function (resolver) {\r\n        this.dataFetcherResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQuerySyncronizerResolver = function (resolver) {\r\n        this.querySynchronizerResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerValueListResolver = function (resolver) {\r\n        this.vlrResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryFileLoaderResolver = function (resolver) {\r\n        this.queryFileLoaderResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerTotalCalculator = function (resolver) {\r\n        this.totalCalculatoResolver = resolver;\r\n    };\r\n    return EqServiceProvider;\r\n}());\r\nexport { EqServiceProvider };\r\n//# sourceMappingURL=eq_services.js.map","import { EasyDataTable } from '@easydata/core';\r\nvar EasyQueryDataLoader = /** @class */ (function () {\r\n    function EasyQueryDataLoader(context) {\r\n        this.context = context;\r\n    }\r\n    EasyQueryDataLoader.prototype.loadChunk = function (params) {\r\n        var _this = this;\r\n        // We have to refactor page logic in view to make it simplier to integrate \r\n        // different grids\r\n        this.dataLoadPromise = new Promise(function (resolve, reject) {\r\n            _this.context.fetchDataChunk({\r\n                chunk: params,\r\n                success: function (result) {\r\n                    var dataTable = new EasyDataTable({\r\n                        loader: _this.context.dataLoader,\r\n                        chunkSize: _this.context.resultTable.chunkSize\r\n                    });\r\n                    var resultSet = result.resultSet;\r\n                    for (var _i = 0, _a = resultSet.cols; _i < _a.length; _i++) {\r\n                        var col = _a[_i];\r\n                        dataTable.columns.add(col);\r\n                    }\r\n                    dataTable.setTotal(result.meta.totalRecords);\r\n                    for (var _b = 0, _c = resultSet.rows; _b < _c.length; _b++) {\r\n                        var row = _c[_b];\r\n                        dataTable.addRow(row);\r\n                    }\r\n                    var totalRecords = 0;\r\n                    if (result.meta && result.meta.totalRecords) {\r\n                        totalRecords = result.meta.totalRecords;\r\n                    }\r\n                    resolve({\r\n                        table: dataTable,\r\n                        total: totalRecords,\r\n                        hasNext: !params.needTotal || params.offset + params.limit < totalRecords\r\n                    });\r\n                },\r\n                error: function (error) { return reject(error); }\r\n            });\r\n        });\r\n        return this.dataLoadPromise;\r\n    };\r\n    return EasyQueryDataLoader;\r\n}());\r\nexport { EasyQueryDataLoader };\r\n//# sourceMappingURL=eq_data_loader.js.map","var EqServerExporter = /** @class */ (function () {\r\n    function EqServerExporter(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerExporter.prototype.setFormat = function (format) {\r\n        this.format = format;\r\n    };\r\n    EqServerExporter.prototype.export = function (options) {\r\n        options = options || {};\r\n        var http = this.context.getServices().getHttpClient();\r\n        var format = this.format || \"csv\";\r\n        var query = options.query || this.context.getQuery();\r\n        var queryId = query.getId();\r\n        var modelId = query.getModel().getId();\r\n        var data = {\r\n            'query': query.toJSONData(),\r\n            'settings': options.settings\r\n        };\r\n        var url = this.context.resolveEndpoint('ExportResult', { modelId: modelId, queryId: queryId, format: format });\r\n        var actionResult = http.post(url, data);\r\n        var request = actionResult.getRequest();\r\n        return actionResult.then(function (responseData) {\r\n            var blob = new Blob([responseData]);\r\n            var filename = request.getXMLHttpRequest()\r\n                .getResponseHeader(\"Content-Disposition\").match(/filename=\"(.*)\"/)[1];\r\n            if (window.navigator.msSaveOrOpenBlob) {\r\n                // Internet Explorer\r\n                window.navigator.msSaveOrOpenBlob(blob, filename);\r\n            }\r\n            else {\r\n                var a = document.createElement(\"a\");\r\n                document.body.appendChild(a);\r\n                a.style.display = \"none\";\r\n                a.href = window.URL.createObjectURL(blob);\r\n                a.download = filename;\r\n                a.click();\r\n                window.URL.revokeObjectURL(a.href);\r\n                document.body.removeChild(a);\r\n            }\r\n        });\r\n    };\r\n    return EqServerExporter;\r\n}());\r\nexport { EqServerExporter };\r\n//# sourceMappingURL=eqs_exporter.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { EasyDataTable, EventEmitter, utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { EqServiceProvider } from '../common/eq_services';\r\nimport { QueryChangePart } from '../query/query_events';\r\nimport { EqActionResult } from './action';\r\nimport { WidgetGroup } from '../types/widget_group';\r\nimport { equtils } from '../utils/utils';\r\nimport { EqAction } from './eq_actions';\r\nimport { EqServerExporter } from '../eqs/eqs_exporter';\r\nimport { EasyQueryDataLoader } from '../data/eq_data_loader';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { SortDirection } from '../query/column';\r\n/**\r\n * Encapsulates all information about EasyQuery components on some webpage\r\n * and provides some basic operation over those components\r\n * Each context includes the following main components:\r\n *  - one data model,\r\n *  - one query,\r\n *  - one result set\r\n *  - several UI widgets.\r\n */\r\nvar EqContext = /** @class */ (function () {\r\n    function EqContext() {\r\n        var _this = this;\r\n        this.internalListCache = {};\r\n        this.useBootstrap = false;\r\n        this.loadModelOnStart = true;\r\n        this.loadQueryOnStart = false;\r\n        this.calcTotals = false;\r\n        //----------- endpoint processing functions --------------\r\n        this.endpointVarsRegex = /\\{.*?\\}/g;\r\n        this._predefinedListRequestHandlers = {\r\n            '_DSDE': function (params, onResult) {\r\n                var data = _this.getModel().getAllDateMacros()\r\n                    .map(function (macro) {\r\n                    var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n                    return { id: macro, text: i18n.getText(macroName) };\r\n                });\r\n                onResult(data);\r\n                return true;\r\n            },\r\n            '_DSTE': function (params, onResult) {\r\n                var data = _this.getModel().getAllTimeMacros()\r\n                    .map(function (macro) {\r\n                    var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n                    return { id: macro, text: i18n.getText(macroName) };\r\n                });\r\n                onResult(data);\r\n                return true;\r\n            }\r\n        };\r\n        this._listRequestHandler = function (params, onResult) {\r\n            if (params == null || !params.listName)\r\n                return;\r\n            var query = _this.getQuery();\r\n            var newParams = dataUtils.assign({ listName: params.listName }, params.editorParams);\r\n            var procParams = {};\r\n            var attrPattern = /@{{(.+?)}}/;\r\n            for (var prop in newParams) {\r\n                if (!procParams[prop])\r\n                    continue;\r\n                var dynamicParam = newParams[prop].match(attrPattern);\r\n                if (dynamicParam) {\r\n                    var paramValue = query.getOneValueForAttr(dynamicParam[1]);\r\n                    if (!paramValue) {\r\n                        paramValue = '';\r\n                    }\r\n                    procParams[prop] = newParams[prop].replace(attrPattern, paramValue);\r\n                }\r\n            }\r\n            var requestPrams = {\r\n                listName: procParams.listName,\r\n                editorId: params.editorId,\r\n                queryParams: procParams\r\n            };\r\n            var list = _this.getListFromCache(params);\r\n            if (list && list.length > 0) {\r\n                onResult(list);\r\n                return;\r\n            }\r\n            var processed = false;\r\n            var predefinedHandler = _this._predefinedListRequestHandlers[params.editorId];\r\n            if (predefinedHandler) {\r\n                processed = predefinedHandler(params, onResult);\r\n            }\r\n            if (!processed && _this.clientListRequestHandler) {\r\n                processed = _this.clientListRequestHandler(params, onResult);\r\n            }\r\n            if (!processed) {\r\n                _this.loadValueList({\r\n                    params: requestPrams,\r\n                    success: function (data) {\r\n                        if (data) {\r\n                            _this.addListToCache(params, data);\r\n                        }\r\n                        onResult(data);\r\n                    },\r\n                    error: function (message) {\r\n                        onResult(null);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        this.eqServices = new EqServiceProvider(this);\r\n        this.widgets = new Array();\r\n        this.eventEmitter = new EventEmitter(this);\r\n        this.exporters = new Map();\r\n        this.endpoints = new Map();\r\n        this.dataLoader = new EasyQueryDataLoader(this);\r\n        this.resultTable = new EasyDataTable({\r\n            loader: this.dataLoader\r\n        });\r\n        this.resultTable.id = 'ResultTable';\r\n    }\r\n    EqContext.prototype.getServices = function () {\r\n        return this.eqServices;\r\n    };\r\n    EqContext.prototype.registerExporter = function (format, resolver) {\r\n        this.exporters.set(format, resolver);\r\n    };\r\n    EqContext.prototype.getExporter = function (format) {\r\n        var resolver = this.exporters.get(format);\r\n        if (resolver) {\r\n            return resolver(this);\r\n        }\r\n        return null;\r\n    };\r\n    EqContext.prototype.getExportFormats = function () {\r\n        return Array.from(this.exporters.keys());\r\n    };\r\n    EqContext.prototype.addDefaultExporters = function () {\r\n        this.registerExporter('csv', function (context) {\r\n            var exporter = new EqServerExporter(context);\r\n            exporter.setFormat('csv');\r\n            return exporter;\r\n        });\r\n        this.registerExporter('excel-html', function (context) {\r\n            var exporter = new EqServerExporter(context);\r\n            exporter.setFormat('excel-html');\r\n            return exporter;\r\n        });\r\n    };\r\n    EqContext.prototype.resolveEndpoint = function (endpointKey, options) {\r\n        options = options || {};\r\n        var result = this.endpoints.get(endpointKey);\r\n        if (!result) {\r\n            throw endpointKey + ' endpoint is not defined';\r\n        }\r\n        var matches = result.match(this.endpointVarsRegex);\r\n        if (matches) {\r\n            for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\r\n                var match = matches_1[_i];\r\n                var opt = match.substring(1, match.length - 1);\r\n                var optVal = options[opt];\r\n                if (!optVal) {\r\n                    if (opt == 'modelId') {\r\n                        optVal = this.getModel().getId();\r\n                    }\r\n                    else if (opt == 'queryId') {\r\n                        optVal = this.getQuery().getId();\r\n                    }\r\n                    else {\r\n                        throw \"Parameter [\" + opt + \"] is not defined\";\r\n                    }\r\n                }\r\n                result = result.replace(match, optVal);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    EqContext.prototype.setEndpoint = function (key, value) {\r\n        this.endpoints.set(key, value);\r\n    };\r\n    EqContext.prototype.setEnpointIfNotExist = function (key, value) {\r\n        if (!this.endpoints.has(key))\r\n            this.endpoints.set(key, value);\r\n    };\r\n    EqContext.prototype.setDefaultEndpoints = function (endpointBase) {\r\n        this.setEnpointIfNotExist('GetModel', equtils.combinePath(endpointBase, 'models/{modelId}'));\r\n        this.setEnpointIfNotExist('GetQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}'));\r\n        this.setEnpointIfNotExist('SaveQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}'));\r\n        this.setEnpointIfNotExist('SyncQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}/sync'));\r\n        this.setEnpointIfNotExist('NewQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries'));\r\n        this.setEnpointIfNotExist('RemoveQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}'));\r\n        this.setEnpointIfNotExist('GetQueryList', equtils.combinePath(endpointBase, 'models/{modelId}/queries'));\r\n        this.setEnpointIfNotExist('FetchData', equtils.combinePath(endpointBase, 'models/{modelId}/fetch'));\r\n        this.setEnpointIfNotExist('GetValueList', equtils.combinePath(endpointBase, 'models/{modelId}/valuelists/{listId}'));\r\n        this.setEnpointIfNotExist('ExportResult', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}/export/{format}'));\r\n        this.setEnpointIfNotExist('GetQueryFile', equtils.combinePath(endpointBase, 'models/{modelId}/getqueryfile/{format}'));\r\n        this.setEnpointIfNotExist('UploadQueryFile', equtils.combinePath(endpointBase, 'models/{modelId}/uploadqueryfile'));\r\n    };\r\n    /**\r\n     * Initializes the context\r\n     * @param options\r\n     */\r\n    EqContext.prototype.init = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        if (typeof (options.chunkSize) !== 'undefined') {\r\n            this.resultTable.chunkSize = options.chunkSize;\r\n        }\r\n        var query = this.getQuery();\r\n        if (options.defaultQueryId) {\r\n            query.setId(options.defaultQueryId);\r\n        }\r\n        if (options.listCache) {\r\n            this.setExternalListCache(options.listCache);\r\n        }\r\n        if (options.locale) {\r\n            i18n.setCurrentLocale(options.locale);\r\n        }\r\n        if (options.localeSettings) {\r\n            i18n.updateLocaleSettings(options.localeSettings);\r\n        }\r\n        this.baseEndpoint = 'api/easyquery';\r\n        if (options.endpoint) {\r\n            this.baseEndpoint = options.endpoint;\r\n        }\r\n        this.setDefaultEndpoints(this.baseEndpoint);\r\n        this.loadQueryOnStart = false;\r\n        if (options.loadQueryOnStart) {\r\n            this.loadQueryOnStart = options.loadQueryOnStart;\r\n        }\r\n        this.loadModelOnStart = true;\r\n        if (typeof options.loadModelOnStart !== 'undefined') {\r\n            this.loadModelOnStart = options.loadModelOnStart;\r\n        }\r\n        if (options.handlers) {\r\n            if (options.handlers.onInit) {\r\n                this.addEventListener('ready', options.handlers.onInit);\r\n            }\r\n            if (options.handlers.afterLoadModel) {\r\n                this.addEventListener('loadModel', options.handlers.afterLoadModel);\r\n            }\r\n            if (options.handlers.afterLoadQuery) {\r\n                this.addEventListener('loadQuery', options.handlers.afterLoadQuery);\r\n            }\r\n            if (options.handlers.afterSyncQuery) {\r\n                this.addEventListener('syncQuery', options.handlers.afterSyncQuery);\r\n            }\r\n            if (options.handlers.afterFetchData) {\r\n                this.addEventListener('fetchData', options.handlers.afterFetchData);\r\n            }\r\n            if (options.handlers.afterExportResult) {\r\n                this.addEventListener('exportResult', options.handlers.afterExportResult);\r\n            }\r\n            if (options.handlers.onProcessStart) {\r\n                this.addEventListener('processStart', options.handlers.onProcessStart);\r\n            }\r\n            if (options.handlers.onProcessEnd) {\r\n                this.addEventListener('processEnd', options.handlers.onProcessEnd);\r\n            }\r\n            if (options.handlers.onError) {\r\n                this.addEventListener('error', options.handlers.onError);\r\n            }\r\n            else {\r\n                this.addEventListener('error', function (context, msg) {\r\n                    msg.result = EqActionResult.Error;\r\n                    var msgTitle = msg && msg ? msg.action + ' error' : 'Error';\r\n                    var msgText = msg && msg.text ? msg.text : '';\r\n                    if (msg.sourceError.message !== msgText) {\r\n                        msgText += '\\n' + msg.sourceError;\r\n                    }\r\n                    console.error(msgTitle + ': ' + msgText);\r\n                });\r\n            }\r\n            if (options.handlers.onListRequest) {\r\n                this.clientListRequestHandler = options.handlers.onListRequest;\r\n            }\r\n            if (options.handlers.beforeLoadModel) {\r\n                this.beforeLoadModel = options.handlers.beforeLoadModel;\r\n            }\r\n            if (options.handlers.beforeLoadQuery) {\r\n                this.beforeLoadQuery = options.handlers.beforeLoadQuery;\r\n            }\r\n            if (options.handlers.beforeSyncQuery) {\r\n                this.beforeSyncQuery = options.handlers.beforeSyncQuery;\r\n            }\r\n            if (options.handlers.beforeFetchData) {\r\n                this.beforeFetchData = options.handlers.beforeFetchData;\r\n            }\r\n            if (options.handlers.beforeExportResult) {\r\n                this.beforeExportResult = options.handlers.beforeExportResult;\r\n            }\r\n        }\r\n        this.calcTotals = options.calcTotals || false;\r\n        this.initialQuery = options.initialQuery;\r\n        this.defaultQueryId = options.defaultQueryId || '';\r\n        this.defaultModelId = options.defaultModelId || '__default';\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        modelLoader.init(options);\r\n        var queryStorage = this.eqServices.getQueryStorage();\r\n        queryStorage.init(options);\r\n        if (options.useDefaultExporters !== false) {\r\n            this.addDefaultExporters();\r\n        }\r\n        //init widgets\r\n        this.widgets.forEach(function (widget) {\r\n            var widgetOptions = {};\r\n            if (options.widgets && options.widgets[widget.getWidgetType()]) {\r\n                widgetOptions = options.widgets[widget.getWidgetType()];\r\n            }\r\n            widget.init(_this, widgetOptions);\r\n        });\r\n        if (this.loadModelOnStart) {\r\n            this.loadDefaultModel();\r\n        }\r\n        else {\r\n            this.fireEvent('ready');\r\n        }\r\n    };\r\n    /**\r\n     * Add a new widget to the context.\r\n     * After that the widget will start to receive messages from other context components.\r\n     * @param widget\r\n     */\r\n    EqContext.prototype.addWidget = function (widget) {\r\n        this.widgets.push(widget);\r\n    };\r\n    /**\r\n     * Returns all widgets with current type.\r\n     * @param widgetType The widget type\r\n     */\r\n    EqContext.prototype.getAllWidgetsByType = function (widgetType) {\r\n        return this.widgets\r\n            .filter(function (widget) { return widget.getWidgetType() === widgetType; });\r\n    };\r\n    /**\r\n     * Returns first registerd widget with current type\r\n     * @param widgetType The widget type\r\n     */\r\n    EqContext.prototype.getWidgetByType = function (widgetType) {\r\n        var widgets = this.getAllWidgetsByType(widgetType);\r\n        return widgets.length > 0 ? widgets[0] : null;\r\n    };\r\n    /**\r\n     * This method is called automatically when some change was made either in context's data model or query\r\n     * @param groups\r\n     */\r\n    EqContext.prototype.refreshWidgets = function (groups) {\r\n        if (groups === void 0) { groups = WidgetGroup.All; }\r\n        this.widgets.forEach(function (widget) {\r\n            if (widget.belongsToGroup(groups)) {\r\n                widget.refresh();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Register a new handler for 'query changed' event\r\n     * @param callback\r\n     */\r\n    EqContext.prototype.addQueryChangedCallback = function (callback) {\r\n        this.getQuery().addChangedCallback(callback);\r\n    };\r\n    /**\r\n     * Removes the function from the list of registerd handlers for 'query changed' event\r\n     * @param callback\r\n     */\r\n    EqContext.prototype.removeQueryChangedCallback = function (callback) {\r\n        this.getQuery().removeChangedCallback(callback);\r\n    };\r\n    /**\r\n     * Creates a new query object using the current instance of EqServices\r\n     */\r\n    EqContext.prototype.createQuery = function () {\r\n        return this.eqServices.createQuery();\r\n    };\r\n    /**\r\n     * Gets the current query\r\n     */\r\n    EqContext.prototype.getQuery = function () {\r\n        if (!this.query) {\r\n            this.query = this.createQuery();\r\n        }\r\n        return this.query;\r\n    };\r\n    /**\r\n     * Gets the current data model\r\n     */\r\n    EqContext.prototype.getModel = function () {\r\n        if (!this.dataModel) {\r\n            this.dataModel = this.eqServices.createDataModel();\r\n        }\r\n        return this.dataModel;\r\n    };\r\n    /**\r\n     * Sets the content of the current data model\r\n    */\r\n    EqContext.prototype.loadModelFromData = function (modelPlainData) {\r\n        this.getQuery().loadModelData(modelPlainData);\r\n        this.dataModel = this.getQuery().getModel();\r\n    };\r\n    /**\r\n     * Sets the ID of the default model\r\n     * @param modelId\r\n     */\r\n    EqContext.prototype.setDefaultModelId = function (modelId) {\r\n        this.defaultModelId = modelId;\r\n    };\r\n    /**\r\n     * Notifies context components about starting of some long process (e.g. model loading)\r\n     * This method raises onProcessStart event in the context and all its widgets\r\n     * @param message\r\n     * @param groups\r\n     */\r\n    EqContext.prototype.startProcess = function (message, groups) {\r\n        this.eventEmitter.fire('processStart', message);\r\n        this.widgets.forEach(function (widget) {\r\n            if (widget.belongsToGroup(groups)) {\r\n                widget.onProcessStart();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Notifies all context components about the finishing of some long process\r\n     * @param action\r\n     * @param groups\r\n     */\r\n    EqContext.prototype.endProcess = function (action, groups) {\r\n        this.eventEmitter.fire('processEnd', action);\r\n        if (action.result === EqActionResult.Error) {\r\n            this.throwError(action);\r\n        }\r\n        this.widgets.forEach(function (widget) {\r\n            if (widget.belongsToGroup(groups)) {\r\n                widget.onProcessEnd();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Throws the error passed in the function parameter.\r\n     * If onError event handler is defined - we call that method.\r\n     * Otherwise - just place the error message to the browser console.\r\n     * @param error\r\n     */\r\n    EqContext.prototype.throwError = function (action) {\r\n        action.result = EqActionResult.Error;\r\n        this.eventEmitter.fire('error', action);\r\n    };\r\n    /**\r\n     * If `defaultModelId` property is define - this method calls `loadModel` function in the broker\r\n     * to load the model with such ID.\r\n     *\r\n     */\r\n    EqContext.prototype.loadDefaultModel = function () {\r\n        var _this = this;\r\n        this.loadModel({\r\n            modelId: this.defaultModelId,\r\n            silent: true,\r\n            success: function () {\r\n                _this.refreshWidgets(WidgetGroup.Model);\r\n                var query = _this.getQuery();\r\n                _this.fireEvent('initialModelLoad');\r\n                if (_this.initialQuery) {\r\n                    query.loadFromData(_this.initialQuery, false);\r\n                }\r\n                if (_this.loadQueryOnStart) {\r\n                    _this.loadQuery({\r\n                        queryId: _this.defaultQueryId,\r\n                        modelId: _this.defaultModelId,\r\n                        success: function () {\r\n                            _this.refreshWidgets(WidgetGroup.Query);\r\n                            //if we load query on start - then we should call 'ready' event only after its successful loading\r\n                            _this.fireEvent('ready');\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    _this.refreshWidgets(WidgetGroup.Query);\r\n                    _this.fireEvent('ready');\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Clears the content of the current query\r\n     */\r\n    EqContext.prototype.clearQuery = function () {\r\n        var query = this.getQuery();\r\n        query.clear();\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.All\r\n        });\r\n    };\r\n    /**\r\n     * Clears all query results (the data set and the statement, if any)\r\n     */\r\n    EqContext.prototype.clearResult = function () {\r\n        this.resultTable.clear(); // do not set resultTable to null. Just clear\r\n        this.resultStatement = null;\r\n        this.resultContent = null;\r\n    };\r\n    /**\r\n     * Sets the external 'list cache' provider - an object which implements `ExternalListCache` inteface\r\n     * @param cache\r\n     */\r\n    EqContext.prototype.setExternalListCache = function (cache) {\r\n        this.externalListCache = cache;\r\n    };\r\n    EqContext.prototype.getListFromCache = function (params) {\r\n        var key = this.getListCacheKey(params);\r\n        if (this.externalListCache) {\r\n            return this.externalListCache.get(key);\r\n        }\r\n        else {\r\n            return this.internalListCache[key];\r\n        }\r\n    };\r\n    EqContext.prototype.getListCacheKey = function (params) {\r\n        var key = params.listName == 'SQL' ? 'SQL_' + params.editorId : params.listName;\r\n        if (params.queryParams) {\r\n            key += '_' + Object.keys(params.queryParams).filter(function (k) { return k != 'listName'; })\r\n                .map(function (k) { return params.queryParams[k]; })\r\n                .join('_');\r\n        }\r\n        return key;\r\n    };\r\n    EqContext.prototype.addListToCache = function (params, list) {\r\n        var key = this.getListCacheKey(params);\r\n        if (this.externalListCache) {\r\n            this.externalListCache.set(key, list);\r\n        }\r\n        else {\r\n            this.internalListCache[key] = list;\r\n        }\r\n    };\r\n    /**\r\n     * Clears the current list cache.\r\n     */\r\n    EqContext.prototype.resetListCache = function () {\r\n        if (this.externalListCache) {\r\n            this.externalListCache.clear();\r\n        }\r\n        else {\r\n            this.internalListCache = {};\r\n        }\r\n    };\r\n    /**\r\n     * Gets the handler for 'GetList' requests\r\n     */\r\n    EqContext.prototype.getListRequestHandler = function () {\r\n        return this._listRequestHandler;\r\n    };\r\n    /**\r\n     * Adds the translations of the EasyQuery messages for some locale\r\n     * @param locale - the ISO code of the locale (like `en` or `uk`)\r\n     * @param localeInfo - Locale settings and translations of EasyQuery texts and messages.\r\n     * We expected an object with the struture of LocaleInfo interface here.\r\n     */\r\n    EqContext.prototype.addLocale = function (locale, localeInfo) {\r\n        i18n.addLocale(locale, localeInfo);\r\n    };\r\n    EqContext.prototype.addEventListener = function (eventType, handler) {\r\n        var _this = this;\r\n        return this.eventEmitter.subscribe(eventType, function (event) { return handler(_this, event.data); });\r\n    };\r\n    /**\r\n     * Remove event handler for event type .\r\n     * @param eventType The event type.\r\n     * @param handlerId The handler id.\r\n     */\r\n    EqContext.prototype.removeEventListener = function (eventType, handlerId) {\r\n        this.eventEmitter.unsubscribe(eventType, handlerId);\r\n    };\r\n    EqContext.prototype.fireEvent = function (eventType, data) {\r\n        this.eventEmitter.fire(eventType, data);\r\n    };\r\n    EqContext.prototype.getBaseEndpoint = function () {\r\n        return this.baseEndpoint;\r\n    };\r\n    /**\r\n     * Sends a `loadValueList` requesthe server and processes the response.\r\n     * @param options A map of options to pass to `loadValueList` function.\r\n     */\r\n    EqContext.prototype.loadValueList = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        this.startProcess({\r\n            action: EqAction.GetValueList,\r\n            text: 'Loading values'\r\n        }, WidgetGroup.Result);\r\n        var valueListResolver = this.eqServices.getValueListResolver();\r\n        valueListResolver.loadValueList(options)\r\n            .then(function (values) {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.GetValueList,\r\n                text: 'Values loaded'\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success(values);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var editorId = options && options.params ? options.params.editorId : 'undefined';\r\n            var errorMessage = \"Can't load the value list for editor \" + editorId + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.GetValueList,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Result);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'GetValueList');\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Starts the process of the model loading.\r\n     * This method can initiate a request to EasyQueryServer backend or get the model from OData or GraphQL endpoint\r\n     * The content of the `options` parameter depends on concrete loader implementation.\r\n     * @param options A map of options to pass to `loadModel` function (can be ommited)\r\n     * @example\r\n     * context.loadModel()\r\n     *    .then(model => {\r\n     *       alert(\"Model loaded!\");\r\n     *    });\r\n     */\r\n    EqContext.prototype.loadModel = function (options) {\r\n        var _this = this;\r\n        if (this.beforeLoadModel) {\r\n            this.beforeLoadModel(this, options);\r\n        }\r\n        var modelId = options.modelId || '__default';\r\n        var silent = options.silent || false;\r\n        this.startProcess({\r\n            action: EqAction.LoadModel,\r\n            text: 'Loading model: ' + modelId\r\n        }, WidgetGroup.Model);\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        return modelLoader.startModelLoading(options)\r\n            .then(function (value) {\r\n            if (value) {\r\n                _this.loadModelFromData(value);\r\n            }\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.LoadModel,\r\n                text: 'Model loaded: ' + modelId\r\n            }, WidgetGroup.Model);\r\n            if (!silent) {\r\n                _this.clearQuery();\r\n                _this.clearResult();\r\n                _this.refreshWidgets();\r\n            }\r\n            if (options.success) {\r\n                options.success(_this.getModel());\r\n            }\r\n            _this.fireEvent('loadModel');\r\n            return _this.getModel();\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't load model \" + modelId + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.LoadModel,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Model);\r\n            if (options.error) {\r\n                options.error(errorMessage, \"LoadModel\");\r\n            }\r\n            return _this.getModel();\r\n        });\r\n    };\r\n    EqContext.prototype.callWhenModelLoaded = function (callFunc) {\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        modelLoader.getModelPromise().then(function () {\r\n            callFunc();\r\n        });\r\n    };\r\n    /**\r\n     * Loads the query\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success`, `error` callbacks and `id` option of query to load.\r\n     * @example\r\n     * context.loadQuery({\r\n     *      id: \"query-id\"\r\n     * });\r\n     */\r\n    EqContext.prototype.loadQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        this.clearResult();\r\n        modelLoader.getModelPromise()\r\n            .then(function () {\r\n            options = options || {};\r\n            var queryId = options.queryId;\r\n            var silent = options.silent || false;\r\n            if (_this.beforeLoadQuery) {\r\n                _this.beforeLoadQuery(_this, options);\r\n            }\r\n            _this.startProcess({\r\n                action: EqAction.LoadQuery,\r\n                text: \"Query loading: \" + queryId\r\n            }, WidgetGroup.Query);\r\n            var queryStorage = _this.eqServices.getQueryStorage();\r\n            queryStorage.loadQuery(options)\r\n                .then(function (data) {\r\n                _this.endProcess({\r\n                    result: EqActionResult.Success,\r\n                    action: EqAction.LoadQuery,\r\n                    text: 'Query loaded: ' + queryId\r\n                }, WidgetGroup.Query);\r\n                if (data)\r\n                    _this.query.loadFromData(data);\r\n                _this.query.resetModified();\r\n                if (!silent) {\r\n                    _this.query.fireChangedEvent({\r\n                        part: QueryChangePart.Properties,\r\n                        wasModified: _this.query.isModified()\r\n                    });\r\n                    _this.refreshWidgets();\r\n                }\r\n                _this.fireEvent('loadQuery');\r\n                if (options.success) {\r\n                    options.success(_this.query);\r\n                }\r\n            })\r\n                .catch(function (error) {\r\n                var query = _this.getQuery();\r\n                error.message = \"Can't sync query [\" + query.getId() + \"]\\n\" + (error.message || \"\");\r\n                _this.endProcess({\r\n                    result: EqActionResult.Error,\r\n                    action: EqAction.LoadQuery,\r\n                    text: error.message,\r\n                    sourceError: error\r\n                }, WidgetGroup.Query);\r\n            });\r\n        })\r\n            .catch(function (error) {\r\n            console.error(error);\r\n        });\r\n    };\r\n    /**\r\n     * Loads the list of queries available for the current user.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success`, `error` callbacks\r\n     */\r\n    EqContext.prototype.loadQueryList = function (options) {\r\n        var _this = this;\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        modelLoader.getModelPromise()\r\n            .then(function () {\r\n            _this.startQueryListLoading(options);\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't load the list of available queries.\\n \" + error.message;\r\n            _this.throwError({\r\n                action: EqAction.LoadQueryList,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            });\r\n        });\r\n    };\r\n    EqContext.prototype.startQueryListLoading = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var queryStorage = this.eqServices.getQueryStorage();\r\n        var queryListLoadingPromise = queryStorage.getQueryList(options);\r\n        queryListLoadingPromise\r\n            .then(function (queries) {\r\n            if (options.success) {\r\n                options.success(queries);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't load the list of available queries.\\n \" + error.message;\r\n            if (options.error) {\r\n                options.error(errorMessage, 'LoadQueryList');\r\n            }\r\n            else {\r\n                _this.throwError({\r\n                    action: EqAction.LoadQueryList,\r\n                    text: errorMessage,\r\n                    sourceError: error\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Creates a new query and returns its content back to the client-side.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success`, `error` callbacks and `silent` option\r\n     * @example\r\n     * context.newQuery({\r\n     *    silent: true\r\n     * });\r\n     */\r\n    EqContext.prototype.newQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var clearQuery = typeof options.clearQuery !== 'undefined' ? options.clearQuery : true;\r\n        this.query.reset(clearQuery);\r\n        if (options.queryId) {\r\n            this.query.setId(options.queryId);\r\n        }\r\n        if (options.name) {\r\n            this.query.setName(options.name);\r\n        }\r\n        var silent = options.silent || false;\r\n        var useStorage = true;\r\n        if (typeof options.useStorage !== 'undefined') {\r\n            useStorage = options.useStorage;\r\n        }\r\n        var onNewQuery = function () {\r\n            var query = _this.getQuery();\r\n            query.isNewbie = true;\r\n            if (!silent) {\r\n                query.fireChangedEvent({\r\n                    part: QueryChangePart.All,\r\n                    wasModified: query.isModified()\r\n                });\r\n            }\r\n        };\r\n        if (useStorage) {\r\n            this.startProcess({\r\n                action: EqAction.NewQuery,\r\n                text: 'New query creation...'\r\n            }, WidgetGroup.Query);\r\n            var queryStorage = this.eqServices.getQueryStorage();\r\n            queryStorage.newQuery(options)\r\n                .then(function () {\r\n                _this.endProcess({\r\n                    result: EqActionResult.Success,\r\n                    action: EqAction.NewQuery,\r\n                    text: 'A new query has been created'\r\n                }, WidgetGroup.Query);\r\n                onNewQuery();\r\n                if (options.success) {\r\n                    options.success();\r\n                }\r\n            })\r\n                .catch(function (error) {\r\n                var errorMessage = \"Can't create a new query.\\n\" + error.message;\r\n                _this.endProcess({\r\n                    result: EqActionResult.Error,\r\n                    action: EqAction.NewQuery,\r\n                    text: errorMessage,\r\n                    sourceError: error\r\n                }, WidgetGroup.Query);\r\n                if (options.error) {\r\n                    options.error(errorMessage, \"NewQuery\");\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            onNewQuery();\r\n        }\r\n        return this.query;\r\n    };\r\n    /**\r\n     * Saves the current query to some storage on the server-side.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     */\r\n    EqContext.prototype.saveQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.SaveQuery,\r\n            text: 'Query saving: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryStorage = this.eqServices.getQueryStorage();\r\n        queryStorage.saveQuery(options)\r\n            .then(function (data) {\r\n            _this.endProcess({\r\n                action: EqAction.SaveQuery,\r\n                result: EqActionResult.Success,\r\n                text: \"Query saved: \" + query.getId()\r\n            }, WidgetGroup.Query);\r\n            if (data) {\r\n                query.loadFromData(data);\r\n            }\r\n            query.resetModified();\r\n            query.isNewbie = false;\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't save query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                action: EqAction.SaveQuery,\r\n                result: EqActionResult.Error,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, \"SaveQuery\");\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Removes the current query from some storage on the server-side.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     */\r\n    EqContext.prototype.removeQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.RemoveQuery,\r\n            text: 'Query deleting: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryStorage = this.eqServices.getQueryStorage();\r\n        queryStorage.removeQuery(options)\r\n            .then(function () {\r\n            query.reset();\r\n            _this.endProcess({\r\n                action: EqAction.RemoveQuery,\r\n                result: EqActionResult.Success,\r\n                text: \"Query deleted: \" + query.getId()\r\n            }, WidgetGroup.Query);\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't remove query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                action: EqAction.RemoveQuery,\r\n                result: EqActionResult.Error,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'RemoveQuery');\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Syncronizes the current query.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QuerySyncronizer` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     */\r\n    EqContext.prototype.syncQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var query = this.getQuery();\r\n        if (this.beforeSyncQuery) {\r\n            this.beforeSyncQuery(this, options);\r\n        }\r\n        this.startProcess({\r\n            action: EqAction.SyncQuery,\r\n            text: 'Query syncing: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var querySyncrhonizer = this.eqServices.getQuerySynchronizer();\r\n        querySyncrhonizer.syncQuery(options)\r\n            .then(function (result) {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.SyncQuery,\r\n                text: 'Query synced: ' + query.getId()\r\n            }, WidgetGroup.Query);\r\n            _this.resultStatement = result && result.statement\r\n                ? result.statement\r\n                : '';\r\n            _this.refreshWidgets(WidgetGroup.Statement);\r\n            if (result) {\r\n                if (result.querySaved) {\r\n                    var q = result.query;\r\n                    if (q) {\r\n                        query.setId(q.id);\r\n                        query.setName(q.name);\r\n                        query.setDescription(q.desc);\r\n                        query.extraData = q.extraData;\r\n                    }\r\n                    query.resetModified();\r\n                    _this.refreshWidgets(WidgetGroup.QueryStatus);\r\n                }\r\n                _this.fireEvent('syncQuery');\r\n                if (options.success) {\r\n                    options.success(result);\r\n                }\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't synchronize query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.SyncQuery,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'SyncQuery');\r\n            }\r\n        });\r\n    };\r\n    EqContext.prototype.processQueryForTotals = function () {\r\n        var cols = this.query.getUsedInTotalsColumns();\r\n        cols.forEach(function (col) {\r\n            if (col.sorting == SortDirection.None) {\r\n                col.sorting = SortDirection.Ascending;\r\n            }\r\n        });\r\n        cols = this.query.getColumns();\r\n        SortDirection;\r\n        cols.forEach(function (col, index) {\r\n            col.sortIndex = index;\r\n        });\r\n        this.query.fireChangedEvent({\r\n            part: QueryChangePart.Columns,\r\n            wasModified: false\r\n        });\r\n    };\r\n    /**\r\n     * Fetches the data (usuall by executing current query) and processes the result.\r\n     * @param options\r\n     * The `options` parameter in addition to the options defined in ExecuteQueryOptions structure may also contain `success` and `error` callbacks.\r\n     * @example\r\n     * context.fetchData({ success: function(result) {\r\n     *   //do whatever you want with the result\r\n     * }})\r\n     *\r\n     */\r\n    EqContext.prototype.fetchData = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        options.chunk = options.chunk ||\r\n            {\r\n                offset: 0,\r\n                limit: this.resultTable.chunkSize,\r\n                needTotal: true\r\n            };\r\n        if (!this.query.tryValidate({\r\n            checkExpressions: true\r\n        })) {\r\n            return;\r\n        }\r\n        if (this.calcTotals && this.query.hasEnabledAggrColumns()) {\r\n            this.processQueryForTotals();\r\n        }\r\n        this.fetchDataChunk(__assign({}, options, { success: function (result) {\r\n                if (result.statement) {\r\n                    _this.resultStatement = result.statement;\r\n                    _this.refreshWidgets(WidgetGroup.Statement);\r\n                }\r\n                _this.resultContent = result;\r\n                if (result.resultSet) {\r\n                    _this.resultTable.clear();\r\n                    var resultSet = result.resultSet;\r\n                    for (var _i = 0, _a = resultSet.cols; _i < _a.length; _i++) {\r\n                        var col = _a[_i];\r\n                        _this.resultTable.columns.add(col);\r\n                    }\r\n                    _this.resultTable.setTotal(result.meta.totalRecords);\r\n                    for (var _b = 0, _c = resultSet.rows; _b < _c.length; _b++) {\r\n                        var row = _c[_b];\r\n                        _this.resultTable.addRow(row);\r\n                    }\r\n                }\r\n                if (options.success) {\r\n                    options.success(result);\r\n                }\r\n            } }));\r\n    };\r\n    EqContext.prototype.getQueryFile = function (options) {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.GetQueryFile,\r\n            text: 'Getting query file: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryFileLoader = this.getServices().getQueryFileLoader();\r\n        queryFileLoader.getQueryFile(options)\r\n            .then(function () {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.GetQueryFile,\r\n                text: 'Getting query file: ' + query.getId()\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't get file for query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.GetQueryFile,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'GetQueryFile');\r\n            }\r\n        });\r\n    };\r\n    EqContext.prototype.uploadQueryFile = function (options) {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.UploadQueryFile,\r\n            text: 'Uploading query file: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryFileLoader = this.getServices().getQueryFileLoader();\r\n        queryFileLoader.uploadQueryFile(options)\r\n            .then(function (data) {\r\n            query.loadFromData(data);\r\n            _this.refreshWidgets();\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.UploadQueryFile,\r\n                text: 'Uploading query file: ' + query.getId()\r\n            }, WidgetGroup.Result);\r\n            _this.fireEvent('loadQuery');\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't upload a file for query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.UploadQueryFile,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'UploadQueryFile');\r\n            }\r\n        });\r\n    };\r\n    EqContext.prototype.fetchDataChunk = function (options) {\r\n        var _this = this;\r\n        if (this.beforeFetchData) {\r\n            this.beforeFetchData(this, options);\r\n        }\r\n        var queryId = this.getQuery().getId();\r\n        this.startProcess({\r\n            action: EqAction.FetchData,\r\n            text: 'Fetching data for query: ' + queryId\r\n        }, WidgetGroup.Result);\r\n        var queryExecutor = this.eqServices.getDataFetcher();\r\n        queryExecutor.fetchData(options)\r\n            .then(function (result) {\r\n            if (result.statement) {\r\n                _this.resultStatement = result.statement;\r\n            }\r\n            _this.resultContent = result;\r\n            if (_this.calcTotals && _this.query.hasEnabledAggrColumns()) {\r\n                var calculator = _this.getServices().getTotalCalculator();\r\n                calculator.calculate({\r\n                    maxLevel: _this.query.getColumns()\r\n                        .filter(function (col) { return col.expr.tag == ExprTag.EntityAttribute\r\n                        && col.enabled; }).length\r\n                });\r\n            }\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.FetchData,\r\n                text: 'Data fetching finished for query: ' + queryId\r\n            }, WidgetGroup.Result);\r\n            _this.fireEvent('fetchData');\r\n            if (options.success) {\r\n                options.success(result);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Data fetching error for query \" + queryId + \". \\n\" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.FetchData,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Result);\r\n            if (options.error) {\r\n                options.error(errorMessage, EqAction.FetchData);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Fetches the data for a drill-down query (if defined) and processes the result.\r\n     * @param options\r\n     */\r\n    EqContext.prototype.fetchDrillDownData = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        options.chunk = options.chunk ||\r\n            {\r\n                offset: 0,\r\n                limit: this.resultTable.chunkSize,\r\n                needTotal: true\r\n            };\r\n        var query = options.query;\r\n        var queryId = query.getId();\r\n        this.startProcess({\r\n            action: EqAction.FetchData,\r\n            text: 'DrillDown executing: ' + queryId\r\n        }, WidgetGroup.Result);\r\n        var queryExecutor = this.eqServices.getDataFetcher();\r\n        queryExecutor.fetchData(options)\r\n            .then(function (result) {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.FetchData,\r\n                text: 'DrillDown execution error: ' + queryId\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success(result);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Drill-down data fetching error for query \" + queryId + \". \\n\" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.FetchData,\r\n                text: errorMessage,\r\n            }, WidgetGroup.Result);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'DrillDown');\r\n            }\r\n            else {\r\n                _this.throwError({\r\n                    action: EqAction.FetchData,\r\n                    text: errorMessage\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Fetches the data for defined by this context and exports them to the specified format.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `EqExporter` implementation.\r\n     * Usually it contains `format` property which defines the format of the exported data (e.g. `csv`),\r\n     * and `success` and `error` callbacks\r\n     * @example\r\n     * context.exportResult({\r\n     *      format: csv\r\n     * });\r\n     *\r\n     */\r\n    EqContext.prototype.exportResult = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        if (this.beforeExportResult) {\r\n            this.beforeExportResult(this, options);\r\n        }\r\n        var format = options.format;\r\n        if (format) {\r\n            var exporter = this.getExporter(format);\r\n            if (exporter) {\r\n                var queryId_1 = this.getQuery().getId();\r\n                this.startProcess({\r\n                    action: EqAction.ExportResult,\r\n                    text: 'Exporting result for query: ' + queryId_1\r\n                }, WidgetGroup.Result);\r\n                var localeSettings = i18n.getLocaleSettings();\r\n                options.settings = {\r\n                    dateFormat: localeSettings.shortDateFormat,\r\n                    timeFormat: localeSettings.shortTimeFormat\r\n                };\r\n                exporter.export(options)\r\n                    .then(function (result) {\r\n                    _this.endProcess({\r\n                        result: EqActionResult.Success,\r\n                        action: EqAction.ExportResult,\r\n                        text: \"The result set for query [\" + queryId_1 + \"] has been successfully exported\"\r\n                    }, WidgetGroup.Result);\r\n                    _this.fireEvent('exportResult');\r\n                    if (options.success) {\r\n                        options.success();\r\n                    }\r\n                })\r\n                    .catch(function (error) {\r\n                    var errorMessage = \"Error on exporting data for query  \" + queryId_1 + \". \\n\" + error.message;\r\n                    _this.endProcess({\r\n                        result: EqActionResult.Error,\r\n                        action: EqAction.ExportResult,\r\n                        text: errorMessage,\r\n                        sourceError: error\r\n                    }, WidgetGroup.Result);\r\n                    if (options.error) {\r\n                        options.error(errorMessage, 'ExportResult');\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n    EqContext.prototype.getDefaultTotalsSettings = function () {\r\n        var model = this.getModel();\r\n        var settings = {\r\n            calcGrandTotals: true,\r\n            cols: {}\r\n        };\r\n        var cols = this.getQuery().getUsedInTotalsColumns();\r\n        var prevEntity;\r\n        cols.forEach(function (col, index) {\r\n            settings.cols[col.id] = {};\r\n            var attr = model.getAttributeById(col.expr.value);\r\n            var entity = attr.entity;\r\n            if (prevEntity === entity) {\r\n                settings.cols[cols[index - 1].id].calcSubTotals = false;\r\n            }\r\n            settings.cols[col.id].calcSubTotals = true;\r\n            prevEntity = entity;\r\n        });\r\n        return settings;\r\n    };\r\n    EqContext.prototype.getTotalsSettings = function () {\r\n        var settings = dataUtils.assign(this.getDefaultTotalsSettings(), this.query.innerData.totalsSettings);\r\n        if (this.wereTotalsColumnsChanged(settings)) {\r\n            settings.cols = this.getDefaultTotalsSettings().cols;\r\n        }\r\n        return settings;\r\n    };\r\n    EqContext.prototype.setTotalsSettings = function (settings, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        this.query.innerData.totalsSettings = settings;\r\n        if (!silent) {\r\n            this.query.fireChangedEvent({\r\n                part: QueryChangePart.Properties,\r\n                wasModified: true\r\n            });\r\n        }\r\n    };\r\n    EqContext.prototype.wereTotalsColumnsChanged = function (settings) {\r\n        settings = settings || this.query.innerData.totalsSettings;\r\n        var cols = this.query.getUsedInTotalsColumns();\r\n        var sCols = settings.cols || {};\r\n        if (cols.length != Object.keys(sCols).length)\r\n            return true;\r\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\r\n            var col = cols_1[_i];\r\n            if (typeof sCols[col.id] === 'undefined')\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    return EqContext;\r\n}());\r\nexport { EqContext };\r\n//# sourceMappingURL=context.js.map","import { utils } from '@easydata/core';\r\n/**\r\n * Represents a widget - a visual element with \"knows\" how to render itself.\r\n * Some widgets just display some information from the context (like the generated SQL or the result set).\r\n * Others - allow user to interact with them to define query conditions or columns.\r\n */\r\nvar Widget = /** @class */ (function () {\r\n    /**\r\n     Initializes a new instance of the `Widget` class\r\n     * @param slot - an HTML element in which we should place our widget.\r\n     */\r\n    function Widget(slot) {\r\n        this.slot = slot;\r\n        this._id = utils.generateId(this.getWidgetType());\r\n    }\r\n    Object.defineProperty(Widget.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Initializes the widget and assign it to some context\r\n     * @param context\r\n     * @param options\r\n     */\r\n    Widget.prototype.init = function (context, options) {\r\n        this.context = context;\r\n    };\r\n    /**\r\n     * Returns current context (the one this widget belongs to)\r\n     */\r\n    Widget.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    /**\r\n     * Refreshes the widget's content\r\n     */\r\n    Widget.prototype.refresh = function () {\r\n        this.refreshCore();\r\n    };\r\n    /**\r\n     * This function is called from `refresh` function.\r\n     * It does nothing in the base `Widget` class\r\n     * but can be overridden in derived classes\r\n     * to implement the functionality specific for a particular widget\r\n     */\r\n    Widget.prototype.refreshCore = function () {\r\n    };\r\n    /**\r\n     * This function is called on the start of some process this widget participates in.\r\n     * For example, some widgets can show a spinner or a progress bar\r\n     * at the beginning of some long process (e.g. model loading).\r\n     */\r\n    Widget.prototype.onProcessStart = function () {\r\n        this.onProcessStartCore();\r\n    };\r\n    /**\r\n     * This function is called from `onProcessStart` function.\r\n     * It does nothing in the base `Widget` class\r\n     * but can be overridden in derived classes\r\n     * to implement the functionality specific for a particular widget.\r\n     */\r\n    Widget.prototype.onProcessStartCore = function () {\r\n    };\r\n    /**\r\n     * This function is called on the end of some process this widget participates in.\r\n     * For example, some widgets should be updated on model loading\r\n     * or after the execution of the current query\r\n     */\r\n    Widget.prototype.onProcessEnd = function () {\r\n        this.onProcessEndCore();\r\n    };\r\n    /**\r\n     * This function is called from `onProcessEnd` function.\r\n     * It does nothing in the base `Widget` class\r\n     * but can be overridden in derived classes\r\n     * to implement the functionality specific for a particular widget.\r\n     */\r\n    Widget.prototype.onProcessEndCore = function () {\r\n    };\r\n    /**\r\n     * Returns `true` if the widget belongs to one of the groups specified in the parameter\r\n     * @param groups\r\n     */\r\n    Widget.prototype.belongsToGroup = function (groups) {\r\n        if (typeof groups != 'undefined' && groups != null) {\r\n            if ((groups & this.group) === 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    Widget.prototype.destroy = function () {\r\n        this.destroyCore();\r\n    };\r\n    Widget.prototype.destroyCore = function () {\r\n    };\r\n    return Widget;\r\n}());\r\nexport { Widget };\r\n//# sourceMappingURL=widget.js.map","var EqVersionInfo = /** @class */ (function () {\r\n    function EqVersionInfo(major, minor, update) {\r\n        this.major = major;\r\n        this.minor = minor;\r\n        this.update = update;\r\n    }\r\n    EqVersionInfo.prototype.toString = function () {\r\n        return this.major + \".\" + this.minor + \".\" + this.update;\r\n    };\r\n    return EqVersionInfo;\r\n}());\r\nexport var versionInfo = new EqVersionInfo(6, 2, 0);\r\n//# sourceMappingURL=version_info.js.map","import { i18n } from '@easydata/core';\r\nfunction addEasyQueryCoreTexts() {\r\n    i18n.updateDefaultTexts({\r\n        NewQueryName: '[New query]',\r\n        //DateTime macroses\r\n        Today: 'Today',\r\n        Yesterday: 'Yesterday',\r\n        Tomorrow: 'Tomorrow',\r\n        FirstDayOfMonth: 'First day of the month',\r\n        LastDayOfMonth: 'Last day of the month',\r\n        FirstDayOfWeek: 'First day of the week',\r\n        FirstDayOfYear: 'First day of the year',\r\n        FirstDayOfNextWeek: 'First day of the next week',\r\n        FirstDayOfNextMonth: 'First day of the next month',\r\n        FirstDayOfNextYear: 'First day of the next year',\r\n        Now: 'Now',\r\n        HourStart: 'This hour start',\r\n        Midnight: 'Midnight',\r\n        Noon: 'Noon',\r\n        Entities: {},\r\n        Attributes: {},\r\n        Operators: {},\r\n        AggreateFunctions: {}\r\n    });\r\n}\r\naddEasyQueryCoreTexts();\r\n//# sourceMappingURL=text_resources.js.map","export * from './utils/utils';\r\nexport * from './utils/constants';\r\nexport * from './common/eq_services';\r\nexport * from './common/tree';\r\nexport * from './data/eq_data_loader';\r\nexport * from './data/google_data_converter';\r\nexport * from './data/eq_totals_container';\r\nexport * from './types/data_kind';\r\nexport * from './types/link_type';\r\nexport * from './types/cond_tag';\r\nexport * from './types/cond_part';\r\nexport * from './types/expr_tag';\r\nexport * from './types/eq_editor_tag';\r\nexport * from './types/widget_group';\r\nexport * from './dm/aggr_function';\r\nexport * from './dm/data_model';\r\nexport * from './dm/entity';\r\nexport * from './dm/operator';\r\nexport * from './dm/value_editor';\r\nexport * from './main/eq_actions';\r\nexport * from './main/model_loader';\r\nexport * from './main/query_storage';\r\nexport * from './main/context';\r\nexport * from './main/widget';\r\nexport * from './main/action';\r\nexport * from './query/column';\r\nexport * from './query/condition';\r\nexport * from './query/expression';\r\nexport * from './query/query';\r\nexport * from './query/query_events';\r\nexport * from './eqs/eqs_exporter';\r\nexport * from './eqs/eqs_model_loader';\r\nexport * from './eqs/eqs_data_fetcher';\r\nexport * from './eqs/eqs_query_synchronizer';\r\nexport * from './eqs/eqs_value_list_resolver';\r\nexport * from './eqs/eqs_query_file_loader';\r\nexport * from './utils/format_parser';\r\nexport * from './utils/version_info';\r\n//for backward compatibility\r\nexport { i18n } from '@easydata/core';\r\nimport './i18n/text_resources';\r\n//# sourceMappingURL=public_api.js.map","import { eqCssMobile } from './utils';\r\nexport var browserUtils;\r\n(function (browserUtils) {\r\n    var _isFirefox = null;\r\n    var _isIE = null;\r\n    function IsIE() {\r\n        return eval('/*@cc_on!@*/false || !!document.documentMode');\r\n        // if (_isIE === null) {\r\n        //     const ua = navigator.userAgent;\r\n        //     /* MSIE used to detect old browsers and Trident used to newer ones*/\r\n        //     _isIE = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n        // }\r\n        // return _isIE;\r\n    }\r\n    browserUtils.IsIE = IsIE;\r\n    function IsFirefox() {\r\n        if (_isFirefox === null) {\r\n            var ua = navigator.userAgent;\r\n            _isFirefox = ua.toLowerCase().indexOf('firefox') > -1;\r\n        }\r\n        return _isFirefox;\r\n    }\r\n    browserUtils.IsFirefox = IsFirefox;\r\n    var _detectedIsMobileMode = false;\r\n    var _isMobileMode = undefined;\r\n    var detectIsMobileMode = function () {\r\n        var oldValue = isMobileMode();\r\n        _detectedIsMobileMode = window.matchMedia('only screen and (max-width: 840px)').matches\r\n            || window.matchMedia('only screen and (max-height: 420px)').matches;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    };\r\n    detectIsMobileMode();\r\n    window.addEventListener('resize', function () { return detectIsMobileMode(); });\r\n    function isMobileMode() {\r\n        if (_isMobileMode !== undefined) {\r\n            return _isMobileMode;\r\n        }\r\n        else {\r\n            return _detectedIsMobileMode;\r\n        }\r\n    }\r\n    browserUtils.isMobileMode = isMobileMode;\r\n    function setIsMobileMode(value) {\r\n        var oldValue = isMobileMode();\r\n        _isMobileMode = value;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    }\r\n    browserUtils.setIsMobileMode = setIsMobileMode;\r\n    var mobileModeChangeHandler;\r\n    function onMobileModeChanged(callback) {\r\n        mobileModeChangeHandler = callback;\r\n    }\r\n    browserUtils.onMobileModeChanged = onMobileModeChanged;\r\n    function getMobileCssClass() {\r\n        return isMobileMode() ? eqCssMobile : null;\r\n    }\r\n    browserUtils.getMobileCssClass = getMobileCssClass;\r\n})(browserUtils || (browserUtils = {}));\r\n//# sourceMappingURL=browser_utils.js.map","import { domel } from '@easydata/ui';\r\nexport function getViewportSize() {\r\n    var width = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n    var height = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\r\n    return {\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\n// simetimes setting focus in the main thread doesn't work correctly (in Firefox). So we need to 'hack' it.\r\nexport function safeFocus(element) {\r\n    setTimeout(function (_) {\r\n        if (element) {\r\n            element.focus();\r\n        }\r\n    }, 100);\r\n}\r\nexport var eqCssPrefix = 'eqjs';\r\nexport var eqCssMobile = 'eqjs-mobile';\r\nexport function makeElementMaximizable(element) {\r\n    domel(element)\r\n        .addClass(eqCssPrefix + \"-maximizable\")\r\n        .addChild('div', function (b) {\r\n        b.addClass(eqCssPrefix + \"-max-button\")\r\n            .on('click', function (e) {\r\n            e.preventDefault();\r\n            domel(element)\r\n                .toggleClass(eqCssPrefix + \"-maximized\");\r\n        });\r\n    });\r\n}\r\n//# sourceMappingURL=utils.js.map","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","export var browserUtils;\r\n(function (browserUtils) {\r\n    var _isFirefox = null;\r\n    var _isIE = null;\r\n    function IsIE() {\r\n        // return eval('/*@cc_on!@*/false || !!document.documentMode');\r\n        if (_isIE === null) {\r\n            var ua = navigator.userAgent;\r\n            /* MSIE used to detect old browsers and Trident used to newer ones*/\r\n            _isIE = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n        }\r\n        return _isIE;\r\n    }\r\n    browserUtils.IsIE = IsIE;\r\n    function IsEdge() {\r\n        return !IsIE() && eval('!!window.StyleMedia');\r\n    }\r\n    browserUtils.IsEdge = IsEdge;\r\n    function IsFirefox() {\r\n        if (_isFirefox === null) {\r\n            var ua = navigator.userAgent;\r\n            _isFirefox = ua.toLowerCase().indexOf('firefox') > -1;\r\n        }\r\n        return _isFirefox;\r\n    }\r\n    browserUtils.IsFirefox = IsFirefox;\r\n    var _detectedIsMobileMode = false;\r\n    var _isMobileMode = undefined;\r\n    var detectIsMobileMode = function () {\r\n        var oldValue = isMobileMode();\r\n        _detectedIsMobileMode = window.matchMedia('only screen and (max-width: 840px)').matches\r\n            || window.matchMedia('only screen and (max-height: 420px)').matches;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    };\r\n    detectIsMobileMode();\r\n    window.addEventListener('resize', function () { return detectIsMobileMode(); });\r\n    function isMobileMode() {\r\n        if (_isMobileMode !== undefined) {\r\n            return _isMobileMode;\r\n        }\r\n        else {\r\n            return _detectedIsMobileMode;\r\n        }\r\n    }\r\n    browserUtils.isMobileMode = isMobileMode;\r\n    function setIsMobileMode(value) {\r\n        var oldValue = isMobileMode();\r\n        _isMobileMode = value;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    }\r\n    browserUtils.setIsMobileMode = setIsMobileMode;\r\n    var mobileModeChangeHandler;\r\n    function onMobileModeChanged(callback) {\r\n        mobileModeChangeHandler = callback;\r\n    }\r\n    browserUtils.onMobileModeChanged = onMobileModeChanged;\r\n    function getMobileCssClass() {\r\n        return isMobileMode() ? 'k-mobile' : null;\r\n    }\r\n    browserUtils.getMobileCssClass = getMobileCssClass;\r\n})(browserUtils || (browserUtils = {}));\r\n//# sourceMappingURL=browser_utils.js.map","import { DataType } from \"@easydata/core\";\r\n/**\r\n * Represents Google data table class\r\n */\r\nvar GoogleDataConverter = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param data The table instance or its JSON representation.\r\n     */\r\n    function GoogleDataConverter(data) {\r\n        if (!data) {\r\n            data = {\r\n                cols: [],\r\n                rows: []\r\n            };\r\n        }\r\n        if (typeof data === \"string\") {\r\n            this.loadFromJSON(data);\r\n        }\r\n        else {\r\n            this.tableObj = data;\r\n        }\r\n    }\r\n    /**\r\n     * Loads data table from JSON.\r\n     * @param json The JSON representation.\r\n     */\r\n    GoogleDataConverter.prototype.loadFromJSON = function (json) {\r\n        this.tableObj = JSON.parse(json);\r\n    };\r\n    /**\r\n     * Saves data table to JSON.\r\n     * @returns The JSON representation.\r\n     */\r\n    GoogleDataConverter.prototype.toJSON = function () {\r\n        return JSON.stringify(this.tableObj);\r\n    };\r\n    /**\r\n     * Gets the google data table object.\r\n     * @returns The data table.\r\n     */\r\n    GoogleDataConverter.prototype.getObject = function () {\r\n        return this.tableObj;\r\n    };\r\n    /**\r\n     * Cheks wether the table is empty\r\n     * @returns `true` if the table is empty, `false` if it is not.\r\n     */\r\n    GoogleDataConverter.prototype.isEmpty = function () {\r\n        return this.getNumberOfColumns() == 0 || this.getNumberOfRows() == 0;\r\n    };\r\n    /**\r\n     * Gets the number of columns\r\n     * @returns The number.\r\n     */\r\n    GoogleDataConverter.prototype.getNumberOfColumns = function () {\r\n        return this.tableObj.cols.length;\r\n    };\r\n    /**\r\n     * Gets the column object.\r\n     * @param colIndex The column index.\r\n     * @returns The column object.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnObject = function (colIndex) {\r\n        return colIndex < this.tableObj.cols.length ? this.tableObj.cols[colIndex] : null;\r\n    };\r\n    /**\r\n     * Gets the column ID.\r\n     * @param colIndex The column index.\r\n     * @returns The column ID.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnId = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.id : null;\r\n    };\r\n    /**\r\n     * Gets the column LABEL.\r\n     * @param colIndex The column index.\r\n     * @returns The column ID.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnLabel = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.label : null;\r\n    };\r\n    /**\r\n     *  Gets the column type.\r\n     * @param colIndex The column index.\r\n     * @returns The column type.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnType = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.type : null;\r\n    };\r\n    /**\r\n     * Gets the column properties.\r\n     * @param colIndex The column index.\r\n     * @returns The column properties.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnProperties = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.p : null;\r\n    };\r\n    /**\r\n     * Gets the number of rows.\r\n     * @returns The number.\r\n     */\r\n    GoogleDataConverter.prototype.getNumberOfRows = function () {\r\n        return this.tableObj.rows.length;\r\n    };\r\n    GoogleDataConverter.prototype.convertValue = function (value, colIndex) {\r\n        var colType = this.googleDataTypeToDataType(this.getColumnType(colIndex));\r\n        if ([DataType.Date, DataType.DateTime, DataType.Time].includes(colType)) {\r\n            return eval(\"new \" + value);\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     *  Gets the value.\r\n     * @param rowIndex\r\n     * @param colIndex\r\n     */\r\n    GoogleDataConverter.prototype.getValue = function (rowIndex, colIndex) {\r\n        var row = rowIndex < this.tableObj.rows.length ? this.tableObj.rows[rowIndex] : null;\r\n        if (row) {\r\n            var cell = colIndex < this.tableObj.cols.length ? row.c[colIndex] : null;\r\n            if (cell) {\r\n                return this.convertValue(cell.v, colIndex);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    GoogleDataConverter.prototype.getRow = function (rowIndex) {\r\n        var _this = this;\r\n        var googleRow = rowIndex < this.tableObj.rows.length ? this.tableObj.rows[rowIndex] : null;\r\n        var googleCells = googleRow.c;\r\n        var row = googleCells.map(function (obj, idx) { return _this.convertValue(obj.v, idx); }, this);\r\n        return row;\r\n    };\r\n    GoogleDataConverter.prototype.convertTo = function (dataTable) {\r\n        var colCount = this.getNumberOfColumns();\r\n        for (var i = 0; i < colCount; i++) {\r\n            dataTable.columns.add({\r\n                id: this.getColumnId(i),\r\n                label: this.getColumnLabel(i),\r\n                type: this.googleDataTypeToDataType(this.getColumnType(i))\r\n            });\r\n        }\r\n        var rowCount = this.getNumberOfRows();\r\n        for (var i = 0; i < rowCount; i++) {\r\n            dataTable.addRow(this.getRow(i));\r\n        }\r\n    };\r\n    GoogleDataConverter.prototype.googleDataTypeToDataType = function (googleDataType) {\r\n        switch (googleDataType) {\r\n            case 'string':\r\n                return DataType.String;\r\n            case 'number':\r\n                return DataType.Float;\r\n            case 'boolean':\r\n                return DataType.Bool;\r\n            case 'date':\r\n                return DataType.Date;\r\n            case 'datetime':\r\n                return DataType.DateTime;\r\n            case 'timeofday':\r\n                return DataType.Time;\r\n            default:\r\n                return DataType.String;\r\n        }\r\n    };\r\n    return GoogleDataConverter;\r\n}());\r\nexport { GoogleDataConverter };\r\n//# sourceMappingURL=google_data_converter.js.map","require('../node_modules/@easyquery/ui/dist/assets/css/easyquery.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eq-icons-default.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/easyquery-mobile.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eqview.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/easychart.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eq-grid.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eq-grid-mobile.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/easyfacets.css');\r\nrequire('../node_modules/@easydata/ui/dist/assets/css/easy-grid.css');\r\nrequire('../node_modules/@easydata/ui/dist/assets/css/easy-dialog.css');\r\nrequire('../node_modules/@easydata/ui/dist/assets/css/easy-forms.css');","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"* {\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv hr {\\r\\n    margin:0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-panel {\\r\\n    background: #f9f9f9;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-panel *, .eqjs-qc-panel *, .eqjs-ep-panel *, .eqjs-cb-panel * {\\r\\n    outline: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-panel *:focus, .eqjs-qc-panel *:focus, .eqjs-ep-panel *:focus, .eqjs-cb-panel *:focus {\\r\\n    border: 1px dotted #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-ep-panel input[type=checkbox]:focus {\\r\\n    outline: 1px dotted #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row-column-entattr.active a:focus {\\r\\n    border-color: white;    \\r\\n}\\r\\n\\r\\n.eqjs-addrow {\\r\\n    padding: 10px 0 0 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-addrow, .eqjs-qc-addrow {\\r\\n\\tflex-grow: 1;\\r\\n}\\r\\n\\r\\n.eqjs-addrow a {\\r\\n    margin: 0 10px;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-addrow-empty {\\r\\n    padding: 5px 0 0 0;\\r\\n}\\r\\n\\r\\n.eqjs-addrow a {\\r\\n    font-weight: bold;\\r\\n    font-size: 13px;\\r\\n    color: #333333;\\r\\n    text-decoration: none;\\r\\n    border-bottom: 1px dashed;\\r\\n}\\r\\n\\r\\n.eqjs-addrow > a:hover{\\r\\n    border-bottom: 1px solid;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-qc-panel {\\r\\n    background: #f9f9f9;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qc-header {\\r\\n    font: normal 15px Calibri;\\r\\n    border-bottom: 1px solid silver;\\r\\n    padding: 0 0 2px 0;\\r\\n    overflow: hidden;\\r\\n    white-space: nowrap;\\r\\n    flex: 0 0 auto;\\r\\n}\\r\\n\\r\\n.eqjs-qc-header div {\\r\\n    font: bold 15px Calibri;\\r\\n    color: #666;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.eqjs-qc-header-expression {\\r\\n    margin-left: 28px;\\r\\n    min-width: 300px;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row {\\r\\n    min-height: 28px;\\r\\n    position:relative;\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-offset {\\r\\n    display: inline-block;\\r\\n    width: 20px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row{\\r\\n    padding-left: 10px;\\r\\n    min-height: 27px;\\r\\n    cursor: pointer;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-qc-col-landing-slot, .eqjs-qp-cond-landing-slot {\\r\\n    border-left: 2px solid #fb9c2f;\\r\\n    border-right: 2px solid #fb9c2f;\\r\\n    height: 18px;\\r\\n    padding: 8px 0;\\r\\n    margin: 0 2px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-col-landing-slot > div, .eqjs-qp-cond-landing-slot > div {\\r\\n    height: 2px;\\r\\n    width: 100%;\\r\\n    background-color: #fb9c2f;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row:hover, .eqjs-qc-row:hover, .eqjs-cb-row:hover, .eqjs-sb-row:hover {\\r\\n    background: #ece9e9;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row.active, .eqjs-qc-row.active, .eqjs-cb-row.active, .eqjs-sb-row.active .eqjs-sortable-helper {\\r\\n    background: #ece9e9;\\r\\n}\\r\\n\\r\\n.eqjs-sortable-helper {\\r\\n    background-color: white;\\r\\n    padding: 3px 20px;\\r\\n    border: 2px solid #fb9c2f;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-group {\\r\\n    margin-left:0px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-group-root {\\r\\n    font-weight: bold;\\r\\n    font-size: 13px;\\r\\n    padding: 0 0 0 10px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-group-root .eqjs-qp-grvalueelement a {\\r\\n    font-size: 13px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-qp-group-root {\\r\\n\\toverflow: auto;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-conditions-root {\\r\\n\\tmax-height: none;\\r\\n}\\r\\n\\r\\n.eqjs-qp-group-root > .eqjs-qp-conditions{\\r\\n    overflow-y: auto;\\r\\n    padding: 0 0 6px 0;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-qp-group {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-condition.eqjs-qp-condition-injoin {\\r\\n    margin-left: 1px;\\r\\n    box-shadow: inset 3px 0px 0px 0px #3abb1b;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-condition.eqjs-qp-condition-parameterized {\\r\\n    margin-left: 1px;\\r\\n    box-shadow: inset 3px 0px 0px 0px #a74cf1;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-condition.eqjs-qp-condition-parameterized.eqjs-qp-condition-injoin {\\r\\n    margin-left: 1px;\\r\\n    box-shadow: inset 3px 0px 0px 0px #a74cf1, inset 4px 0px 0px 0px white, inset 7px 0px 0px 0px #3abb1b;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement {\\r\\n    margin: 5px 8px 0 0;\\r\\n    padding: 1px;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n\\tflex: 0 0 auto;\\r\\n\\toverflow: hidden;\\r\\n\\ttext-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement.eqjs-qp-attrelement-wide {\\r\\n    flex-shrink: 1;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement.eqjs-qp-valueelement {\\r\\n    flex-shrink: 2;\\r\\n}\\r\\n\\r\\n.eqjs-qc-colelement {\\r\\n    display : inline-block;\\r\\n    margin: 3px 8px 0 0;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.eqjs-qc-hidden .eqjs-qc-colelement {\\r\\n    opacity: 0.5;\\r\\n}\\r\\n\\r\\n.eqjs-qc-expr-block{\\r\\n    display:inline-block;\\r\\n    min-width:300px;\\r\\n    margin-left: 28px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block, .eqjs-qc-params-block span {\\r\\n    display:inline-block;\\r\\n    vertical-align: middle;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block {\\r\\n    margin-right: 8px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block .eqjs-qp-valueelement {\\r\\n    margin-right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block .eqjs-qp-valueelement input[type=\\\"text\\\"] {\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-qc-column-checkbox{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-checkbox.enabled{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-grelement {\\r\\n    margin: 5px 8px 0 0;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    height: fit-content;\\r\\n\\tflex: 0 0 auto;\\r\\n\\twidth: auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement > a, a.eqjs-qp-condelement, .eqjs-qp-grelement > a, a.eqjs-qp-grelement {\\r\\n    border-bottom: 1px dotted #AEAEAE;\\r\\n    color: #0099CC;\\r\\n    text-decoration: none;\\r\\n    white-space: nowrap;\\r\\n\\theight: fit-content;\\r\\n}\\r\\n\\r\\n.eqjs-qc-colelement > a, a.eqjs-qc-colelement {\\r\\n    border-bottom: 1px dotted #AEAEAE;\\r\\n    color: #0099CC;\\r\\n    display: inline-block;\\r\\n    overflow: hidden;\\r\\n    text-decoration: none;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement > a:hover, a.eqjs-qp-condelement:hover, .eqjs-qp-grelement > a:hover, a.eqjs-qp-grelement:hover, .eqjs-qc-colelement > a:hover, a.eqjs-qc-colelement:hover {\\r\\n    border-bottom: 1px solid #aeaeae;\\r\\n}\\r\\n\\r\\n.eqjs-qp-valueelement {\\r\\n\\tflex: 0 1 auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-valueelement a, a.eqjs-qp-valueelement {\\r\\n    color: #074B7A;\\r\\n}\\r\\n\\r\\n.eqjs-qc-attrelement > a, a.eqjs-qc-attrelement {\\r\\n    max-width: 285px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-captionelement > a, a.eqjs-qc-captionelement {\\r\\n    max-width: 285px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-disabled .eqjs-qp-valueelement span, .eqjs-qp-readonly .eqjs-qp-valueelement span{\\r\\n    max-width: 167px;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.eqjs-qp-valueelement input[type=\\\"text\\\"]{\\r\\n    font-size: 15px;\\r\\n    padding: 2px 5px;\\r\\n    border: 1px solid silver;\\r\\n    outline: none;\\r\\n    background: #fff;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    bottom: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-disabled span, .eqjs-qc-disabled span  {\\r\\n    color: #9E9E9E;\\r\\n    font-weight: normal;\\r\\n    margin-bottom: 2px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-readonly span {\\r\\n    color: #333333;\\r\\n}\\r\\n\\r\\n.eqjs-qp-error {\\r\\n    color: red;\\r\\n    font-weight:bold;\\r\\n}\\r\\n\\r\\n.eqjs-qp-ve-loader {\\r\\n    width:16px;\\r\\n    height:11px;\\r\\n}\\r\\n\\r\\n/* levels */\\r\\n.eqjs-qp-level-1 {\\r\\n    padding-left: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-2 {\\r\\n    padding-left: 20px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-3 {\\r\\n    padding-left: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-4 {\\r\\n    padding-left: 40px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-5 {\\r\\n    padding-left: 50px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-6 {\\r\\n    padding-left: 60px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-7 {\\r\\n    padding-left: 70px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-8 {\\r\\n    padding-left: 80px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-9 {\\r\\n    padding-left: 90px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-10 {\\r\\n    padding-left: 100px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-11 {\\r\\n    padding-left: 110px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-12 {\\r\\n    padding-left: 120px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-13 {\\r\\n    padding-left: 130px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-14 {\\r\\n    padding-left: 140px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-15 {\\r\\n    padding-left: 150px;\\r\\n}\\r\\n\\r\\n/* levels end */\\r\\n\\r\\n/* dialog */\\r\\n.eqjs-dialog{\\r\\n    overflow: visible !important;    \\r\\n}\\r\\n\\r\\n.eqjs-qp-ve-subquery{\\r\\n    overflow: visible !important;\\r\\n    overflow: visible !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-buttonsBlock {\\r\\n    width: auto;\\r\\n    display: none;\\r\\n\\tmargin-left: auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row[data-show-buttons] > .eqjs-qp-condition-buttonsBlock {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-column-buttonsBlock{\\r\\n    max-width: 100px;\\r\\n    position: absolute;\\r\\n    right: 3px;\\r\\n    top: 0;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.eqjs-button-placeholder, .eqjs-qp-button-placeholder {\\r\\n\\tmargin: 3px 2px 0 2px;\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n}\\r\\n\\r\\n.eqjs-gp-column-button {\\r\\n    width: 23px;\\r\\n    height: 23px;\\r\\n}\\r\\n\\r\\n.eqjs-gp-column-button-menu {\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.eqjs-gp-col-landing-slot {\\r\\n    width: 2px;\\r\\n    background-color: #fb9c2f !important;\\r\\n}\\r\\n\\r\\n.eqjs-qc-sortbutton-placeholder {\\r\\n    float: none;\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\n.eqjs-button {\\r\\n    cursor: pointer;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button, .eqjs-qc-column-button, .eqjs-qc-sortbutton {\\r\\n    cursor: pointer;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row  .eqjs-qc-buttonsBlock {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row  .eqjs-column-sortbutton {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row[data-show-buttons]  .eqjs-qc-buttonsBlock {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row[data-show-buttons]  .eqjs-column-sortbutton {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox.enabled{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-panel {\\r\\n    background: #f9f9f9;\\r\\n    height: 100%;\\r\\n    min-height: 200px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity{\\r\\n    clear: both;    \\r\\n}\\r\\n\\r\\n.eqjs-ep-panel > div.eqjs-ep-entity{\\r\\n    bottom: 41px;\\r\\n    left: 0;\\r\\n    overflow-x: auto;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-filter-box{\\r\\n    left: 0;\\r\\n    padding: 4px;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n    height: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-filter-box-input{\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-block{\\r\\n    display: block;\\r\\n    color: black;\\r\\n    font: normal 12px Arial;\\r\\n    margin: 0 10px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node{\\r\\n    border-bottom: 1px solid #E4E4E4;\\r\\n    padding: 3px 0;\\r\\n\\twhite-space:nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-label{\\r\\n    display: inline-block;\\r\\n    cursor: pointer;\\r\\n    font: bold 15px Calibri;\\r\\n    white-space:nowrap;\\r\\n\\tmargin: 0;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-label input{\\r\\n    margin: 0 5px 0 0;\\r\\n\\tvertical-align: bottom;\\r\\n\\tposition: relative;\\r\\n\\ttop: -3px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-block input{\\r\\n    margin: 0 5px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-offset{\\r\\n    display: inline-block;\\r\\n    width: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-attr-label{\\r\\n    color: #333;\\r\\n    font-size: 14px;\\r\\n    font-weight:normal;\\r\\n    padding: 5px 0 0 5px;\\r\\n    display: inline-block;\\r\\n    cursor: pointer;\\r\\n    white-space:nowrap;\\r\\n\\tmargin: 0;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-attr-label.draggable {\\r\\n    cursor: move;\\r\\n}\\r\\n\\r\\n/* root entity attribute class */\\r\\n.eqjs-ep-entity-attr-root {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-attr-label input{\\r\\n    margin: 0 5px 0 0;\\r\\n\\tvertical-align: bottom;\\r\\n\\tposition: relative;\\r\\n\\ttop: -3px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-button{\\r\\n    display:inline-block;\\r\\n    padding: 4px 10px 7px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel{\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    padding-top: 8px;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    height: 41px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel div.eqjs-ep-tool-panel-left-side{\\r\\n    float: left;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel div.eqjs-ep-tool-panel-right-side{\\r\\n    float: right;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel div div{\\r\\n    float: inherit;\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n    cursor: pointer;\\r\\n    margin: 0 10%;\\r\\n}\\r\\n\\r\\n.eqjs-highlight{\\r\\n    height: 20px;\\r\\n}\\r\\n\\r\\n.eqjs-drophover {\\r\\n    border: 1px dotted black;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity > .eqjs-ep-entity-children{\\r\\n    float: left;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-menu-close-btn {\\r\\n    position:absolute;\\r\\n    bottom: 0;\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n    font-size: 1.1em;\\r\\n    width: 100%;\\r\\n    height: 40px;\\r\\n    border-top: 1px solid #666;\\r\\n}\\r\\n\\r\\n.eqjs-menu-rootLevel{\\r\\n    background-color: #888;\\r\\n}\\r\\n\\r\\n.eqjs-menu-levelDiv{\\r\\n    background: #fff;\\r\\n    border: 1px solid silver;\\r\\n    padding: 5px 0;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-menu-searchDiv{\\r\\n    border-bottom: 1px solid silver;\\r\\n    background-color: white;\\r\\n    cursor: pointer;\\r\\n    padding: 5px 10px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-searchBox{\\r\\n    width: 93%;\\r\\n    padding: 2px 5px;\\r\\n    font-weight: normal;\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-searchBox.eqjs-dialog {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-menu-scrollDiv{\\r\\n    min-width: 140px;\\r\\n    white-space: nowrap;\\r\\n    overflow: auto;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-scrollDiv:focus {\\r\\n    outline:none;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv input{\\r\\n    margin: 4px 10px 0 0;\\r\\n    vertical-align: top;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv{\\r\\n    font-size: 1em;\\r\\n    color: #333333;\\r\\n    padding: 5px 10px 5px 20px;\\r\\n    cursor: pointer;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv.eqjs-menu-selected {\\r\\n    padding-left: 3px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv.eqjs-menu-selected:before {\\r\\n    content:  \\\"\\\\2713 \\\";\\r\\n    margin-right: 5px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-arrow {\\r\\n    position: absolute;\\r\\n    right: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-menu-itemDiv-hasChildren{\\r\\n    padding: 5px 20px 5px 20px;\\r\\n    font-size: 1em;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-filter-hasChildren {\\r\\n    padding: 5px 20px 5px 20px;\\r\\n    font-size: 1em;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-highlight {\\r\\n    color: black;\\r\\n    background-color: yellow;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv:hover, .eqjs-menu-itemDiv.active{\\r\\n    background: #ecf3f5;\\r\\n    color: #1776b1;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-text{\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.eqjs-menu-applyDiv{\\r\\n    padding: 5px;\\r\\n    border-bottom: 1px solid silver;\\r\\n    margin: 0 0 5px 0;\\r\\n}\\r\\n\\r\\n.eqjs-menu-applyDiv button{\\r\\n    padding: 0 5px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.eqjs-menu-cancel{\\r\\n    margin: 0 0 0 15px;\\r\\n}\\r\\n\\r\\n\\r\\n/* Columns panel */\\r\\n\\r\\n.eqjs-qc-columns{\\r\\n    overflow-y: auto;\\r\\n    padding: 4px 0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-drag{\\r\\n    opacity: 0.7;\\r\\n    cursor: n-resize !important;\\r\\n    background: #F1F1F1;\\r\\n    width: 664px;\\r\\n    position:relative;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-drag-forbidden{\\r\\n    background: #F7819F;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-sort{\\r\\n    opacity: 0.7;\\r\\n    cursor: n-resize !important;\\r\\n    background: #E8F3FF;\\r\\n    padding: 0 20px !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-container {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header {\\r\\n    height: 30px;\\r\\n    line-height: 30px;\\r\\n    background-color: grey;\\r\\n    color: white;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-link:hover {\\r\\n    cursor: pointer;\\r\\n    text-decoration: underline;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-fb-querypanelblock {\\r\\n    border: 1px solid #aaa;\\r\\n}\\r\\n\\r\\n.eqjs-fb-querypanel {\\r\\n    background: none repeat scroll 0 0 #f9f9f9;\\r\\n    border-bottom: 1px dotted #AAA;\\r\\n}\\r\\n\\r\\n.eqjs-fb-querypanel > .eqjs-qp-group-root > .eqjs-qp-conditions {\\r\\n    max-height: 200px !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-querypanel .eqjs-qp-addrow {\\r\\n    margin-bottom: 8px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon {\\r\\n    width: 30px;\\r\\n    height: 100%;\\r\\n    display: inline-block;\\r\\n    background-color: #099cff !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon span {\\r\\n    padding-left: 8px;\\r\\n    padding-top: 8px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-arrowblock {\\r\\n    width: 26px;\\r\\n    height: 100%;\\r\\n    display: inline-block;\\r\\n    padding-top: 11px;\\r\\n    padding-left: 6px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-arrow {\\r\\n\\tborder-color: white transparent;\\r\\n\\tborder-style: solid;\\r\\n\\tborder-width: 7px 7px 0px 7px;\\r\\n\\theight: 0px;\\r\\n\\twidth: 0px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-arrowUp {\\r\\n\\tborder-width: 0px 7px 7px 7px !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-textblock {\\r\\n    display: inline-block;\\r\\n    padding-left: 6px;\\r\\n    padding-right: 2px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-textblock a {\\r\\n    color: white;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-text {\\r\\n    display: inline-block;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-fb-buttonsblock {\\r\\n    margin-top: 4px;\\r\\n    margin-bottom: 4px;\\r\\n    padding-left: 4px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button {\\r\\n    -moz-user-select: none;\\r\\n    background-image: none;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 4px;\\r\\n    cursor: pointer;\\r\\n    display: inline-block;\\r\\n    font-size: 14px;\\r\\n    font-weight: 400;\\r\\n    line-height: 1.42857;\\r\\n    margin-bottom: 0;\\r\\n    padding: 2px 12px;\\r\\n    text-align: center;\\r\\n    vertical-align: middle;\\r\\n    white-space: nowrap;\\r\\n    color: #fff;\\r\\n    box-shadow: 0 1px 0 rgba(255, 255, 255, 0.15) inset, 0 1px 1px rgba(0, 0, 0, 0.075);\\r\\n    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.2);\\r\\n    text-decoration: none;\\r\\n    margin-right:10px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button:hover, .eqjs-fb-button:active, .eqjs-fb-button:focus {\\r\\n    text-decoration: none;\\r\\n    outline: 0 none;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-apply {\\r\\n    background-image: linear-gradient(to bottom, #5cb85c 0px, #419641 100%);\\r\\n    background-repeat: repeat-x;\\r\\n    border-color: #3e8f3e;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-clear {\\r\\n    background-image: linear-gradient(to bottom, #428bca 0px, #2d6ca2 100%);\\r\\n    background-repeat: repeat-x;\\r\\n    border-color: #2b669a;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-apply:hover, .eqjs-fb-button-apply:active, .eqjs-fb-button-apply:focus {\\r\\n    background-color: #419641;\\r\\n    border-color: #3e8f3e;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-clear:hover, .eqjs-fb-button-clear:active, .eqjs-fb-button-clear:focus {\\r\\n    background-color: #2d6ca2;\\r\\n    border-color: #2b669a;\\r\\n}\\r\\n\\r\\n/*  Progress indicator  */\\r\\n.eqjs-progress-win8 {\\r\\n    width: 40px;\\r\\n    height: 40px;\\r\\n    margin: auto;\\r\\n    position: absolute;\\r\\n    top: 0; left: 0; bottom: 0; right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 .wBall {\\r\\n    position: absolute;\\r\\n    width: 38px;\\r\\n    height: 38px;\\r\\n    opacity: 0;\\r\\n    -moz-transform: rotate(225deg);\\r\\n    -moz-animation: orbit 7.15s infinite;\\r\\n    -webkit-transform: rotate(225deg);\\r\\n    -webkit-animation: orbit 7.15s infinite;\\r\\n    -ms-transform: rotate(225deg);\\r\\n    -ms-animation: orbit 7.15s infinite;\\r\\n    -o-transform: rotate(225deg);\\r\\n    -o-animation: orbit 7.15s infinite;\\r\\n    transform: rotate(225deg);\\r\\n    animation: orbit 7.15s infinite;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 .wBall .wInnerBall {\\r\\n    position: absolute;\\r\\n    width: 5px;\\r\\n    height: 5px;\\r\\n    background: #000000;\\r\\n    left: 0px;\\r\\n    top: 0px;\\r\\n    -moz-border-radius: 5px;\\r\\n    -webkit-border-radius: 5px;\\r\\n    -ms-border-radius: 5px;\\r\\n    -o-border-radius: 5px;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_1 {\\r\\n-moz-animation-delay: 1.56s;\\r\\n-webkit-animation-delay: 1.56s;\\r\\n-ms-animation-delay: 1.56s;\\r\\n-o-animation-delay: 1.56s;\\r\\nanimation-delay: 1.56s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_2 {\\r\\n-moz-animation-delay: 0.31s;\\r\\n-webkit-animation-delay: 0.31s;\\r\\n-ms-animation-delay: 0.31s;\\r\\n-o-animation-delay: 0.31s;\\r\\nanimation-delay: 0.31s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_3 {\\r\\n-moz-animation-delay: 0.62s;\\r\\n-webkit-animation-delay: 0.62s;\\r\\n-ms-animation-delay: 0.62s;\\r\\n-o-animation-delay: 0.62s;\\r\\nanimation-delay: 0.62s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_4 {\\r\\n-moz-animation-delay: 0.94s;\\r\\n-webkit-animation-delay: 0.94s;\\r\\n-ms-animation-delay: 0.94s;\\r\\n-o-animation-delay: 0.94s;\\r\\nanimation-delay: 0.94s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_5 {\\r\\n-moz-animation-delay: 1.25s;\\r\\n-webkit-animation-delay: 1.25s;\\r\\n-ms-animation-delay: 1.25s;\\r\\n-o-animation-delay: 1.25s;\\r\\nanimation-delay: 1.25s;\\r\\n}\\r\\n\\r\\n@-moz-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -moz-transform: rotate(180deg);\\r\\n        -moz-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(300deg);\\r\\n        -moz-animation-timing-function: linear;\\r\\n        -moz-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(410deg);\\r\\n        -moz-animation-timing-function: ease-in-out;\\r\\n        -moz-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(645deg);\\r\\n        -moz-animation-timing-function: linear;\\r\\n        -moz-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(770deg);\\r\\n        -moz-animation-timing-function: ease-out;\\r\\n        -moz-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(900deg);\\r\\n        -moz-animation-timing-function: ease-out;\\r\\n        -moz-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -moz-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -moz-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@-webkit-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -webkit-transform: rotate(180deg);\\r\\n        -webkit-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(300deg);\\r\\n        -webkit-animation-timing-function: linear;\\r\\n        -webkit-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(410deg);\\r\\n        -webkit-animation-timing-function: ease-in-out;\\r\\n        -webkit-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(645deg);\\r\\n        -webkit-animation-timing-function: linear;\\r\\n        -webkit-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(770deg);\\r\\n        -webkit-animation-timing-function: ease-out;\\r\\n        -webkit-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(900deg);\\r\\n        -webkit-animation-timing-function: ease-out;\\r\\n        -webkit-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -webkit-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -webkit-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@-ms-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -ms-transform: rotate(180deg);\\r\\n        -ms-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(300deg);\\r\\n        -ms-animation-timing-function: linear;\\r\\n        -ms-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(410deg);\\r\\n        -ms-animation-timing-function: ease-in-out;\\r\\n        -ms-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(645deg);\\r\\n        -ms-animation-timing-function: linear;\\r\\n        -ms-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(770deg);\\r\\n        -ms-animation-timing-function: ease-out;\\r\\n        -ms-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(900deg);\\r\\n        -ms-animation-timing-function: ease-out;\\r\\n        -ms-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -ms-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -ms-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@-o-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -o-transform: rotate(180deg);\\r\\n        -o-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(300deg);\\r\\n        -o-animation-timing-function: linear;\\r\\n        -o-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(410deg);\\r\\n        -o-animation-timing-function: ease-in-out;\\r\\n        -o-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(645deg);\\r\\n        -o-animation-timing-function: linear;\\r\\n        -o-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(770deg);\\r\\n        -o-animation-timing-function: ease-out;\\r\\n        -o-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(900deg);\\r\\n        -o-animation-timing-function: ease-out;\\r\\n        -o-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -o-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -o-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        transform: rotate(180deg);\\r\\n        animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(300deg);\\r\\n        animation-timing-function: linear;\\r\\n        origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(410deg);\\r\\n        animation-timing-function: ease-in-out;\\r\\n        origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(645deg);\\r\\n        animation-timing-function: linear;\\r\\n        origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(770deg);\\r\\n        animation-timing-function: ease-out;\\r\\n        origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(900deg);\\r\\n        animation-timing-function: ease-out;\\r\\n        origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n/*  End of Progress indicator  */\\r\\n\\r\\n\\r\\n\\r\\n/* ColumnsBar START */\\r\\n.eqjs-cb-panel, .eqjs-sb-panel {\\r\\n    display: flex;\\r\\n    background: #f9f9f9;\\r\\n    min-height: 40px;\\r\\n    position: relative;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n.eqjs-cb-header, .eqjs-sb-header {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns, .eqjs-sb-columns {\\r\\n    position: relative;\\r\\n    white-space: normal;\\r\\n    overflow-y: unset;\\r\\n    min-height: 40px;\\r\\n    padding: 0;\\r\\n    max-height: 1000px !important;\\r\\n}\\r\\n\\r\\n.eqjs-gp-addrow,\\r\\n.eqjs-cb-addrow,\\r\\n.eqjs-sb-addrow {\\r\\n    margin: 5px 2px 2px 2px;\\r\\n    position: relative;\\r\\n    flex: 0 0 auto;\\r\\n    vertical-align: baseline;\\r\\n    height: 23px;\\r\\n    width: 23px;\\r\\n    padding:0;\\r\\n}\\r\\n\\r\\n.eqjs-gp-addrow a,\\r\\n.eqjs-cb-addrow a,\\r\\n.eqjs-sb-addrow a {\\r\\n  background: scroll 0 0 rgba(0, 0, 0, 0);\\r\\n  border-bottom: none;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  margin:0;\\r\\n\\r\\n  text-indent: 100%;\\r\\n  white-space: nowrap;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.eqjs-gp-addrow > a:hover,\\r\\n.eqjs-cb-addrow > a:hover,\\r\\n.eqjs-sb-addrow > a:hover{\\r\\n    border-bottom: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row, .eqjs-sb-row {\\r\\n    position: relative;\\r\\n    height: 27px;\\r\\n    cursor: pointer;\\r\\n    display: inline-block;\\r\\n    margin: 2px;\\r\\n    background-color: white;\\r\\n    border: 1px solid #0099CC;\\r\\n    min-width: 80px;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-disabled {\\r\\n    background-color: lightgray;\\r\\n    border: 1px dotted #999;\\r\\n    color: #999;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-readonly {\\r\\n    background-color: white;\\r\\n    border: 1px dotted #999;\\r\\n    color: #999;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row  .eqjs-cb-buttonsBlock {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row  .eqjs-column-sortbutton {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row[data-show-buttons]  .eqjs-cb-buttonsBlock {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row[data-show-buttons]  .eqjs-column-sortbutton {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.eqjs-cb-expr-block {\\r\\n    display:none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement,\\r\\n.eqjs-sb-colelement {\\r\\n    display: inline-block;\\r\\n    margin: 4px 8px 0 0;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement:first-child,\\r\\n.eqjs-sb-colelement:first-child {\\r\\n    margin-left: 8px !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement > a,\\r\\n.eqjs-sb-colelement > a {\\r\\n    border-bottom: none;\\r\\n    pointer-events: none;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement > a,\\r\\n.eqjs-sb-colelement > a {\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-cb-captionelement input {\\r\\n    margin-top: -4px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-captionelement input:focus {\\r\\n    border: 1px dashed #0099cc;\\r\\n    box-shadow: none;\\r\\n    outline: none;    \\r\\n}\\r\\n\\r\\n.eqjs-cb-row.active a, .eqjs-cb-row:hover a {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.active, .eqjs-cb-row:hover {\\r\\n    background-color: #0099CC;\\r\\n    color: white;\\r\\n    padding-left: 0;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row, .eqjs-cb-row.active, .eqjs-cb-row:hover {\\r\\n    border-radius: 0.25em;\\r\\n    font-size: 75%;\\r\\n    font-weight: 700;\\r\\n    text-align: center;\\r\\n    vertical-align: baseline;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-disabled.active, .eqjs-cb-row.eqjs-cb-disabled:hover {\\r\\n    background-color: lightgray;\\r\\n    color: #666;\\r\\n    border-color: #666;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-readonly.active, .eqjs-cb-row.eqjs-cb-readonly:hover {\\r\\n    background-color: white;\\r\\n    color: #666;\\r\\n    border-color: #666;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row .eqjs-button-placeholder {\\r\\n    margin: 2px 0 2px 1px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.active .eqjs-cb-button-placeholder, .eqjs-cb-row:hover .eqjs-cb-button-placeholder {\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row .eqjs-cb-sortimage-placeholder,\\r\\n.eqjs-sb-row .eqjs-sb-sortimage-placeholder {\\r\\n\\tmargin: 2px 0;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-cb-img-sorting,\\r\\n.eqjs-sb-img-sorting {\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-buttonsBlock {\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    height: 27px;\\r\\n    top: -27px;\\r\\n    max-width: none;\\r\\n    left: 0;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.eqjs-cb-buttonsBlock div {\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n    margin: 2px 0 2px 2px;\\r\\n}\\r\\n\\r\\n.eqjs-sortable-helper .eqjs-cb-buttonsBlock {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns,\\r\\n.eqjs-sb-columns {\\r\\n    display: inline-flex;\\r\\n    flex-wrap: wrap;\\r\\n    flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns .eqjs-highlight,\\r\\n.eqjs-sb-columns .eqjs-highlight {\\r\\n    height: 27px;\\r\\n    top: 2px;\\r\\n    width: 100px;\\r\\n    position: relative;\\r\\n    background: #ffc107 !important;\\r\\n}\\r\\n\\r\\n/* ColumnsBar END */\\r\\n\\r\\n\\r\\n/* QueryName Widget */\\r\\n.eqjs-query-name {\\r\\n    position: relative;\\r\\n    margin-top: 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-text {\\r\\n    white-space: nowrap;\\r\\n    text-overflow: ellipsis;\\r\\n    overflow: hidden;\\r\\n    margin: 0 !important;\\r\\n    padding: 5px 10px 5px 5px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-query-name:hover .eqjs-query-name-text {\\r\\n    box-shadow: none;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-asterisk {\\r\\n    position: absolute;\\r\\n    right: 3px;\\r\\n    top: 0;\\r\\n    z-index: 10000;\\r\\n\\r\\n    color: red;\\r\\n    font-size: 1rem;\\r\\n    font-weight: 700;\\r\\n}\\r\\n\\r\\n.eqjs-query-name .eqjs-query-name-tooltip {\\r\\n    visibility: hidden;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-theme {\\r\\n    font: normal 12pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n/* QueryName Widget END */\\r\\n\\r\\n/* Process Bar start */\\r\\n.eqjs-process-bar {\\r\\n    display: 'none';\\r\\n    height: 4px;\\r\\n    width: 100%;\\r\\n    position: fixed;\\r\\n    top: 0;\\r\\n\\tleft: 0;\\r\\n    z-index: 65000;\\r\\n    overflow: hidden;\\r\\n    background-color: #ddd;\\r\\n  }\\r\\n  .eqjs-process-bar:before{\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    content: \\\"\\\";\\r\\n    left: -200px;\\r\\n    width: 200px;\\r\\n    height: 4px;\\r\\n    background-color: #2980b9;\\r\\n    animation: eqjs-process-bar-loading 2s linear infinite;\\r\\n  }\\r\\n  \\r\\n  @keyframes eqjs-process-bar-loading {\\r\\n      from {left: -200px; width: 30%;}\\r\\n      50% {width: 30%;}\\r\\n      70% {width: 70%;}\\r\\n      80% { left: 50%;}\\r\\n      95% {left: 120%;}\\r\\n      to {left: 100%;}\\r\\n  }\\r\\n\\r\\n  .eqjs-process-bar.local {\\r\\n      position: absolute;\\r\\n      display: 'block';\\r\\n  }\\r\\n/* Process Bar end */\\r\\n\\r\\na.eqjs-disabled {\\r\\n    color: currentColor;\\r\\n    cursor: not-allowed;\\r\\n    opacity: 0.5;\\r\\n    text-decoration: none;\\r\\n} \\r\\n\\r\\n\\r\\ninput.eqjs-invalid {\\r\\n    border:1px solid red !important;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.eqjs-maximized-2window {\\r\\n    position: fixed !important;\\r\\n    background-color: white;\\r\\n    overflow: auto;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    z-index: 1000;\\r\\n    transition: 1s;\\r\\n    padding: 5px;\\r\\n}\\r\\n\\r\\n.eqjs-maximized-2container {\\r\\n    position: absolute !important;\\r\\n    background-color: white;\\r\\n    overflow: auto;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    z-index: 1000;\\r\\n    transition: 1s;\\r\\n}\\r\\n\\r\\n.eqjs-maximizable {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-container-4max {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-max-button {\\r\\n    position: absolute;\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n    background-color: white;\\r\\n    right: 4px;\\r\\n    top: 4px;\\r\\n    z-index: 10000;\\r\\n    border: 1px solid gray;\\r\\n    border-radius: 4px;\\r\\n    cursor: pointer;\\r\\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAr0lEQVQ4jaWTwQ2DMAxFn1EPDMAyVTl1g94Yg7IIWyBVHKrORWfo7yWUyBKKK76UQ+z8/+3EMUkcwSlyyMw64ObCL0lTSMDhCjRABUxICi+gBwQswCwp1kJqowdG4A5cfomg85Cch7Sf1woi5DYnp1gHdFGBGmh38wXnumjgS3I97zp7ge1SNnIfuuBcIHvnENkLLP+SJVFls9IAb+BsZo80/0Wsk/gEPhGChx39zl8oCGZnXNzK6gAAAABJRU5ErkJggg==');\\r\\n    background-position: 3px 3px;\\r\\n    background-repeat: no-repeat;\\r\\n    opacity: 0.6;\\r\\n}\\r\\n\\r\\n.eqjs-max-button:hover {\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-maximized > .eqjs-max-button {\\r\\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAvklEQVQ4jaWTuw3CMBCGvz8lygA0rJIBKKMUDJABIhgH5mAAVknDBJT8FHlgmSg2cNLJOp3v870s2/wjxS9BklpJhyyApEpSH9gdcAZKAGyvKtAM1wzQAQa62Z8LWAr+FmDg+OHPANQBYNJ+8is1RkkbYB81/G77BrwBkipgG1x6Alfbj9UXglT7hVTrVIlFANrZFnAK+OlFixo2j2o8m2STl4JHOx8AtMQbNvSkSgFkm/FjlLYvyZojSe5BSl4yFEh5bRiMkwAAAABJRU5ErkJggg==');\\r\\n}\\r\\n\\r\\n.eqjs-progress-line {\\r\\n    width: 100%;\\r\\n    background-color: #e0e0e0;\\r\\n    padding: 3px;\\r\\n    border-radius: 3px;\\r\\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);\\r\\n}\\r\\n\\r\\n.eqjs-progress-line .fill {\\r\\n    display: block;\\r\\n    height: 22px;\\r\\n    background-color: #659cef;\\r\\n    border-radius: 3px;\\r\\n    \\r\\n    transition: width 500ms ease-in-out;\\r\\n}\\r\\n\\r\\n\", \"\"]);\n\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-icons-default.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-icons-default.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-icons-default.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".eqjs-qc-column-checkbox {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiUlEQVR42qXM3QYFIRiF4d3dJpIhI5FKJCOSSHe7f9gn4ztZo3Wwzt6HvTbHfhdCeD8Nvw27Ad57OI4xUsA5BwMpJQpYa2Eg50wBYwwMlFIocJ4nDFzXRQGtNQzUWilwHAcMtNYooJSCgd47BaSUMDDGoIAQAgbmnBTgnMPAWosCcP3fDdjZNvABvRhVEQglsV8AAAAASUVORK5CYII=') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-checkbox.enabled {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAuklEQVR42qWScQfFIBTF27dNzIxMxtREkpjE7Nu+98q7U+96T0/nj3Vv55wfsYF0akgfpdTj3+KrM1QAKWVzed93DNi2rRmgtcaAdV1/lowxBDJpRgAhxNeytTafkEk7AizLkk3nHIEZdlCZQQDOeTa99/lMO8ywg9I9AszznM3jONATwAOlDAJM03QHQgj3XN6XPgKM41iFYozk8670EIAx1vgXEHKeJwZQSpsB13VhQHP7rQrQo27AE+MRcBFOD9LhAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-ve-loader {\\r\\n    background: url('data:image/gif;base64,R0lGODlhEAALAPQAAP///xd3sd3q89Tl8Ovz9xx6shd3sUCPvo282G6qzsDZ6TWJu1qex5TA2nGsz8Pb6jmLvBp5sl2gyOjx9tvp8vT4+kmUwd/r8/P3+rzX6KjM4c7i7u/1+QAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable, .eqjs-column-button-enable{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-delete, .eqjs-column-button-delete{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAWCAYAAABQUsXJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABApJREFUeNq8l11oW2UYx3/ve85JTpKTJk1tK12ltMHWOthsQQdjIIhXMrzwC0EUvNnYnZ8w/Cj4MeemXugUpcyJnYIXq3ip9mYbQ8fowJUxqKWmHbGnbVbTtE2aJjnv8WJtnGkz2yT1f3XOc/E8/+d/nud/3lcMDw83A0eAxwCL6nAd+Az4VIaC+YWBQVJfn0GGgiZwCniC2uB34GkdOAo8X6Ok0VUhFoGTt8RfAp4E9BrV2Ql8KIHHqS18wCMlsX01JL6GhyTgp/YwS97dbajhSkBtR2L+B8iy1V0Xx3FQan1vSikcx6lBiy6FpQyF9PL6Grk8+dQirlIgtkhe0zRaWlowTRPXdYsNKaWIRCI0NjZWTRwhaHvqUXbsfxhnOYurbtZR+TyBth3c88IBdJ8P19l4ODZcIsdxaGhooLW1lXA4zPj4OLlcDoBQKERbWxtKKTKZDJlMBinllrk7KzlC3Z10v3gQYRgUltLMnr+I0DV8dzbR+/4b1PfsIpu4wcR3P2BYgc0pL6UklUqRTCaxLIuOjg4Mw6Curo729nZ0XSeRSJDNZhFCVDavHoP09TixbwfxRsL0HHuTxr3344mE6T3eR33PLuyfz5K4cAndZ25eeSEE+XyeiYkJAOrr6+nq6kLTNAzDIB6PY9s2QoiKyQspUbkcY/2ncZWi++VD9B7vI59aINgZxR46y5W+Y+RSi0iPvqEFlPVeIQSO4zA5OYmu6wSDQQBs266aeLGGpgGCsf4BjKDF3QeexWxu5Mavlxnp+4D84hLS0Mt6122HVQiBaZr/Wlq/34/H46mdpzoFzKY7CO3swgVcR1HX2Y6//a5/FrsSqwwEAkSjUTRNY3Z2lmQyWVxYwzCKDVVMvHCT+H3vHqZp3x6mh84R++YMmmXxwMdHCO++F1eVt+QNx0YphWVZRKNRdF3Htm3i8TherxcpJeFwGCEEsViMQqFQ0fiofAFvJMTudw7T/OBeZs79wsjbH7Fsz5BPp+k8+Bx7PjnKxUOvMj9yDen1bl55r9eL4zhMT08zNTWFpmnkcjlisRipVApN09D1Ko4rysETCeOpC5K4cInfXn+P7Mwsut/H6IkvGes/TW4xTaC1BVVwNq+8lJK5uTmy2SyZTKaorJSy6EJCCFZWViryeABpmiyM/sHlV95CFQoszyTQ/X5wXYQmGT1xEnvoPMkrVzGswIYjWlY6KSXpdHodubUG1p6r+cNqPpPMn1MgRJH4mo26wPzVa+gBf9nduu13L0euWou8tQG55lwlBIWUaKb5nwczSe0htmLJFUKTQGYbEmdL3ue3ocZfEhiscdJl4MeS2MA2NPC5DrwGeID9NbhVTQFfAF+VxH8Cnlm9K7dXMyqrInwPnPp7AH4AhqGXPSzUAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-addPredicate{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAWCAYAAABQUsXJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABjBJREFUeNqsl3uIXFcdxz/nPua1u4Ozdx+zO9lXYruLW0KCIVRqpaKgBsFHCUQKlrYUlPqXiMUWiRC0VIT+U0EltPiHf1RQ+kdQ/4l/WKWWLtqErMY0YLb7mNlOpmv37tyZuffcc/zjzr3zyGZ2a/3BHeac8zvn9/6e3xErKyuTwA+BrwLDfDh6B/gp8KJjEzz3DvxiDbCxgW8BTwGzH1LGHvBb4FkLeA54LF7RWqO1RgiBEGLgKfvwHms7wgUudrE+2p7PtjeC0iAEGINloDWEOuKLeAvAE4BhAA93K2NZFvl8Htu20VoPVDybzTI0NIRhGN28WeBMH/uZRHGlsU2DExNDLI1mIyMGKO5kbR4o5SlkrciIDj1sALlYmVwux9zcHIuLi+RyOZRSdz1XSsn4+DhLS0tMT09jWVb3cqaPPRmPZi0unJrm9S8v8c2PTUBL3l15qTjh5Pjzlxb5+YNzLI9lo0hElDMApZTCtm1mZ2cpFAqUy2X29vYwTTM5JwgCpOwIsiyLSqWC67oUi0XGx8d7fNbvw/jPU8sTPH2iyOUtlxfeqkCqLUMQGeIFHW7T5K9ll/MrW5w9WuDFB2ZxsjZETlVGfGg6nWZ4eJjd3V3K5XKPooZhMDc3R7FYTKIhhKDZbLK5uYmUEsdxDqw0Q8C5Y6NUm5LvvbHJrZ0GWG0VAsXjx4v84ME5MvGcAXU/5PkrFS5v7vLQ9AjH8mkIk+WOggDNZhMpZTKOFZ2ammJycrInlUzTxPM8wjAklUodCirmRlK874es1rzI67GXfcV3jk9y/uNTZCzRmbcMWp7k2k4TgCGro5cR53uMLEqpu+Z6dzRiUkr17B8IHEDWFEilUb6KUiXxELzXzv87cCJUeIFqR08kWWjwf6AYaQ4ywBYC/b8IEKDaMuwuEQZAJpNhdHQ0SRshRILh8deP7d0Y73keQggcx9nfAA2WEDy+5GAgeLNajzA+1D1fLMZXvfMgeHu3BcAj94wyOZKJzrRtm+XlZaSUbGxssL29zfz8fE8BxgoNDQ1x6tSpHr1u3rzJ+vo6AKVSCcdxWF1dBbsLOluSP55dZvEjGV6+UePbr6/ziSMjXPrCR3sMzLeRZ/OR4+iuGF38Z43v/+kWTsbiyaVx/nVumXtfWe2kTRAE1Ov1gdi+b0SFSPYOutSEgEBprtTquF5wqBrpgAn4geJvt+vUWgGGiMrFCoKA69evs7CwwPz8PFJK1tbWEm/GqHLy5Enq9TrXrl3ruZC01jiOw8zMDNVqla2trZ77IcJhkzO/v8mPTk/z4/tnqDQkv75Rw3nprQ5PQ/La1+7jk1PDlH51lUYz7BS0UizN5Ln4qXl2g5D7X73OthdEnvc8j0qlQjqdJp/P9/Qr/T1O/7zWmrGxMQDK5TJhGN7pVSFw/ZDzK2WEhq/f40RtgSl6vnhbyuidR2o+N5PnWD7N83+v8I+qB6ILbcIwTG7OQeHfj2KM3w9KuxFj15eYAmaGbVAfCM6YzNgAvNcKkzvA6Ia6g+Cur3/5wBQCwoC0Ye6LSKNpK6kP7tJf6K5fK1Y4NsA0zWQcG6K1plwu4/t+z82rlMIwjJ65A+CalgTbFIiUgQ4VmEacK/zk6jazwymaUnfle9Q651MRn0ITL1rdt6eUkkKhwMTEBDs7O4lBSinW1tYQQiTe11pj2zbFYpFUKoXruoeJPn+p7PHZIyNcOH2EF65UqDVl1PTYBi9drUS4nrUj/TTYpsFX7hvl7NECtaZk25OJYUbU1hhJk6WUYmFhgZGRkaQOAGzb7kkbKSWlUolisYjrumxsbPQ7+Y6xBp5Z2eC1isuzJ4tcOF3qtMQaSFuQszu7ZchDpRFe+cxRPKn57hubvP2fZhwtwwI8IK+U4vbt27iuSyqVotFoDEwHy7KoVqvUajV838f3/e56afaxJ+M3t+ucu/xvZodT1AMFqQF1ZBpcqXl8+tIN1vd8brktwvgFBp4F/AZ4LBbcbDZpNBoHPgPjtmCfJ2MD+EMf+++AzwNZhGDL9dl6vxUpYYqBPfS7XsC7rt95MnbkvGoBzwAp4ItA7jBv137M76It4GfAy32svwTGgG8A013v0cMIAauH1wMuAU//dwCj3cAHQqNeUQAAAABJRU5ErkJggg==') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-addCondition, .eqjs-cb-addrow a, .eqjs-sb-addrow a, .eqjs-srtb-addrow a, .eqjs-gp-addrow a{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-gp-column-button-menu,\\r\\n.eqjs-qp-condition-button-menu,\\r\\n.eqjs-column-button-menu{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiUlEQVR42qXM3QYFIRiF4d3dJpIhI5FKJCOSSHe7f9gn4ztZo3Wwzt6HvTbHfhdCeD8Nvw27Ad57OI4xUsA5BwMpJQpYa2Eg50wBYwwMlFIocJ4nDFzXRQGtNQzUWilwHAcMtNYooJSCgd47BaSUMDDGoIAQAgbmnBTgnMPAWosCcP3fDdjZNvABvRhVEQglsV8AAAAASUVORK5CYII=') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox.enabled{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAuklEQVR42qWScQfFIBTF27dNzIxMxtREkpjE7Nu+98q7U+96T0/nj3Vv55wfsYF0akgfpdTj3+KrM1QAKWVzed93DNi2rRmgtcaAdV1/lowxBDJpRgAhxNeytTafkEk7AizLkk3nHIEZdlCZQQDOeTa99/lMO8ywg9I9AszznM3jONATwAOlDAJM03QHQgj3XN6XPgKM41iFYozk8670EIAx1vgXEHKeJwZQSpsB13VhQHP7rQrQo27AE+MRcBFOD9LhAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-button-type{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-sortbutton-none{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-sortbutton-asc{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-sortbutton-desc{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-button{\\r\\n    background: url('data:image/png;base64,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') no-repeat center;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-button-open{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAFxJREFUeNrs1MEJwDAMA0CldBiv4Gm1lrZxXvk2NjX00WiAAyHQiAh05kJzDvgRSDLawCesDJIMM+upvDB3fw9msRRYwbZgFQOAe7emJEhKg+O8zQ/ACQAA//8DAI7SJxc89d8jAAAAAElFTkSuQmCC') no-repeat center;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-select-all{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-select-all:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-deselect-all{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-deselect-all:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-columns{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-columns:hover{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAfdJREFUeNq01l+ElFEYBvDffmVYosRqGSKWiKGUIaJulhKbUnRTIrqNuqiUshTddBfRTd10EWvXptVqb+oqIi2jiGUYhmUYRSyx6uY9+faz80/Tw/F9vnPmed7znPe874zsujGvBw7jJMZQwS98QxMv470jtnb4vgWXMI3yJvNH4zmNGu5hrl+BCcxGtNDATERaw2isqWIq1s1iCefRzpONFCw6gnnsxAruhA267PQK7mI8fnMKX9OCrBB5Ip/DgR7ksI4nsfZjcLyN89ogUMqRz+AMfuofqzgWImU8Kwpcxr7w+WJ8+z3gWIvA2pF1k0mgFNkA12Ph3zPqcyQ08TDe7yeByfDsExb8Ox7HLqrYmwSE90X0a08ea1hM9yUL72F5E4GiFTs6zBeRuCpZ5G/yb1hIXGOZ/4P1fJomtfIQBRJXK8tVw+oQBQ7Gs5ZFkYKzQyIfjYsGS1mkVDOq4tQQBK5iOz6gnsWBPIjJR9jW5R5873BP8t7fjPdb+Vr0NHJ3Ai8GLBNpjOJ1RP8K7/MC6ziHVtj0prCTXtiNd9hfKJgb+kFqFi0cxxdc6EFcCs8/Rxau4AR+dOpoKZrZXKrlm3sjSMdj/nSuuSxE5O1ePbmBQ9H0b8e5XOuyi+U40MVB/lXA8xiViLSMPVEtV1GPndW7efhnAPcRh01WPyd+AAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-cond{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-cond:hover{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAjhJREFUeNqk1lFk1XEUB/DP1jVGLDEblygRsTQlIraXUcZSREqJKD1FPayUMnpIzyl6qZciZrM0TXtpT5HS1SxiXMYUY4oYY9bL+ee3f7v3f7cO1/3f3//8z/n+v+d7zrlNHYNjCuww+tGOLizjG+bxMq5rWqnG+RZcwBDK69zvie8hTOMuRhtNsBsjgRbmMBxIp9EaPocwEH4jmMRpLKbBmnIUHcEYtmMWt4MGdd70Eu6gM545jq+ZQ3MOeRZ8FN0FwWEFj8P3Q8R4G/Vak6AlCT6Mk/itcfuB3khSxtN8DS5ib/B8Ps5WUypxoE6CCpYC2JdQXR8mS4F+KByvh+N69rFOgm34FdK9jwe4lyXoC84+YbxOkCd17i0n1w9xI1S2J0sguJejJbXLDdZjCRM4g55ScJ/xWMt+oi2hY2dING/V6INKJOgqhX4Ff43auyRhamfxIonVXrI5q2DrOueLSX/8lel8tHs5RkEtlaTWWwAgm18LpdD+0aj6ROK00T5YSX5nvtNNHYNj/Xgd6PfVSbDaQB+IYfg9arSrFKgzmgbw6j/74GoEf49qNk2v4FFMw+4NzqE89zORoBdTzQm6SkzD55sM3hpUtwULU+k0XcEpLARNb2rIsJbtiN7YnxuYa/ZBtiwWQlUzOFcQuCU4/xwqnMWxpOD/bLQMzUgitXS5z0XQzrh/Ilku44F8sWgnz+FgLP1bUZdrBT1wM9dDhf8q4Fl8ugJpOYbcUmywarxZtR6HfwYAvX2I18KcJpgAAAAASUVORK5CYII=') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon {\\r\\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAAYElEQVQ4jd2SwQ2AQAgEWXuwPlu5r63YnCWMHx+XnJwQfLlfmIEEZHcALBlJyjKjpLrBUt2gF+xJduwHGrE0VxuQ+HBA8g5PJI/w9BH603pP8+kZfyrYzOwsTQBW4PDqF8s0kLND0MqbAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n\\r\\n/* positions */\\r\\n.eqjs-qp-condition-button:hover, .eqjs-column-button:hover, .eqjs-column-sortbutton:hover, .eqjs-cb-addrow > a:hover, .eqjs-sb-addrow > a:hover,  .eqjs-gp-addrow > a:hover{\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable.enabled, .eqjs-column-button-enable.enabled, .eqjs-column-sortbutton-asc, .eqjs-column-sortbutton-desc{\\r\\n    background-position: -51px 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable.enabled:hover, .eqjs-column-button-enable.enabled:hover {\\r\\n    background-position: -76px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable, .eqjs-column-button-enable, .eqjs-qp-condition-button-addCondition, .active .eqjs-column-sortbutton-asc, .active .eqjs-column-sortbutton-desc{\\r\\n    background-position: 0 0;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-apply:hover, .eqjs-fb-button-apply:active, .eqjs-fb-button-apply:focus, .eqjs-fb-button-clear:hover, .eqjs-fb-button-clear:active, .eqjs-fb-button-clear:focus{\\r\\n    background-position: 0 -15px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-img-sorting{\\r\\n    background-position: -56px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-sb-img-sorting{\\r\\n    background-position: 0 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon {\\r\\n\\tbackground-position: 50%;\\r\\n}\\r\\n\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery-mobile.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery-mobile.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery-mobile.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"\\r\\n/* ColumnsBar */\\r\\n.eqjs-mobile .eqjs-cb-row .eqjs-button-placeholder {\\r\\n    margin: 0 2px;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-button-placeholder {\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-mobile,\\r\\n.eqjs-sb-row.eqjs-mobile {\\r\\n    height: auto;\\r\\n    margin: 4px 3px;\\r\\n    padding: 8px 0;\\r\\n    min-width: 55px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement.eqjs-mobile,\\r\\n.eqjs-sb-colelement.eqjs-mobile {\\r\\n    margin: 0 8px 0 0;\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement.eqjs-mobile > a,\\r\\n.eqjs-sb-colelement.eqjs-mobile > a {\\r\\n    vertical-align: inherit;\\r\\n}\\r\\n\\r\\n.eqjs-cb-addrow.eqjs-mobile,\\r\\n.eqjs-sb-addrow.eqjs-mobile {\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    margin: 4px 4px 0 3px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-addrow.eqjs-mobile a, .eqjs-cb-addrow.eqjs-mobile a:hover,\\r\\n.eqjs-sb-addrow.eqjs-mobile a, .eqjs-sb-addrow.eqjs-mobile a:hover {\\r\\n    background-position: 0 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns.eqjs-mobile,\\r\\n.eqjs-sb-columns.eqjs-mobile {\\r\\n    padding: 5px 3px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-panel.eqjs-mobile,\\r\\n.eqjs-sb-panel.eqjs-mobile {\\r\\n    padding: 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row .eqjs-cb-sortimage-placeholder.eqjs-mobile,\\r\\n.eqjs-sb-row .eqjs-sb-sortimage-placeholder.eqjs-mobile {\\r\\n    margin: -3px 0 0 0;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/* Buttons */\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile {\\r\\n    position: absolute;\\r\\n    right: 3px;\\r\\n    left: 3px;\\r\\n    height: 54px;\\r\\n    border: 1px solid #0099cc;\\r\\n    border-radius: 6px;\\r\\n    background-color: #FFFFE0;\\r\\n    z-index: 10000;\\r\\n    transform: translate(0, -32px);\\r\\n    max-width: none;\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile.show-below {\\r\\n    transform: translate(0, 14px);\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile i {\\r\\n    position: absolute;\\r\\n    top:100%;\\r\\n    margin-left:-20px;\\r\\n    width:40px;\\r\\n    height:20px;\\r\\n    overflow:hidden;\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile.show-below i {\\r\\n    position: absolute;\\r\\n    top:initial;\\r\\n    bottom:100%;\\r\\n    margin-left:-20px;\\r\\n    width:40px;\\r\\n    height:20px;\\r\\n    overflow:hidden;\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile i::after {\\r\\n    content: '';\\r\\n    position: absolute;\\r\\n    background-color: #FFFFE0;\\r\\n    border: 1px solid #0099cc;\\r\\n    width:20px;\\r\\n    height:20px;\\r\\n    left:50%;\\r\\n    transform:translate(-50%,-50%) rotate(45deg);\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile.show-below i::after {\\r\\n    content: '';\\r\\n    position: absolute;\\r\\n    background-color: #FFFFE0;\\r\\n    border: 1px solid #0099cc;\\r\\n    width:20px;\\r\\n    height:20px;\\r\\n    left:50%;\\r\\n    transform:translate(-50%,50%) rotate(45deg);\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-cb-addrow.eqjs-mobile a,\\r\\n.eqjs-sb-addrow.eqjs-mobile a {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxOTY2MUFDRUZDQkUxMUU5OTc2N0I1NUVGNTkwRDY1NSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxOTY2MUFDREZDQkUxMUU5OTc2N0I1NUVGNTkwRDY1NSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0Nzk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pg3rCBgAAADfSURBVHjaYmSYdZ4BCuyBuAiIjYFYmoG64CkQnwXiPiA+CBJggkpUAPEBIPajgaUMUDP9oHaA7GJgBPoY5NO9QMzMQB/wF4gdQD5uoaOlDFC7WkAW6zLQHxiALOYfAIv5mRgGCLCQl0Z5Gf57KcO5jLMvkGzEgPl41OLhbzHeVK1jIM5w2VSSoCH/Uw2wijNuuwusHj6PBjUDrHb6P1qAjFo8mqpHg5pci78PgL3fmaAtfHqDsyCLOwbA4g6QxVuBeCIdLQXZtRWWuAqAOAiIT0G7GLQAp6B2gOxiAAgwAF/XKrMmSkwEAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-sortbutton-none {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFRjY4REE1MkZGRjQxMUU5OEQ5NEYxQkE0MzU3MTAzMiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFRjY4REE1MUZGRjQxMUU5OEQ5NEYxQkE0MzU3MTAzMiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiNTCjUAAAFjSURBVHjaYvz//z/DQAAmhgECoxYPf4tZiFH09cT1/zxfRRm+OoswcDEwMKLL3997+b/Svb9QHgdDY6oGQx0WdaRZfPv2f56rPxkY/j1j4ObnZfhvwk6HoP716n/Fma9AS0EcIHHlPsPktwz/aWzxl/+bdzxn6PyCJPT7B0Pe7nsMhxgotxynxd+OPmLwe4nF/M+fGez3vmH4RqHlOC3mstZi/J9qwLhJHMl8Hl6Gg6n6DP+dRRi5CCSe0Xw8avGoxSSB/5du/WdcBCynH/1DEv3JUL/oMgPjhgf/L+DJ6xRZzKgnxbBJAGjpH2TzgezfzAzZxgoMBnjyOoVBzcPo6yHJUMvLiGqkrgLDFFn8BQzlccwmxthkzIUwSVaM4asZF50Sl6oq4xddYHXJy8twwEmCgZjilJFQ8/bHu0//X/6Exh4TG4OYOAcOg//8//mLhYGdjbgynHG0XT1q8bCzGCDAABDGbp/Wh83TAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button-delete {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0M5OTk3NUZGRjgxMUU5QjhCMkI2NjIxRDY0M0I4QyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0M5OTk3NEZGRjgxMUU5QjhCMkI2NjIxRDY0M0I4QyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrtIPjoAAAU2SURBVHja7Fc7bxxVFD73Me9d79rrtR3HNo7j4DyQwkMBoggBAhIqoAEJKT8AiTQUVCEFEjVEiIoCEYmCKlaKSAEKIKA0QRGPSImMY0LidWJ77X3YM7Mzcx+cGdshFGu020RCjDSemb33nud3vnNMtNbwIC4KD+hqqzhJEhAiwTd1/01AiWx9ph6++MHVyodrfvhkHG/t0wS0BMBzGr+VVm0V83+3jWw8lBqtRuJgKBSLdESmfl1+C36rHjMBeo/tKJTLNk9cThtFRq4Coz7Bcxrap5G0y7EQAjgjttQwer3ZOjA933jz1Fz9MPhyAMLEghjPUYaOSQKcCihYGjzyw/vDuS+PT/bPTOTMWRRfaRfUtorR2p7rteCFd6+vnDw/U3scGjE6gUIY3gSjwEh6ejPC+BR4S/zg+HvZbpza2/fFicnC6QHXne1IcUuK145cnHvvypXqY+CaAiwmMWkhhlyiASY6shFLkrnENq1N9yR4OAdMm5+8NH767YcH3+kox7hAjw/mZq8U60P4YaNrHMIoQu9qYBs2KnEgkQY4RoTKOUjNMAUUTaiCxzHsFkzlrahjVHPGvn1luPcsULMMPimAZzdgsjQLnleGiA1D3gXYO7AAxOjD7z5wHQ77B+bAccchIH1g8Jv7PD7deR0rWcOCWMQ3E/PHD4zkr1WfHv4IcsYN8IV9aKzndnBk9FPIWXUEmtE7Vvx58fDY59DvRBBh2bnWqq/o750rRoyYjKyCxVdSALmM3yoVvJ8gj/nG+hwzObUY5bgvSEH2qsPuOpz/gjn202RDzuRlk9ldMBcBA0gNqF5IBV2OxSj+VkJDwgx8SvNIqBzmPCt0lxFvXUgTgcVT5Jc5kwUDAdm5xxQMkxvQYysQeD6WeWSlXpBSbBXEJl2litWAySpBnDBYi/LAGOznpEUZtLrymAER6HEukx2rWmrMbs8upHWsNz3dukaZEqEmLuKBplL7KAmRYJKumoRBiQ82n8kIIomHNOZ2ymAL6do/YsiIHPPsSisRg0jXBhoLEyYJcCXuUjHI5wyymIElUMSPZXHEgMJGlO9XTPVOx7yzHCcNiNBJi8OenNXESHWRY1RmM6Kf7XN1RpGa9PsS7JLF7gClGUNubkPuIsomenFFUittUCltjpntw7y94kwwIfs8U2MTAPSkWI9FLZb6Uhp65EhK/g41Ehgbx/VnshxYfG3QNea2k78NqrH1Kli/G0TfZLsEyKVEV7mSy1jHWpHNszqTwlxKdi1FcmeGB07rBU6WulOcLlIiV9bCaygoDXchULDrIdeU6JFMG9E9XBOq0M7WNT++kxUXhcCkUEnniY4HAfL9H2nzB6gFEYaygYxUbCk1NOqaMYKJJ+j1vapTSaCVvMwJncg8ZrTu0BSU3eT4VgNgfh1DjLVs8zUkEKgJtSiVvI1GBJQQjmE2UBHFltkwDOO7eaz6LPQ2lSXb9LtT3I80228BFLCoXM6xBUIoZG7Cs0Kss9gB3XIs9mc2BfTYC4zRQz821/dlQNQYp1hWt1PcNtRP5M3sWWIk+lrAItbPjjOV5uurQXQDc2p9tbwup2+uHoRQerht4uytlRPQTHaDgXiP4/nPZu6KJiLw5MGRzkYfH4mAYMHUomRo5FLlDFxdPYqdSSMrYbckKB2fWL9YPjwjlHQeEfhXKv38UzvOnX908A2c15KcwTrz2DM2ZiuLGNGFR0oXXkZahJvNKSRBJ503Mv4W2eCjN97RPa4bsCd/8ePJ4jmHI4FsM96S//+T+M8r/kuAAQDKIU6GdlAyfgAAAABJRU5ErkJggg==') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button-type {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCOTNBODU2MEZGRjIxMUU5ODE5RkZDNzk3MDE3MkFDNSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCOTNBODU1RkZGRjIxMUU5ODE5RkZDNzk3MDE3MkFDNSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pud7uPcAAAEMSURBVHjaYvz//z/DQAAmhgECA2YxCzGKGGdfINY8Byh9ACbwP9WAZj5WAOIFIDuAeD8U/4eK0SyoE4D4PhDHY5EDiTXQwmKQpfOR+BeBOBCIE5HEDCiKYxxxiWzpQqhDYKAAiPXxBTe5Fi/AYynMp6C4f0DNoA4AYnko+yEWS2HgAbUTVwASu4GeBUgAkm8X0MtiUKLih7I30LzkwhHMH9CC+gIpjiHW4gaopfpIYvVoag7SwuJ6ItQcoEVQF0ILBXm0hHWAHEtJsXgCNF+uRypAGihJXKSkagNyg5VSixWILZWGjcX2UPojPdtcDmgFxYA09uhq8QVoC+MjpWU0vAE52qAftZhWACDAAKIDOGACHIO9AAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button-close-block {\\r\\n    position: absolute;\\r\\n    right: 2px;\\r\\n    top: 2px;\\r\\n    width: 12px;\\r\\n    height: 12px;\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU5Q0M5MDJCRkZFRDExRTlBRUJCODkzNTI5RUEzRTUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU5Q0M5MDJDRkZFRDExRTlBRUJCODkzNTI5RUEzRTUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTlDQzkwMjlGRkVEMTFFOUFFQkI4OTM1MjlFQTNFNTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTlDQzkwMkFGRkVEMTFFOUFFQkI4OTM1MjlFQTNFNTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz45TUrxAAAAuUlEQVR42mL8//8/AymABURsZTQyB1L2QNyFQ10ZEB/1/n/uKBNUwAmIO4G4B4viPqicC9wGqIAwEBcDMSOUhikuhNKtyBr+AXEJEINsLALiH1CNhVBbS1H8gARAir8DcRWU3wbE1cgKmLC4mREHG6sNMDe3QRVXAjEb1LkoGpigboW5GeYMNmgAMEP98YcFKZxBinuRPQg1GaS4AIg/AHEjTMNhIK4F4hYsfgIZ9BaqhoGR1KQBEGAAmoYoMbhpLS4AAAAASUVORK5CYII=') no-repeat;\\r\\n    background-position: 0 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button {\\r\\n    width: 38px;\\r\\n    height: 38px;\\r\\n    margin: 7px 0 0 7px;\\r\\n    border: 1px solid #0099cc;\\r\\n    border-radius: 5px;\\r\\n    background-color: white;\\r\\n    background-position: 50% 50% !important;\\r\\n}\\r\\n/* Buttons end */\\r\\n/* ColumnsBar - end */\\r\\n\\r\\n\\r\\n/* QueryPanel */\\r\\n\\r\\n.eqjs-qp-panel.eqjs-mobile {\\r\\n    padding-left: 0;\\r\\n    padding-right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-conditions-root.eqjs-mobile {\\r\\n    max-height: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row.eqjs-mobile {\\r\\n    background-color: white;\\r\\n    border: 1px dotted lightgray;\\r\\n    border-radius: 4px;\\r\\n    margin-bottom: 4px;\\r\\n    padding: 10px;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement.eqjs-mobile, .eqjs-mobile a.eqjs-qp-grelement, .eqjs-mobile .eqjs-qp-grelement, .eqjs-mobile .eqjs-qp-condelement {\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row.eqjs-mobile.active {\\r\\n    border: 1px solid #0099cc;\\r\\n}\\r\\n\\r\\n.eqjs-qp-conditions.eqjs-mobile {\\r\\n    border-left: 1px dotted lightgray;\\r\\n    margin-left: 3px;\\r\\n    padding-left: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-qp-condition-buttonsBlock.eqjs-mobile {\\r\\n    position: absolute;\\r\\n    top: 3px;\\r\\n    right: 3px;\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-qp-condition-button-menu {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-qp-valueelement input[type=\\\"text\\\"] {\\r\\n    top: auto;\\r\\n    bottom: auto;\\r\\n    width: 100%;\\r\\n    height: 1.2rem;\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n/* QueryPanel end */\\r\\n\\r\\n/* ColumnsPanel */\\r\\n\\r\\n.eqjs-qc-panel.eqjs-mobile {\\r\\n    padding-left: 0;\\r\\n    padding-right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qc-columns.eqjs-mobile {\\r\\n    max-height: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row.eqjs-mobile {\\r\\n    background-color: white;\\r\\n    border: 1px dotted lightgray;\\r\\n    border-radius: 4px;\\r\\n    margin-bottom: 4px;\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-colelement.eqjs-mobile, .eqjs-qc-colelement.eqjs-mobile > a {\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row.eqjs-mobile.active {\\r\\n    border: 1px solid #0099cc;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-column-buttonsBlock.eqjs-mobile {\\r\\n    top: 3px;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-column-button-menu {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-qc-expr-block.eqjs-mobile {\\r\\n    min-width: unset;\\r\\n    margin-left: 0;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-qc-button-placeholder {\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n}\\r\\n\\r\\n/* QueryPanel end */\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eqview.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eqview.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eqview.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/*setting to all page */\\r\\n#eqv-main{\\r\\n    width:1174px;\\r\\n    background: #fff;\\r\\n    margin:auto;\\r\\n    padding-top:10px;\\r\\n}\\r\\n\\r\\n/* error text */\\r\\n.eqv-error, .eqv-error div{\\r\\n    color: Red;\\r\\n    font: normal 20px Calibri;\\r\\n}\\r\\n\\r\\n/* title */\\r\\n.eqv-title{\\r\\n    float: left;\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAZCAYAAAAiwE4nAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABGlJREFUeNq8ln9MVWUYxz/n3HO5cIELXSAQhBIrYkCa9sMoQWskxVoauBzrj37YCsuwSTFnulHNRWtY/qxRjfXLdGpmaumYLIxkGmllkxANk4EhvwwvcOGec/qj57C7OyCYrWd7d86e8z7v97zP832+76tkbjrFKDYduB6IA+IDvv0JtAPngSYmYXXPpaEF+HKAh4C7gFQgdIzYAQGrA74G9k0U1AJMBd4HMicYFwLMkLEMOA48A5yYCOAcoHqc3UzEbgcaJP0Xx5uoAkOAl6s3ZSKTVOBnSc32qwCrB275t91ZKV0stXsaWA1kCXFmCUsdATGDwGVZ/FvgAHBwMqQZBp4X4NeBL4CdgEcy4ARiJGWdQJiU4JLfOpFAsrx3AK3jAeryHgtslNEtafpdgNsBQ3ZdB1RKTDbwAnAfECG+fqAW2ArsHQ3wmEzI8vO7gQdH+UEvUCHva23oZf2mk17Tjeq7jG3Y4/GZeqgrWM112m25hmm+A6wIBPwLKACKgZcB+zglmAk0Ai/Z0Mu6DDdhiqdpPttfyUuP8Mak5GfXnlW1PafaM9r7uubHu4KKdYMg6dURli4C3gW2SFrnAW8IIc6KlOnyvRFIA970mKE4FO+ut6LXzqmMWRa7MP6HUs22vigz7sWczwud32dOS9rTdtmLqlAka44A9gGPAC3C0n5gg0y6AZgKJAIrJaZEwaRTdzevcVc8OTd8d6XXuGajbyg8s+GPH0N2HN+c2trx2OpV2foZpyOqZtBnAJQI+VCFDEgqV0pN24CTUvTtwFJpBwWY22+GkGw/v+E2x4kcw3dtvoGCYZoERyUQk3IzB7oa8Abvznt0RuJPPf2GRa5ZVg2PALuA/IB6WVoJsAB4TVoiqtuIJCektjHR3rTEo8eB2YpiV7mjK4tbzxgQGkJysG3a7IS+iC2mDYlLsnYYBCwHnhX6MwY7reeAgomOqqEMdoOJGRSJ2nuUGz0+7OsPMbS4HNfO6sHhsPBB1JE1hizAPGn2emnem+QHPhXfOWl4mwQ1R6vd1Azck1vjefjDUK0VRXMxdKEBe+xepqxbhWN6FMxbcHJ/i06Y4gO4APxqAXYCd0rNtgEZcsatAB4Q4qQIgyuAjBDFS48Rsby8p9jZ60vID7WfI8w1jNr4CVFRm5n5VdW2ra78fYeONue5nRrAbuC0VUPDL3ULZViCvAjoBZYI2BQAHZWptjalzRdbvbj94/sLw3ekR2ud9xqGQ+F0z5GD7iT1UEv/R27bUJKmarphUu7f+PVAFfC4+HzA20KSNNHVuwNqeljHNtul9kVe1KOPlXWX7jRRvvknVilxdF4sjAnqQHNoGCYF/tzQRISfkFO7FHgPWAesAV4NAKoCykUAMkyUz1zqlXSXeqVA1MrvHqGdNUyKgf2jXTEQJamSfrNkzLJWOVG+9PP9IvV+SkQiRYj1G/CdCPzwWHca/JTesqXAdaJARQHHkb99IGNSl6jRrAc4LEfUJf4jU0zT5P+0vwcAmrRr/fBqUnkAAAAASUVORK5CYII=') no-repeat center left;\\r\\n    padding: 0 0 0 35px;\\r\\n    color: #3A94D4;\\r\\n    font: bold 25px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n/* sub-title*/\\r\\n.eqv-sub-title{\\r\\n    margin: 14px 0 0 10px;\\r\\n    float: left;\\r\\n    font: bold 11px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n\\tcolor: #3a94d4;\\t\\r\\n}\\r\\n\\r\\n/* header */\\r\\n.eqv-header{\\r\\n    display:block;\\r\\n    height:40px;\\r\\n}\\r\\n\\r\\n.eqv-global-message {\\r\\n    display: none;\\r\\n    background-color: coral;\\r\\n    border-radius: 10px;\\r\\n    color: white;\\r\\n    float: right;\\r\\n    padding: 5px 10px 8px;\\r\\n}\\r\\n\\r\\n.eqv-header-panel{\\r\\n    height: 494px;\\r\\n}\\r\\n.eqv-header-panel > div{\\r\\n    height: 494px;\\r\\n    margin: 0 0 20px 0;\\r\\n}\\r\\n\\r\\n/* content */\\r\\n#eqv-content{\\r\\n    background: #f6f6f6;\\r\\n    border:2px solid #dedede;\\r\\n    padding:20px;\\r\\n}\\r\\n\\r\\n.eqv-hr{\\r\\n    height: 6px;\\r\\n    border: none;\\r\\n    margin: 0 0;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-bottom-panel{\\r\\n    height : 313px;\\r\\n}\\r\\n\\r\\n.eqv-bottom-panel > div{\\r\\n    height : 287px;\\r\\n    margin: 0 0 20px 0;\\r\\n}\\r\\n\\r\\n/* central block */\\r\\n.eqv-central-block{\\r\\n    width: 59%;\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n/* copyright */\\r\\n#eqv-footer{\\r\\n    margin: 10px 0;\\r\\n    padding: 0 0 20px 0;\\r\\n    font: normal 12px Calibri;\\r\\n    color: #000;\\r\\n}\\r\\n\\r\\n.eqv-copyright{\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.eqv-power-by{\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.eqv-copyright a, .eqv-power-by a{\\r\\n    color: #237901;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/* entities panel */\\r\\n\\r\\n.eqv-entities-block{    \\r\\n    width: 20%;\\r\\n    float: left;\\r\\n    margin: 0 20px 0 0 !important;\\r\\n    background: #fff;\\r\\n    border: 1px solid silver;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqv-entities-hr{\\r\\n    background: #7BC4F8;\\r\\n}\\r\\n\\r\\n.eqv-entities-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #7BC4F8;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n.eqv-entities-panel-container {\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom: 0;\\r\\n    top:44px;\\r\\n}\\r\\n\\r\\n\\r\\n/* conditions block */\\r\\n.eqv-query-panel-container {\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom: 0;\\r\\n    top:44px;\\r\\n}\\r\\n\\r\\n.eqv-conditions-block{\\r\\n    background: white;\\r\\n    border: 1px solid silver;\\r\\n    height: 294px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqv-conditions-hr{\\r\\n    background: #1777B1;\\r\\n}\\r\\n\\r\\n.eqv-conditions-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #1777B1;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n/* columns block */\\r\\n.eqv-columns-block, .eqv-columns-sorting-block{\\r\\n    background: white;\\r\\n    border: 1px solid silver;\\r\\n    height: 180px;\\r\\n    margin: 0 0 20px 0;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqv-columns-sorting-block {\\r\\n    height: auto;\\r\\n    margin-top: -21px;\\r\\n}\\r\\n\\r\\n.eqv-columns-hr{\\r\\n    background: #1777B1;\\r\\n}\\r\\n\\r\\n.eqv-columns-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #1777B1;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n.eqv-columns-panel-container {\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom: 0;\\r\\n    top:44px;\\r\\n}\\r\\n\\r\\n.eqv-columns-sorting-title {\\r\\n    z-index: 1000;\\r\\n    position: absolute;\\r\\n    top: -12px;\\r\\n    left: 20px;\\r\\n    background-color: white;\\r\\n    padding: 0 10px 2px 10px;\\r\\n    border: 1px solid lightgrey;\\r\\n    border-radius: 7px;\\r\\n    font: normal 10pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n.eqv-columns-sorting-container {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n/* menu block */\\r\\n.eqv-menu-block{\\r\\n    width: 17%;\\r\\n    float: right;\\r\\n    background: #fff;\\r\\n    border: 1px solid silver;\\r\\n}\\r\\n\\r\\n.eqv-menu-hr{\\r\\n    background: #AE67DF;\\r\\n}\\r\\n\\r\\n.eqv-menu-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #1777B1;\\r\\n}\\r\\n\\r\\n.eqv-menu-content{\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n.eqv-menu-content div{\\r\\n    margin: 10px 0;\\r\\n}\\r\\n\\r\\n/* menu block - buttons */\\r\\n.eqv-button {\\r\\n    width: 100%;\\r\\n    border: solid 1px #AE67DF;\\r\\n    font-family: Segoe UI;\\r\\n    font-size: 15px;\\r\\n    color: #4F4F4F;\\r\\n    cursor: pointer;\\r\\n    padding: 3px 10px 3px 10px;\\r\\n    display: inline-block;\\r\\n    margin: 10px 0;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.eqv-button:hover {\\r\\n    background-color: #AE67DF;\\r\\n    color: white !important; \\r\\n}\\r\\n\\r\\n.eqv-button-execute {\\r\\n\\tborder-color: #237901;\\r\\n\\tmargin-top: 40px;\\r\\n}\\r\\n\\r\\n.eqv-button-execute:hover {\\r\\n\\tbackground-color: #237901;\\r\\n}\\r\\n\\r\\n/* sql panel */\\r\\n.eqv-sql-panel{\\r\\n    width: 25%;\\r\\n    border: 1px solid #C4D6E5;\\r\\n    background: white;\\r\\n    float: left;\\r\\n    position:relative;\\r\\n}\\r\\n\\r\\n.eqv-sql-panel-hr{\\r\\n    background: #A8ABAD;\\r\\n}\\r\\n\\r\\n.eqv-sql-panel-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #A8ABAD;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n/* sql panel - block */\\r\\n.eqv-sql-block{\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    overflow: auto;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 44px;\\r\\n}\\r\\n\\r\\n/* sql panel - result block */\\r\\n.eqv-sql-panel-result{\\r\\n    padding: 7px;\\r\\n    overflow-y: auto;\\r\\n    overflow-x: hidden;\\r\\n    font: normal 11px Verdana;\\r\\n}\\r\\n\\r\\n/* result panel */\\r\\n#eqv-ResultExportButtons {\\r\\n    display: none;\\r\\n    float: right;\\r\\n    margin-right: 5px;\\r\\n    margin-top: 3px;\\r\\n    font-size:12pt;\\r\\n    padding:4px;\\r\\n}\\r\\n\\r\\n.eqv-result-panel{\\r\\n    background: white;\\r\\n    position: relative;\\r\\n    border: 1px solid #C1D5E4;\\r\\n    width: 73%;\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-hr{\\r\\n    background: #237901;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-title{\\r\\n    border-bottom: 1px solid #237901;\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F8F7F7;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-title a {\\r\\n    font-family: Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    font-weight: bold;\\r\\n    font-size: 13px;\\r\\n    color: #333333;\\r\\n    text-decoration: none;\\r\\n    border-bottom: 1px dashed;\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-title a:hover {\\r\\n     color: #333333;\\r\\n     border-bottom: 1px solid;\\r\\n     text-decoration: none;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-result-panel-content{\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    overflow: hidden;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 44px;\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-content table{\\r\\n    font: normal 12px Calibri;\\r\\n\\tborder: solid 1px rgba(0,0,0,.125);\\r\\n}\\r\\n\\r\\n.eqv-result-panel-content table td{\\r\\n    padding: 5px;\\r\\n    color: #4F4F4F;\\r\\n    font: 10px Arial;\\r\\n    border-bottom: 1px solid #E4E4E4;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-error{\\r\\n    color: Red;\\r\\n    font: normal 20px Calibri;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.eqv-result-panel.loader{\\r\\n    background: url('data:image/gif;base64,R0lGODlhEAAQAPYAAP///wAAAPr6+pKSkoiIiO7u7sjIyNjY2J6engAAAI6OjsbGxjIyMlJSUuzs7KamppSUlPLy8oKCghwcHLKysqSkpJqamvT09Pj4+KioqM7OzkRERAwMDGBgYN7e3ujo6Ly8vCoqKjY2NkZGRtTU1MTExDw8PE5OTj4+PkhISNDQ0MrKylpaWrS0tOrq6nBwcKysrLi4uLq6ul5eXlxcXGJiYoaGhuDg4H5+fvz8/KKiohgYGCwsLFZWVgQEBFBQUMzMzDg4OFhYWBoaGvDw8NbW1pycnOLi4ubm5kBAQKqqqiQkJCAgIK6urnJyckpKSjQ0NGpqatLS0sDAwCYmJnx8fEJCQlRUVAoKCggICLCwsOTk5ExMTPb29ra2tmZmZmhoaNzc3KCgoBISEiIiIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCAAAACwAAAAAEAAQAAAHaIAAgoMgIiYlg4kACxIaACEJCSiKggYMCRselwkpghGJBJEcFgsjJyoAGBmfggcNEx0flBiKDhQFlIoCCA+5lAORFb4AJIihCRbDxQAFChAXw9HSqb60iREZ1omqrIPdJCTe0SWI09GBACH5BAkIAAAALAAAAAAQABAAAAdrgACCgwc0NTeDiYozCQkvOTo9GTmDKy8aFy+NOBA7CTswgywJDTIuEjYFIY0JNYMtKTEFiRU8Pjwygy4ws4owPyCKwsMAJSTEgiQlgsbIAMrO0dKDGMTViREZ14kYGRGK38nHguHEJcvTyIEAIfkECQgAAAAsAAAAABAAEAAAB2iAAIKDAggPg4iJAAMJCRUAJRIqiRGCBI0WQEEJJkWDERkYAAUKEBc4Po1GiKKJHkJDNEeKig4URLS0ICImJZAkuQAhjSi/wQyNKcGDCyMnk8u5rYrTgqDVghgZlYjcACTA1sslvtHRgQAh+QQJCAAAACwAAAAAEAAQAAAHZ4AAgoOEhYaCJSWHgxGDJCQARAtOUoQRGRiFD0kJUYWZhUhKT1OLhR8wBaaFBzQ1NwAlkIszCQkvsbOHL7Y4q4IuEjaqq0ZQD5+GEEsJTDCMmIUhtgk1lo6QFUwJVDKLiYJNUd6/hoEAIfkECQgAAAAsAAAAABAAEAAAB2iAAIKDhIWGgiUlh4MRgyQkjIURGRiGGBmNhJWHm4uen4ICCA+IkIsDCQkVACWmhwSpFqAABQoQF6ALTkWFnYMrVlhWvIKTlSAiJiVVPqlGhJkhqShHV1lCW4cMqSkAR1ofiwsjJyqGgQAh+QQJCAAAACwAAAAAEAAQAAAHZ4AAgoOEhYaCJSWHgxGDJCSMhREZGIYYGY2ElYebi56fhyWQniSKAKKfpaCLFlAPhl0gXYNGEwkhGYREUywag1wJwSkHNDU3D0kJYIMZQwk8MjPBLx9eXwuETVEyAC/BOKsuEjYFhoEAIfkECQgAAAAsAAAAABAAEAAAB2eAAIKDhIWGgiUlh4MRgyQkjIURGRiGGBmNhJWHm4ueICImip6CIQkJKJ4kigynKaqKCyMnKqSEK05StgAGQRxPYZaENqccFgIID4KXmQBhXFkzDgOnFYLNgltaSAAEpxa7BQoQF4aBACH5BAkIAAAALAAAAAAQABAAAAdogACCg4SFggJiPUqCJSWGgkZjCUwZACQkgxGEXAmdT4UYGZqCGWQ+IjKGGIUwPzGPhAc0NTewhDOdL7Ykji+dOLuOLhI2BbaFETICx4MlQitdqoUsCQ2vhKGjglNfU0SWmILaj43M5oEAOwAAAAAAAAAAAA==') no-repeat;\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n\\r\\n/* result grid */\\r\\n.eqv-result-grid {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\toverflow: auto;\\r\\n\\tflex: 100 1 auto;\\r\\n}\\r\\n\\r\\n.eqv-result-grid-header td{\\r\\n    font: bold 14px Calibri;\\r\\n    border-bottom: 1px solid silver !important;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-result-grid-header th{\\r\\n    background-color: #F6F6F6;\\r\\n    color: #4F4F4F;\\r\\n    height: 30px;\\r\\n    font: bold 11px Arial !important;\\r\\n    border-bottom: 1px solid #E4E4E4;\\r\\n    text-align: left;\\r\\n    padding-left: 4px;\\r\\n    padding-right: 4px;\\r\\n}\\r\\n\\r\\n.eqv-grid-panel {\\r\\n\\toverflow: auto;\\r\\n\\tflex-grow: 100;\\r\\n}\\r\\n\\r\\n.eqv-grid-panel.eqjs-mobile {\\r\\n\\toverflow: hidden;\\r\\n}\\r\\n\\r\\n/* chart */\\r\\n.eqv-chart-panel {\\r\\n    flex: 0 0 360px;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/* pagination */\\r\\n.pagination {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.eqv-pagination {\\r\\n    display: inline-block;\\r\\n    padding-left: 0;\\r\\n    margin: 0;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li {\\r\\n    display: inline;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li > a, .eqv-pagination > li > span {\\r\\n    font-size: 12px;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #ddd;\\r\\n    color: #428bca;\\r\\n    float: left;\\r\\n    line-height: 1.42857;\\r\\n    margin-left: -1px;\\r\\n    padding: 5px 10px;\\r\\n    position: relative;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li > a:hover, .eqv-pagination > li > span:hover, .eqv-pagination > li > a:focus, .eqv-pagination > li > span:focus {\\r\\n    background-color: #eee;\\r\\n    border-color: #ddd;\\r\\n    color: #2a6496;\\r\\n}\\r\\n\\r\\n.eqv-pagination > .active > a, .eqv-pagination > .active > span, .eqv-pagination > .active > a:hover, .eqv-pagination > .active > span:hover, .eqv-pagination > .active > a:focus, .eqv-pagination > .active > span:focus {\\r\\n    background-color: #428bca;\\r\\n    border-color: #428bca;\\r\\n    color: #fff;\\r\\n    cursor: default;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n.eqv-pagination > .disabled > span, .eqv-pagination > .disabled > span:hover, .eqv-pagination > .disabled > span:focus, .eqv-pagination > .disabled > a, .eqv-pagination > .disabled > a:hover, .eqv-pagination > .disabled > a:focus {\\r\\n    background-color: #fff;\\r\\n    border-color: #ddd;\\r\\n    color: #999;\\r\\n    cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li:first-child > a, .eqv-pagination > li:first-child > span {\\r\\n    border-bottom-left-radius: 3px;\\r\\n    border-top-left-radius: 3px;\\r\\n    margin-left: 0;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li:last-child > a, .eqv-pagination > li:last-child > span {\\r\\n    border-bottom-right-radius: 3px;\\r\\n    border-top-right-radius: 3px;\\r\\n}\\r\\n\\r\\n.eqv-export-buttons {\\r\\n    float: right;\\r\\n    margin-right: 5px;\\r\\n    margin-top: 3px;\\r\\n    font-size: 12pt;\\r\\n    padding: 4px;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-select {\\r\\n    font-size: 12px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n/* Dropdown button styles */\\r\\n\\r\\n.eqv-drop-button {\\r\\n    margin-top: 0 !important;\\r\\n    margin-bottom: 0 !important;\\r\\n}\\r\\n\\r\\n/* The container <div> - needed to position the dropdown content */\\r\\n.eqv-dropdown-container {\\r\\n    width: 100%;\\r\\n    position: relative;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n/* Dropdown Content (Hidden by Default) */\\r\\n.eqv-dropdown-content {\\r\\n    display: none;\\r\\n    position: absolute;\\r\\n    min-width: 160px;\\r\\n    z-index: 1;\\r\\n    border: 1px solid silver;\\r\\n    border-radius: 0 0 4px 4px;\\r\\n    padding: 6px 0;\\r\\n    box-shadow: 4px 8px 15px 0px rgba(0,0,0,.16);\\r\\n    margin-top: 0 !important;\\r\\n    background-color: white;\\r\\n\\tright: 0;\\r\\n}\\r\\n\\r\\n/* Links inside the dropdown */\\r\\n.eqv-dropdown-content a {\\r\\n    font-size: 0.9rem;\\r\\n    color: #333333;\\r\\n    padding: 5px 14px;\\r\\n    text-decoration: none;\\r\\n    display: block;\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n\\r\\n/* Change color of dropdown links on hover */\\r\\n.eqv-dropdown-content a:hover {\\r\\n    background-color: #ecf3f5;\\r\\n    color: #1776b1;\\r\\n}\\r\\n\\r\\n/* Show the dropdown menu (use JS to add this class to the .eqv-dropdown-content container when the user clicks on the dropdown button) */\\r\\n.eqv-dropdown-show {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n/* Dropdown button styles - END */\\r\\n\\r\\n\\r\\n/* Query Label Styles */\\r\\n.eqjs-query-name .eqjs-query-name-tooltip {\\r\\n    visibility: hidden;\\r\\n    background-color: white;\\r\\n    padding: 5px;\\r\\n   \\r\\n    /* Position the tooltip text */\\r\\n    position: absolute;\\r\\n    z-index: 1;    \\r\\n\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n.eqjs-query-name:hover .eqjs-query-name-tooltip {\\r\\n    visibility: visible;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-theme {\\r\\n    color: #7a10c3;\\r\\n    border-bottom: 1px solid silver;\\r\\n}\\r\\n\\r\\n/* Query Label Styles */\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easychart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easychart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easychart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/* EasyChart START */\\r\\n\\r\\n.eqjs-chart-header {\\r\\n    background-color: #DDD;\\r\\n    padding:4px;\\r\\n    font-size:10px;\\r\\n    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings {\\r\\n    background-color: #EEE;\\r\\n    padding:4px;\\r\\n    border: 1px solid #DDD;\\r\\n    font-size:14px;\\r\\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n    width: 100%;\\r\\n    min-height: 200px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings.sliding {\\r\\n    min-height: 0;\\r\\n}\\r\\n\\r\\n.eqjs-chart-main {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-header {\\r\\n    width: 100%;\\r\\n    font-size:20px;\\r\\n    font-weight: bold;\\r\\n    text-align: center;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-icon {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASCAYAAAAzI3woAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpCNDk0M0YwQTg1RTJFNjExOTZFREQxNTc2MzY0NDE3OCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RkI5QTQ1RkUzQUExMUU2ODAwN0Y1Q0FGN0NFOTJBRSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RkI5QTQ1RUUzQUExMUU2ODAwN0Y1Q0FGN0NFOTJBRSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCNDk0M0YwQTg1RTJFNjExOTZFREQxNTc2MzY0NDE3OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCNDk0M0YwQTg1RTJFNjExOTZFREQxNTc2MzY0NDE3OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlO9hMwAAAIySURBVHja7JbPS1RRFMdnxEVbFxWOEkomU60MWk0ZM4SVBkbayjGYGkJiEDMHNcowkQanAl3MIogGBQ0XFSLOlESgLQY3QaWJIS4EEfEPMCRf3wffB6frvc9ZzqIDH+65P96Zc88577zxWpblKSQp8hSYFDtKPB7X7Z8D89SbwFv1QDKZ/GfuTS3r7JwFC9RbwLh6wLrrN0aoEQxSPy3Wazg+ALfyuGwDSFA/KdbPODEAd4wREs68p14LfGLPdiIAguLZlwZnLoFpEeUjYi/My4U4PwRGTA5VKemS4lMcPOESneNCDyh7R4kj1W5F/RxkxPwVOAbKwAux/pUhN0lKRNqWMVDBCyXE+hKImVIW4m38nL8GUbF/H+yCblDOOpsDHxRnLoDzov4mwE2x3wt+g8egFDylnYwaoXfgCajkPK25+SjHwyzuSc2ZKTAgUupmpwT0gDe6lKkd0qsxpK7puupeHnaKTHbkxlXQCX5xHtUYus1xk6G/pjlzBXSAny52Ihy3wUNwXVdDX0gdwx3m7frBHxZxG89uKMUpJUeC7D/NTG0f2AH3QDvPbomepw1dF7gs5nZXXQGrwhmnuQ25vGUx9jRHbjBia8IZW07JHqRz6IfQZ+mMI+sgK+bfXRxaFPonkT4nuhnDb+5zKMuW/4ipk70nzfqwU9fK3mKSz+zWdrovKum1v2P1rLOI2u2LNcZmiC3fxLrzcXyW54f7I1GjmeM4rHvI+///0AHyV4ABAGIbcSD7TTsfAAAAAElFTkSuQmCC');\\r\\n    background-position: 0 0;\\r\\n    float: right;\\r\\n    cursor: pointer;\\r\\n    width: 18px;\\r\\n    height: 18px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-icon:hover {\\r\\n    background-position: -18px 0;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-single {\\r\\n    max-width: 100%;\\r\\n    margin: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-single span {\\r\\n    width: 30%;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-single select {\\r\\n    width: 60%;\\r\\n    font-size:12px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-no-data {\\r\\n    position: absolute;\\r\\n    left: 50%;\\r\\n    top: 30px;\\r\\n    -webkit-transform: translate(-50%, 0);\\r\\n    transform: translate(-50%, 0);\\r\\n    font-size: 20px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n/* EasyChart END */\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".eqjs-gp-table {\\r\\n    display: flex;\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n    flex-direction: column;\\r\\n    overflow-x: auto;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-head {\\r\\n    height: 50px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-body {\\r\\n    flex-grow: 1;\\r\\n    height: calc(100% - 50px);\\r\\n    width: 100%;\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-row {\\r\\n    display: flex;\\r\\n    min-height: 50px;\\r\\n    border-bottom: 1px solid grey;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-col {\\r\\n    display: flex;\\r\\n    flex: 1;\\r\\n    align-items:center;\\r\\n    justify-content:center;\\r\\n    min-width: 150px;\\r\\n    border-left: 1px solid grey;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-row .eqjs-gp-table-col:first-child {\\r\\n    flex: 0 0 50px;\\r\\n    min-width: 50px;\\r\\n    border-left: none;\\r\\n}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid-mobile.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid-mobile.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid-mobile.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyfacets.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyfacets.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyfacets.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".eqjs-facets-panel * {\\r\\n    outline: none;    \\r\\n}\\r\\n\\r\\n.eqjs-facets-header {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    flex-wrap: wrap-reverse;\\r\\n    border-bottom: 1px solid #9c9c9c;\\r\\n}\\r\\n\\r\\n.eqjs-facets-manage {\\r\\n    display: flex;\\r\\n    flex: 1 auto;\\r\\n    margin-bottom: 5px;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n\\r\\n.eqjs-facets-total-recs {\\r\\n    margin-right: 20px;\\r\\n    align-self: flex-end;\\r\\n}\\r\\n\\r\\n.eqjs-facets-tabs {\\r\\n    display: flex;\\r\\n    flex: 100 auto;\\r\\n}\\r\\n\\r\\n.eqjs-facets-body {\\r\\n    padding-top: 10px;\\r\\n    min-height: 200px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs {\\r\\n    margin: 0;\\r\\n    list-style: none;\\r\\n    padding-left: 0;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    flex: 0 auto;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs:before {\\r\\n    display: table;\\r\\n    content: ' ';\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li {\\r\\n    float: left;\\r\\n    margin-right: 3px;\\r\\n    margin-bottom: -1px;\\r\\n    position: relative;\\r\\n    display: flex;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 8px 8px 0 0;\\r\\n    background-color: #e2e1e1;\\r\\n    color: #181d1f;\\r\\n    padding: 3px 0;\\r\\n    margin-top: 5px;\\r\\n    height: 2em;\\r\\n    border-bottom: 1px solid #9c9c9c;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li.active {\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #9c9c9c;\\r\\n    border-bottom-color: transparent;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li:hover, .eqjs-facets-nav-tabs > li:focus-within {\\r\\n    cursor: pointer;\\r\\n    border-color: #0099CC;\\r\\n    border-bottom-color: transparent;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li.active:hover {\\r\\n    cursor: default;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li > a {\\r\\n    position: relative;\\r\\n    display: inline-block;\\r\\n    padding: 0 22px 0 10px;\\r\\n    text-decoration: none !important;\\r\\n    margin-right: 2px;\\r\\n    color: #181d1f;\\r\\n    align-self: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li:hover .eqjs-facet-close::before, .eqjs-facets-nav-tabs > li:focus .eqjs-facet-close::before, .eqjs-facets-nav-tabs > li.active .eqjs-facet-close::before {\\r\\n    content: \\\"\\\\1F7A9\\\";\\r\\n    font-size: 15px;\\r\\n    font-weight: 900;\\r\\n}\\r\\n\\r\\n.eqjs-facet-close {\\r\\n    position: absolute;\\r\\n    top: 3px;\\r\\n    right: 3px;\\r\\n    line-height: 10px;\\r\\n    color: #bababa;\\r\\n}\\r\\n\\r\\n.eqjs-facet .pivot-grid-totals-row .keg-row:last-child {\\r\\n    font-weight: 900;\\r\\n}\\r\\n\\r\\n.eqjs-facet-close:hover, .eqjs-facet-close:focus {\\r\\n    color: #d32727;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-facets-nav-tabs > li.active > .eqjs-facet-settings::before {\\r\\n    content: \\\"\\\\2261\\\";\\r\\n    font-size: 1.2em;\\r\\n    line-height: 1.2em;\\r\\n    font-weight: 900;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-facet-settings {\\r\\n    margin-left: 10px;\\r\\n    color: #acacac;\\r\\n}\\r\\n\\r\\n.eqjs-facet-settings:hover, .eqjs-facet-settings:focus {\\r\\n    color: #7a7a7a;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.eqjs-facets-spinner {\\r\\n    position: relative;\\r\\n    height: 200px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button {\\r\\n    margin: auto 10px;\\r\\n    height: 22px;\\r\\n    width: 22px;\\r\\n    flex: 0 0 auto;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button > a {\\r\\n    background: url(data:image/png;base64,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) no-repeat;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button > a:hover {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button > a:focus {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-facets-total-buttons {\\r\\n    align-self: flex-end;\\r\\n    max-height: 26px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button {\\r\\n    vertical-align: top;\\r\\n    border: 1px solid #dbdbdb;\\r\\n    border-radius: 4px;\\r\\n    box-shadow: none;\\r\\n    display: inline-flex;\\r\\n    height: 24px;\\r\\n    width: 24px;\\r\\n    padding: 0;\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n\\r\\n    background-color: #fff;\\r\\n    cursor: pointer;\\r\\n\\r\\n    -webkit-touch-callout:none;\\r\\n    -webkit-user-select:none;\\r\\n    -moz-user-select:none;\\r\\n    -ms-user-select:none;\\r\\n    user-select:none;\\r\\n    outline: 0;\\r\\n\\r\\n    opacity: 0.6;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:not(:last-child) {\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:hover {\\r\\n    border-color: #b5b5b5;\\r\\n    color: #363636;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:focus {\\r\\n    outline: none;\\r\\n    border-color: #3273dc;\\r\\n    color: #363636;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:active {\\r\\n    border-color: #4a4a4a;\\r\\n    color: #363636;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-refresh {\\r\\n    background:   url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABRElEQVQ4jY3SPUtbcRQG8F+SDi0UcejQQcVBaqBQcJA6hgo6GQS/g4U6iVCqUDhQBHEpDkoHv0MF0dnBgO6OQguNSynBqRTE2OH+Q29uEu2ZnsNznvNe0s/CDFbwFKvC975xKBWEsIkPuMRr4XqQGB4V/GVsJLz2kBjKueqPU3X4ieOHxN0JeINnCZ8J7Z7oMCG8GJTgVQ43+4iHcITDhEFJOMQ4nuc6+JXGaArzQhlfUU/8AZaEdhmfUc2JJVxNHNli6zl+Ee+h4sQ3NbeYLTT9SdgX5rCveHJqahqVBBuYwmQij/HWiTs1X3Aj29eTxLfwAy//ZQ3DOE+B0z0/EHbxLnnrwhbdf3CNBSwMeKCRHL7ogOJc/S27wpXsUi2MCr+7O7jf5pIYPnbE/5cge5rOObexl6fvHyGMYQd/sCucFkP+At9kRqAIrYjQAAAAAElFTkSuQmCC') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-export {\\r\\n    background:   url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAw0lEQVQ4jZ2QsQ6CMBRFD6YhzP4HxrgZXYijP9WfMkxs4CwJA5/gpCuTcfCBpbRFvFvfu/e8m0b4pFkDF3md0TxctigQLoCtTG7AyQWZAqbhXk7IKhBujU0rs0I8HgDkRjgz5pkByUOAF9AAGZq70ewukEY8XsAeSEfhMSQVzyBlmcJy7O0Gi6UG6tx1W/rboAJq9II2H28NVArYAQkQA51lvXoQMbABOuUx9JcOc2VMQLLgHxIX4Plz3GpQAsd/wkD5BtqYLERYDKv1AAAAAElFTkSuQmCC') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-maximize {\\r\\n    background:   url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAr0lEQVQ4jaWTwQ2DMAxFn1EPDMAyVTl1g94Yg7IIWyBVHKrORWfo7yWUyBKKK76UQ+z8/+3EMUkcwSlyyMw64ObCL0lTSMDhCjRABUxICi+gBwQswCwp1kJqowdG4A5cfomg85Cch7Sf1woi5DYnp1gHdFGBGmh38wXnumjgS3I97zp7ge1SNnIfuuBcIHvnENkLLP+SJVFls9IAb+BsZo80/0Wsk/gEPhGChx39zl8oCGZnXNzK6gAAAABJRU5ErkJggg==') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-restore {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAvklEQVQ4jaWTuw3CMBCGvz8lygA0rJIBKKMUDJABIhgH5mAAVknDBJT8FHlgmSg2cNLJOp3v870s2/wjxS9BklpJhyyApEpSH9gdcAZKAGyvKtAM1wzQAQa62Z8LWAr+FmDg+OHPANQBYNJ+8is1RkkbYB81/G77BrwBkipgG1x6Alfbj9UXglT7hVTrVIlFANrZFnAK+OlFixo2j2o8m2STl4JHOx8AtMQbNvSkSgFkm/FjlLYvyZojSe5BSl4yFEh5bRiMkwAAAABJRU5ErkJggg==') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-grid.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-grid.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-grid.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".keg-container * {\\r\\n    outline: none;    \\r\\n}\\r\\n\\r\\n\\r\\n.keg-container {\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.keg-header {\\r\\n    background-color: #f8f8f8;\\r\\n    border-bottom: 1px solid #babfc7;\\r\\n    overflow: hidden;\\r\\n\\r\\n}\\r\\n\\r\\n.keg-root {\\r\\n    font-family: \\\"Roboto\\\", Arial;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    border: 1px solid #babfc7;\\r\\n}\\r\\n\\r\\n.keg-body {\\r\\n/*\\r\\n    flex-grow: 1;\\r\\n    height: calc(100% - 50px);\\r\\n    width: 100%;\\r\\n*/    \\r\\n    overflow: hidden;\\r\\n\\r\\n    /* !!! temp */\\r\\n    /*height: 340px;*/\\r\\n}\\r\\n\\r\\n.keg-body-viewport {\\r\\n    overflow-x: auto;\\r\\n    overflow-y: auto;\\r\\n    height: 100%;\\r\\n    border: 1px solid transparent;\\r\\n}\\r\\n\\r\\n.keg-body-viewport:focus, .keg-body-viewport:focus-within {\\r\\n    border: 1px solid #838383;\\r\\n}\\r\\n\\r\\n.keg-header-row {\\r\\n    min-height: 30px;\\r\\n    display: flex;\\r\\n    font-size: 12px;\\r\\n    font-weight: 600;\\r\\n    color: rgba(0,0,0,.54);\\r\\n}\\r\\n\\r\\n.keg-row {\\r\\n    display: flex;\\r\\n    font-size: 12px;\\r\\n    background-color: #fff;\\r\\n    color: #181d1f;\\r\\n    outline: none;\\r\\n    border-color: #dde2eb;\\r\\n    border-width: 1px;\\r\\n    border-bottom-style: solid;\\r\\n    height: 26px;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.keg-row:not(.keg-row-active):not(.keg-row-totals):hover {\\r\\n    background-color: #fffae9;\\r\\n}\\r\\n\\r\\n.keg-row-odd {\\r\\n    background-color: #fcfcfc;\\r\\n}\\r\\n\\r\\n.keg-row-active {\\r\\n    background-color: #fff3cf;\\r\\n}\\r\\n\\r\\n.keg-cell, .keg-header-cell {\\r\\n    display: flex;\\r\\n/*\\r\\n    flex: 1;\\r\\n    min-width: 150px;\\r\\n*/\\r\\n}\\r\\n\\r\\n.keg-header-cell {\\r\\n    position: relative;\\r\\n    align-items: center;\\r\\n    padding: 2px 15px;\\r\\n}\\r\\n\\r\\n.keg-header-cell-resize {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    position: absolute;\\r\\n    z-index: 2;\\r\\n    height: 100%;\\r\\n    width: 8px;\\r\\n    top: 0;\\r\\n    /*cursor: ew-resize;*/\\r\\n    right: -4px;\\r\\n}\\r\\n\\r\\n.keg-header-cell-resize:after {\\r\\n    content: \\\"\\\";\\r\\n    position: absolute;\\r\\n    z-index: 1;\\r\\n    display: block;\\r\\n    left: calc(50% - 1px);\\r\\n    width: 2px;\\r\\n    height: 50%;\\r\\n    top: 25%;\\r\\n    background-color: rgba(186,191,199,.5);    \\r\\n}\\r\\n\\r\\n.keg-header-cell-label {\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    word-break: break-word;\\r\\n    -ms-word-wrap: break-word;\\r\\n}\\r\\n\\r\\n.keg-cell {\\r\\n    padding: 0 15px;\\r\\n    border-right-width: 1px;\\r\\n    border-right: solid transparent;\\r\\n    align-items: center;\\r\\n    height: 100%;\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n.keg-cell-value {\\r\\n    width: 100%;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n    max-height: 100%;\\r\\n}\\r\\n\\r\\n/*\\r\\n.keg-row .keg-cell:first-child, .keg-header-row .keg-header-cell:first-child {\\r\\n    flex: 0 0 55px;\\r\\n    min-width: 55px;\\r\\n}\\r\\n*/\\r\\n\\r\\n.keg-cell-align-left, .keg-cell-value-align-left {\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\n.keg-cell-align-right, .keg-cell-value-align-right {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n.keg-cell-align-center, .keg-cell-value-align-center {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.keg-cell-value-bool {\\r\\n    margin: 0 auto;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.keg-cell-value-true::before {\\r\\n    content: \\\"\\\";\\r\\n    color: #28a745;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.keg-cell-value-false::before {\\r\\n    content: \\\"\\\";\\r\\n    color: #dc3545;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.keg-addrow {\\r\\n    position: relative;\\r\\n    height: 23px;\\r\\n    width: 23px;\\r\\n}\\r\\n\\r\\n.keg-addrow a {\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.keg-addrow a:hover {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n/* Pagination */\\r\\n.keg-pagination {\\r\\n    display: inline-block;\\r\\n    padding-left: 0;\\r\\n    margin: 0;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.keg-page-item {\\r\\n    display: inline;\\r\\n}\\r\\n\\r\\n.keg-page-link {\\r\\n    font-size: 12px;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #ddd;\\r\\n    color: #428bca;\\r\\n    float: left;\\r\\n    line-height: 1.42857;\\r\\n    margin-left: -1px;\\r\\n    padding: 5px 10px;\\r\\n    position: relative;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.keg-page-link:hover, .keg-page-link:focus {\\r\\n    background-color: #eee;\\r\\n    border-color: #ddd;\\r\\n    color: #2a6496;\\r\\n    border-bottom: #ffd148 2px solid !important;\\r\\n}\\r\\n\\r\\n.keg-page-item.active > .keg-page-link, .keg-page-item.active > .keg-page-link:hover, .keg-page-item.active > .keg-page-link:focus {\\r\\n    background-color: #428bca;\\r\\n    border-color: #428bca;\\r\\n    color: #fff;\\r\\n    cursor: default;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n.keg-page-item.disabled > .keg-page-link, .keg-page-item.disabled > .keg-page-link:hover, .keg-page-item.disabled > .keg-page-link:focus {\\r\\n    background-color: #fff;\\r\\n    border-color: #ddd;\\r\\n    color: #999;\\r\\n    cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.keg-page-item:first-child > .keg-page-link {\\r\\n    border-bottom-left-radius: 3px;\\r\\n    border-top-left-radius: 3px;\\r\\n    margin-left: 0;\\r\\n}\\r\\n\\r\\n.keg-page-item:last-child > .keg-page-link {\\r\\n    border-bottom-right-radius: 3px;\\r\\n    border-top-right-radius: 3px;\\r\\n}\\r\\n\\r\\n.keg-footer {\\r\\n    display: flex;\\r\\n    /*justify-content: space-between;*/\\r\\n    margin-top: 5px;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.keg-page-info {\\r\\n    padding: 5px 10px;\\r\\n    font-size: 16px;\\r\\n    white-space: nowrap;\\r\\n    flex: 1 1 auto;\\r\\n    text-align: end;\\r\\n    color: rgba(0,0,0,.54);\\r\\n}\\r\\n\\r\\n.keg-page-info > span {\\r\\n    color: #212529;\\r\\n}\\r\\n\\r\\n.keg-row-totals {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.keg-totals-lv0 {\\r\\n    background-color: #ACE1AF;\\r\\n}\\r\\n\\r\\n.keg-totals-lv1 {\\r\\n    background-color: #D0F0C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv2 {\\r\\n    background-color: #D0F2C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv3 {\\r\\n    background-color: #D0F4C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv4 {\\r\\n    background-color: #D0F6C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv5 {\\r\\n    background-color: #D0F8C0;\\r\\n}\\r\\n\\r\\n.keg-sortable-helper {\\r\\n    background-color: white;\\r\\n    padding: 3px 20px;\\r\\n    border: 2px solid #fb9c2f;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-dialog.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-dialog.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-dialog.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".kdlg-modal, .kdlg-modal-background {\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n}\\r\\n\\r\\n.kdlg-modal-background {\\r\\n    background-color: rgba(10,10,10,0.5);\\r\\n}\\r\\n\\r\\n.kdlg-modal {\\r\\n    font-family: \\\"Roboto\\\", Arial;\\r\\n    font-size: 16px;\\r\\n    font-weight: 400;\\r\\n    line-height: 1.5;\\r\\n\\r\\n    align-items: center;\\r\\n    display: none;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    overflow: hidden;\\r\\n    position: fixed;\\r\\n    z-index: 9999999999;\\r\\n}\\r\\n\\r\\n.kdlg-modal.is-active {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n\\r\\n.kdlg-modal-window, .kdlg-modal-window.size-default {\\r\\n    margin: 0 20px;\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    max-height: calc(100vh - 40px);\\r\\n    overflow: hidden;\\r\\n    -ms-overflow-y: visible;    \\r\\n}\\r\\n\\r\\n@media screen and (min-width: 481px), print {\\r\\n    .kdlg-modal-window.size-small {\\r\\n        margin: 0 auto;\\r\\n        width: 400px;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 769px), print {\\r\\n    .kdlg-modal-window, .kdlg-modal-window.size-default {\\r\\n        margin: 0 auto;\\r\\n        width: 640px;\\r\\n    }\\r\\n\\r\\n    .kdlg-modal-window.size-large, .kdlg-modal-window.size-xl {\\r\\n        margin: 0 20px;\\r\\n        width: 100%;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 1025px), print {\\r\\n    .kdlg-modal-window.size-large {\\r\\n        margin: 0 auto;\\r\\n        width: 900px;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 1383px), print {\\r\\n    .kdlg-modal-window.size-xl {\\r\\n        margin: 0 auto;\\r\\n        width: 1200px;\\r\\n    }\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.kdlg-footer, .kdlg-header {\\r\\n    align-items: center;\\r\\n    /*background-color: #f5f5f5;*/\\r\\n    background-color: #fff;\\r\\n    display: flex;\\r\\n    flex-shrink: 0;\\r\\n    justify-content: flex-start;\\r\\n    padding: 20px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.kdlg-footer.align-right {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.kdlg-header {\\r\\n    border-top-left-radius: 6px;\\r\\n    border-top-right-radius: 6px;\\r\\n}\\r\\n\\r\\n.kdlg-header.has-border {\\r\\n    border-bottom: 1px solid #dbdbdb;\\r\\n}\\r\\n\\r\\n.kdlg-footer {\\r\\n    min-height: 10px;\\r\\n    border-bottom-left-radius: 6px;\\r\\n    border-bottom-right-radius: 6px;\\r\\n}\\r\\n\\r\\n.kdlg-footer.has-border {\\r\\n    border-top: 1px solid #dbdbdb;\\r\\n}\\r\\n\\r\\n.kdlg-header-title {\\r\\n    color: #363636;\\r\\n    flex-grow: 1;\\r\\n    flex-shrink: 0;\\r\\n    font-size: 1.6rem;\\r\\n    line-height: 1;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close {\\r\\n    -webkit-touch-callout: none;\\r\\n    -webkit-user-select: none;\\r\\n    -moz-user-select: none;\\r\\n    -ms-user-select: none;\\r\\n    user-select: none;\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n    background-color: rgba(10,10,10,.2);\\r\\n    border: none;\\r\\n    border-radius: 290486px;\\r\\n    cursor: pointer;\\r\\n    pointer-events: auto;\\r\\n    display: inline-block;\\r\\n    flex-grow: 0;\\r\\n    flex-shrink: 0;\\r\\n    font-size: 0;\\r\\n    height: 24px;\\r\\n    max-height: 24px;\\r\\n    max-width: 24px;\\r\\n    min-height: 24px;\\r\\n    min-width: 24px;\\r\\n    outline: 0;\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n    width: 24px;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close::before, .kdlg-modal-close::after {\\r\\n    background-color: #fff;\\r\\n    content: \\\"\\\";\\r\\n    display: block;\\r\\n    left: 50%;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    transform: translateX(-50%) translateY(-50%) rotate(45deg);\\r\\n    transform-origin: center center;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close::before {\\r\\n    height: 2px;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close::after {\\r\\n    height: 50%;\\r\\n    width: 2px;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close:focus, .kdlg-modal-close:hover {\\r\\n    background-color: rgba(255,1,1,.48);\\r\\n}\\r\\n\\r\\n\\r\\n.kdlg-body {\\r\\n    -webkit-overflow-scrolling: touch;\\r\\n    background-color: #fff;\\r\\n    flex-grow: 1;\\r\\n    flex-shrink: 1;\\r\\n    overflow: auto;\\r\\n    padding: 20px;\\r\\n    font-size: 1em;\\r\\n    color: #4a4a4a;\\r\\n}\\r\\n\\r\\n\\r\\n/** alerts start **/\\r\\n\\r\\n.kdlg-alert-container {\\r\\n    max-height: 150px;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n.kdlg-alert {\\r\\n    padding: 20px;\\r\\n    background-color: #e2f5ff;\\r\\n    color: #004aef;\\r\\n}\\r\\n\\r\\n.kdlg-alert.success {\\r\\n    color: #0c7905;\\r\\n    background-color: #efffe6;\\r\\n}\\r\\n\\r\\n.kdlg-alert.warning {\\r\\n    color: #e49e02;\\r\\n    background-color: #fff7e5;\\r\\n}\\r\\n\\r\\n.kdlg-alert.error {\\r\\n    color: red;\\r\\n    background-color: #ffe2e2;\\r\\n}\\r\\n\\r\\n.kdlg-alert-closebtn {\\r\\n    margin-left: 15px;\\r\\n    float: right;\\r\\n    font-size: 22px;\\r\\n    line-height: 20px;\\r\\n    cursor: pointer;\\r\\n    transition: 0.3s;\\r\\n}\\r\\n\\r\\n/** alerts end **/\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-forms.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-forms.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-forms.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/* BUTTONS */\\r\\n\\r\\n.kfrm-buttons {\\r\\n    align-items: center;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: flex-start;\\r\\n}\\r\\n\\r\\n.kfrm-buttons.align-right {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.kfrm-buttons.align-center {\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.kfrm-buttons:last-child {\\r\\n    margin-bottom: -.5rem;\\r\\n}\\r\\n\\r\\n.kfrm-buttons .kfrm-button {\\r\\n    margin-bottom: .5rem;\\r\\n}\\r\\n\\r\\n.kfrm-button {\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n    line-height: 1.5;\\r\\n    align-items: center;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 4px;\\r\\n    box-shadow: none;\\r\\n    display: inline-flex;\\r\\n    font-size: 1rem;\\r\\n    height: 2.5em;\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n\\r\\n\\r\\n    background-color: #fff;\\r\\n    border-color: #dbdbdb;\\r\\n    border-width: 1px;\\r\\n    color: #363636;\\r\\n    cursor: pointer;\\r\\n    justify-content: center;\\r\\n    padding-bottom: calc(.5em - 1px);\\r\\n    padding-left: 1em;\\r\\n    padding-right: 1em;\\r\\n    padding-top: calc(.5em - 1px);\\r\\n    text-align: center;\\r\\n    white-space: nowrap;\\r\\n\\r\\n    -webkit-touch-callout:none;\\r\\n    -webkit-user-select:none;\\r\\n    -moz-user-select:none;\\r\\n    -ms-user-select:none;\\r\\n    user-select:none\\r\\n}\\r\\n\\r\\n.kfrm-button:not(:last-child) {\\r\\n    margin-right: .5em;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-hovered, .kfrm-button:hover {\\r\\n    border-color: #b5b5b5;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-focused, .kfrm-button:focus {\\r\\n    outline: none;\\r\\n    border-color: #3273dc;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-focused:not(:active), .kfrm-button:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-active, .kfrm-button:active {\\r\\n    border-color: #4a4a4a;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.kfrm-button[disabled], fieldset[disabled] .kfrm-button {\\r\\n    background-color: #fff;\\r\\n    border-color: #dbdbdb;\\r\\n    box-shadow: none;\\r\\n    opacity: .5;\\r\\n    cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-loading {\\r\\n    color: transparent!important;\\r\\n    pointer-events: none;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-loading::after {\\r\\n    -webkit-animation:spinAround .5s infinite linear;\\r\\n    animation:spinAround .5s infinite linear;\\r\\n    border:2px solid #dbdbdb;\\r\\n    border-radius:290486px;\\r\\n    border-right-color:transparent;\\r\\n    border-top-color:transparent;\\r\\n    content:\\\"\\\";\\r\\n    display:block;\\r\\n    height:1em;\\r\\n    width:1em;\\r\\n\\r\\n    left: calc(50% - (1em / 2));\\r\\n    top: calc(50% - (1em / 2));\\r\\n    position: absolute!important;\\r\\n}\\r\\n\\r\\n@keyframes spinAround {\\r\\n    from {\\r\\n        transform:rotate(0deg);\\r\\n    }\\r\\n    to {\\r\\n        transform:rotate(360deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n/* SIZES */\\r\\n\\r\\n.kfrm-button.size-small,\\r\\n.kfrm-buttons.size-small .kfrm-button:not(.size-default):not(.size-medium):not(.size-large) {\\r\\n    border-radius: 2px;\\r\\n    font-size: .75rem;\\r\\n}\\r\\n\\r\\n.kfrm-button.size-default\\r\\n.kfrm-buttons.size-default .kfrm-button:not(.size-small):not(.size-medium):not(.size-large) {\\r\\n    font-size: 1rem;\\r\\n}\\r\\n\\r\\n.kfrm-button.size-medium,\\r\\n.kfrm-buttons.size-medium .kfrm-button:not(.size-small):not(.size-default):not(.size-large) {\\r\\n    font-size: 1.25rem;\\r\\n}\\r\\n\\r\\n.kfrm-button.size-large\\r\\n.kfrm-buttons.size-large .kfrm-button:not(.size-small):not(.size-default):not(.size-medium) {\\r\\n    font-size: 1.5rem;\\r\\n}\\r\\n\\r\\n/* SIZES END */\\r\\n\\r\\n\\r\\n\\r\\n/* COLORS */\\r\\n\\r\\n/* white */\\r\\n.kfrm-button.is-white {\\r\\n    background-color: #fff;\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-hovered, .kfrm-button.is-white:hover {\\r\\n    background-color: #f9f9f9;\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-focused, .kfrm-button.is-white:focus {\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-focused:not(:active), .kfrm-button.is-white:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(150,150,150,.15);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-active, .kfrm-button.is-white:active {\\r\\n    background-color: #f2f2f2;\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n/* dark */\\r\\n\\r\\n.kfrm-button.is-dark {\\r\\n    background-color: #363636e6;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-hovered, .kfrm-button.is-dark:hover {\\r\\n    background-color: #2f2f2f;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-focused, .kfrm-button.is-dark:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-focused:not(:active), .kfrm-button.is-dark:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(54,54,54,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-active, .kfrm-button.is-dark:active {\\r\\n    background-color: #292929;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n/* primary */\\r\\n\\r\\n.kfrm-button.is-primary {\\r\\n    background-color: #00d1b2;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-hovered, .kfrm-button.is-primary:hover {\\r\\n    background-color: #00c4a7;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-focused, .kfrm-button.is-primary:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-focused:not(:active), .kfrm-button.is-primary:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(0,209,178,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-active, .kfrm-button.is-primary:active {\\r\\n    background-color: #00b89c;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* link */\\r\\n\\r\\n.kfrm-button.is-link {\\r\\n    background-color: #3273dc;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-hovered, .kfrm-button.is-link:hover {\\r\\n    background-color: #276cda;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-focused, .kfrm-button.is-link:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-focused:not(:active), .kfrm-button.is-link:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-active, .kfrm-button.is-link:active {\\r\\n    background-color: #2366d1;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* info */\\r\\n\\r\\n.kfrm-button.is-info {\\r\\n    background-color: #3298dc;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-hovered, .kfrm-button.is-info:hover {\\r\\n    background-color: #2793da;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-focused, .kfrm-button.is-info:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-focused:not(:active), .kfrm-button.is-info:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,152,220,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-active, .kfrm-button.is-info:active {\\r\\n    background-color: #238cd1;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* success */\\r\\n\\r\\n.kfrm-button.is-success {\\r\\n    background-color: #48c774;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-hovered, .kfrm-button.is-success:hover {\\r\\n    background-color: #3ec46d;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-focused:not(:active), .kfrm-button.is-success:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(72,199,116,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-active, .kfrm-button.is-success:active {\\r\\n    background-color: #3abb67;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* warning */\\r\\n\\r\\n.kfrm-button.is-warning {\\r\\n    background-color: #ffdd57;\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-hovered, .kfrm-button.is-warning:hover {\\r\\n    background-color: #ffdb4a;\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-focused, .kfrm-button.is-warning:focus {\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-focused:not(:active), .kfrm-button.is-warning:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(255,221,87,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-active, .kfrm-button.is-warning:active {\\r\\n    background-color: #ffd83d;\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-loading::after {\\r\\n    border-color: transparent transparent rgba(0,0,0,.7) rgba(0,0,0,.7)!important;\\r\\n}\\r\\n\\r\\n/* danger */\\r\\n\\r\\n.kfrm-button.is-danger {\\r\\n    background-color: #f14668;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-hovered, .kfrm-button.is-danger:hover {\\r\\n    background-color: #f03a5f;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-focused, .kfrm-button.is-danger:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-focused:not(:active), .kfrm-button.is-danger:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(241,70,104,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-active, .kfrm-button.is-danger:active {\\r\\n    background-color: #ef2e55;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* COLORS END */\\r\\n\\r\\n\\r\\n/* BUTTONS END *//* COLUMNS */\\r\\n\\r\\n.kfrm-row {\\r\\n    margin-left: -.75rem;\\r\\n    margin-right: -.75rem;\\r\\n    margin-top: -.75rem;\\r\\n}\\r\\n\\r\\n.kfrm-row:not(:last-child) {\\r\\n    margin-bottom: calc(1.5rem - .75rem);\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 769px), print {\\r\\n    .kfrm-row {\\r\\n        display: flex;\\r\\n        flex-wrap: wrap;\\r\\n    }\\r\\n\\r\\n    .kdlg-modal-window.size-small .kfrm-row {\\r\\n        display: block;\\r\\n    }\\r\\n\\r\\n\\r\\n    /* 12 columns grid */\\r\\n    .kfrm-column.size-1 {\\r\\n        flex: none;\\r\\n        width: 8.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-2 {\\r\\n        flex: none;\\r\\n        width: 16.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-3 {\\r\\n        flex: none;\\r\\n        width: 25%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-4 {\\r\\n        flex: none;\\r\\n        width: 33.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-5 {\\r\\n        flex: none;\\r\\n        width: 41.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-6 {\\r\\n        flex: none;\\r\\n        width: 50%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-7 {\\r\\n        flex: none;\\r\\n        width: 58.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-8 {\\r\\n        flex: none;\\r\\n        width: 66.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-9 {\\r\\n        flex: none;\\r\\n        width: 75%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-10 {\\r\\n        flex: none;\\r\\n        width: 83.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-11 {\\r\\n        flex: none;\\r\\n        width: 91.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-12 {\\r\\n        flex: none;\\r\\n        width: 100%;\\r\\n    }\\r\\n\\r\\n\\r\\n\\r\\n}\\r\\n\\r\\n.kfrm-column {\\r\\n    display: block;\\r\\n    flex-basis: 0;\\r\\n    flex-grow: 1;\\r\\n    flex-shrink: 1;\\r\\n    padding: .75rem;\\r\\n}\\r\\n\\r\\n/* COLUMNS END */\\r\\n\\r\\n/* CONTROLS */\\r\\n\\r\\n.kfrm-form .errors-block {\\r\\n    color: red;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-form .control {\\r\\n    box-sizing: border-box;\\r\\n    clear: both;\\r\\n    position: relative;\\r\\n    text-align: inherit;\\r\\n    display: inline-flex;\\r\\n    width: 100%;\\r\\n    max-width: 100%;\\r\\n    padding: 0 !important;\\r\\n}\\r\\n\\r\\n.kfrm-form .icon {\\r\\n    align-items: center;\\r\\n    display: inline-flex;\\r\\n    justify-content: center;\\r\\n    height: 1.5em;\\r\\n    width: 1.5em;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-left input, .kfrm-form .control.has-icons-left .select select {\\r\\n    padding-left: 2.5em;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-right input, .kfrm-form .control.has-icons-right .select select {\\r\\n    padding-right: 2.5em;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-left .icon.is-left {\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-right .icon.is-right {\\r\\n    right: 0;\\r\\n}\\r\\n\\r\\n.kfrm-form .control .icon {\\r\\n    color: #dbdbdb;\\r\\n    height: 2.5em;\\r\\n    pointer-events: none;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    width: 2.5em;\\r\\n    z-index: 4;\\r\\n}\\r\\n\\r\\n.kfrm-form .control .icon.is-clickable {\\r\\n    pointer-events: auto;\\r\\n}\\r\\n\\r\\n/*\\r\\n.kfrm-form .control input:focus~.icon, .kfrm-form .control .select:focus~.icon {\\r\\n    color: #4a4a4a;\\r\\n}\\r\\n*/\\r\\n\\r\\n.kfrm-form .control .icon.is-clickable:hover {\\r\\n    color: #4a4a4a;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-form input.is-valid:not([type='checkbox']),\\r\\n.kfrm-form input.is-valid:not([type='checkbox']):hover {\\r\\n    border-color: green;\\r\\n}\\r\\n\\r\\n.kfrm-form input.is-invalid:not([type='checkbox']),\\r\\n.kfrm-form input.is-invalid:not([type='checkbox']):hover {\\r\\n    border-color: red;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']):read-only {\\r\\n    background-color: #e9ecef;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']), .kfrm-select select, .kfrm-form textarea {\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n    align-items: center;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 4px;\\r\\n    box-shadow: none;\\r\\n    display: inline-flex;\\r\\n    font-size: 1em;\\r\\n    height: 2.5em;\\r\\n    justify-content: flex-start;\\r\\n    line-height: 1.5;\\r\\n    padding-bottom: calc(.5em - 1px);\\r\\n    padding-left: calc(.75em - 1px);\\r\\n    padding-right: calc(.75em - 1px);\\r\\n    padding-top: calc(.5em - 1px);\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']), .kfrm-select select, .kfrm-form textarea {\\r\\n    background-color: #fff;\\r\\n    border-color: #dbdbdb;\\r\\n    border-radius: 4px;\\r\\n    color: #363636;\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']), .kfrm-form textarea {\\r\\n    box-shadow: inset 0 0.0625em 0.125em rgba(10,10,10,.05);\\r\\n    max-width: 100%;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']):hover, .kfrm-form input:not([type='checkbox']).is-hovered, .kfrm-form textarea:hover, .kfrm-form textarea.is-hovered, .kfrm-select select:hover, .kfrm-select select.is-hovered {\\r\\n    border-color: #b5b5b5;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']):active, .kfrm-form input:not([type='checkbox']).is-active, .kfrm-form textarea:active, .kfrm-form textarea.is-active, .kfrm-select select:active, .kfrm-select select.is-active, \\r\\n.kfrm-form input:not([type='checkbox']):focus, .kfrm-form input:not([type='checkbox']).is-focused, .kfrm-form textarea:focus, .kfrm-form textarea.is-focused, .kfrm-select select:focus, .kfrm-select select.is-focused {\\r\\n    border-color: #3273dc;\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-select {\\r\\n    display: inline-block;\\r\\n    max-width: 100%;\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n    padding: 0;\\r\\n    width: max-content;\\r\\n}\\r\\n\\r\\n.kfrm-select select::-ms-expand {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n.kfrm-select:not(.is-multiple) {\\r\\n    height: 2.5em;\\r\\n}\\r\\n\\r\\n.kfrm-select select {\\r\\n    cursor: pointer;\\r\\n    display: block;\\r\\n    font-size: 1em;\\r\\n    max-width: 100%;\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.kfrm-select select:not([multiple]) {\\r\\n    padding-right: 2.5em;\\r\\n}\\r\\n\\r\\n .kfrm-select:not(.is-multiple):not(.is-loading)::after {\\r\\n    border: 3px solid #3273dc;\\r\\n    border-radius: 2px;\\r\\n    border-right: 0;\\r\\n    border-top: 0;\\r\\n    content: \\\" \\\";\\r\\n    display: block;\\r\\n    height: .425em;\\r\\n    margin-top: -.5em;\\r\\n    pointer-events: none;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    transform: rotate(-45deg);\\r\\n    transform-origin: center;\\r\\n    width: .425em;\\r\\n    right: .7em;\\r\\n    z-index: 4;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-form textarea {\\r\\n    display: block;\\r\\n    max-width: 100%;\\r\\n    min-width: 100%;\\r\\n    padding: calc(.75em - 1px);\\r\\n    resize: vertical;\\r\\n}\\r\\n\\r\\n.kfrm-form textarea:not([rows]) {\\r\\n    max-height: 40em;\\r\\n    min-height: 8em;\\r\\n}\\r\\n\\r\\n/* CONTROLS END */\\r\\n\\r\\n/* FORMS */\\r\\n.kfrm-form {\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.kfrm-form fieldset {\\r\\n    border: 1px solid #dbdbdb;\\r\\n    border-radius: 6px;\\r\\n    padding: 20px;\\r\\n}\\r\\n\\r\\n.kfrm-form fieldset > legend {\\r\\n    padding-inline-start: 10px;\\r\\n    padding-inline-end: 10px;\\r\\n    font-weight: 600;\\r\\n    width: auto;\\r\\n    font-size: 16px;\\r\\n    margin-bottom: 0;\\r\\n}\\r\\n\\r\\n.kfrm-break, .kfrm-break-50 {\\r\\n    margin-top: 50px;\\r\\n}\\r\\n\\r\\n.kfrm-break-10 {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n.kfrm-break-20 {\\r\\n    margin-top: 20px;\\r\\n}\\r\\n\\r\\n.kfrm-break-30 {\\r\\n    margin-top: 30px;\\r\\n}\\r\\n\\r\\n.kfrm-break-40 {\\r\\n    margin-top: 40px;\\r\\n}\\r\\n\\r\\n.kfrm-break-60 {\\r\\n    margin-top: 60px;\\r\\n}\\r\\n\\r\\n.kfrm-break-70 {\\r\\n    margin-top: 70px;\\r\\n}\\r\\n\\r\\n.kfrm-break-80 {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-fields, .kfrm-fields.col-a {\\r\\n    display: grid;\\r\\n    grid-template-columns: auto;\\r\\n    grid-gap: 10px;\\r\\n    grid-auto-rows: auto;\\r\\n}\\r\\n\\r\\n.kfrm-fields:not(:last-child) {\\r\\n    margin-bottom: calc(1.5rem - .75rem);\\r\\n}\\r\\n\\r\\n.kfrm-fields > label {\\r\\n    padding: .5em 0;\\r\\n}\\r\\n\\r\\nfieldset .kfrm-fields > label {\\r\\n    padding: 0;\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.kfrm-fields > label:not(.checkbox) {\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.kfrm-fields.label-above > label:not(.checkbox) {\\r\\n    padding: 0.5em 0 0 0;\\r\\n    margin-bottom: -0.5em;\\r\\n}\\r\\n\\r\\n.kfrm-fields.label-align-right > label:not(.checkbox) {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-a-1 {\\r\\n    grid-template-columns: auto 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-a {\\r\\n    grid-template-columns: 1fr auto;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-a-a {\\r\\n    grid-template-columns: auto auto;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-1 {\\r\\n    grid-template-columns: 1fr 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-2 {\\r\\n    grid-template-columns: 1fr 2fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-3 {\\r\\n    grid-template-columns: 1fr 3fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-2-1 {\\r\\n    grid-template-columns: 2fr 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-3-1 {\\r\\n    grid-template-columns: 3fr 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-2-3 {\\r\\n    grid-template-columns: 2fr 3fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-3-2 {\\r\\n    grid-template-columns: 3fr 2fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal {\\r\\n    display: flex;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal.align-right {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal.align-center {\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal.align-evenly {\\r\\n    justify-content: space-evenly;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal > label:not(:first-child) {\\r\\n    margin-left: .5rem;\\r\\n}\\r\\n\\r\\n/* IE */\\r\\n.kfrm-fields-ie {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    font-size: 16px;\\r\\n  }\\r\\n\\r\\n.kfrm-field-ie {\\r\\n    display: flex;\\r\\n    margin-bottom: 1em;\\r\\n}\\r\\n\\r\\n/*  \\r\\n  .kfrm-field-ie > * {\\r\\n      font-size: 16px;\\r\\n  }\\r\\n*/\\r\\n\\r\\n.kfrm-field-ie > *:nth-child(1) {\\r\\n    margin-right: 20px;\\r\\n}\\r\\n\\r\\n.kfrm-field-ie > label {\\r\\n    padding: .5em 0;\\r\\n}\\r\\n\\r\\n/*\\r\\n  .kfrm-field-ie > *:nth-child(2):not(.kfrm-select):not(.kfrm-fields-ie) {\\r\\n    padding: .5em;\\r\\n  }\\r\\n*/\\r\\n  .kfrm-fields-ie.col-ie-1-1 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 50%;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.col-ie-1-2 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 33.3333%;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.col-ie-1-3 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 25%;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.col-ie-1-4 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 20%;\\r\\n  }\\r\\n\\r\\n\\r\\n  .kfrm-fields-ie.label-align-right .kfrm-field-ie > *:nth-child(1) {\\r\\n    text-align: right;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.label-above .kfrm-field-ie > *:nth-child(1):not(.checkbox) {\\r\\n      padding: 0.5em 0 0 0;\\r\\n      margin-bottom: -0.5em;\\r\\n  }\\r\\n\\r\\n  .kfrm-field-ie > label:not(.checkbox), .kfrm-fields-ie > label:not(.checkbox) {\\r\\n      font-weight: 600;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.is-horizontal {\\r\\n    display: flex;\\r\\n    padding: 0 !important;\\r\\n    flex-direction: row;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.kfrm-fields-ie.is-horizontal > *:not(.kfrm-select) {\\r\\n    padding: .5em;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.is-horizontal > *:not(:first-child) {\\r\\n    margin-left: 1em;\\r\\n  }\\r\\n\\r\\n.kfrm-fields-ie > label {\\r\\n    padding-left: 0 !important;\\r\\n    padding-right: 0 !important;\\r\\n}\\r\\n\\r\\n\\r\\n/* FORMS END */\\r\\n/* DATETIME STARTS */\\r\\n.kdtp {\\r\\n    border: 1px solid silver;\\r\\n    background-color: white;\\r\\n    box-shadow: 4px 8px 15px 0px rgba(0,0,0,.16);\\r\\n    border-radius: 8px;\\r\\n    overflow: hidden;    \\r\\n    z-index: 100000;\\r\\n    outline: none;\\r\\n    font-size: 0.7rem;\\r\\n}\\r\\n\\r\\n.kdtp-buttons {\\r\\n    margin-top: 1em;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n\\r\\n.kdtp-button {\\r\\n    height: 2.5em;\\r\\n    flex: 1;\\r\\n    background-color: #0099CC;\\r\\n    border: none;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    text-decoration: none;\\r\\n    cursor: pointer;    \\r\\n    font-weight: 500;\\r\\n}\\r\\n\\r\\n.kdtp-button:focus, .kdtp-button:active {\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.kdtp-button-now {\\r\\n    border: none;\\r\\n    background-color: white;\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.kdtp-button:nth-child(2) {\\r\\n    border-top-left-radius: 8px;\\r\\n}\\r\\n\\r\\n.kdtp-button:not(:first-child) {\\r\\n    margin-left: 2px;\\r\\n}\\r\\n\\r\\n.kdtp-cal {\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.kdtp-cal * {\\r\\n    outline: none !important;\\r\\n}\\r\\n\\r\\n.kdtp-cal-body {\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n    -ms-grid-columns: minmax(1em, 1fr) 5px minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr);\\r\\n    grid-template-columns: repeat(7, minmax(1em, 1fr));\\r\\n    grid-gap: 0.5em;\\r\\n    -webkit-box-sizing: border-box;\\r\\n\\tbox-sizing: border-box;\\r\\n    padding: 0 12px;\\r\\n    -ms-grid-rows: 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr;\\r\\n}\\r\\n\\r\\n.kdtp-cal-body > *:nth-child(1) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(2) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(3) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(4) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(5) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(6) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(7) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(8) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(9) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(10) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(11) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(12) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(13) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(14) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(15) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(16) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(17) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(18) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(19) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(20) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(21) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(22) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(23) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(24) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(25) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(26) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(27) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(28) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(29) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(30) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(31) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(32) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(33) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(34) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(35) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(36) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(37) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(38) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(39) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(40) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(41) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(42) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(43) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(44) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(45) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(46) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(47) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(48) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(49) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n\\r\\n.kdtp-cal-header-input {\\r\\n    width: 100%;\\r\\n    width: -moz-available;          /* WebKit-based browsers will ignore this. */\\r\\n    width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */\\r\\n    width: fill-available;\\r\\n    height: 100%;\\r\\n    height: -moz-available;          /* WebKit-based browsers will ignore this. */\\r\\n    height: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */\\r\\n    height: fill-available;\\r\\n\\r\\n    font-size: 1em;\\r\\n    padding: 2px 5px;\\r\\n    border: 1px solid silver;\\r\\n    outline: none;\\r\\n    background: #fff;\\r\\n    color: #262626;\\r\\n}\\r\\n\\r\\n.kdtp-cal-header-input.error {\\r\\n    border-color: red;\\r\\n}\\r\\n\\r\\n.kdtp-cal-header {\\r\\n    background-color: #0099CC;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    font-size: 1.2em;\\r\\n    font-weight: 600;\\r\\n    height: 2em;\\r\\n    line-height: 2em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav {\\r\\n    display: flex;\\r\\n    padding: 0;\\r\\n    margin: 0.7em 0;\\r\\n    line-height: 1em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-prev, .kdtp-cal-nav-next {\\r\\n    flex: 0 0 auto;\\r\\n    font-size: 3em;\\r\\n    font-weight: 600;\\r\\n    width: 1em;\\r\\n    color: #777777;\\r\\n    text-align: center;    \\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-prev:hover, .kdtp-cal-nav-next:hover {\\r\\n    cursor: pointer;\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors {\\r\\n    flex: 1 1 auto;\\r\\n    display: flex;\\r\\n    margin: 0 0.5em;\\r\\n    font-size: 1.2em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-month {\\r\\n    flex: 1 1 auto;\\r\\n    margin-right: 0.5em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-year {\\r\\n    flex: 0 0 auto;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors select {\\r\\n    border: none;\\r\\n    color: #777777;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors select:hover {\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors select:hover option {\\r\\n    color: #777777;\\r\\n}\\r\\n\\r\\n.kdtp-cal-weekday {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    height: 1.8em;\\r\\n    font-weight: 600;\\r\\n\\tfont-size: 0.8em;\\r\\n    color: #262626;\\r\\n}\\r\\n\\r\\n.kdtp-cal-weekday.kdtp-cal-weekend {\\r\\n    color: #ff685d;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day, .kdtp-cal-day-empty {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    height: 1.5em;\\r\\n    color: #262626;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day.kdtp-cal-weekend {\\r\\n    color: #ff685d;\\r\\n    font-weight: 700;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day:hover, .kdtp-cal-day-selected {\\r\\n    border: 2px solid #0099CC;\\r\\n    font-weight: 700;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day-current {\\r\\n    background-color: lightgray;\\r\\n}\\r\\n\\r\\n.kdtp-tp {\\r\\n    display: flex;\\r\\n    display:-webkit-flex;\\r\\n    display:-ms-flexbox;\\r\\n    align-items: center;\\r\\n    -webkit-align-items:center;\\r\\n    -ms-flex-align:center;\\r\\n    margin-top: 1em;\\r\\n    padding: 0 1em;\\r\\n}\\r\\n\\r\\n.kdtp-tp-time {\\r\\n    flex: 0 0 5em;\\r\\n    -webkit-flex: 0 0 5em;\\r\\n    -ms-flex: 0 0 5em;\\r\\n    text-align: center;\\r\\n    font-weight: 600;\\r\\n    color: #777777;\\r\\n    border: 2px solid #0099CC;\\r\\n    border-radius: 6px;\\r\\n    margin-right: 0.5em;\\r\\n}\\r\\n\\r\\n.kdtp-tp-sliders {\\r\\n    flex: 1 1 auto;\\r\\n    -webkit-flex: 1 1 auto;\\r\\n    -ms-flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row {\\r\\n    display:-webkit-flex;\\r\\n    display:-ms-flexbox;\\r\\n    display:flex;\\r\\n    -webkit-align-items:center;\\r\\n    -ms-flex-align:center;\\r\\n    align-items:center;\\r\\n    height: 1.5em;\\r\\n    background:linear-gradient(to right,#c5c5c5,#c5c5c5) left 50%/100% 1px no-repeat;\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range] {\\r\\n    background:0 0;\\r\\n    cursor:pointer;\\r\\n    -webkit-flex:1;\\r\\n    -ms-flex:1;\\r\\n    flex:1;\\r\\n    height:100%;\\r\\n    padding:0;\\r\\n    margin:0;\\r\\n    -webkit-appearance:none\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:hover::-webkit-slider-thumb {\\r\\n    border-color:#777777\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:hover::-moz-range-thumb {\\r\\n    border-color:#777777\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:hover::-ms-thumb {\\r\\n    border-color:#777777\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus {\\r\\n    outline:0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus::-webkit-slider-thumb {\\r\\n    background:#0099CC;\\r\\n    border-color:#0099CC\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus::-moz-range-thumb {\\r\\n    background:#0099CC;\\r\\n    border-color:#0099CC\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus::-ms-thumb {\\r\\n    background:#0099CC;\\r\\n    border-color:#0099CC\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-webkit-slider-thumb {\\r\\n    -webkit-appearance:none;\\r\\n    box-sizing:border-box;\\r\\n    height:12px;\\r\\n    width:12px;\\r\\n    border-radius:3px;\\r\\n    border:1px solid #c5c5c5;\\r\\n    background:#fff;\\r\\n    cursor:pointer;\\r\\n    transition:background .2s;\\r\\n    margin-top:-6px\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-moz-range-thumb {\\r\\n    box-sizing:border-box;\\r\\n    height:12px;\\r\\n    width:12px;\\r\\n    border-radius:3px;\\r\\n    border:1px solid #c5c5c5;\\r\\n    background:#fff;\\r\\n    cursor:pointer;\\r\\n    transition:background .2s\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-thumb {\\r\\n    box-sizing:border-box;\\r\\n    height:12px;\\r\\n    width:12px;\\r\\n    border-radius:3px;\\r\\n    border:1px solid #c5c5c5;\\r\\n    background:#fff;\\r\\n    cursor:pointer;\\r\\n    transition:background .2s\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-webkit-slider-runnable-track {\\r\\n    border:none;\\r\\n    height:1px;\\r\\n    cursor:pointer;\\r\\n    color:transparent;\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-moz-range-track {\\r\\n    border:none;\\r\\n    height:1px;\\r\\n    cursor:pointer;\\r\\n    color:transparent;\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-track {\\r\\n    border:none;\\r\\n    height:1px;\\r\\n    cursor:pointer;\\r\\n    color:transparent;\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-fill-lower {\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-fill-upper {\\r\\n    background:0 0\\r\\n}\\r\\n\", \"\"]);\n\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ui_1 = require(\"@easyquery/ui\");\r\nrequire(\"@easyquery/enterprise\");\r\nwindow.addEventListener('load', function () {\r\n    //Options for ReportViewJQuery\r\n    var viewOptions = {\r\n        calcTotals: true,\r\n        //Saves report on each change\r\n        syncReportOnChange: true,\r\n        handlers: {\r\n            onError: function (context, error) {\r\n                console.error(error.sourceError);\r\n            }\r\n        },\r\n        result: {\r\n            //Show EasyChart\r\n            showChart: true,\r\n            //Paging options\r\n            paging: {\r\n                pageSize: 30\r\n            }\r\n        },\r\n        //Load model on start\r\n        loadModelOnStart: true,\r\n        //Default model's ID (we use it here just for a nice folder name in App_Data folder)\r\n        defaultModelId: 'adhoc-reporting',\r\n        //Middleware endpoint \r\n        endpoint: window[\"__appPathBase\"] + '/api/adhoc-reporting',\r\n        enableExport: true,\r\n        //Different widgets options\r\n        widgets: {\r\n            //ColumnBar options\r\n            columnsBar: {\r\n                accentActiveColumn: false,\r\n                allowAggrColumns: true,\r\n                attrElementFormat: \"{attr}\",\r\n                showColumnCaptions: true,\r\n                adjustEntitiesMenuHeight: false,\r\n                menuOptions: {\r\n                    showSearchBoxAfter: 30,\r\n                    activateOnMouseOver: true\r\n                }\r\n            },\r\n            //QueryPanel options\r\n            queryPanel: {\r\n                alwaysShowButtonsInGroups: false,\r\n                adjustEntitiesMenuHeight: false,\r\n                menuOptions: {\r\n                    showSearchBoxAfter: 20,\r\n                    activateOnMouseOver: true\r\n                }\r\n            }\r\n        }\r\n    };\r\n    var reportView = new ui_1.ReportView();\r\n    var context = reportView.getContext();\r\n    context.setLicenseKeyEndpoint(window[\"__appPathBase\"] + window['__eqLckEndpoint']);\r\n    context.useEnterprise(function () {\r\n        reportView.init(viewOptions);\r\n    });\r\n    document['ReportView'] = reportView;\r\n});\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, ExprTag, QueryChangePart, QueryChangeAction } from '@easyquery/core';\r\nimport { eqDragManager, createBrowserEvent } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\n/**\r\n * The entities panel wiget, implemented without JQuery.\r\n */\r\nvar EntitiesPanel = /** @class */ (function (_super) {\r\n    __extends(EntitiesPanel, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function EntitiesPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.queryChangedCallbackId = null;\r\n        _this.group = WidgetGroup.Model | WidgetGroup.Query;\r\n        _this.panel = slot;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EntitiesPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-ep';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EntitiesPanel.prototype.getWidgetType = function () {\r\n        return 'entitiesPanel';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    EntitiesPanel.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.renderProgressBlock();\r\n    };\r\n    /**\r\n    * Refresh widget implementation\r\n    */\r\n    EntitiesPanel.prototype.refreshCore = function () {\r\n        this.render();\r\n        if (this.options.syncWithColumns) {\r\n            this.refreshCheckedStateByColumns();\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.onProcessStartCore = function () {\r\n        if (this.options.showIndicatorOnLoad) {\r\n            if (!this.progressBlock.parentNode)\r\n                this.panel.appendChild(this.progressBlock);\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.onProcessEndCore = function () {\r\n        if (this.options.showIndicatorOnLoad) {\r\n            if (this.progressBlock.parentNode)\r\n                this.panel.removeChild(this.progressBlock);\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.destroyCore = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    EntitiesPanel.prototype.setOptions = function (options) {\r\n        var _this = this;\r\n        this.options = {\r\n            showToolbar: true,\r\n            syncWithColumns: false,\r\n            showSelectAllButton: false,\r\n            showClearSelectionButton: true,\r\n            showAddColumnButton: true,\r\n            showAddConditionButton: true,\r\n            showCheckboxes: true,\r\n            showTooltips: true,\r\n            draggableAttributes: true,\r\n            showAttributes: { useInConditions: true, useInResult: true, useInSorting: false },\r\n            showFilterBox: false,\r\n            filterBoxMode: 0,\r\n            showIndicatorOnLoad: true,\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            autoClearSelection: true,\r\n            entityRenderedCallback: null,\r\n            attributeRenderedCallback: null\r\n        };\r\n        if (options) {\r\n            dataUtils.assignDeep(this.options, options);\r\n        }\r\n        if (this.queryChangedCallbackId) {\r\n            var query = this.context.getQuery();\r\n            query.removeChangedCallback(this.queryChangedCallbackId);\r\n        }\r\n        if (this.options.syncWithColumns) {\r\n            var query = this.context.getQuery();\r\n            this.queryChangedCallbackId = query.addChangedCallback(function (ev) {\r\n                var edata = ev.data;\r\n                if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                    return;\r\n                }\r\n                _this.refreshCheckedStateByColumns();\r\n            });\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.render = function () {\r\n        var model = this.context.getModel();\r\n        ;\r\n        this.clear();\r\n        this.panel.classList.add(this.cssPrefix + \"-panel\");\r\n        this.panel.classList.add(browserUtils.getMobileCssClass());\r\n        this.rootEntityBlock = document.createElement('div');\r\n        if (model != null && !model.isEmpty()) {\r\n            var entTree = model.getEntitiesTree({\r\n                addUIC: this.options.showAttributes.useInConditions,\r\n                addUIR: this.options.showAttributes.useInResult,\r\n                addUIS: this.options.showAttributes.useInSorting,\r\n                attrPlacement: this.options.attrPlacement,\r\n                sortEntities: this.options.sortEntities,\r\n                includeRootData: true\r\n            });\r\n            this.entityTreeBlock = this.renderEntity(entTree, this.rootEntityBlock, 0);\r\n            this.panel.appendChild(this.entityTreeBlock);\r\n        }\r\n        if (this.options.showFilterBox) {\r\n            this.createFilterBox();\r\n        }\r\n        else {\r\n            this.rootEntityBlock.style.top = '0';\r\n        }\r\n        if (this.options.showToolbar && !this.options.syncWithColumns) {\r\n            this.createToolPanel();\r\n        }\r\n        else {\r\n            this.rootEntityBlock.style.bottom = '0';\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.renderEntity = function (entity, block, offset) {\r\n        var _this = this;\r\n        var entityBlock;\r\n        var entityNode = document.createElement('div');\r\n        entityNode.classList.add(this.cssPrefix + \"-entity-node\");\r\n        entityNode.classList.add(browserUtils.getMobileCssClass());\r\n        var entityChildren = document.createElement('div');\r\n        entityChildren.classList.add(this.cssPrefix + \"-entity-children\");\r\n        entityChildren.classList.add(browserUtils.getMobileCssClass());\r\n        var nodeLabel = document.createElement('label');\r\n        nodeLabel.classList.add(this.cssPrefix + \"-entity-node-label\");\r\n        var nodeInput = document.createElement('input');\r\n        nodeInput.type = 'checkbox';\r\n        var nodeToggleButton = document.createElement('a');\r\n        nodeToggleButton.href = 'javascript:void(0)';\r\n        nodeToggleButton.classList.add(this.cssPrefix + \"-entity-node-button\");\r\n        var attrNode, attrLabel, attrInput;\r\n        var currentOffset = offset;\r\n        var isAttributeInTree = function (attrId, entityBlock) {\r\n            var res = entityBlock.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr[data-id=\\\"\" + attrId + \"\\\"]\");\r\n            return res.length > 0;\r\n        };\r\n        if (block) {\r\n            entityBlock = block;\r\n            entityBlock.innerHTML = '';\r\n        }\r\n        else {\r\n            entityBlock = document.createElement('div');\r\n        }\r\n        entityBlock.classList.add(this.cssPrefix + \"-entity\");\r\n        entityBlock.classList.add(browserUtils.getMobileCssClass());\r\n        if (entity.id && entity.id != \"\") {\r\n            nodeLabel.innerText = entity.text;\r\n            entityNode.appendChild(nodeLabel); //caption\r\n            if (this.options.showCheckboxes) {\r\n                nodeLabel.insertBefore(nodeInput, nodeLabel.firstChild);\r\n            }\r\n            entityNode.insertBefore(nodeToggleButton, entityNode.firstChild);\r\n            if (this.options.showTooltips && entity.description) {\r\n                nodeLabel.setAttribute('title', entity.description);\r\n            }\r\n            for (var i = 0; i < currentOffset; i++) {\r\n                var divElem = document.createElement('div');\r\n                divElem.classList.add(this.cssPrefix + \"-entity-offset\");\r\n                entityNode.insertBefore(divElem, entityNode.firstChild);\r\n            }\r\n            entityBlock.appendChild(entityNode);\r\n            entityChildren.hidden = true;\r\n            currentOffset++;\r\n        }\r\n        var itemsLength = entity.items ? entity.items.length : 0;\r\n        var _loop_1 = function (i) {\r\n            var item = entity.items[i];\r\n            if (item.isEntity) {\r\n                entityChildren.appendChild(this_1.renderEntity(item, null, currentOffset));\r\n            }\r\n            else {\r\n                if (!item.lookupAttr || !(isAttributeInTree(item.lookupAttr, entityChildren))) {\r\n                    attrLabel = document.createElement('label');\r\n                    attrLabel.innerText = item.text;\r\n                    attrLabel.classList.add(this_1.cssPrefix + \"-entity-attr-label\");\r\n                    if (this_1.options.showCheckboxes) {\r\n                        attrInput = document.createElement('input');\r\n                        attrInput.type = 'checkbox';\r\n                        attrLabel.insertBefore(attrInput, attrLabel.firstChild);\r\n                        if (this_1.options.syncWithColumns) {\r\n                            attrInput.addEventListener('change', function (ev) {\r\n                                var model = _this.context.getModel();\r\n                                var query = _this.context.getQuery();\r\n                                var checkbox = ev.currentTarget;\r\n                                var attrId = checkbox.parentElement.parentElement.getAttribute('data-id');\r\n                                if (model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                                    if (checkbox.checked) {\r\n                                        var column = query.addColumn({ attributeId: attrId });\r\n                                        query.fireColumnsChangedEvent(QueryChangeAction.Add, column);\r\n                                    }\r\n                                    else {\r\n                                        var columns = query.getColumns()\r\n                                            .filter(function (col) { return col.expr.tag === ExprTag.EntityAttribute\r\n                                            && col.expr.value === attrId; });\r\n                                        if (columns.length > 0) {\r\n                                            query.removeColumn(columns[0], null);\r\n                                            query.fireColumnsChangedEvent(QueryChangeAction.Delete, columns[0]);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    if (this_1.options.showTooltips && item.description) {\r\n                        attrLabel.setAttribute('title', item.description);\r\n                    }\r\n                    for (var j = 0; j < currentOffset + 1; j++) {\r\n                        var divElem = document.createElement('div');\r\n                        divElem.classList.add(this_1.cssPrefix + \"-entity-offset\");\r\n                        attrLabel.insertBefore(divElem, attrLabel.firstChild);\r\n                    }\r\n                    attrNode = document.createElement('div');\r\n                    attrNode.classList.add(this_1.cssPrefix + \"-entity-attr\");\r\n                    if (entityNode.innerHTML.length == 0) {\r\n                        attrNode.classList.add(this_1.cssPrefix + \"-entity-attr-root\");\r\n                    }\r\n                    attrNode.innerHTML = \"\";\r\n                    attrNode.appendChild(attrLabel);\r\n                    attrNode.setAttribute('data-id', item.id);\r\n                    if (this_1.options.draggableAttributes) {\r\n                        eqDragManager.registerDraggableItem({\r\n                            element: attrNode,\r\n                            scope: \"entityAttr\",\r\n                            data: { attrId: item.id },\r\n                            renderer: function (dragImage) {\r\n                                dragImage.innerHTML = '';\r\n                                var attrLabel = document.createElement('span');\r\n                                attrLabel.innerText = item.text;\r\n                                dragImage.appendChild(attrLabel);\r\n                            }\r\n                        });\r\n                    }\r\n                    if (this_1.options.attributeRenderedCallback) {\r\n                        this_1.options.attributeRenderedCallback(attrNode);\r\n                    }\r\n                    entityChildren.appendChild(attrNode);\r\n                }\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < itemsLength; i++) {\r\n            _loop_1(i);\r\n        }\r\n        if (entityChildren.innerHTML.length) {\r\n            entityBlock.appendChild(entityChildren);\r\n            nodeToggleButton.addEventListener('click', function (event) {\r\n                entityChildren.hidden = !entityChildren.hidden;\r\n                var element = event.target;\r\n                var className = _this.cssPrefix + \"-entity-node-button-open\";\r\n                if (element.classList.contains(className)) {\r\n                    element.classList.remove(className);\r\n                }\r\n                else {\r\n                    element.classList.add(className);\r\n                }\r\n                event.preventDefault();\r\n            });\r\n        }\r\n        if (entityChildren) {\r\n            var checkboxes = entityChildren.querySelectorAll(\".\" + this.cssPrefix + \"-entity-attr > label > input\");\r\n            for (var i = 0; i < checkboxes.length; i++) {\r\n                var checkbox = checkboxes[i];\r\n                checkbox.addEventListener('click', function (event) {\r\n                    var element = event.target;\r\n                    if (element.checked && !nodeInput.checked) {\r\n                        nodeInput.checked = true;\r\n                    }\r\n                    else if (entityChildren.querySelectorAll('input:checked').length === 0) {\r\n                        nodeInput.checked = false;\r\n                    }\r\n                    event.stopPropagation();\r\n                });\r\n            }\r\n        }\r\n        nodeInput.addEventListener('click', function (event) {\r\n            var element = event.target;\r\n            var entities = entityChildren.querySelectorAll('label input');\r\n            for (var i = 0; i < entities.length; i++) {\r\n                var entity_1 = entities[i];\r\n                entity_1.checked = element.checked;\r\n            }\r\n            if (_this.options.syncWithColumns) {\r\n                var query = _this.context.getQuery();\r\n                var model = _this.context.getModel();\r\n                var attrList_2 = [];\r\n                var attrElems = Array.from(entityChildren.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\"));\r\n                for (var _i = 0, attrElems_1 = attrElems; _i < attrElems_1.length; _i++) {\r\n                    var elem = attrElems_1[_i];\r\n                    var attrId = elem.getAttribute('data-id');\r\n                    if (model.checkAttrProperty(attrId, 'useInResult')) {\r\n                        attrList_2.push(attrId);\r\n                    }\r\n                }\r\n                if (element.checked) {\r\n                    for (var _a = 0, attrList_1 = attrList_2; _a < attrList_1.length; _a++) {\r\n                        var attrId = attrList_1[_a];\r\n                        query.addColumn({ attributeId: attrId });\r\n                    }\r\n                }\r\n                else {\r\n                    var columns = query.getColumns()\r\n                        .filter(function (col) { return col.expr.tag === ExprTag.EntityAttribute\r\n                        && attrList_2.indexOf(col.expr.value) >= 0; });\r\n                    query.removeColumns(columns, null);\r\n                }\r\n                query.fireColumnsChangedEvent();\r\n            }\r\n            event.stopPropagation();\r\n        });\r\n        if (block != this.rootEntityBlock && this.options.entityRenderedCallback) {\r\n            this.options.entityRenderedCallback(entityBlock);\r\n        }\r\n        return entityBlock;\r\n    };\r\n    EntitiesPanel.prototype.createFilterBox = function () {\r\n        var _this = this;\r\n        this.filterBoxBlock = document.createElement('div');\r\n        this.filterBoxBlock.classList.add(this.cssPrefix + \"-filter-box\");\r\n        this.filterBoxBlock.classList.add(browserUtils.getMobileCssClass());\r\n        this.filterBoxInput = document.createElement('input');\r\n        this.filterBoxInput.classList.add(this.cssPrefix + \"-filter-box-input\");\r\n        this.filterBoxInput.addEventListener('keydown', function (e) {\r\n            if (e.keyCode) {\r\n                _this.filterBoxInput.value = '';\r\n                _this.filterBoxInput.dispatchEvent(createBrowserEvent('input'));\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        this.filterBoxInput.addEventListener('input', function (e) {\r\n            var attrs = _this.panel.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var attr = attrs[i];\r\n                attr.hidden = !_this.checkFilterAttribute(attr);\r\n            }\r\n            var entities = _this.panel.querySelectorAll(\">.\" + _this.cssPrefix + \"-entity\");\r\n            for (var i = 0; i < entities.length; i++) {\r\n                var entity = entities[i];\r\n                var attrs_1 = entity.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n                var displayAttrCount = 0;\r\n                for (var i_1 = 0; i_1 < attrs_1.length; i_1++) {\r\n                    if (attrs_1[i_1].style.display !== 'None') {\r\n                        displayAttrCount++;\r\n                    }\r\n                }\r\n                entity.hidden = displayAttrCount === 0;\r\n            }\r\n            if (_this.filterBoxInput.value === '')\r\n                _this.collapseAll();\r\n            else\r\n                _this.expandAll();\r\n        });\r\n        this.filterBoxBlock.appendChild(this.filterBoxInput);\r\n        this.panel.insertBefore(this.filterBoxBlock, this.panel.firstChild);\r\n    };\r\n    EntitiesPanel.prototype.createToolPanel = function () {\r\n        var _this = this;\r\n        var defClass = this.cssPrefix + \"-tool-panel\";\r\n        var toolPanelBlock = document.createElement('div');\r\n        toolPanelBlock.classList.add(defClass);\r\n        toolPanelBlock.classList.add(browserUtils.getMobileCssClass());\r\n        var toolSelectAll = document.createElement('div');\r\n        toolSelectAll.classList.add(defClass + \"-select-all\");\r\n        toolSelectAll.title = 'Select all';\r\n        var toolDeselectAll = document.createElement('div');\r\n        toolDeselectAll.classList.add(defClass + \"-deselect-all\");\r\n        toolDeselectAll.title = 'Clear selection';\r\n        var toolAddColumns = document.createElement('div');\r\n        toolAddColumns.classList.add(defClass + \"-add-columns\");\r\n        toolAddColumns.title = 'Add column';\r\n        var toolAddCond = document.createElement('div');\r\n        toolAddCond.classList.add(defClass + \"-add-cond\");\r\n        toolAddCond.title = 'Add condition';\r\n        var toolLeftBlock = document.createElement('div');\r\n        toolLeftBlock.classList.add(defClass + \"-left-side\");\r\n        var toolRightBlock = document.createElement('div');\r\n        toolRightBlock.classList.add(defClass + \"-right-side\");\r\n        var model = this.context.getModel();\r\n        if (this.options.showSelectAllButton) {\r\n            toolSelectAll.title = i18n.getText(\"ButtonSelectAll\");\r\n            toolLeftBlock.appendChild(toolSelectAll);\r\n            toolSelectAll.addEventListener('click', function () {\r\n                _this.selectAll();\r\n            });\r\n        }\r\n        if (this.options.showClearSelectionButton) {\r\n            toolDeselectAll.title = i18n.getText(\"ButtonDeselectAll\");\r\n            toolLeftBlock.appendChild(toolDeselectAll);\r\n            toolDeselectAll.addEventListener('click', function () {\r\n                _this.deselectAll();\r\n            });\r\n        }\r\n        if (this.options.showAddColumnButton) {\r\n            toolAddColumns.title = i18n.getText(\"ButtonAddColumns\");\r\n            toolRightBlock.appendChild(toolAddColumns);\r\n            toolAddColumns.addEventListener('click', function () {\r\n                var attrElements = _this.panel.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n                var attrList = [];\r\n                var attrId;\r\n                var query = _this.context.getQuery();\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"start\"\r\n                });\r\n                for (var i = 0; i < attrElements.length; i++) {\r\n                    var attrElement = attrElements[i];\r\n                    var input = attrElement.getElementsByTagName('input')[0];\r\n                    if (input.checked) {\r\n                        attrId = attrElement.getAttribute('data-id');\r\n                        if (model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                            attrList.push(attrId);\r\n                        }\r\n                    }\r\n                }\r\n                for (var _i = 0, attrList_3 = attrList; _i < attrList_3.length; _i++) {\r\n                    var attrId_1 = attrList_3[_i];\r\n                    query.addColumn({\r\n                        attributeId: attrId_1\r\n                    });\r\n                }\r\n                query.fireChangedEvent();\r\n                if (_this.options.autoClearSelection) {\r\n                    _this.deselectAll();\r\n                }\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"finish\"\r\n                });\r\n            });\r\n        }\r\n        if (this.options.showAddConditionButton) {\r\n            toolAddCond.title = i18n.getText(\"ButtonAddConditions\");\r\n            toolRightBlock.appendChild(toolAddCond);\r\n            toolAddCond.addEventListener('click', function () {\r\n                var attrElements = _this.panel.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n                var attrList = [];\r\n                var attrId;\r\n                var query = _this.context.getQuery();\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"start\"\r\n                });\r\n                for (var i = 0; i < attrElements.length; i++) {\r\n                    var attrElement = attrElements[i];\r\n                    var input = attrElement.getElementsByTagName('input')[0];\r\n                    if (input.checked) {\r\n                        attrId = attrElement.getAttribute('data-id');\r\n                        if (model.checkAttrProperty(attrId, \"useInConditions\")) {\r\n                            attrList.push(attrId);\r\n                        }\r\n                    }\r\n                }\r\n                for (var _i = 0, attrList_4 = attrList; _i < attrList_4.length; _i++) {\r\n                    var attrId_2 = attrList_4[_i];\r\n                    query.addSimpleCondition({\r\n                        attributeId: attrId_2\r\n                    });\r\n                }\r\n                query.fireChangedEvent();\r\n                if (_this.options.autoClearSelection) {\r\n                    _this.deselectAll();\r\n                }\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"finish\"\r\n                });\r\n            });\r\n        }\r\n        toolPanelBlock.appendChild(toolLeftBlock);\r\n        toolPanelBlock.appendChild(toolRightBlock);\r\n        this.panel.appendChild(toolPanelBlock);\r\n    };\r\n    EntitiesPanel.prototype.checkFilterAttribute = function (attr) {\r\n        var inputElem = attr.querySelector('label input');\r\n        if (inputElem.checked) {\r\n            return true;\r\n        }\r\n        var labelElem = attr.querySelector('label');\r\n        var attrCaption = labelElem.textContent;\r\n        if (this.checkFilterText(attrCaption)) {\r\n            return true;\r\n        }\r\n        var entityNode = attr.parentElement.parentElement.querySelector(\".\" + this.cssPrefix + \"-entity-node\");\r\n        var entityCaption = entityNode.querySelector('label').textContent;\r\n        if (this.checkFilterText(entityCaption)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    EntitiesPanel.prototype.checkFilterText = function (value) {\r\n        var filterText = this.filterBoxInput.value;\r\n        if (filterText == \"\")\r\n            return true;\r\n        if (this.options.filterBoxMode == 0 && value.toLowerCase().indexOf(filterText.toLowerCase()) >= 0)\r\n            return true;\r\n        if (this.options.filterBoxMode == 1 && value.toLowerCase().indexOf(filterText.toLowerCase()) == 0)\r\n            return true;\r\n        return false;\r\n    };\r\n    EntitiesPanel.prototype.refreshCheckedStateByColumns = function () {\r\n        this.deselectAll();\r\n        var query = this.context.getQuery();\r\n        var exprColumns = query.getColumns()\r\n            .filter(function (col) { return col.expr.tag === ExprTag.EntityAttribute; });\r\n        for (var _i = 0, exprColumns_1 = exprColumns; _i < exprColumns_1.length; _i++) {\r\n            var column = exprColumns_1[_i];\r\n            var attrNode = this.rootEntityBlock\r\n                .querySelector(\".\" + this.cssPrefix + \"-entity-attr[data-id=\\\"\" + column.expr.value + \"\\\"]\");\r\n            var checkbox = attrNode.querySelector(\"label > input\");\r\n            checkbox.checked = true;\r\n            var entChildren = attrNode.parentElement;\r\n            while (entChildren\r\n                && entChildren.classList\r\n                    .contains(this.cssPrefix + \"-entity-children\")) {\r\n                entChildren.hidden = false;\r\n                var entElem = entChildren.parentElement;\r\n                if (entElem && entChildren !== entElem.firstElementChild) {\r\n                    checkbox = entElem.firstElementChild\r\n                        .querySelector(\"label > input\");\r\n                    checkbox.checked = true;\r\n                    entChildren = entElem.parentElement;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.expandAll = function () {\r\n        for (var i = 0; i < this.rootEntityBlock.childNodes.length; i++) {\r\n            var child = this.rootEntityBlock.childNodes[0];\r\n            var childs = child.querySelectorAll(\".\" + this.cssPrefix + \"-entity-children\");\r\n            for (var j = 0; j < childs.length; j++) {\r\n                var elem = childs[j];\r\n                elem.hidden = false;\r\n            }\r\n        }\r\n        var nodeButtons = this.rootEntityBlock.querySelectorAll(\".\" + this.cssPrefix + \"-entity-node-button\");\r\n        for (var i = 0; i < nodeButtons.length; i++) {\r\n            var elem = nodeButtons[i];\r\n            elem.classList.add(this.cssPrefix + \"-entity-node-button-open\");\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.collapseAll = function () {\r\n        for (var i = 0; i < this.rootEntityBlock.childNodes.length; i++) {\r\n            var child = this.rootEntityBlock.childNodes[0];\r\n            var childs = child.querySelectorAll(\".\" + this.cssPrefix + \"-entity-children\");\r\n            for (var j = 0; j < childs.length; j++) {\r\n                var elem = childs[j];\r\n                elem.hidden = true;\r\n            }\r\n        }\r\n        var nodeButtons = this.rootEntityBlock.querySelectorAll(\".\" + this.cssPrefix + \"-entity-node-button\");\r\n        for (var i = 0; i < nodeButtons.length; i++) {\r\n            var elem = nodeButtons[i];\r\n            elem.classList.remove(this.cssPrefix + \"-entity-node-button-open\");\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.selectAll = function () {\r\n        var inputs = this.entityTreeBlock.querySelectorAll('input');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            var input = inputs[i];\r\n            input.checked = true;\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.deselectAll = function () {\r\n        var inputs = this.entityTreeBlock.querySelectorAll('input');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            var input = inputs[i];\r\n            input.checked = false;\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.renderProgressBlock = function () {\r\n        this.progressBlock = document.createElement('div');\r\n        this.progressBlock.classList.add(eqCssPrefix + \"-progress-win8\");\r\n        this.progressBlock.classList.add(browserUtils.getMobileCssClass());\r\n        this.progressBlock.innerHTML = '<div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"></div></div>';\r\n    };\r\n    EntitiesPanel.prototype.clear = function () {\r\n        this.panel.innerHTML = \"\";\r\n    };\r\n    return EntitiesPanel;\r\n}(Widget));\r\nexport { EntitiesPanel };\r\n//# sourceMappingURL=entities_panel.js.map","import { i18n } from '@easydata/core';\r\nimport { SortDirection, QueryChangeAction } from \"@easyquery/core\";\r\nimport { eqDragManager, DropEffect, createBrowserEvent, domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { safeFocus } from '../../../utils/utils';\r\nexport var ColumnAction;\r\n(function (ColumnAction) {\r\n    ColumnAction[ColumnAction[\"Enable\"] = 0] = \"Enable\";\r\n    ColumnAction[ColumnAction[\"Delete\"] = 1] = \"Delete\";\r\n    ColumnAction[ColumnAction[\"Hidden\"] = 2] = \"Hidden\";\r\n    ColumnAction[ColumnAction[\"SortingNone\"] = 3] = \"SortingNone\";\r\n    ColumnAction[ColumnAction[\"SortingAsc\"] = 4] = \"SortingAsc\";\r\n    ColumnAction[ColumnAction[\"SortingDesc\"] = 5] = \"SortingDesc\";\r\n    ColumnAction[ColumnAction[\"MoveTop\"] = 6] = \"MoveTop\";\r\n    ColumnAction[ColumnAction[\"MoveUp\"] = 7] = \"MoveUp\";\r\n    ColumnAction[ColumnAction[\"MoveDown\"] = 8] = \"MoveDown\";\r\n    ColumnAction[ColumnAction[\"MoveBottom\"] = 9] = \"MoveBottom\";\r\n    ColumnAction[ColumnAction[\"Menu\"] = 10] = \"Menu\";\r\n    ColumnAction[ColumnAction[\"Type\"] = 11] = \"Type\";\r\n})(ColumnAction || (ColumnAction = {}));\r\nvar ColumnRendererCP = /** @class */ (function () {\r\n    function ColumnRendererCP(panel, column, slot) {\r\n        this.functionMenu = null;\r\n        this.buttonMenu = null;\r\n        this.isMouseOverBlock = false;\r\n        this.keepShowingButtons = false;\r\n        this.panel = panel;\r\n        this.column = column;\r\n        this.element = slot;\r\n    }\r\n    Object.defineProperty(ColumnRendererCP.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qc';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnRendererCP.prototype.render = function () {\r\n        var _this = this;\r\n        this.baseAttr = this.getAttribute();\r\n        if (this.getButtonsToShow().indexOf(\"sorting\") >= 0 && this.column.enabled) {\r\n            this.sortingButton = this.renderSoringButton(this.column.sorting);\r\n            if (this.column.sorting !== SortDirection.None) {\r\n                this.sortingButton.style.display = 'block';\r\n            }\r\n        }\r\n        var builder = domel('div');\r\n        builder.data('id', this.column.id);\r\n        if (this.element) {\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        if (this.panel.options.allowDragDrop && !browserUtils.isMobileMode()) {\r\n            eqDragManager.registerDraggableItem({\r\n                element: this.element,\r\n                scope: \"entityAttrSort\",\r\n                data: { column: this.column },\r\n                beforeDragStart: function () {\r\n                    _this.hideButtons();\r\n                },\r\n                renderer: function (dragImage) {\r\n                    dragImage.innerHTML = '';\r\n                    var attrLabel = document.createElement('span');\r\n                    attrLabel.innerText = _this.column.caption;\r\n                    dragImage.classList.add('eqjs-sortable-helper');\r\n                    dragImage.appendChild(attrLabel);\r\n                },\r\n                onDragStart: function (ev) {\r\n                    _this.element.style.display = 'none';\r\n                    ev.dropEffect = DropEffect.Allow;\r\n                },\r\n                onDragEnd: function (ev) {\r\n                    if (!ev.data.finishedSuccessfully) {\r\n                        _this.element.style.removeProperty('display');\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (this.isEditable()) {\r\n            this.createFunctionMenu();\r\n        }\r\n        this.createButtonMenu();\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderCheckbox())\r\n            //start sort button\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", _this.cssPrefix + \"-button-placeholder\", _this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-sortbutton-placeholder\")\r\n            .addChildElement(_this.sortingButton); })\r\n            // end sort button\r\n            .addChildElement(this.renderExpressionBlock());\r\n        if (this.panel.options.showColumnTitles !== false && !browserUtils.isMobileMode()) {\r\n            builder\r\n                .addChildElement(this.renderCaptionBlock());\r\n        }\r\n        builder\r\n            //start buttons\r\n            .addChild('div', function (builder) {\r\n            builder\r\n                .addClass(eqCssPrefix + \"-column-buttonsBlock\", _this.cssPrefix + \"-buttonsBlock\")\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            //start enable button\r\n            if (_this.getButtonsToShow().indexOf(\"enable\") >= 0 && !_this.column.isReadOnly()) {\r\n                builder.addChildElement(_this.renderEnabledButton());\r\n            }\r\n            //end enable button\r\n            //start aggr func button\r\n            if (_this.getButtonsToShow().indexOf(\"type\") >= 0 && _this.column.enabled) {\r\n                builder.addChildElement(_this.renderColumnTypeButton());\r\n            }\r\n            //end aggr func button\r\n            //start delete button\r\n            if (_this.getButtonsToShow().indexOf(\"delete\") >= 0 && !_this.column.isReadOnly()) {\r\n                builder.addChildElement(_this.renderDeleteButton());\r\n            }\r\n            //end delete button\r\n            //start menu button\r\n            if (_this.getButtonsToShow().indexOf(\"menu\") >= 0 && !_this.column.isReadOnly()) {\r\n                builder.addChildElement(_this.renderMenuButton());\r\n            }\r\n            //end menu button\r\n        });\r\n        //end buttons \r\n        if (!browserUtils.isMobileMode()) {\r\n            //start event listeners\r\n            builder\r\n                .on('mouseenter', this.onMouseEnter.bind(this))\r\n                .on('mouseleave', this.onMouseLeave.bind(this));\r\n            //end event listeners\r\n        }\r\n        if (this.panel.options.accentActiveColumn || browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('click', this.onMouseClick.bind(this)); //touchstart\r\n        }\r\n        if (this.panel.options.alwaysShowButtons) {\r\n            this.showButtons();\r\n        }\r\n        return this.element;\r\n    };\r\n    ColumnRendererCP.prototype.onMouseClick = function (ev) {\r\n        ev.stopPropagation();\r\n        this.panel.toggleColumnPicked(this.column);\r\n        this.adjustButtonsVisibility();\r\n        if (!browserUtils.isMobileMode()) {\r\n            this.element.dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n        }\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.fireColumnChanged = function () {\r\n        this.column.fireChangedEvent();\r\n    };\r\n    ColumnRendererCP.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ColumnRendererCP.prototype.getAttribute = function () {\r\n        var model = this.panel.getContext().getModel();\r\n        return model.getAttributeById(this.column.expr.value);\r\n    };\r\n    ColumnRendererCP.prototype.renderCaptionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultColumnCaption();\r\n        }\r\n        var builder = domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        if (this.isEditable()) {\r\n            builder\r\n                .addChild('a', function (builder) { return builder\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(_this.column.caption)\r\n                .text(_this.column.caption)\r\n                .on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                var element = ev.target;\r\n                var inputEl = element.parentElement.querySelector('input');\r\n                if (inputEl) {\r\n                    element.style.display = 'none';\r\n                    inputEl.style.removeProperty('display');\r\n                    inputEl.style.minWidth = \"\" + element.clientWidth;\r\n                    inputEl.focus();\r\n                    _this.element.setAttribute(eqDragManager.DRAG_DISABLED_ATTR, '');\r\n                }\r\n                return false;\r\n            }); } //TO DO:add localization and input field\r\n            )\r\n                .addChild('input', function (builder) { return builder\r\n                .hide()\r\n                .value(_this.column.caption)\r\n                .on('blur keydown', function (ev) {\r\n                var isEndEvent = false;\r\n                var save = true;\r\n                if (ev instanceof KeyboardEvent) {\r\n                    // Enter\r\n                    if (ev.keyCode === 13) {\r\n                        isEndEvent = true;\r\n                        //ESC\r\n                    }\r\n                    else if (ev.keyCode === 27) {\r\n                        isEndEvent = true;\r\n                        save = false;\r\n                    }\r\n                }\r\n                else if (ev instanceof FocusEvent) {\r\n                    isEndEvent = true;\r\n                }\r\n                if (isEndEvent) {\r\n                    var inputEl = ev.target;\r\n                    var aEl = inputEl.parentElement.querySelector('a');\r\n                    if (aEl) {\r\n                        aEl.style.removeProperty('display');\r\n                        inputEl.style.display = 'none';\r\n                    }\r\n                    if (save && _this.column.caption !== inputEl.value) {\r\n                        _this.column.caption = inputEl.value;\r\n                        _this.fireColumnChanged();\r\n                    }\r\n                    else {\r\n                        inputEl.value = _this.column.caption;\r\n                        safeFocus(aEl);\r\n                    }\r\n                    _this.element.removeAttribute(eqDragManager.DRAG_DISABLED_ATTR);\r\n                }\r\n                return true;\r\n            }); });\r\n        }\r\n        else {\r\n            builder.addChild('span', function (b) {\r\n                b.text(_this.column.caption)\r\n                    .title(_this.column.caption);\r\n            });\r\n        }\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.renderSoringButton = function (sorting) {\r\n        var _this = this;\r\n        var sortButtonCssClass = eqCssPrefix + \"-column-sortbutton\";\r\n        var sortButtonDirectionCssClass;\r\n        switch (sorting) {\r\n            case SortDirection.Ascending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-asc\";\r\n                break;\r\n            case SortDirection.Descending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-desc\";\r\n                break;\r\n            default:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-none\";\r\n                break;\r\n        }\r\n        if (!this.isEditable()) {\r\n            if (sorting === SortDirection.Ascending\r\n                || sorting === SortDirection.Descending)\r\n                return domel('div')\r\n                    .addClass(sortButtonCssClass, eqCssPrefix + \"-button\", sortButtonDirectionCssClass)\r\n                    .title(i18n.getText('ButtonSorting'))\r\n                    .toDOM();\r\n            return null;\r\n        }\r\n        return domel('div')\r\n            .addClass(sortButtonCssClass, eqCssPrefix + \"-button\", sortButtonDirectionCssClass)\r\n            .data(\"btnplaceholder\", \"\")\r\n            .title(i18n.getText('ButtonSorting'))\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.keepShowingButtons = true;\r\n            var menu = _this.getUIS() ? _this.panel.sortMenu || _this.panel.moveMenu : _this.panel.moveMenu;\r\n            menu.showMenu({\r\n                anchor: _this.sortingButton,\r\n                selectedIds: _this.column.isHidden() ? ['IsHidden'] : null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var action;\r\n                    switch (data.id) {\r\n                        case \"IsHidden\":\r\n                            action = ColumnAction.Hidden;\r\n                            break;\r\n                        case \"MoveTop\":\r\n                            action = ColumnAction.MoveTop;\r\n                            break;\r\n                        case \"MoveDown\":\r\n                            action = ColumnAction.MoveDown;\r\n                            break;\r\n                        case \"MoveUp\":\r\n                            action = ColumnAction.MoveUp;\r\n                            break;\r\n                        case \"MoveBottom\":\r\n                            action = ColumnAction.MoveBottom;\r\n                            break;\r\n                        case \"None\":\r\n                            action = ColumnAction.SortingNone;\r\n                            break;\r\n                        case \"Ascending\":\r\n                            action = ColumnAction.SortingAsc;\r\n                            break;\r\n                        case \"Descending\":\r\n                            action = ColumnAction.SortingDesc;\r\n                            break;\r\n                    }\r\n                    _this.buttonMenuHandler(action, null);\r\n                },\r\n                menuClosedCallback: function () {\r\n                    _this.keepShowingButtons = false;\r\n                    if (!_this.isMouseOverBlock) {\r\n                        _this.leaveButtonBlock();\r\n                    }\r\n                }\r\n            });\r\n        })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.renderCheckbox = function () {\r\n        var _this = this;\r\n        if (this.panel.options.showCheckboxes && !this.column.isReadOnly()) {\r\n            return domel(\"div\")\r\n                .title(i18n.getText('CmdToggleEnable'))\r\n                .attr('tabIndex', '0')\r\n                .addClass(this.cssPrefix + \"-colelement \" + this.cssPrefix + \"-column-checkbox\")\r\n                .addClass(\"\" + (this.column.enabled ? 'enabled' : ''))\r\n                .on('click', function () {\r\n                _this.column.enabled = !_this.column.enabled;\r\n                _this.column.fireChangedEvent();\r\n                return false;\r\n            })\r\n                .on('keypress', function (evt) { if ([13, 32].includes(evt.keyCode)) {\r\n                evt.target.click();\r\n            } })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.renderDeleteButton = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-deletebutton-placeholder\")\r\n            .data(\"btnplaceholder\", \"\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-delete\")\r\n            .title(i18n.getText('CmdDelete'))\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (ev) { return _this.buttonMenuHandler(ColumnAction.Delete, ev); }) //touchstart\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } }); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.renderMenuButton = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-menubutton-placeholder\")\r\n            .data(\"btnplaceholder\", \"\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-menu\")\r\n            .title(i18n.getText('ButtonMenu'))\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (evt) { return _this.buttonMenuHandler(ColumnAction.Menu, evt); }) //touchstart \r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } }); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.getDefaultColumnCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr);\r\n    };\r\n    ColumnRendererCP.prototype.getDefaultTitleText = function (attr) {\r\n        return this.getAttributeCaption(attr, this.panel.options.titleElementFormat);\r\n    };\r\n    ColumnRendererCP.prototype.getAttributeCaption = function (attr, format) {\r\n        format = format || this.panel.options.attrElementFormat;\r\n        var model = this.panel.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        var result = \"\";\r\n        result += this.column.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n        if (this.column.enabled) {\r\n            result += this.column.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n        }\r\n        result += this.column.isHidden() ? \" \" + this.cssPrefix + \"-hidden\" : '';\r\n        return result;\r\n    };\r\n    ColumnRendererCP.prototype.renderColumnTypeButton = function () {\r\n        var _this = this;\r\n        return (this.isEditable() && this.panel.options.allowAggrColumns !== false)\r\n            ? domel('div')\r\n                .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-typebutton-placeholder\", this.cssPrefix + \"-button-active\")\r\n                .data(\"btnplaceholder\", \"\")\r\n                .addChild('div', function (b) { return b\r\n                .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-type\")\r\n                .title(i18n.getText('ButtonToAggr'))\r\n                .attr('tabIndex', '0')\r\n                .on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                _this.keepShowingButtons = true;\r\n                _this.changeTypeHandler(ev);\r\n            })\r\n                .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                evt.target.click();\r\n            } }); })\r\n                .toDOM()\r\n            : null;\r\n    };\r\n    ColumnRendererCP.prototype.renderEnabledButton = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-enablebutton-placeholder\", this.cssPrefix + \"-button-active\")\r\n            .data(\"btnplaceholder\", \"\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-enable\")\r\n            .title(i18n.getText('CmdToggleEnable'))\r\n            .addClass(_this.column.enabled ? 'enabled' : '')\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (evt) { return _this.buttonMenuHandler(ColumnAction.Enable, evt); }) //touchstart\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } }); }).toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.isEditable = function () {\r\n        return this.column.enabled && !this.column.isReadOnly();\r\n    };\r\n    ColumnRendererCP.prototype.getUIS = function () {\r\n        return this.panel\r\n            .getContext().getModel()\r\n            .checkAttrProperty(this.column.expr.value, \"useInSorting\");\r\n    };\r\n    ColumnRendererCP.prototype.onMouseEnter = function (e) {\r\n        this.isMouseOverBlock = true;\r\n        this.enterButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.onMouseLeave = function (e) {\r\n        this.isMouseOverBlock = false;\r\n        this.leaveButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.isColumnActive = function () {\r\n        return this.element.classList.contains(\"active\");\r\n    };\r\n    ColumnRendererCP.prototype.hideButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", null);\r\n    };\r\n    ColumnRendererCP.prototype.showButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", \"\");\r\n    };\r\n    ColumnRendererCP.prototype.adjustButtonsVisibility = function () {\r\n        if (this.panel.options.alwaysShowButtons ||\r\n            ((this.panel.options.accentActiveColumn || browserUtils.isMobileMode())\r\n                && this.isColumnActive())) {\r\n            this.showButtons();\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.enterButtonBlock = function () {\r\n        this.showButtons();\r\n    };\r\n    ColumnRendererCP.prototype.leaveButtonBlock = function () {\r\n        if (!this.keepShowingButtons && this.panel.options.alwaysShowButtons !== true && (!this.isColumnActive() || this.panel.options.accentActiveColumn != true)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.createFunctionMenu = function () {\r\n        var items = [];\r\n        var funcs = this.panel.getContext().getModel().getAggrFunctions();\r\n        var funcAllowed = true;\r\n        var item = null;\r\n        var attribute = this.getAttribute();\r\n        var funcCaption;\r\n        for (var _i = 0, funcs_1 = funcs; _i < funcs_1.length; _i++) {\r\n            var func = funcs_1[_i];\r\n            if (!func)\r\n                continue;\r\n            var toInclude = func.appliedTypes.indexOf(attribute.dataType) >= 0;\r\n            if (this.column.expr.func === func.id && !toInclude) {\r\n                funcAllowed = false;\r\n            }\r\n            if (toInclude) {\r\n                funcCaption = this.panel.getContext().getModel()\r\n                    .getAggrFunctionCaption(func.id);\r\n                item = {\r\n                    id: func.id,\r\n                    text: funcCaption\r\n                };\r\n                items.push(item);\r\n            }\r\n        }\r\n        if (!funcAllowed) {\r\n            this.column.expr.func = items[0].id;\r\n        }\r\n        //Add \"Custom Expression\" menu\r\n        var columnsPanel = this.panel;\r\n        if (columnsPanel.areCustomExpressionsAllowed()) {\r\n            item = {\r\n                id: 'CustomSqlDivider',\r\n                text: '---'\r\n            };\r\n            items.push(item);\r\n            funcCaption = i18n.getText('CustomExpression');\r\n            item = {\r\n                id: 'CUSTOMSQL',\r\n                text: funcCaption\r\n            };\r\n            items.push(item);\r\n        }\r\n        var menuId = this.column.id;\r\n        if (menuId) {\r\n            menuId += '-FunctionsMenu';\r\n        }\r\n        var menuOptions = {\r\n            items: items,\r\n            id: menuId,\r\n            searchBoxAlwaysShown: false,\r\n            domWriteItemsId: true //this.panel.options.domWriteItemsId\r\n        };\r\n        this.functionMenu = new PopupMenu(menuOptions);\r\n    };\r\n    ColumnRendererCP.prototype.getButtonsToShow = function () {\r\n        return this.panel.options.buttons && Array.isArray(this.panel.options.buttons) ? this.panel.options.buttons : [\"enable\", \"delete\", \"type\", \"sorting\"];\r\n    };\r\n    ColumnRendererCP.prototype.buttonMenuHandler = function (action, evt) {\r\n        var _this = this;\r\n        switch (action) {\r\n            case ColumnAction.Delete:\r\n                var curQuery = this.column.getQuery();\r\n                curQuery.removeColumn(this.column, this.panel);\r\n                curQuery.fireColumnsChangedEvent(QueryChangeAction.Delete, this.column);\r\n                break;\r\n            case ColumnAction.Enable:\r\n                this.column.enabled = !this.column.enabled;\r\n                this.fireColumnChanged();\r\n                break;\r\n            case ColumnAction.Hidden:\r\n                this.column.setHidden(!this.column.isHidden());\r\n                this.fireColumnChanged();\r\n                break;\r\n            case ColumnAction.MoveTop:\r\n                this.panel.moveColumn(this.column, \"MoveTop\");\r\n                break;\r\n            case ColumnAction.MoveBottom:\r\n                this.panel.moveColumn(this.column, \"MoveBottom\");\r\n                break;\r\n            case ColumnAction.MoveUp:\r\n                this.panel.moveColumn(this.column, \"MoveUp\");\r\n                break;\r\n            case ColumnAction.MoveDown:\r\n                this.panel.moveColumn(this.column, \"MoveDown\");\r\n                break;\r\n            case ColumnAction.SortingAsc:\r\n                this.column.sorting = SortDirection.Ascending;\r\n                this.column.fireChangedEvent();\r\n                break;\r\n            case ColumnAction.SortingDesc:\r\n                this.column.sorting = SortDirection.Descending;\r\n                this.column.fireChangedEvent();\r\n                break;\r\n            case ColumnAction.SortingNone:\r\n                this.column.sorting = SortDirection.None;\r\n                this.column.fireChangedEvent();\r\n                break;\r\n            case ColumnAction.Menu:\r\n                var colMenu = this.buttonMenu;\r\n                this.keepShowingButtons = true;\r\n                colMenu.showMenu({\r\n                    anchor: evt ? evt.target : null,\r\n                    selectedIds: this.getButtonMenuSelectedItems(),\r\n                    itemSelectedCallback: function (item) {\r\n                        var action = item.id;\r\n                        switch (item.id) {\r\n                            case \"enable\":\r\n                                action = ColumnAction.Enable;\r\n                                break;\r\n                            case \"delete\":\r\n                                action = ColumnAction.Delete;\r\n                                break;\r\n                            case \"hidden\":\r\n                                action = ColumnAction.Hidden;\r\n                                break;\r\n                            case \"MoveTop\":\r\n                                action = ColumnAction.MoveTop;\r\n                                break;\r\n                            case \"MoveBottom\":\r\n                                action = ColumnAction.MoveBottom;\r\n                                break;\r\n                            case \"MoveUp\":\r\n                                action = ColumnAction.MoveUp;\r\n                                break;\r\n                            case \"MoveDown\":\r\n                                action = ColumnAction.MoveDown;\r\n                                break;\r\n                            case \"None\":\r\n                                action = ColumnAction.SortingNone;\r\n                                break;\r\n                            case \"Ascending\":\r\n                                action = ColumnAction.SortingAsc;\r\n                                break;\r\n                            case \"Descending\":\r\n                                action = ColumnAction.SortingAsc;\r\n                                break;\r\n                        }\r\n                        _this.buttonMenuHandler(action, evt);\r\n                    },\r\n                    itemFilterCallback: function (item) {\r\n                        var result = _this.column.enabled || item.id === \"__group\" || item.id === \"enable\" || item.id === \"delete\";\r\n                        return result;\r\n                    },\r\n                    menuClosedCallback: function () {\r\n                        _this.keepShowingButtons = false;\r\n                        if (!_this.isMouseOverBlock)\r\n                            _this.leaveButtonBlock();\r\n                    }\r\n                });\r\n                break;\r\n            default:\r\n                this.processExtraButtonMenuItems(action, evt);\r\n                break;\r\n        }\r\n        evt && evt.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.createButtonMenu = function () {\r\n        if (!this.buttonMenu) {\r\n            var menuId = this.column.id;\r\n            if (menuId) {\r\n                menuId += '-ButtonMenu';\r\n            }\r\n            var common = [];\r\n            common.push({\r\n                id: \"enable\",\r\n                text: i18n.getText('MenuEnable')\r\n            });\r\n            if (this.panel.options.allowHiddenColumns) {\r\n                common.push({\r\n                    id: \"hidden\",\r\n                    text: i18n.getText('CmdHiddenColumn')\r\n                });\r\n            }\r\n            common.push({\r\n                id: \"delete\",\r\n                text: i18n.getText('CmdDelete')\r\n            });\r\n            var items = [];\r\n            items.push({\r\n                id: '__group',\r\n                text: ' ',\r\n                items: common\r\n            });\r\n            var sortItems = this.panel.options.allowSorting ? this.panel.getSortMenuList().concat(this.panel.getMoveMenuList()) :\r\n                this.panel.getMoveMenuList();\r\n            items.push({\r\n                id: '__group',\r\n                text: i18n.getText('CmdGroupSort'),\r\n                items: sortItems\r\n            });\r\n            var extra = this.getExtraButtonMenuItems();\r\n            if (extra && Array.isArray(extra)) {\r\n                items = items.concat(extra);\r\n            }\r\n            var menuOptions = {\r\n                items: items,\r\n                id: menuId,\r\n                searchBoxAlwaysShown: false,\r\n                domWriteItemsId: true,\r\n                showSelected: true\r\n            };\r\n            this.buttonMenu = new PopupMenu(menuOptions);\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.getButtonMenuSelectedItems = function () {\r\n        var arrSelected = [];\r\n        if (this.column.enabled) {\r\n            arrSelected.push(\"enable\");\r\n        }\r\n        ;\r\n        if (this.column.isHidden()) {\r\n            arrSelected.push(\"hidden\");\r\n        }\r\n        ;\r\n        return arrSelected;\r\n    };\r\n    return ColumnRendererCP;\r\n}());\r\nexport { ColumnRendererCP };\r\n//# sourceMappingURL=column_renderer.js.map","import { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { getElementAbsolutePos, getScrollPos, getWinSize, getViewportSize } from '@easydata/ui';\r\nimport { browserUtils } from './browser_utils';\r\nvar MenuLevel = /** @class */ (function () {\r\n    function MenuLevel(options) {\r\n        this.isFilteringMode = false;\r\n        this.showSelected = false;\r\n        //menu, items, levelIndex\r\n        this.parentMenu = options.menu || null;\r\n        this.parentLevel = options.parent || null;\r\n        this.parentElement = options.container || document.body;\r\n        this.levelIndex = options.levelIndex || 0;\r\n        this.levelDiv = null;\r\n        this.domWriteItemsId = options.domWriteItemsId || false;\r\n        this.menuId = options.menuId || '';\r\n        this.itemRenderedCallback = options.itemRenderedCallback || null;\r\n        //we need to define special \"apply\" item for this level\r\n        this.applyItem = { id: null, text: null, itemDiv: null };\r\n        this.items = options.items || [];\r\n        this.activeItem = null;\r\n        this.selectedItem = null;\r\n        this.initialized = false;\r\n        this.showSelected = options.showSelected;\r\n        this.updated = 0;\r\n        this.renderContent();\r\n    }\r\n    Object.defineProperty(MenuLevel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-menu';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MenuLevel.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    MenuLevel.prototype.setItems = function (items) {\r\n        this.items = items;\r\n    };\r\n    MenuLevel.prototype.renderContent = function () {\r\n        var _this = this;\r\n        if (!this.items) {\r\n            return;\r\n        }\r\n        var self = this;\r\n        //define internal variables used in this function\r\n        var itemBgColor = this.parentMenu.style.colors.bgON || \"white\";\r\n        var itemFgColor = this.parentMenu.style.colors.fgON || \"black\";\r\n        var itemOverBgColor = this.parentMenu.style.colors.bgOVER || \"LightSteelBlue\";\r\n        var itemFontFamily = this.parentMenu.style.itemStyle.fontFamily || \"\";\r\n        var itemFontSize = this.parentMenu.style.itemStyle.fontSize || \"14px\";\r\n        var multiselect = this.parentMenu.options.multiselect;\r\n        var isSubQuery = this.parentMenu.options.isSubQuery;\r\n        //add base DIV element which is also used to show the shadow\r\n        var baseDivBuilder = domel('div')\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            baseDivBuilder\r\n                .setStyle('backgroundColor', itemBgColor)\r\n                .setStyle('border', '1px solid')\r\n                .setStyle('borderColor', itemBgColor)\r\n                .setStyle('backgroundColor', this.parentMenu.style.colors.border)\r\n                .setStyle('margin', '-2px 2px 2px -2px')\r\n                .setStyle('width', 'auto')\r\n                .setStyle('height', 'auto');\r\n        }\r\n        baseDivBuilder\r\n            .setStyle('z-index', this.parentMenu.zIndex)\r\n            .setStyle('position', 'absolute')\r\n            .setStyle('display', 'none');\r\n        var baseDiv = baseDivBuilder.toDOM();\r\n        baseDiv['menuLevel'] = this;\r\n        var applyItem = this.applyItem;\r\n        //if multiselect option is on - then we should add special \"apply\" item\r\n        if (multiselect && this.levelIndex === 0) {\r\n            var applyDiv = document.createElement(\"div\");\r\n            applyDiv.classList.add(this.cssPrefix + \"-applyDiv\");\r\n            applyDiv['menuItem'] = applyItem;\r\n            this.applyBtn = document.createElement('button');\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                applyDiv.style.borderBottom = '1px solid';\r\n                applyDiv.style.padding = '5px';\r\n                applyDiv.style.marginBottom = '5px';\r\n                this.applyBtn.style.padding = '0 5px';\r\n                this.applyBtn.style.cursor = \"pointer\";\r\n            }\r\n            var applyTextNode = document.createTextNode(this.parentMenu.options.buttons.submit);\r\n            this.applyBtn.appendChild(applyTextNode);\r\n            applyDiv.appendChild(this.applyBtn);\r\n            //cancel btn\r\n            var cancelBtn = document.createElement('button');\r\n            cancelBtn.classList.add(this.cssPrefix + \"-cancel\");\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                cancelBtn.style.padding = '0 5px';\r\n                cancelBtn.style.cursor = 'pointer';\r\n                cancelBtn.style.marginLeft = '15px';\r\n            }\r\n            var cancelText = document.createTextNode(this.parentMenu.options.buttons.cancel);\r\n            cancelBtn.appendChild(cancelText);\r\n            applyDiv.appendChild(cancelBtn);\r\n            baseDiv.appendChild(applyDiv);\r\n            applyItem.itemDiv = applyDiv;\r\n            this.applyBtn.addEventListener('click', function () {\r\n                _this.submit(_this.applyItem);\r\n            });\r\n            cancelBtn.addEventListener('click', function () {\r\n                _this.parentMenu.hideMenu();\r\n            });\r\n        }\r\n        // if too many items - then we add a special \"search\" item\r\n        // or there is an options to show always\r\n        if (this.parentLevel == null\r\n            && (this.parentMenu.options.searchBoxAlwaysShown || this.items.length >= this.parentMenu.options.showSearchBoxAfter)) {\r\n            var searchDivBuilder = domel('div')\r\n                .addClass(this.cssPrefix + \"-searchDiv\");\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                searchDivBuilder\r\n                    .setStyle('border-bottom', '1px solid #666')\r\n                    .setStyle('background-color', itemBgColor)\r\n                    .setStyle('border-color', this.parentMenu.style.colors.border);\r\n                if (itemFontFamily != \"\") {\r\n                    searchDivBuilder.setStyle('font-family', itemFontFamily);\r\n                }\r\n                searchDivBuilder\r\n                    .setStyle('font-size', itemFontSize)\r\n                    .setStyle('color', itemFgColor)\r\n                    .setStyle('cursor', 'pointer')\r\n                    .setStyle('text-align', 'left')\r\n                    .setStyle('padding', '5px');\r\n            }\r\n            var searchEditBoxBuilder = domel('input')\r\n                .id('searchBox')\r\n                .name('searchBox')\r\n                .type('text')\r\n                .size(16)\r\n                .addClass(this.cssPrefix + \"-searchBox\")\r\n                .on('input', function (ev) {\r\n                _this.deactivateItem(_this.activeItem);\r\n                _this.renderItems(_this.searchBox.value);\r\n            })\r\n                .on('keydown', function (ev) {\r\n                var keyCode = ev.keyCode;\r\n                switch (keyCode) {\r\n                    case 13: //enter\r\n                        if (_this.activeItem) {\r\n                            _this.activeItem.itemDiv.click();\r\n                        }\r\n                        break;\r\n                    case 38: // up\r\n                        _this.moveActiveItemUp();\r\n                        break;\r\n                    case 40: // down\r\n                        _this.moveActiveItemDown();\r\n                        break;\r\n                    case 39: // right\r\n                        if (!_this.searchBox.value) {\r\n                            _this.openSubLevel(_this.activeItem);\r\n                        }\r\n                        break;\r\n                }\r\n            });\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                searchEditBoxBuilder\r\n                    .setStyle('font-family', 'monospace')\r\n                    .setStyle('font-size', '8pt')\r\n                    .setStyle('width', '100%');\r\n            }\r\n            if (isSubQuery) {\r\n                searchEditBoxBuilder.addClass('eqjs-dialog');\r\n            }\r\n            this.searchBox = searchEditBoxBuilder.toDOM();\r\n            this.searchDiv = searchDivBuilder.toDOM();\r\n            this.searchDiv.appendChild(this.searchBox);\r\n            baseDiv.appendChild(this.searchDiv);\r\n        }\r\n        var scrollDiv = document.createElement(\"div\");\r\n        scrollDiv.tabIndex = 1;\r\n        domel(scrollDiv)\r\n            .addClass(this.cssPrefix + \"-scrollDiv\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        scrollDiv.style.overflowX = \"hidden\";\r\n        scrollDiv.style.overflowY = \"auto\";\r\n        scrollDiv.style.position = \"relative\";\r\n        baseDiv.appendChild(scrollDiv);\r\n        this.levelDiv = baseDiv;\r\n        this.scrollDiv = scrollDiv;\r\n        if (this.menuId) {\r\n            this.levelDiv.id = this.menuId;\r\n        }\r\n        this.renderItems();\r\n        var scrollDivKeyDownHandler = function (event) {\r\n            switch (event.which) {\r\n                case 13: // enter\r\n                    if (_this.parentMenu.options.multiselect) {\r\n                        _this.parentMenu.getRootLevel().applyBtn.click();\r\n                    }\r\n                    else {\r\n                        if (_this.activeItem) {\r\n                            _this.activeItem.itemDiv.click();\r\n                        }\r\n                    }\r\n                    break;\r\n                case 32: // space\r\n                    if (_this.activeItem) {\r\n                        _this.activeItem.itemDiv.click();\r\n                    }\r\n                    break;\r\n                case 37: // left\r\n                    if (_this.parentLevel && !_this.isFilteringMode) {\r\n                        _this.deactivateItem(_this.activeItem);\r\n                        _this.parentLevel.focus();\r\n                    }\r\n                    break;\r\n                case 39: // right\r\n                    _this.openSubLevel(_this.activeItem);\r\n                    break;\r\n                case 38: // up\r\n                    _this.moveActiveItemUp();\r\n                    break;\r\n                case 40: // down\r\n                    _this.moveActiveItemDown();\r\n                    break;\r\n                default: return; // exit this handler for other keys\r\n            }\r\n            event.preventDefault(); // prevent the default action (scroll / move caret)            \r\n        };\r\n        scrollDiv.addEventListener(\"keydown\", scrollDivKeyDownHandler);\r\n        if (browserUtils.isMobileMode()) {\r\n            this.closeDiv =\r\n                domel('div', baseDiv)\r\n                    .addClass('eqjs-menu-close-btn')\r\n                    .addText(i18n.getText('ButtonClose'))\r\n                    .on('click', function () {\r\n                    _this.parentMenu.hideMenu();\r\n                })\r\n                    .toDOM();\r\n        }\r\n    };\r\n    MenuLevel.prototype.moveActiveItemDown = function () {\r\n        var items = this.isFilteringMode ? this.filteredItems : this.items;\r\n        if (this.activeItem) {\r\n            var idx = items.indexOf(this.activeItem);\r\n            if (idx < items.length - 1) {\r\n                this.activateItem(items[idx + 1], false);\r\n            }\r\n        }\r\n        else {\r\n            this.activateItem(items[0], false);\r\n        }\r\n    };\r\n    MenuLevel.prototype.moveActiveItemUp = function () {\r\n        var items = this.isFilteringMode ? this.filteredItems : this.items;\r\n        if (this.activeItem) {\r\n            var idx = items.indexOf(this.activeItem);\r\n            if (idx > 0) {\r\n                this.activateItem(items[idx - 1], false);\r\n            }\r\n        }\r\n        else {\r\n            this.activateItem(items[items.length - 1], false);\r\n        }\r\n    };\r\n    MenuLevel.prototype.openSubLevel = function (menuItem) {\r\n        if (menuItem && menuItem.items && !this.isFilteringMode) {\r\n            this.showSubLevel(menuItem);\r\n            menuItem.subLevel.activateItem(menuItem.subLevel.items[0]);\r\n        }\r\n    };\r\n    MenuLevel.prototype.focusScrollDiv = function () {\r\n        this.scrollDiv.focus();\r\n    };\r\n    MenuLevel.prototype.turnCheckboxes = function (items) {\r\n        //turn checkboxes on for selected items\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (item.itemCheckbox)\r\n                item.itemCheckbox.checked = this.isItemSelected(item);\r\n            if (item.items) {\r\n                this.turnCheckboxes(item.items);\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.isItemSelected = function (item) {\r\n        if (item.items) {\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                if (this.isItemSelected(item.items[i])) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        else {\r\n            return item.selected;\r\n        }\r\n    };\r\n    MenuLevel.prototype.setItemSelected = function (item, value) {\r\n        if (item.items) {\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                this.setItemSelected(item.items[i], value);\r\n            }\r\n        }\r\n        else {\r\n            item.selected = value;\r\n        }\r\n    };\r\n    MenuLevel.prototype.submitItems = function (items, selectedItems) {\r\n        for (var j = 0; j < items.length; j++) {\r\n            if (items[j].items) {\r\n                this.submitItems(items[j].items, selectedItems);\r\n            }\r\n            else {\r\n                if (items[j].selected) {\r\n                    selectedItems.push(items[j]);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.allSubitemsAreFiltered = function (items, filterCallback) {\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (filterCallback(items[i]))\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    MenuLevel.prototype.isItemDiv = function (element) {\r\n        return element['menuItem'] ? true : false;\r\n    };\r\n    MenuLevel.prototype.isLevelDiv = function (element) {\r\n        return element['menuLevel'] ? true : false;\r\n    };\r\n    MenuLevel.prototype.getMenuItem = function (element) {\r\n        var el = element;\r\n        while (!this.isItemDiv(el)) {\r\n            if (this.isLevelDiv(el)) {\r\n                throw \"Can't get menu item\";\r\n            }\r\n            el = el.parentElement;\r\n        }\r\n        return el['menuItem'];\r\n    };\r\n    MenuLevel.prototype.renderItemsWithoutFilter = function () {\r\n        var _this = this;\r\n        this.isFilteringMode = false;\r\n        var scrollDiv = this.scrollDiv;\r\n        var multiselect = this.parentMenu.options.multiselect;\r\n        var activateOnMouseOver = this.parentMenu.options.activateOnMouseOver;\r\n        var itemFgColor = this.parentMenu.style.colors.fgON || 'black';\r\n        var itemOverBgColor = this.parentMenu.style.colors.bgOVER || 'LightSteelBlue';\r\n        var itemFontSize = this.parentMenu.style.itemStyle.fontSize || '14px';\r\n        var itemFilterCallback = this.parentMenu.getItemFilterCallback();\r\n        scrollDiv.innerHTML = \"\";\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (!item || !item.text)\r\n                continue;\r\n            if (itemFilterCallback) {\r\n                if (!itemFilterCallback(item))\r\n                    continue;\r\n                if (item.items && this.allSubitemsAreFiltered(item.items, itemFilterCallback))\r\n                    continue;\r\n            }\r\n            item.data = function (propName) {\r\n                return _this[propName];\r\n            };\r\n            if (typeof (item.selected) == \"undefined\") {\r\n                item.selected = false;\r\n            }\r\n            if (item.selected && this.selectedItem == null) {\r\n                this.selectedItem = item;\r\n            }\r\n            var itemDiv = document.createElement(\"div\");\r\n            domel(itemDiv)\r\n                .addClass(this.cssPrefix + \"-itemDiv\")\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            if (item.selected && this.showSelected && !multiselect) {\r\n                itemDiv.classList.add(this.cssPrefix + \"-selected\");\r\n            }\r\n            ;\r\n            if (this.domWriteItemsId && this.menuId) {\r\n                itemDiv.id = 'item-' + this.menuId + '-' + item.id;\r\n            }\r\n            scrollDiv.appendChild(itemDiv);\r\n            itemDiv['menuItem'] = item;\r\n            itemDiv['menuLevel'] = this;\r\n            item.itemDiv = itemDiv;\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                itemDiv.style.fontSize = itemFontSize;\r\n                itemDiv.style.color = itemFgColor;\r\n                itemDiv.style.paddingLeft = \"15px\";\r\n                itemDiv.style.paddingRight = \"6px\";\r\n                itemDiv.style.cursor = \"pointer\";\r\n            }\r\n            if (item.text == '---') {\r\n                itemDiv.appendChild(document.createElement('hr'));\r\n            }\r\n            else {\r\n                if (multiselect) {\r\n                    var cb = document.createElement(\"input\");\r\n                    cb.type = \"checkbox\";\r\n                    cb.id = \"cb\" + item.id;\r\n                    cb.checked = this.isItemSelected(item);\r\n                    cb.defaultChecked = this.isItemSelected(item);\r\n                    itemDiv.appendChild(cb);\r\n                    item.itemCheckbox = cb;\r\n                    if (this.parentMenu.options.useDefaultStyles) {\r\n                        cb.style.margin = \"4px 10px 0 0\";\r\n                        cb.style.verticalAlign = \"top\";\r\n                    }\r\n                }\r\n                var itemText = document.createTextNode(item.text);\r\n                itemDiv.appendChild(itemText);\r\n                if (item.items && item.items.length > 0) {\r\n                    itemDiv.classList.add(this.cssPrefix + \"-itemDiv-hasChildren\");\r\n                    var arrowSpan = document.createElement('span');\r\n                    arrowSpan.classList.add(this.cssPrefix + \"-itemDiv-arrow\");\r\n                    itemDiv.appendChild(arrowSpan);\r\n                    var arrowText = document.createTextNode('>');\r\n                    arrowSpan.appendChild(arrowText);\r\n                }\r\n                var itemClickHandler = function (ev) {\r\n                    var menuItem = _this.getMenuItem(ev.target);\r\n                    if (multiselect) {\r\n                        if (!menuItem.items || ev.target == menuItem.itemCheckbox) {\r\n                            var itemSelected = _this.isItemSelected(menuItem);\r\n                            _this.setItemSelected(menuItem, !itemSelected);\r\n                            menuItem.itemCheckbox.checked = !itemSelected;\r\n                            _this.parentMenu.refreshCheckboxes();\r\n                        }\r\n                        else {\r\n                            _this.activateItem(menuItem);\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this.activateItem(menuItem);\r\n                        _this.submit(menuItem);\r\n                    }\r\n                    return false;\r\n                };\r\n                itemDiv.removeEventListener(\"click\", itemClickHandler);\r\n                itemDiv.addEventListener('click', itemClickHandler);\r\n                itemDiv.addEventListener('mouseenter', function (ev) {\r\n                    var item = _this.getMenuItem(ev.target);\r\n                    _this.parentMenu.isCursorInside = true;\r\n                    if (activateOnMouseOver) {\r\n                        _this.activateItem(item);\r\n                    }\r\n                });\r\n                itemDiv.addEventListener('mouseleave', function (ev) {\r\n                    var item = _this.getMenuItem(ev.target);\r\n                    _this.parentMenu.isCursorInside = false;\r\n                    setTimeout(function () {\r\n                        if (!_this.parentMenu.isCursorInside) {\r\n                            if (activateOnMouseOver && item == _this.activeItem && !item.subLevel) {\r\n                                _this.deactivateItem(item);\r\n                            }\r\n                        }\r\n                    }, 200);\r\n                });\r\n            }\r\n            if (this.itemRenderedCallback) {\r\n                this.itemRenderedCallback(this.menuId, itemDiv);\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.renderItemsWithFilter = function (filter) {\r\n        this.isFilteringMode = true;\r\n        var scrollDiv = this.scrollDiv;\r\n        scrollDiv.innerHTML = \"\";\r\n        var filterSections = filter.split('>');\r\n        var pureFilterTexts = filterSections.map(function (section) { return section.replace(/\\*/g, ''); });\r\n        var items = this.filterItems(this.items, filterSections);\r\n        this.filteredItems = [];\r\n        for (var i = 0; i < items.length; i++) {\r\n            this.renderItemWithFilter(items[i], pureFilterTexts, 0);\r\n        }\r\n    };\r\n    MenuLevel.prototype.matchesFilter = function (text, regexp) {\r\n        if (text && regexp) {\r\n            return regexp.test(text);\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    MenuLevel.prototype.filterItems = function (items, filterSections) {\r\n        var resultItems = [];\r\n        var filter = filterSections.length > 0 ? filterSections[0] : '';\r\n        var restFilterSections = filterSections.length > 1 ? filterSections.slice(1) : filterSections;\r\n        var filterRegexp = filter ? new RegExp(filter.replace(/\\*/g, '.+?'), 'i') : null;\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (item.items) {\r\n                var groupItem = dataUtils.assign({}, item);\r\n                var groupItemMatches = this.matchesFilter(item.text, filterRegexp);\r\n                //if we have only one filter section (or an empty filter)\r\n                if (filterSections.length < 2) {\r\n                    //if current group item matches the filter -> show all sub-items\r\n                    if (groupItemMatches && filterSections.length < 2) {\r\n                        groupItem.items = dataUtils.createArrayFrom(item.items);\r\n                    }\r\n                    else {\r\n                        groupItem.items = this.filterItems(item.items, restFilterSections);\r\n                    }\r\n                }\r\n                //if we have more than 1 filter section and there is a match -> filter sub-items as well\r\n                else if (groupItemMatches) {\r\n                    groupItem.items = this.filterItems(item.items, restFilterSections);\r\n                }\r\n                //otherwise we skip this group at all\r\n                else {\r\n                    groupItem.items = [];\r\n                }\r\n                if (groupItem.items.length > 0) {\r\n                    resultItems.push(groupItem);\r\n                }\r\n            }\r\n            else {\r\n                if (this.matchesFilter(item.text, filterRegexp)) {\r\n                    resultItems.push(item);\r\n                }\r\n            }\r\n        }\r\n        return resultItems;\r\n    };\r\n    MenuLevel.prototype.renderItemWithFilter = function (item, filterTexts, level) {\r\n        var _this = this;\r\n        var scrollDiv = this.scrollDiv;\r\n        var levelFilterText = level < filterTexts.length ? filterTexts[level] : filterTexts[filterTexts.length - 1];\r\n        var multiselect = this.parentMenu.options.multiselect;\r\n        var activateOnMouseOver = this.parentMenu.options.activateOnMouseOver;\r\n        var itemFgColor = this.parentMenu.style.colors.fgON || 'black';\r\n        var itemOverBgColor = this.parentMenu.style.colors.bgOVER || 'LightSteelBlue';\r\n        var itemFontSize = this.parentMenu.style.itemStyle.fontSize || '14px';\r\n        var itemFilterCallback = this.parentMenu.getItemFilterCallback();\r\n        if (!item || !item.text)\r\n            return;\r\n        if (itemFilterCallback) {\r\n            if (!itemFilterCallback(item))\r\n                return;\r\n            if (item.items && this.allSubitemsAreFiltered(item.items, itemFilterCallback))\r\n                return;\r\n        }\r\n        item.data = function (propName) {\r\n            return this[propName];\r\n        };\r\n        if (typeof (item.selected) == \"undefined\") {\r\n            item.selected = false;\r\n        }\r\n        if (item.selected && this.selectedItem == null) {\r\n            this.selectedItem = item;\r\n        }\r\n        var itemDiv = document.createElement(\"div\");\r\n        domel(itemDiv)\r\n            .addClass(this.cssPrefix + \"-itemDiv\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        itemDiv.style.marginLeft = level * 10 + \"px\";\r\n        if (item.selected && !multiselect) {\r\n            itemDiv.classList.add(this.cssPrefix + \"-selected\");\r\n        }\r\n        ;\r\n        if (this.domWriteItemsId && this.menuId) {\r\n            itemDiv.id = 'item-' + this.menuId + '-' + item.id;\r\n        }\r\n        scrollDiv.appendChild(itemDiv);\r\n        itemDiv['menuItem'] = item;\r\n        itemDiv['menuLevel'] = this;\r\n        item.itemDiv = itemDiv;\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            itemDiv.style.fontSize = itemFontSize;\r\n            itemDiv.style.color = itemFgColor;\r\n            itemDiv.style.paddingLeft = \"15px\";\r\n            itemDiv.style.paddingRight = \"6px\";\r\n            itemDiv.style.cursor = \"pointer\";\r\n        }\r\n        if (item.text == '---') {\r\n            itemDiv.appendChild(document.createElement('hr'));\r\n        }\r\n        else {\r\n            if (multiselect) {\r\n                var cb = document.createElement(\"input\");\r\n                cb.type = \"checkbox\";\r\n                cb.id = \"cb\" + item.id;\r\n                cb.checked = this.isItemSelected(item);\r\n                cb.defaultChecked = this.isItemSelected(item);\r\n                itemDiv.appendChild(cb);\r\n                item.itemCheckbox = cb;\r\n                if (this.parentMenu.options.useDefaultStyles) {\r\n                    cb.style.margin = \"4px 10px 0 0\";\r\n                    cb.style.verticalAlign = \"top\";\r\n                }\r\n            }\r\n            var itemText = document.createElement('span');\r\n            itemText.innerHTML = this.highlightText(item.text, levelFilterText);\r\n            itemDiv.appendChild(itemText);\r\n            if (item.items && item.items.length > 0) {\r\n                itemDiv.classList.add(this.cssPrefix + \"-itemDiv-filter-hasChildren\");\r\n            }\r\n            else {\r\n                this.filteredItems.push(item);\r\n                var itemClickHandler = function (event) {\r\n                    if (multiselect) {\r\n                        if (!item.items || event.target == item.itemCheckbox) {\r\n                            var itemSelected = _this.isItemSelected(item);\r\n                            _this.setItemSelected(item, !itemSelected);\r\n                            item.itemCheckbox.checked = !itemSelected;\r\n                            _this.parentMenu.refreshCheckboxes();\r\n                        }\r\n                        else {\r\n                            _this.activateItem(item);\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this.activateItem(item);\r\n                        _this.submit(item);\r\n                    }\r\n                    return false;\r\n                };\r\n                itemDiv.removeEventListener(\"click\", itemClickHandler);\r\n                itemDiv.addEventListener('click', itemClickHandler);\r\n                itemDiv.addEventListener('mouseenter', function (ev) {\r\n                    ;\r\n                    _this.parentMenu.isCursorInside = true;\r\n                    if (activateOnMouseOver) {\r\n                        _this.activateItem(item);\r\n                    }\r\n                });\r\n                itemDiv.addEventListener('mouseleave', function (ev) {\r\n                    _this.parentMenu.isCursorInside = false;\r\n                    setTimeout(function () {\r\n                        if (!_this.parentMenu.isCursorInside) {\r\n                            if (activateOnMouseOver && item == _this.activeItem && !item.subLevel) {\r\n                                _this.deactivateItem(item);\r\n                            }\r\n                        }\r\n                    }, 200);\r\n                });\r\n            }\r\n        }\r\n        if (item.items) {\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                this.renderItemWithFilter(item.items[i], filterTexts, level + 1);\r\n            }\r\n        }\r\n        if (this.itemRenderedCallback) {\r\n            this.itemRenderedCallback(this.menuId, itemDiv);\r\n        }\r\n    };\r\n    MenuLevel.prototype.highlightText = function (content, text) {\r\n        if (text && text.length > 0) {\r\n            var lowerText = text.toLowerCase();\r\n            var lowerContent = content.toLowerCase();\r\n            var insertValue1 = \"<span class='eqjs-menu-itemDiv-highlight'>\";\r\n            var insertValue2 = \"</span>\";\r\n            var startIndex = lowerContent.indexOf(lowerText);\r\n            if (startIndex >= 0) {\r\n                var pos = 0;\r\n                var value = content;\r\n                var indexInMas = [];\r\n                while (true) {\r\n                    var index = lowerContent.indexOf(lowerText, pos);\r\n                    if (index >= 0) {\r\n                        indexInMas.push(index);\r\n                        pos = index + text.length;\r\n                    }\r\n                    else {\r\n                        pos++;\r\n                    }\r\n                    if (pos >= value.length - 1) {\r\n                        break;\r\n                    }\r\n                }\r\n                if (indexInMas.length > 0) {\r\n                    content = '';\r\n                    for (var i = 0; i < indexInMas.length; i++) {\r\n                        if (i === 0) {\r\n                            content += value.substring(0, indexInMas[i]);\r\n                        }\r\n                        content += insertValue1 + value.substring(indexInMas[i], indexInMas[i] + text.length) + insertValue2;\r\n                        if (i < indexInMas.length - 1) {\r\n                            content += value.substring(indexInMas[i] + text.length, indexInMas[i + 1]);\r\n                        }\r\n                        else {\r\n                            content += value.substring(indexInMas[i] + text.length);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return content;\r\n    };\r\n    MenuLevel.prototype.renderItems = function (filter) {\r\n        if (!filter && !browserUtils.isMobileMode()) {\r\n            this.renderItemsWithoutFilter();\r\n        }\r\n        else {\r\n            filter = filter || '';\r\n            this.renderItemsWithFilter(filter.toLowerCase());\r\n        }\r\n    };\r\n    MenuLevel.prototype.activateItem = function (menuItem, openSubLevel) {\r\n        if (openSubLevel === void 0) { openSubLevel = true; }\r\n        if (this.activeItem != null) {\r\n            this.deactivateItem(this.activeItem);\r\n        }\r\n        this.activeItem = menuItem;\r\n        var rowElement = menuItem.itemDiv;\r\n        rowElement.classList.add('active');\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            var itemBgColor = this.parentMenu.style.colors.bgON;\r\n            var itemFgColor = this.parentMenu.style.colors.fgON;\r\n            var itemOverBgColor = this.parentMenu.style.colors.bgOVER;\r\n            var itemOverFgColor = this.parentMenu.style.colors.fgOVER || \"\";\r\n            var itemClass = this.parentMenu.style.itemClass || \"\";\r\n            var itemClassOver = this.parentMenu.style.itemClassOver || \"\";\r\n            if (itemClassOver != \"\") {\r\n                rowElement.style.backgroundColor = \"\";\r\n                rowElement.style.color = \"\";\r\n            }\r\n            else {\r\n                rowElement.style.backgroundColor = itemOverBgColor;\r\n                rowElement.style.color = itemOverFgColor;\r\n            }\r\n        }\r\n        if (menuItem.items && !this.isFilteringMode && openSubLevel) {\r\n            this.showSubLevel(menuItem);\r\n        }\r\n    };\r\n    MenuLevel.prototype.deactivateItem = function (menuItem) {\r\n        if (!menuItem)\r\n            return;\r\n        var rowElement = menuItem.itemDiv;\r\n        rowElement.classList.remove('active');\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            var itemBgColor = this.parentMenu.style.colors.bgON;\r\n            var itemFgColor = this.parentMenu.style.colors.fgON;\r\n            var itemClass = this.parentMenu.style.itemClass || \"\";\r\n            if (itemClass != \"\") {\r\n                rowElement.style.backgroundColor = \"\";\r\n                rowElement.style.color = \"\";\r\n            }\r\n            else {\r\n                rowElement.style.backgroundColor = itemBgColor;\r\n                rowElement.style.color = itemFgColor;\r\n            }\r\n        }\r\n        if (menuItem.subLevel) {\r\n            menuItem.subLevel.hide();\r\n        }\r\n        this.activeItem = null;\r\n    };\r\n    MenuLevel.prototype.showSubLevel = function (menuItem) {\r\n        if (!menuItem.subLevel) {\r\n            var levelId = '';\r\n            if (this.menuId) {\r\n                levelId = this.menuId + \"-\" + menuItem.id;\r\n            }\r\n            menuItem.subLevel = new MenuLevel({\r\n                showSelected: this.showSelected,\r\n                menu: this.parentMenu,\r\n                parent: this,\r\n                container: this.parentElement,\r\n                items: menuItem.items,\r\n                levelIndex: this.levelIndex + 1,\r\n                domWriteItemsId: this.domWriteItemsId,\r\n                menuId: levelId,\r\n                itemRenderedCallback: this.itemRenderedCallback\r\n            });\r\n        }\r\n        var pos = getElementAbsolutePos(menuItem.itemDiv);\r\n        var scroll = getScrollPos();\r\n        var winSize = getWinSize();\r\n        //show menu to the side that have more space available\r\n        var leftSpace = pos.x - scroll.left;\r\n        var rightSpace = winSize.width - leftSpace - menuItem.itemDiv.offsetWidth;\r\n        pos.x += menuItem.itemDiv.offsetParent.offsetWidth;\r\n        pos.y += 1;\r\n        menuItem.subLevel.showAt(pos.x, pos.y, true, true);\r\n        menuItem.subLevel.levelDiv.style.width = '';\r\n        menuItem.subLevel.levelDiv.style.right = '';\r\n        if ((rightSpace >= menuItem.subLevel.levelDiv.offsetWidth) || (rightSpace >= leftSpace)) { //show level to the right\r\n            if (rightSpace < menuItem.subLevel.levelDiv.offsetWidth) {\r\n                menuItem.subLevel.levelDiv.style.right = -scroll.left + 'px';\r\n            }\r\n        }\r\n        else { //show level to the left\r\n            if (leftSpace < menuItem.subLevel.levelDiv.offsetWidth) {\r\n                menuItem.subLevel.levelDiv.style.left = scroll.left + 4 + 'px';\r\n            }\r\n            else {\r\n                menuItem.subLevel.levelDiv.style.left = '';\r\n            }\r\n            menuItem.subLevel.levelDiv.style.right = getViewportSize().width - pos.x + menuItem.itemDiv.offsetWidth - 6 + 'px';\r\n        }\r\n        menuItem.subLevel.levelDiv.style.visibility = 'visible';\r\n        menuItem.subLevel.focus();\r\n    };\r\n    MenuLevel.prototype.adjustTopPos = function (top) {\r\n        var winSize = getWinSize();\r\n        var levelBottom = top - getScrollPos().top + this.levelDiv.offsetHeight;\r\n        var res = top;\r\n        if (levelBottom > winSize.height - 5) {\r\n            res -= levelBottom - winSize.height + 5;\r\n            if (res < getScrollPos().top) {\r\n                res = getScrollPos().top + 10;\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    MenuLevel.prototype.showAt = function (x, y, adjustTopPos, hidden) {\r\n        if (!this.items) {\r\n            return;\r\n        }\r\n        this.initLevelDiv();\r\n        //crocodile\r\n        this.turnCheckboxes(this.items);\r\n        this.renderItems();\r\n        var levelStyle = this.levelDiv.style;\r\n        if (hidden) {\r\n            this.levelDiv.style.visibility = 'hidden';\r\n        }\r\n        levelStyle.display = 'block';\r\n        levelStyle.left = x + 'px';\r\n        levelStyle.top = y + 'px';\r\n        this.scrollDiv.style.width = \"auto\";\r\n        this.scrollDiv.style.height = \"auto\";\r\n        //adjusting level top position\r\n        if (adjustTopPos) {\r\n            y = this.adjustTopPos(y);\r\n            levelStyle.top = y + 'px';\r\n        }\r\n        //setting minimal level width if it is defined\r\n        var minItemWidth = this.parentMenu.minItemWidth;\r\n        if (minItemWidth > 0 && this.scrollDiv.offsetWidth < minItemWidth) {\r\n            for (var i = 0; i < this.items.length; i++) {\r\n                this.items[i].itemDiv.style.width = minItemWidth + \"px\";\r\n            }\r\n        }\r\n        var maxItemWidth = this.parentMenu.maxItemWidth;\r\n        if (maxItemWidth > 0 && this.scrollDiv.offsetWidth > maxItemWidth) {\r\n            for (var i = 0; i < this.items.length; i++) {\r\n                this.items[i].itemDiv.style.width = maxItemWidth + \"px\";\r\n                this.items[i].itemDiv.style.overflowX = \"hidden\";\r\n            }\r\n        }\r\n        var winSize = getWinSize();\r\n        //adjustinng maximum height of the menu level if it does not fit to browser window\r\n        var maxHeight = winSize.height - (y - getScrollPos().top) - 15; //document.documentElement.scrollTop\r\n        if (this.parentMenu.maxHeight > 0 && maxHeight > this.parentMenu.maxHeight) {\r\n            maxHeight = this.parentMenu.maxHeight;\r\n        }\r\n        if (this.applyItem != null && this.applyItem.itemDiv != null) {\r\n            maxHeight -= this.applyItem.itemDiv.offsetHeight + 5;\r\n        }\r\n        if (this.searchDiv != null) {\r\n            maxHeight -= this.searchDiv.offsetHeight;\r\n        }\r\n        if (this.closeDiv != null) {\r\n            maxHeight -= this.closeDiv.offsetHeight;\r\n        }\r\n        if (this.levelDiv.offsetHeight > maxHeight) {\r\n            var newHeight = maxHeight;\r\n            if (newHeight < 50) {\r\n                newHeight = 50;\r\n            }\r\n            this.scrollDiv.style.height = newHeight + \"px\";\r\n        }\r\n        else {\r\n            this.scrollDiv.style.height = \"auto\";\r\n        }\r\n        this.activeItem = null;\r\n    };\r\n    MenuLevel.prototype.focus = function () {\r\n        var _this = this;\r\n        window.setTimeout(function () {\r\n            _this.scrollDiv.focus();\r\n            if (_this.searchBox != null) {\r\n                if (_this.parentMenu.options.searchBoxAutoFocus) {\r\n                    _this.searchBox.focus();\r\n                }\r\n                _this.searchBox.value = \"\";\r\n            }\r\n        }, 100);\r\n    };\r\n    MenuLevel.prototype.hide = function () {\r\n        if (this.activeItem !== null) {\r\n            if (this.activeItem.subLevel) {\r\n                this.activeItem.subLevel.hide();\r\n            }\r\n        }\r\n        if (this.levelDiv) {\r\n            var levelStyle = this.levelDiv.style;\r\n            levelStyle.display = 'none';\r\n            if (this.initialized) {\r\n                this.parentElement.removeChild(this.levelDiv);\r\n                this.initialized = false;\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.initLevelDiv = function () {\r\n        if (!this.initialized) {\r\n            this.parentElement.appendChild(this.levelDiv);\r\n            domel(this.levelDiv)\r\n                .addClass(this.cssPrefix + \"-levelDiv\")\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            this.initialized = true;\r\n        }\r\n    };\r\n    MenuLevel.prototype.submit = function (menuItem) {\r\n        if (menuItem != null) {\r\n            if (!menuItem.items) {\r\n                this.parentMenu.hideMenu();\r\n                var selectedItems = [];\r\n                if (menuItem == this.applyItem) {\r\n                    this.submitItems(this.items, selectedItems);\r\n                }\r\n                this.parentMenu.submitMenu(menuItem, selectedItems);\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.remove = function () {\r\n        //remove old level elements\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.subLevel) {\r\n                item.subLevel.remove();\r\n            }\r\n        }\r\n        if (this.levelDiv) {\r\n            this.levelDiv.innerHTML = \"\";\r\n            var parentNode = this.levelDiv.parentNode;\r\n            if (parentNode != null) {\r\n                parentNode.removeChild(this.levelDiv);\r\n            }\r\n        }\r\n        this.levelDiv = null;\r\n    };\r\n    MenuLevel.prototype.update = function (newItems) {\r\n        this.remove();\r\n        //create new level\r\n        this.items = newItems;\r\n        this.activeItem = null;\r\n        this.selectedItem = null;\r\n        this.applyItem.itemDiv = null;\r\n        this.initialized = false;\r\n        this.updated++;\r\n        this.renderContent();\r\n    };\r\n    MenuLevel.prototype.refreshCheckboxes = function () {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.itemCheckbox) {\r\n                item.itemCheckbox.checked = this.isItemSelected(item);\r\n            }\r\n            if (item.subLevel) {\r\n                item.subLevel.refreshCheckboxes();\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.refreshItems = function () {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.itemDiv) {\r\n                if (item.hidden) {\r\n                    item.itemDiv.style.display = \"none\";\r\n                }\r\n                else {\r\n                    item.itemDiv.style.display = \"block\";\r\n                }\r\n            }\r\n            if (item.subLevel) {\r\n                item.subLevel.refreshItems();\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.findItem = function (searchedText) {\r\n        var txt = searchedText.toLowerCase();\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.text.toLowerCase().indexOf(txt) == 0) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return MenuLevel;\r\n}());\r\nvar PopupMenu = /** @class */ (function () {\r\n    function PopupMenu(options) {\r\n        var _this = this;\r\n        this.isCursorInside = false;\r\n        this.mouseIsOverBlock = false;\r\n        this.mouseIsOverLink = false;\r\n        this.toId = null;\r\n        this.active = false;\r\n        this.ancorFocused = null;\r\n        this.options = {\r\n            items: [],\r\n            buttons: {\r\n                submit: i18n.getText('ButtonApply'),\r\n                cancel: i18n.getText('ButtonCancel')\r\n            },\r\n            itemFilterCallback: null,\r\n            useDefaultStyles: false,\r\n            multiselect: false,\r\n            adjustHeight: true,\r\n            showSearchBoxAfter: 30,\r\n            activateOnMouseOver: true,\r\n            container: document.body,\r\n            zIndex: 100000,\r\n            domWriteItemsId: false,\r\n            itemRenderedCallback: null\r\n        };\r\n        if (options) {\r\n            dataUtils.assignDeep(this.options, options);\r\n        }\r\n        this.menuId = PopupMenu.lastMenuID++;\r\n        this.updateProps();\r\n        this.rootLevel = new MenuLevel({\r\n            menu: this,\r\n            items: this.options.items,\r\n            levelIndex: 0,\r\n            container: this.options.container,\r\n            domWriteItemsId: this.options.domWriteItemsId,\r\n            menuId: this.options.id,\r\n            itemRenderedCallback: this.options.itemRenderedCallback,\r\n            showSelected: this.options.showSelected,\r\n        });\r\n        this.rootLevel.levelDiv.classList.add(this.cssPrefix + \"-rootLevel\");\r\n        this.rootLevel.levelDiv.style.zIndex = \"\" + this.options.zIndex;\r\n        this.menuKeyUpHandler = function (e) {\r\n            if (e.which == 27) {\r\n                _this.hideMenu();\r\n                e.stopImmediatePropagation();\r\n            }\r\n        };\r\n        this.globalMouseDownHandler = function (e) {\r\n            if (!_this.active)\r\n                return true;\r\n            var event = window.event || e;\r\n            var o = event.srcElement || event.target;\r\n            var isOutside = true;\r\n            while (o) {\r\n                if (o.tagName && o.tagName.toLowerCase() == 'div') {\r\n                    // it is added in renderContent of MenuLevel class\r\n                    if (o.menuLevel) {\r\n                        if (o.menuLevel.parentMenu == _this) {\r\n                            isOutside = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                o = o.parentNode || o.parentElement;\r\n            }\r\n            if (isOutside) {\r\n                _this.hideMenu();\r\n            }\r\n            return true;\r\n        };\r\n        this.render();\r\n    }\r\n    Object.defineProperty(PopupMenu.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-menu';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PopupMenu.prototype.getItems = function () {\r\n        return this.rootLevel.getItems();\r\n    };\r\n    PopupMenu.prototype.updateProps = function () {\r\n        this.style = {};\r\n        this.style.colors = { border: \"#666666\", shadow: \"#888888\", bgON: \"white\", fgON: \"black\", bgOVER: \"#B6BDD2\", fgOVER: \"black\" };\r\n        this.style.itemStyle = { fontSize: \"14px\" };\r\n        this.minItemWidth = 0;\r\n        this.maxItemWidth = 0;\r\n        this.maxHeight = 0;\r\n        this.zIndex = \"\" + this.options.zIndex;\r\n        this.commandTemplate = \"\";\r\n        this.args = [];\r\n        this.active = false;\r\n    };\r\n    PopupMenu.prototype.render = function () {\r\n    };\r\n    PopupMenu.prototype.clearItemsMenuProps = function (items) {\r\n        if (!items)\r\n            return;\r\n        for (var i = 0; i < items.length; i++) {\r\n            this.clearItemMenuProps(items[i]);\r\n        }\r\n    };\r\n    PopupMenu.prototype.clearItemMenuProps = function (item) {\r\n        //don't clear properties they belong this menu\r\n        if (item.subLevel && item.subLevel.parentMenu == this)\r\n            return;\r\n        if (item.subLevel) {\r\n            item.subLevel.remove();\r\n            item.subLevel = null;\r\n        }\r\n        if (item.itemDiv) {\r\n            item.itemDiv = null;\r\n        }\r\n        if (item.items) {\r\n            this.clearItemsMenuProps(item.items);\r\n        }\r\n    };\r\n    PopupMenu.prototype.setSelectedItems = function (items, selectedIds) {\r\n        var itemsLength = items ? items.length : 0;\r\n        for (var i = 0; i < itemsLength; i++) {\r\n            var item = items[i];\r\n            if (item.items) {\r\n                this.setSelectedItems(item.items, selectedIds);\r\n            }\r\n            else {\r\n                item.selected = selectedIds.indexOf(item.id) >= 0;\r\n            }\r\n        }\r\n    };\r\n    PopupMenu.prototype.getRootLevel = function () {\r\n        return this.rootLevel;\r\n    };\r\n    PopupMenu.prototype.getItemFilterCallback = function () {\r\n        return this.itemFilterCallback;\r\n    };\r\n    PopupMenu.prototype.showMenu = function (options) {\r\n        this.ancorFocused = options.anchor == document.activeElement ? options.anchor : null;\r\n        this.clearItemsMenuProps(this.options.items);\r\n        this.itemSelectedCallback = options.itemSelectedCallback || null;\r\n        this.menuClosedCallback = options.menuClosedCallback || null;\r\n        this.itemFilterCallback = options.itemFilterCallback || null;\r\n        if (options.items) {\r\n            this.options.items = options.items;\r\n            this.rootLevel.setItems(options.items);\r\n        }\r\n        if (options.onMenuItemSelected) {\r\n            this.options.onMenuItemSelected = options.onMenuItemSelected;\r\n        }\r\n        var selectedIds = options.selectedIds || null;\r\n        if (selectedIds) {\r\n            if (typeof selectedIds === \"string\") {\r\n                selectedIds = selectedIds.split(\",\");\r\n            }\r\n        }\r\n        else {\r\n            selectedIds = [];\r\n        }\r\n        this.active = true;\r\n        this.setSelectedItems(this.options.items, selectedIds);\r\n        if (browserUtils.isMobileMode()) {\r\n            this.rootLevel.showAt(0, 0, true, true);\r\n            this.rootLevel.levelDiv.style.top = '0px';\r\n            this.rootLevel.levelDiv.style.bottom = '0px';\r\n            this.rootLevel.levelDiv.style.right = '0px';\r\n            this.rootLevel.levelDiv.style.position = 'fixed';\r\n            this.rootLevel.levelDiv.style.fontSize = '20px';\r\n        }\r\n        else {\r\n            var anchor = options.anchor || document.documentElement;\r\n            var srcPos = getElementAbsolutePos(anchor);\r\n            var anchorHeight = anchor.offsetHeight;\r\n            var anchorWidth = anchor.offsetHeight;\r\n            var pos = {\r\n                x: srcPos.x,\r\n                y: srcPos.y + anchorHeight + 2\r\n            };\r\n            var scroll_1 = getScrollPos();\r\n            var winSize = getWinSize();\r\n            //show menu to the side that have more space available\r\n            var leftSpace = pos.x + anchorWidth - scroll_1.left;\r\n            var rightSpace = winSize.width - leftSpace + anchorWidth;\r\n            pos.x += 2;\r\n            this.rootLevel.showAt(pos.x, pos.y, true, true);\r\n            this.rootLevel.levelDiv.style.width = '';\r\n            this.rootLevel.levelDiv.style.right = '';\r\n            if ((rightSpace >= this.rootLevel.levelDiv.offsetWidth) || (rightSpace >= leftSpace)) {\r\n                //show level to the right\r\n                if (rightSpace < this.rootLevel.levelDiv.offsetWidth) {\r\n                    this.rootLevel.levelDiv.style.right = -scroll_1.left + 'px';\r\n                }\r\n            }\r\n            else {\r\n                //show level to the left\r\n                if (leftSpace < this.rootLevel.levelDiv.offsetWidth) {\r\n                    this.rootLevel.levelDiv.style.left = scroll_1.left + 4 + 'px';\r\n                }\r\n                else {\r\n                    this.rootLevel.levelDiv.style.left = '';\r\n                }\r\n                this.rootLevel.levelDiv.style.right = getViewportSize().width - pos.x - anchorWidth + 'px';\r\n            }\r\n            this.rootLevel.levelDiv.style.fontSize = '14px';\r\n        }\r\n        this.rootLevel.levelDiv.style.visibility = 'visible';\r\n        this.rootLevel.focus();\r\n        document.addEventListener('keyup', this.menuKeyUpHandler);\r\n        document.addEventListener('mousedown', this.globalMouseDownHandler, true);\r\n    };\r\n    PopupMenu.prototype.hideMenu = function () {\r\n        document.removeEventListener('mousedown', this.globalMouseDownHandler, true);\r\n        document.removeEventListener('keyup', this.menuKeyUpHandler);\r\n        this.rootLevel.hide();\r\n        if (this.ancorFocused) {\r\n            this.ancorFocused.focus();\r\n        }\r\n        if (this.menuClosedCallback) {\r\n            this.menuClosedCallback();\r\n        }\r\n    };\r\n    PopupMenu.prototype.submitMenu = function (menuItem, selectedItems) {\r\n        if (this.itemSelectedCallback) {\r\n            this.itemSelectedCallback(menuItem, selectedItems);\r\n        }\r\n    };\r\n    PopupMenu.prototype.knockMenuStyle = function (menu) {\r\n        menu.removeAttribute('style');\r\n        var ul = menu.querySelectorAll('ul').item(0);\r\n        var hasUlStyle = ul && ul.style ? true : false;\r\n        if (hasUlStyle !== false) {\r\n            ul.setAttribute('style', '');\r\n        }\r\n    };\r\n    PopupMenu.prototype.refreshItems = function () {\r\n        this.rootLevel.refreshItems();\r\n    };\r\n    PopupMenu.prototype.refreshCheckboxes = function () {\r\n        this.rootLevel.refreshCheckboxes();\r\n    };\r\n    PopupMenu.lastMenuID = 0;\r\n    return PopupMenu;\r\n}());\r\nexport { PopupMenu };\r\n//# sourceMappingURL=popup_menu.js.map","var DisplayFormatParser = /** @class */ (function () {\r\n    function DisplayFormatParser() {\r\n        this.formatStr = '';\r\n        this.pos = 0;\r\n        this.token = 'text';\r\n        this.tokenText = '';\r\n    }\r\n    DisplayFormatParser.prototype.start = function (s) {\r\n        this.formatStr = s;\r\n        this.pos = 0;\r\n        this.tokenText = '';\r\n    };\r\n    DisplayFormatParser.prototype.skipSpaces = function () {\r\n        while (this.pos < this.formatStr.length && this.formatStr.charAt(this.pos) === ' ')\r\n            this.pos++;\r\n    };\r\n    DisplayFormatParser.prototype.getToken = function () {\r\n        return this.token;\r\n    };\r\n    DisplayFormatParser.prototype.getTokenText = function () {\r\n        return this.tokenText;\r\n    };\r\n    DisplayFormatParser.prototype.next = function () {\r\n        this.skipSpaces();\r\n        if (this.pos >= this.formatStr.length)\r\n            return false;\r\n        var npos = 0;\r\n        if (this.formatStr.charAt(this.pos) === '{') {\r\n            npos = this.formatStr.indexOf('}', this.pos);\r\n            if (npos < 0)\r\n                return false;\r\n            this.tokenText = this.formatStr.substring(this.pos, npos + 1);\r\n            if (this.tokenText.indexOf('{expr') === 0 || this.tokenText.indexOf('{attr') === 0) {\r\n                this.token = 'expression';\r\n            }\r\n            this.pos = npos + 1;\r\n        }\r\n        else if (this.formatStr.charAt(this.pos) === '[' && this.pos < this.formatStr.length - 1 && this.formatStr.charAt(this.pos + 1) === '[') {\r\n            this.pos += 2;\r\n            npos = this.formatStr.indexOf(']]', this.pos);\r\n            this.token = 'function';\r\n            this.tokenText = this.formatStr.substring(this.pos, npos);\r\n            this.pos = npos + 2;\r\n        }\r\n        else {\r\n            this.token = 'text';\r\n            var npos1 = this.formatStr.indexOf('{', this.pos);\r\n            if (npos1 < 0)\r\n                npos1 = this.formatStr.length;\r\n            var npos2 = this.formatStr.indexOf('[[', this.pos);\r\n            if (npos2 < 0)\r\n                npos2 = this.formatStr.length;\r\n            npos = Math.min(npos1, npos2);\r\n            this.tokenText = this.formatStr.substring(this.pos, npos).trim();\r\n            this.pos = npos;\r\n        }\r\n        return true;\r\n    };\r\n    return DisplayFormatParser;\r\n}());\r\nexport { DisplayFormatParser };\r\n//# sourceMappingURL=display_format_parser.js.map","/**\r\n * Represents parts of Query Panel which can be editable\r\n */\r\nexport var QPEditablePart;\r\n(function (QPEditablePart) {\r\n    QPEditablePart[QPEditablePart[\"None\"] = 0] = \"None\";\r\n    QPEditablePart[QPEditablePart[\"Value\"] = 1] = \"Value\";\r\n    QPEditablePart[QPEditablePart[\"Attribute\"] = 2] = \"Attribute\";\r\n    QPEditablePart[QPEditablePart[\"Operator\"] = 4] = \"Operator\";\r\n    QPEditablePart[QPEditablePart[\"Addition\"] = 8] = \"Addition\";\r\n    QPEditablePart[QPEditablePart[\"Removal\"] = 16] = \"Removal\";\r\n    QPEditablePart[QPEditablePart[\"All\"] = 255] = \"All\";\r\n    QPEditablePart[QPEditablePart[\"NoAddition\"] = -9] = \"NoAddition\";\r\n    QPEditablePart[QPEditablePart[\"NoRemoval\"] = -17] = \"NoRemoval\";\r\n    QPEditablePart[QPEditablePart[\"FixedConditionList\"] = 5] = \"FixedConditionList\";\r\n})(QPEditablePart || (QPEditablePart = {}));\r\n//# sourceMappingURL=qp_editable_part.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, DataType } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { createBrowserEvent, domel } from '@easydata/ui';\r\nimport { ColumnRendererCP } from './column_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar SimpleColumnRendererCP = /** @class */ (function (_super) {\r\n    __extends(SimpleColumnRendererCP, _super);\r\n    function SimpleColumnRendererCP() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\";\r\n    };\r\n    SimpleColumnRendererCP.prototype.renderExpressionBlock = function () {\r\n        var _this = this;\r\n        return domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-expr-block\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-attrelement\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(_this.renderBaseExpression()); })\r\n            .toDOM();\r\n    };\r\n    SimpleColumnRendererCP.prototype.renderBaseExpression = function () {\r\n        var _this = this;\r\n        var attrCaption = this.getAttributeCaption(this.baseAttr);\r\n        if (this.isEditable()) {\r\n            return domel('a')\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(attrCaption)\r\n                .text(attrCaption) //TO DO:add localization\r\n                .on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                //ev.preventDefault();\r\n                _this.panel.showEntitiesMenu({\r\n                    anchor: ev.target,\r\n                    selectedIds: null,\r\n                    itemSelectedCallback: _this.baseExpressionItemSelectedCallback.bind(_this)\r\n                });\r\n                return false;\r\n            })\r\n                .toDOM();\r\n        }\r\n        return domel('span')\r\n            .text(attrCaption)\r\n            .title(attrCaption)\r\n            .toDOM();\r\n    };\r\n    SimpleColumnRendererCP.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.id = attrid;\r\n        this.column.expr.setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.fireColumnChanged();\r\n        return false;\r\n    };\r\n    SimpleColumnRendererCP.prototype.getUIS = function () {\r\n        var arg = this.column.expr.args[0];\r\n        if (arg) {\r\n            var model = this.panel.getContext().getModel();\r\n            return model.checkAttrProperty(arg.value, \"useInSorting\");\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    SimpleColumnRendererCP.prototype.changeTypeHandler = function (ev) {\r\n        var _this = this;\r\n        this.keepShowingButtons = true;\r\n        this.functionMenu.showMenu({\r\n            anchor: ev.target,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                _this.processExtraButtonMenuItems(data.id, null);\r\n                return false;\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n                if (!_this.isMouseOverBlock) {\r\n                    _this.element.dispatchEvent(createBrowserEvent('mouseleave'));\r\n                }\r\n            }\r\n        });\r\n    };\r\n    SimpleColumnRendererCP.prototype.changeTypeToCustomSql = function () {\r\n        var _this = this;\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.CustomSql);\r\n        var parentElement = this.element.parentElement;\r\n        setTimeout(function () {\r\n            //focus CustomSQL Edit\r\n            var newElement = parentElement.querySelector(\"div[data-id='\" + _this.column.id + \"']  div[class*='\" + _this.cssPrefix + \"-expr-block']  div[class*='\" + _this.cssPrefix + \"-colelement']  a\");\r\n            if (newElement)\r\n                newElement.click();\r\n        }, 500);\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCP.prototype.changeTypeToAggr = function (funcId) {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.AggregateFunction, { funcId: funcId });\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCP.prototype.processExtraButtonMenuItems = function (action, evt) {\r\n        if (action === \"CUSTOMSQL\") {\r\n            this.changeTypeToCustomSql();\r\n        }\r\n        else {\r\n            this.changeTypeToAggr(action);\r\n        }\r\n        return true;\r\n    };\r\n    SimpleColumnRendererCP.prototype.getExtraButtonMenuItems = function () {\r\n        var items = [];\r\n        var funcs = this.panel.getContext().getModel().getAggrFunctions();\r\n        var toInclude = true;\r\n        var funcAllowed = true;\r\n        var item = null;\r\n        var attribute = this.getAttribute();\r\n        var funcCaption;\r\n        for (var idx = 0; idx < funcs.length; idx++) {\r\n            if (!funcs[idx])\r\n                continue;\r\n            toInclude = true;\r\n            if (funcs[idx].id === 'SUM' || funcs[idx].id === 'AVG') {\r\n                toInclude = [DataType.Autoinc, DataType.Byte, DataType.Currency, DataType.Float, DataType.Int32,\r\n                    DataType.Int64, DataType.Word].indexOf(attribute.dataType) >= 0;\r\n            }\r\n            else if (funcs[idx].id === 'MIN' || funcs[idx].id === 'MAX') {\r\n                toInclude = [DataType.Autoinc, DataType.BCD, DataType.Byte, DataType.Currency, DataType.Date, DataType.DateTime, DataType.Time,\r\n                    DataType.Float, DataType.Int32, DataType.Int64, DataType.Word].indexOf(attribute.dataType) >= 0;\r\n            }\r\n            if (this.column.expr.func === funcs[idx].id && !toInclude) {\r\n                funcAllowed = false;\r\n            }\r\n            if (toInclude) {\r\n                funcCaption = this.panel.getContext().getModel().getAggrFunctionCaption(funcs[idx].id);\r\n                item = {\r\n                    id: funcs[idx].id,\r\n                    text: funcCaption\r\n                };\r\n                items.push(item);\r\n            }\r\n        }\r\n        if (!funcAllowed) {\r\n            this.column.expr.func = items[0].id;\r\n        }\r\n        //Add \"Custom Expression\" menu\r\n        var columnsPanel = this.panel;\r\n        if (columnsPanel.areCustomExpressionsAllowed()) {\r\n            item = {\r\n                id: 'CustomSqlDivider',\r\n                text: '---'\r\n            };\r\n            items.push(item);\r\n            funcCaption = i18n.getText('CustomExpression');\r\n            item = {\r\n                id: 'CUSTOMSQL',\r\n                text: funcCaption\r\n            };\r\n            items.push(item);\r\n        }\r\n        return [{\r\n                id: '__group',\r\n                text: i18n.getText('ColTypeGroup'),\r\n                items: items\r\n            }];\r\n    };\r\n    return SimpleColumnRendererCP;\r\n}(ColumnRendererCP));\r\nexport { SimpleColumnRendererCP };\r\n//# sourceMappingURL=simple_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { DisplayFormatParser } from '../../../utils/display_format_parser';\r\n;\r\nimport { SimpleColumnRendererCP } from './simple_column_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar AggrFuncColumnRendererCP = /** @class */ (function (_super) {\r\n    __extends(AggrFuncColumnRendererCP, _super);\r\n    function AggrFuncColumnRendererCP() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.displayFormatParser = new DisplayFormatParser();\r\n        return _this;\r\n    }\r\n    AggrFuncColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-aggr\";\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.getAttribute = function () {\r\n        return this.panel\r\n            .getContext()\r\n            .getModel()\r\n            .getAttributeById(this.column.expr.args[0].value);\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.getDefaultColumnCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr) + ' '\r\n            + this.panel.getContext().getModel().getAggrFunctionCaption(this.column.expr.func);\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.renderExpressionBlock = function () {\r\n        var _this = this;\r\n        var model = this.panel.getContext().getModel();\r\n        var exprBlockBuilder = domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-expr-block\", this.cssPrefix + \"-expr-block-aggr\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        var format = model.getAggrFunctionFormat(this.column.expr.func);\r\n        if (!format || format === '')\r\n            return;\r\n        var arrFormat = this.parseDisplayFormat(format);\r\n        if (arrFormat.length === 0)\r\n            return;\r\n        var item = null;\r\n        var arrLength = arrFormat.length;\r\n        var _loop_1 = function (idx) {\r\n            item = arrFormat[idx];\r\n            if (item.type === 1) {\r\n                if (this_1.isEditable()) {\r\n                    var functionLink_1 = domel('a')\r\n                        .attr('href', 'javascript:void(0)')\r\n                        .text(item.text)\r\n                        .on('click', function (ev) {\r\n                        ev.stopPropagation();\r\n                        _this.functionMenu.showMenu({\r\n                            anchor: functionLink_1.toDOM(),\r\n                            selectedIds: null,\r\n                            itemSelectedCallback: function (data, items) {\r\n                                if (data.id === \"CUSTOMSQL\") {\r\n                                    _this.changeTypeToCustomSql();\r\n                                }\r\n                                else {\r\n                                    _this.column.expr.func = data.id;\r\n                                    _this.column.caption = '';\r\n                                    _this.fireColumnChanged();\r\n                                }\r\n                            }\r\n                        });\r\n                    });\r\n                    exprBlockBuilder\r\n                        .addChild('div', function (builder) { return builder\r\n                        .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-aggrfuncelement\")\r\n                        .addClass(browserUtils.getMobileCssClass())\r\n                        .addChildElement(functionLink_1.toDOM()); });\r\n                }\r\n                else {\r\n                    exprBlockBuilder\r\n                        .addChild('div', function (b) { return b\r\n                        .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-aggrfuncelement\")\r\n                        .addClass(browserUtils.getMobileCssClass())\r\n                        .addChild('span', function (b) { return b\r\n                        .text(item.text)\r\n                        .title(item.text); }); });\r\n                }\r\n            }\r\n            else if (item.type === 2) {\r\n                exprBlockBuilder\r\n                    .addChild('div', function (builder) { return builder\r\n                    .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-attrelement\")\r\n                    .addClass(browserUtils.getMobileCssClass())\r\n                    .addChildElement(_this.renderBaseExpression()); });\r\n            }\r\n            else if (item.type === 3) {\r\n                exprBlockBuilder\r\n                    .addChild('span', function (builder) { return builder\r\n                    .addClass(_this.cssPrefix + \"-colelement\")\r\n                    .addClass(browserUtils.getMobileCssClass())\r\n                    .text(item.text)\r\n                    .title(item.text); });\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            _loop_1(idx);\r\n        }\r\n        return exprBlockBuilder.toDOM();\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.renderColumnTypeButton = function () {\r\n        var button = _super.prototype.renderColumnTypeButton.call(this);\r\n        if (button) {\r\n            button.firstElementChild.classList.add('aggregated');\r\n            button.firstElementChild.setAttribute('title', i18n.getText('ButtonToSimple'));\r\n        }\r\n        return button;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.args[0].id = attrid;\r\n        this.column.expr.args[0].setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.fireColumnChanged();\r\n        return false;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.changeTypeToSimple = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.EntityAttribute);\r\n        this.fireColumnChanged();\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.parseDisplayFormat = function (format) {\r\n        if (!format)\r\n            return [];\r\n        var result = [];\r\n        var parser = this.displayFormatParser;\r\n        parser.start(format);\r\n        while (parser.next()) {\r\n            var token = parser.getToken();\r\n            var tokenText = parser.getTokenText();\r\n            if (token === 'function') {\r\n                result.push({ type: 1, text: tokenText });\r\n            }\r\n            else if (token === 'expression') {\r\n                result.push({ type: 2 });\r\n            }\r\n            else if (token === 'text') {\r\n                result.push({ type: 3, text: tokenText });\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.changeTypeHandler = function (ev) {\r\n        this.changeTypeToSimple();\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.processExtraButtonMenuItems = function (action, evt) {\r\n        this.changeTypeToSimple();\r\n        return true;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.getExtraButtonMenuItems = function () {\r\n        return [{\r\n                id: '__group',\r\n                text: i18n.getText('ColTypeGroup'),\r\n                items: [{\r\n                        id: 'type',\r\n                        text: i18n.getText('ColTypeSimple')\r\n                    }]\r\n            }];\r\n    };\r\n    return AggrFuncColumnRendererCP;\r\n}(SimpleColumnRendererCP));\r\nexport { AggrFuncColumnRendererCP };\r\n//# sourceMappingURL=aggrfunc_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { SimpleColumnRendererCP } from './simple_column_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar CustomSqlColumnRendererCP = /** @class */ (function (_super) {\r\n    __extends(CustomSqlColumnRendererCP, _super);\r\n    function CustomSqlColumnRendererCP() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CustomSqlColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\" + _super.prototype.getClassesToAdd.call(this);\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.renderColumnTypeButton = function () {\r\n        var button = _super.prototype.renderColumnTypeButton.call(this);\r\n        if (button) {\r\n            button.firstElementChild.classList.add('aggregated');\r\n            button.firstElementChild.setAttribute('title', i18n.getText('ButtonToSimple'));\r\n        }\r\n        return button;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.renderExpressionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultColumnCaption();\r\n        }\r\n        var exprBlock = domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-expr-block\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .toDOM();\r\n        var builder = domel('div', exprBlock)\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-attrelement\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        if (this.isEditable()) {\r\n            builder\r\n                .addChild('a', function (b) { return b\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(_this.column.caption)\r\n                .text(_this.column.caption)\r\n                .on('touchstart click', function (ev) {\r\n                ev.stopPropagation();\r\n                var element = ev.target;\r\n                var inputEl = element.parentElement.querySelector('input');\r\n                if (inputEl) {\r\n                    element.style.display = 'none';\r\n                    inputEl.style.removeProperty('display');\r\n                    inputEl.style.width = \"100%\";\r\n                    inputEl.focus();\r\n                }\r\n            }); } //TO DO:add localization and input field\r\n            )\r\n                .addChild('input', function (b) { return b\r\n                .hide()\r\n                .value(_this.column.expr.sql)\r\n                .on('blur keydown', function (ev) {\r\n                var isEndEvent = false;\r\n                var save = true;\r\n                if (ev instanceof KeyboardEvent) {\r\n                    // Enter\r\n                    if (ev.keyCode === 13) {\r\n                        isEndEvent = true;\r\n                        //ESC\r\n                    }\r\n                    else if (ev.keyCode === 27) {\r\n                        isEndEvent = true;\r\n                        save = false;\r\n                    }\r\n                }\r\n                else if (ev instanceof FocusEvent) {\r\n                    isEndEvent = true;\r\n                }\r\n                if (isEndEvent) {\r\n                    var inputEl = ev.target;\r\n                    var aEl = inputEl.parentElement.querySelector('a');\r\n                    if (aEl) {\r\n                        aEl.style.removeProperty('display');\r\n                        inputEl.style.display = 'none';\r\n                    }\r\n                    if (save && _this.column.expr.sql !== inputEl.value) {\r\n                        _this.column.expr.sql = inputEl.value;\r\n                        _this.fireColumnChanged();\r\n                    }\r\n                    else {\r\n                        inputEl.value = _this.column.expr.sql;\r\n                    }\r\n                }\r\n            }); });\r\n        }\r\n        else {\r\n            builder\r\n                .addChild('span', function (b) {\r\n                b.text(_this.column.caption)\r\n                    .title(_this.column.caption);\r\n            });\r\n        }\r\n        return exprBlock;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.changeTypeToSimple = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.EntityAttribute);\r\n        this.fireColumnChanged();\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getDefaultColumnCaption = function () {\r\n        return \"Custom SQL Column\";\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getDefaultValue = function () {\r\n        return this.column.expr.sql;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getUIS = function () {\r\n        return true;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.changeTypeHandler = function (ev) {\r\n        this.changeTypeToSimple();\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.processExtraButtonMenuItems = function (action, evt) {\r\n        this.changeTypeToSimple();\r\n        return true;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.createFunctionMenu = function () {\r\n        // Nothing TO DO\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getExtraButtonMenuItems = function () {\r\n        return [{\r\n                id: '__group',\r\n                text: i18n.getText('ColTypeGroup'),\r\n                items: [{\r\n                        id: 'type',\r\n                        text: i18n.getText('ColTypeSimple')\r\n                    }]\r\n            }];\r\n    };\r\n    return CustomSqlColumnRendererCP;\r\n}(SimpleColumnRendererCP));\r\nexport { CustomSqlColumnRendererCP };\r\n//# sourceMappingURL=customsql_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { SortDirection, ExprTag, Widget, WidgetGroup, QueryChangePart, QueryChangeAction } from '@easyquery/core';\r\nimport { eqDragManager, DropEffect, getElementAbsolutePos, domel } from '@easydata/ui';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { eqCssPrefix, eqCssMobile } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { AggrFuncColumnRendererCP } from './renderers/columnspanel/aggrfunc_column_renderer';\r\nimport { CustomSqlColumnRendererCP } from './renderers/columnspanel/customsql_column_renderer';\r\nimport { SimpleColumnRendererCP } from './renderers/columnspanel/simple_column_renderer';\r\nvar ColumnsPanel = /** @class */ (function (_super) {\r\n    __extends(ColumnsPanel, _super);\r\n    function ColumnsPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            isSubQuery: false,\r\n            activeColumn: null,\r\n            showAddRow: true,\r\n            showHeader: true,\r\n            showColumnTitles: true,\r\n            allowAggrColumns: true,\r\n            allowDuplicates: true,\r\n            allowCustomExpressions: false,\r\n            allowSorting: true,\r\n            attrElementFormat: '{entity} {attr}',\r\n            titleElementFormat: null,\r\n            buttons: null,\r\n            alwaysShowButtons: false,\r\n            accentActiveColumn: true,\r\n            menuSearchBoxAfter: 30,\r\n            allowDragDrop: true,\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                adjustHeight: true,\r\n                itemRenderedCallback: null\r\n            },\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            columnRenderedCallback: null,\r\n            customExpressionText: 0,\r\n            allowHiddenColumns: false\r\n        };\r\n        _this.landingSlot = domel('div')\r\n            .addClass(_this.cssPrefix + \"-col-landing-slot\")\r\n            .addChildElement(domel('div')\r\n            .toDOM())\r\n            .toDOM();\r\n        _this.landingIndex = -1;\r\n        _this.slot.classList.add(_this.cssPrefix + \"-panel\");\r\n        _this.group = WidgetGroup.Query;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ColumnsPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qc';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnsPanel.prototype.getWidgetType = function () {\r\n        return 'columnsPanel';\r\n    };\r\n    ColumnsPanel.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        var model = context.getModel();\r\n        this.detachQueryObserver();\r\n        this.attachQueryObserver();\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"entityAttr\", \"entityAttrSort\"],\r\n                onDragEnter: function (container, ev) {\r\n                    _this.slot.classList.add(eqCssPrefix + \"-drophover\");\r\n                    if (ev.item.scope === \"entityAttrSort\") {\r\n                        _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                    }\r\n                    else {\r\n                        var attrId = ev.data.attrId;\r\n                        if (!model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                            ev.dropEffect = DropEffect.Forbid;\r\n                        }\r\n                        ev.dragImage.classList.add('eqjs-sortable-helper');\r\n                    }\r\n                },\r\n                onDragOver: function (container, ev) {\r\n                    var attrId = ev.data.attrId;\r\n                    if (ev.item.scope === \"entityAttrSort\" ||\r\n                        model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                        _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                    }\r\n                },\r\n                onDragLeave: function (container, ev) {\r\n                    if (ev.item.scope === \"entityAttrSort\") {\r\n                        ev.dropEffect = DropEffect.Forbid;\r\n                    }\r\n                    else {\r\n                        ev.dragImage.classList.remove('eqjs-sortable-helper');\r\n                        ev.dragImage.style.removeProperty('width');\r\n                    }\r\n                    _this.slot.classList.remove(eqCssPrefix + \"-drophover\");\r\n                    _this.hideLandingSlot();\r\n                },\r\n                onDrop: function (container, ev) {\r\n                    if (ev.item.scope == \"entityAttrSort\") {\r\n                        var query = _this.getContext().getQuery();\r\n                        var columns = query.getColumns();\r\n                        var index = columns.indexOf(ev.data.column);\r\n                        _this.moveColumnCore(index, _this.landingIndex);\r\n                    }\r\n                    else {\r\n                        var attrId = ev.data.attrId;\r\n                        _this.addNewColumn(attrId, _this.landingIndex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.renderBaseElements = function () {\r\n        var _this = this;\r\n        var minusHeight = 0;\r\n        if (this.options.showHeader) {\r\n            var headerBuilder = domel('div', this.slot)\r\n                .hide()\r\n                .addClass(this.cssPrefix + \"-header\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .addChild('div', function (builder) { return builder\r\n                .addClass(_this.cssPrefix + \"-header-expression\")\r\n                .text(i18n.getText('HeaderExpression')); });\r\n            if (this.options.showColumnTitles !== false) {\r\n                headerBuilder\r\n                    .addChild('div', function (builder) { return builder\r\n                    .addClass(_this.cssPrefix + \"-header-title\")\r\n                    .text(i18n.getText('HeaderTitle')); });\r\n            }\r\n            this.headerElement = headerBuilder.toDOM();\r\n            minusHeight += this.headerElement.offsetHeight;\r\n        }\r\n        this.columnsBlock =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-columns\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        if (this.options.showAddRow) {\r\n            this.addRowElement =\r\n                domel('div', this.slot)\r\n                    .addClass(eqCssPrefix + \"-addrow\", this.cssPrefix + \"-addrow\", eqCssPrefix + \"-addrow-empty\")\r\n                    .addClass(browserUtils.getMobileCssClass())\r\n                    .addChild('a', function (builder) { return builder\r\n                    .attr('href', 'javascript:void(0)')\r\n                    .text(i18n.getText('CmdClickToAddColumn'))\r\n                    .on('click', function (e) {\r\n                    e.preventDefault();\r\n                    _this.showEntitiesMenu({\r\n                        anchor: e.target,\r\n                        selectedIds: null,\r\n                        itemSelectedCallback: function (data, items) {\r\n                            var attrid = data.id;\r\n                            _this.addNewColumn(attrid);\r\n                            return false;\r\n                        }\r\n                    });\r\n                }); })\r\n                    .toDOM();\r\n            minusHeight += this.addRowElement.offsetHeight;\r\n        }\r\n        this.columnsBlock.style.maxHeight = this.slot.offsetHeight - minusHeight - 25 + \"px\";\r\n    };\r\n    ColumnsPanel.prototype.destroyCore = function () {\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    ColumnsPanel.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            var focusedBefore = document.activeElement;\r\n            var isFocusInside = _this.slot.contains(focusedBefore) || focusedBefore == document.body;\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var columns = edata.changee;\r\n                    var modifyColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var renderer = _this.getColumnRenderer(column, colEl);\r\n                            if (renderer) {\r\n                                var newEl = renderer.render();\r\n                                if (isFocusInside) {\r\n                                    var focusElem = newEl.querySelector('a') || newEl.querySelector('.eqjs-column-button');\r\n                                    if (focusElem) {\r\n                                        focusElem.focus();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return modifyColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        modifyColumn_1(columns);\r\n                    }\r\n                    _this.agjustHeaderVisibility();\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var columns = edata.changee;\r\n                    var addColumn_1 = function (column) {\r\n                        var index = query.getColumns().indexOf(column);\r\n                        var newEl = _this.addColumnElement(column, index);\r\n                        if (isFocusInside) {\r\n                            newEl.querySelector(\"a\").focus();\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return addColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        addColumn_1(columns);\r\n                    }\r\n                    _this.agjustHeaderVisibility();\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var columns = edata.changee;\r\n                    var deleteColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var next = colEl.nextSibling;\r\n                            var prev = colEl.previousSibling;\r\n                            _this.columnsBlock.removeChild(colEl);\r\n                            if (isFocusInside) {\r\n                                var focusCond = next || prev || _this.addRowElement;\r\n                                var focusElem = focusCond.querySelector('a') || focusCond.querySelector('.eqjs-column-button');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    _this.agjustHeaderVisibility();\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return deleteColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        deleteColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    ColumnsPanel.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    ColumnsPanel.prototype.showLandingSlot = function (pageX, pageY) {\r\n        var rowElems = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var rows = [];\r\n        for (var i = 0; i < rowElems.length; i++) {\r\n            var rowElem = rowElems[i];\r\n            if (rowElem.style.display === 'none')\r\n                continue;\r\n            rows.push(rowElem);\r\n        }\r\n        if (rows.length === 0) {\r\n            this.landingIndex = 0;\r\n            this.columnsBlock.appendChild(this.landingSlot);\r\n            return;\r\n        }\r\n        var landingPos = getElementAbsolutePos(this.landingSlot);\r\n        if (pageY >= landingPos.y && pageY <= landingPos.y + this.landingSlot.offsetHeight) {\r\n            return;\r\n        }\r\n        var firstRow = rows[0];\r\n        var rowHeight = firstRow.offsetHeight;\r\n        var absPos = getElementAbsolutePos(firstRow);\r\n        var newLandingIndex = (pageY > absPos.y + rowHeight / 2) ? Math.round((pageY - absPos.y + rowHeight / 2) / rowHeight) : 0;\r\n        if (newLandingIndex > rows.length) {\r\n            newLandingIndex = rows.length;\r\n        }\r\n        if (newLandingIndex != this.landingIndex) {\r\n            this.landingIndex = newLandingIndex;\r\n            if (this.landingIndex < rows.length) {\r\n                this.columnsBlock.insertBefore(this.landingSlot, rows[this.landingIndex]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(this.landingSlot);\r\n            }\r\n            this.landingSlot.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.hideLandingSlot = function () {\r\n        var _this = this;\r\n        this.landingIndex = -1;\r\n        setTimeout(function () {\r\n            if (_this.landingSlot.parentElement) {\r\n                _this.landingSlot.parentElement.removeChild(_this.landingSlot);\r\n            }\r\n        }, 10);\r\n    };\r\n    ColumnsPanel.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n        if (browserUtils.isMobileMode()) {\r\n            this.options.buttons = [\"menu\"];\r\n            this.options.showHeader = false;\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.onProcessStartCore = function () {\r\n    };\r\n    ColumnsPanel.prototype.onProcessEndCore = function () {\r\n    };\r\n    ColumnsPanel.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    ColumnsPanel.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    ColumnsPanel.prototype.render = function () {\r\n        try {\r\n            this.renderBaseElements();\r\n            this.createEntitiesMenu();\r\n            this.createColumnMenus();\r\n            this.agjustHeaderVisibility();\r\n            domel(this.slot)\r\n                .removeClass(eqCssMobile)\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            var query = this.context.getQuery();\r\n            var columns = query.getColumns();\r\n            for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\r\n                var column = columns_1[_i];\r\n                this.columnsBlock.appendChild(this.renderColumn(column));\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.context.throwError({\r\n                action: \"ColumnsPanel rendering\",\r\n                text: e.message\r\n            });\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.agjustHeaderVisibility = function () {\r\n        if (this.headerElement) {\r\n            var query = this.context.getQuery();\r\n            var columns = query.getColumns();\r\n            this.headerElement.style.display = (columns.length) ? '' : 'none';\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.renderColumn = function (column) {\r\n        var renderer = this.getColumnRenderer(column);\r\n        if (renderer)\r\n            return renderer.render();\r\n        return null;\r\n    };\r\n    ColumnsPanel.prototype.toggleColumnPicked = function (column) {\r\n        var el;\r\n        var isActive;\r\n        if (column) {\r\n            el = this.columnsBlock.querySelector(\"div[data-id=\" + column.id + \"]\");\r\n            if (el) {\r\n                isActive = el.classList.contains('active');\r\n            }\r\n        }\r\n        //clear 'active' in all rows\r\n        var rows = this.columnsBlock.querySelectorAll(\".\" + this.cssPrefix + \"-row\");\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            domel(row)\r\n                .removeClass('active');\r\n            if (!this.options.alwaysShowButtons) {\r\n                domel(row)\r\n                    .data(\"show-buttons\", null);\r\n            }\r\n        }\r\n        if (el && !isActive) {\r\n            domel(el)\r\n                .addClass('active')\r\n                .data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.addNewColumn = function (attrId, index) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getContext().getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInResult) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInResult) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn();\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.None;\r\n            column.sortIndex = -1;\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        var colToAdd, col;\r\n        if (Array.isArray(attrId)) {\r\n            colToAdd = [];\r\n            for (var i = 0; i < attrId.length; i++) {\r\n                col = getColumnByAttrId(attrId[i]);\r\n                if (col) {\r\n                    colToAdd.push(col);\r\n                }\r\n            }\r\n        }\r\n        else\r\n            colToAdd = getColumnByAttrId(attrId);\r\n        this.addColumn(colToAdd, index);\r\n        return colToAdd;\r\n    };\r\n    ColumnsPanel.prototype.addColumn = function (column, index) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        if (Array.isArray(column))\r\n            column = this.checkColumnsArray(column);\r\n        else\r\n            column = this.checkColumn(column);\r\n        if (!column || (Array.isArray(column) && column.length == 0)) {\r\n            return;\r\n        }\r\n        query.addColumnObj(column, index, self);\r\n        query.fireColumnsChangedEvent(QueryChangeAction.Add, column);\r\n    };\r\n    //adds one column to the panel on the specified position\r\n    ColumnsPanel.prototype.addColumnElement = function (column, index) {\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var newColBlock = this.renderColumn(column);\r\n        if (rows.length > 0) {\r\n            if (index < rows.length) {\r\n                this.columnsBlock.insertBefore(newColBlock, rows[index]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(newColBlock);\r\n                this.scrollToBottom();\r\n            }\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(newColBlock);\r\n            this.scrollToBottom();\r\n        }\r\n        if (this.options.columnRenderedCallback) {\r\n            this.options.columnRenderedCallback(newColBlock);\r\n        }\r\n        return newColBlock;\r\n    };\r\n    ColumnsPanel.prototype.scrollToBottom = function () {\r\n        this.columnsBlock.scrollTop = this.columnsBlock.scrollHeight - this.columnsBlock.clientHeight;\r\n    };\r\n    ColumnsPanel.prototype.checkColumnsArray = function (cols) {\r\n        var i = 0, len = cols.length;\r\n        var result = [];\r\n        for (var i_1 = 0; i_1 < len; i_1++) {\r\n            if (this.checkColumn(cols[i_1]))\r\n                result.push(cols[i_1]);\r\n        }\r\n        return result;\r\n    };\r\n    ColumnsPanel.prototype.checkColumn = function (col) {\r\n        if (!this.options.allowDuplicates) {\r\n            var query = this.getContext().getQuery();\r\n            var columns = query.getColumns();\r\n            for (var i = 0; i < columns.length; i++) {\r\n                if ((col.expr.tag === ExprTag.EntityAttribute && columns[i].expr.tag === ExprTag.EntityAttribute\r\n                    || col.expr.tag === ExprTag.ParentEntityAttribute && columns[i].expr.tag === ExprTag.ParentEntityAttribute)\r\n                    && col.expr.value === columns[i].expr.value) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    ColumnsPanel.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnsPanel.prototype.getColumnsBlock = function () {\r\n        return this.columnsBlock;\r\n    };\r\n    ColumnsPanel.prototype.getColumnRenderer = function (column, slot) {\r\n        switch (column.expr.tag) {\r\n            case ExprTag.AggregateFunction:\r\n                return new AggrFuncColumnRendererCP(this, column, slot);\r\n            case ExprTag.CustomSql:\r\n                return new CustomSqlColumnRendererCP(this, column, slot);\r\n            case ExprTag.EntityAttribute:\r\n            case ExprTag.ParentEntityAttribute:\r\n                return new SimpleColumnRendererCP(this, column, slot);\r\n        }\r\n        return null;\r\n    };\r\n    ColumnsPanel.prototype.areCustomExpressionsAllowed = function () {\r\n        var query = this.getQuery();\r\n        return query.isEx() && this.options.allowCustomExpressions;\r\n    };\r\n    ColumnsPanel.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: true, addUIS: false, attrPlacement: this.options.attrPlacement, sortEntities: this.options.sortEntities });\r\n        var options = {\r\n            id: menuId,\r\n            items: entitiesList,\r\n            adjustHeight: this.options.adjustEntitiesMenuHeight,\r\n            domWriteItemsId: this.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    ColumnsPanel.prototype.getSortMenuList = function () {\r\n        return [\r\n            { id: 'None', text: i18n.getText('CmdNotSorted') },\r\n            { id: 'Ascending', text: i18n.getText('CmdAscending') },\r\n            { id: 'Descending', text: i18n.getText('CmdDescending') },\r\n            { id: '---', text: '---' }\r\n        ];\r\n    };\r\n    ColumnsPanel.prototype.getMoveMenuList = function () {\r\n        return [\r\n            { id: 'MoveTop', text: i18n.getText('CmdMoveToFirst') },\r\n            { id: 'MoveUp', text: i18n.getText('CmdMoveToPrev') },\r\n            { id: 'MoveDown', text: i18n.getText('CmdMoveToNext') },\r\n            { id: 'MoveBottom', text: i18n.getText('CmdMoveToLast') }\r\n        ];\r\n    };\r\n    ColumnsPanel.prototype.createSortMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-SortMenu';\r\n        }\r\n        var items = this.getSortMenuList().concat(this.moveMenu.getItems());\r\n        var menuOptions = {\r\n            id: menuId,\r\n            \"items\": items,\r\n            domWriteItemsId: this.options.domWriteItemsId,\r\n            showSelected: true\r\n        };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n        this.sortMenu = new PopupMenu(menuOptions);\r\n    };\r\n    ColumnsPanel.prototype.createMoveMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-MoveMenu';\r\n        }\r\n        var items = dataUtils.createArrayFrom(this.getMoveMenuList());\r\n        if (this.options.allowHiddenColumns) {\r\n            items.push({ id: '---', text: '---' });\r\n            items.push({ id: 'IsHidden', text: i18n.getText('CmdHiddenColumn') });\r\n        }\r\n        var menuOptions = {\r\n            \"items\": items,\r\n            id: menuId,\r\n            domWriteItemsId: this.options.domWriteItemsId,\r\n            showSelected: true\r\n        };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        this.moveMenu = new PopupMenu(menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n    };\r\n    ColumnsPanel.prototype.showEntitiesMenu = function (menuOptions) {\r\n        this.entitiesMenu.showMenu(menuOptions);\r\n    };\r\n    ColumnsPanel.prototype.moveColumn = function (column, direction) {\r\n        var query = this.getContext().getQuery();\r\n        var columns = query.getColumns();\r\n        var index = columns.indexOf(column);\r\n        if (index >= 0) {\r\n            switch (direction) {\r\n                case 'MoveTop':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, 0);\r\n                    break;\r\n                case 'MoveUp':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index - 1);\r\n                    break;\r\n                case 'MoveDown':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index + 1);\r\n                    break;\r\n                case 'MoveBottom':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, columns.length - 1);\r\n                    break;\r\n            }\r\n            ;\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.moveColumnCore = function (index1, index2) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query)\r\n            return;\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var colToMove = rows[index1];\r\n        if (index2 == 0) {\r\n            this.columnsBlock.insertBefore(colToMove, this.columnsBlock[0]);\r\n        }\r\n        else if (index2 > 0 && index2 < rows.length - 1) {\r\n            if (index1 < index2) {\r\n                this.columnsBlock.insertBefore(colToMove, rows[index2 + 1]);\r\n            }\r\n            else {\r\n                this.columnsBlock.insertBefore(colToMove, rows[index2]);\r\n            }\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(colToMove);\r\n        }\r\n        query.moveColumn(index1, index2);\r\n        query.fireColumnsChangedEvent();\r\n    };\r\n    ColumnsPanel.prototype.createColumnMenus = function () {\r\n        this.createMoveMenu();\r\n        if (this.options.allowSorting) {\r\n            this.createSortMenu();\r\n        }\r\n    };\r\n    return ColumnsPanel;\r\n}(Widget));\r\nexport { ColumnsPanel };\r\n//# sourceMappingURL=columns_panel.js.map","import { i18n } from '@easydata/core';\r\nimport { QueryChangeAction, SortDirection } from \"@easyquery/core\";\r\nimport { eqDragManager, DropEffect, createBrowserEvent, domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nvar ColumnRendererCB = /** @class */ (function () {\r\n    function ColumnRendererCB(panel, column, slot) {\r\n        this.functionMenu = null;\r\n        this.isMouseOverBlock = false;\r\n        this.keepShowingButtons = false;\r\n        this.tapedTwice = false;\r\n        this.bar = panel;\r\n        this.column = column;\r\n        this.element = slot;\r\n    }\r\n    Object.defineProperty(ColumnRendererCB.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-cb';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnRendererCB.prototype.render = function () {\r\n        var _this = this;\r\n        this.baseAttr = this.getAttribute();\r\n        var builder = domel('div');\r\n        builder.data('id', this.column.id);\r\n        if (this.element) {\r\n            //to remove all event listeners\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        if (this.bar.options.allowDragDrop) {\r\n            eqDragManager.registerDraggableItem({\r\n                element: this.element,\r\n                scope: \"entityAttrSort\",\r\n                beforeDragStart: function () { return _this.element.dispatchEvent(createBrowserEvent('mouseleave')); },\r\n                onDragStart: function (ev) {\r\n                    _this.hideButtons();\r\n                    _this.element.style.display = 'none';\r\n                    ev.dropEffect = DropEffect.Allow;\r\n                },\r\n                onDragEnd: function (ev) {\r\n                    if (!ev.data.finishedSuccessfully) {\r\n                        _this.element.removeAttribute('style');\r\n                    }\r\n                },\r\n                data: { column: this.column }\r\n            });\r\n        }\r\n        if (!this.column.isReadOnly()) {\r\n            this.createFunctionMenu();\r\n        }\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            //        .addChildElement(this.renderExpressionBlock())\r\n            .addChildElement(this.renderCaptionBlock())\r\n            .addChildElement(this.renderSortingImage());\r\n        if (!browserUtils.isMobileMode()) {\r\n            builder\r\n                .addChildElement(this.renderButtonsBlock());\r\n        }\r\n        //start event listeners\r\n        builder\r\n            .on('mouseenter', this.onMouseEnter.bind(this))\r\n            .on('mouseleave', this.onMouseLeave.bind(this));\r\n        //end event listeners\r\n        if (this.bar.options.accentActiveColumn || browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('touchstart click', this.onMouseClick.bind(this));\r\n        }\r\n        return this.element;\r\n    };\r\n    ColumnRendererCB.prototype.fireColumnChanged = function () {\r\n        this.column.fireChangedEvent();\r\n    };\r\n    ColumnRendererCB.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ColumnRendererCB.prototype.getAttribute = function () {\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeById(this.column.expr.value);\r\n    };\r\n    ColumnRendererCB.prototype.isEditable = function () {\r\n        return this.column.enabled && !this.column.isReadOnly();\r\n    };\r\n    ColumnRendererCB.prototype.renderButtonsBlock = function () {\r\n        return domel('div', this.element)\r\n            .addClass(eqCssPrefix + \"-column-buttonsBlock\", this.cssPrefix + \"-buttonsBlock\")\r\n            //.addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderSortingButton())\r\n            .addChildElement(this.renderColumnTypeButton())\r\n            .addChildElement(this.renderDeleteButton())\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderButtonsBlockMobile = function () {\r\n        var builder = domel('div', this.element)\r\n            .addClass(eqCssPrefix + \"-column-buttonsBlock-mobile\")\r\n            .addChildElement(this.renderSortingButton())\r\n            .addChildElement(this.renderColumnTypeButton())\r\n            .addChildElement(this.renderDeleteButton())\r\n            .addChildElement(this.renderCaptionEditorMobile());\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderCaptionEditorMobile = function () {\r\n        return domel('div').toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderCaptionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultCaption();\r\n        }\r\n        if (!this.isEditable()) {\r\n            return domel('div')\r\n                .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .addChild('div', function (b) { return b\r\n                .title(_this.column.caption)\r\n                .text(_this.column.caption)\r\n                .attr('tabIndex', '0'); })\r\n                .toDOM();\r\n        }\r\n        var tapHandler = function (ev) {\r\n            if (!_this.tapedTwice) {\r\n                _this.tapedTwice = true;\r\n                setTimeout(function () { _this.tapedTwice = false; }, 300);\r\n            }\r\n        };\r\n        var isFocused = false;\r\n        domel(this.element).on('touchstart dblclick', function (ev) {\r\n            if (ev instanceof TouchEvent && !_this.tapedTwice) {\r\n                tapHandler(ev);\r\n                return true;\r\n            }\r\n            ev.stopPropagation();\r\n            isFocused = _this.element.querySelector('a') == document.activeElement;\r\n            var inputEl = _this.element.querySelector(\".\" + _this.cssPrefix + \"-captionelement input\");\r\n            var aEl = _this.element.querySelector(\".\" + _this.cssPrefix + \"-captionelement a\");\r\n            if (inputEl) {\r\n                inputEl.style.width = _this.element.clientWidth + \"px\";\r\n                aEl.style.display = 'none';\r\n                inputEl.style.removeProperty('display');\r\n                inputEl.focus();\r\n                _this.element.setAttribute(eqDragManager.DRAG_DISABLED_ATTR, '');\r\n            }\r\n            return false;\r\n        }); //TO DO:add localization and input field);\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('a', function (builder) { return builder\r\n            .attr('href', 'javascript:void(0)')\r\n            .title(_this.column.caption)\r\n            .text(_this.column.caption)\r\n            .on('keydown', function (e) {\r\n            var evt = e;\r\n            var isCtrlEnter = (evt.ctrlKey || evt.metaKey) && (evt.keyCode == 13 || evt.keyCode == 10);\r\n            if (isCtrlEnter && _this.isColumnActive()) {\r\n                var clickEvent = document.createEvent('MouseEvents');\r\n                clickEvent.initEvent('dblclick', true, true);\r\n                _this.element.dispatchEvent(clickEvent);\r\n                evt.stopPropagation();\r\n                return false;\r\n            }\r\n            return true;\r\n        }); })\r\n            .addChild('input', function (builder) { return builder\r\n            .hide()\r\n            .value(_this.column.caption)\r\n            .on('blur keydown', function (ev) {\r\n            var isEndEvent = false;\r\n            var save = true;\r\n            if (ev instanceof KeyboardEvent) {\r\n                // Enter\r\n                if (ev.keyCode === 13) {\r\n                    isEndEvent = true;\r\n                    //ESC\r\n                }\r\n                else if (ev.keyCode === 27) {\r\n                    isEndEvent = true;\r\n                    save = false;\r\n                }\r\n            }\r\n            else if (ev instanceof FocusEvent) {\r\n                isEndEvent = true;\r\n            }\r\n            if (isEndEvent) {\r\n                var inputEl = ev.target;\r\n                var aEl = inputEl.parentElement.querySelector('a');\r\n                if (aEl) {\r\n                    aEl.style.removeProperty('display');\r\n                    inputEl.style.display = 'none';\r\n                }\r\n                if (save && _this.column.caption !== inputEl.value) {\r\n                    _this.column.caption = inputEl.value;\r\n                    _this.fireColumnChanged();\r\n                }\r\n                else {\r\n                    inputEl.value = _this.column.caption;\r\n                }\r\n                _this.element.removeAttribute(eqDragManager.DRAG_DISABLED_ATTR);\r\n                if (isFocused) {\r\n                    _this.element.querySelector('a').focus();\r\n                }\r\n            }\r\n        }); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderSortingImage = function () {\r\n        var _this = this;\r\n        var sortButtonCssClass = eqCssPrefix + \"-column-sortbutton\";\r\n        var sortButtonDirectionCssClass = sortButtonCssClass;\r\n        switch (this.column.sorting) {\r\n            case SortDirection.Ascending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-asc\";\r\n                break;\r\n            case SortDirection.Descending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-desc\";\r\n                break;\r\n        }\r\n        if (this.column.sorting == SortDirection.None) {\r\n            return null;\r\n        }\r\n        else {\r\n            return domel('div')\r\n                .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-sortimage-placeholder\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .addChild('div', function (builder) { return builder\r\n                .addClass(_this.cssPrefix + \"-img-sorting\", sortButtonDirectionCssClass)\r\n                .title(i18n.getText('ButtonSorting')); })\r\n                .toDOM();\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.buttonSortingClickHandler = function (ev, anchor) {\r\n        var _this = this;\r\n        ev.stopPropagation();\r\n        this.keepShowingButtons = true;\r\n        var menu = this.getUIS() ? this.bar.sortMenu || this.bar.moveMenu : this.bar.moveMenu;\r\n        menu.showMenu({\r\n            anchor: anchor,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                var strToSortDirection = function (str) {\r\n                    if (str == 'None') {\r\n                        return SortDirection.None;\r\n                    }\r\n                    else if (str == \"Ascending\") {\r\n                        return SortDirection.Ascending;\r\n                    }\r\n                    else if (str == \"Descending\") {\r\n                        return SortDirection.Descending;\r\n                    }\r\n                };\r\n                if (data.id == 'None' || data.id == \"Ascending\" || data.id == \"Descending\") {\r\n                    var query = _this.bar.getQuery();\r\n                    _this.column.sorting = strToSortDirection(data.id);\r\n                    _this.column.sortIndex = query.getColumnSortIndex(_this.column);\r\n                    _this.fireColumnChanged();\r\n                }\r\n                else {\r\n                    _this.bar.moveColumn(_this.column, data.id);\r\n                }\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n                if (!_this.isMouseOverBlock) {\r\n                    _this.leaveButtonBlock();\r\n                }\r\n            }\r\n        });\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.renderSortingButton = function () {\r\n        var _this = this;\r\n        if (!this.isEditable()) {\r\n            return null;\r\n        }\r\n        var builder = domel('div')\r\n            .addClass(eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-sortbutton\", eqCssPrefix + \"-column-sortbutton-none\")\r\n            .title(i18n.getText('ButtonSorting'))\r\n            .attr('tabIndex', '0')\r\n            .on('touchstart click', function (ev) { return _this.buttonSortingClickHandler(ev, builder.toDOM()); })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } });\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.buttonDeleteClickHandler = function (ev) {\r\n        ev.stopPropagation();\r\n        var query = this.bar.getQuery();\r\n        query.removeColumn(this.column, this.bar);\r\n        query.fireColumnsChangedEvent(QueryChangeAction.Delete, this.column);\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.renderDeleteButton = function () {\r\n        var _this = this;\r\n        if (this.column.isReadOnly()) {\r\n            return null;\r\n        }\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-delete\")\r\n            .title(i18n.getText('CmdDelete'))\r\n            .attr('tabIndex', '0')\r\n            .on('touchstart click', function (ev) { return _this.buttonDeleteClickHandler(ev); })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.getDefaultCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr);\r\n    };\r\n    ColumnRendererCB.prototype.getDefaultTitleText = function (attr) {\r\n        var format = this.bar.options.titleElementFormat || this.bar.options.attrElementFormat;\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnRendererCB.prototype.getClassesToAdd = function () {\r\n        var result = \"\";\r\n        result += this.column.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n        if (this.column.enabled) {\r\n            result += this.column.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n        }\r\n        return result;\r\n    };\r\n    ColumnRendererCB.prototype.buttonTypeClickHandler = function (ev) {\r\n        ev.stopPropagation();\r\n        this.keepShowingButtons = true;\r\n        this.changeTypeHandler(ev);\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.renderColumnTypeButton = function () {\r\n        var _this = this;\r\n        if (!this.isEditable()) {\r\n            return null;\r\n        }\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-type\")\r\n            .title(i18n.getText('ButtonToAggr'))\r\n            .attr('tabIndex', '0')\r\n            .on('touchstart click', function (ev) { return _this.buttonTypeClickHandler(ev); })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.getUIS = function () {\r\n        return this.bar\r\n            .getContext().getModel()\r\n            .checkAttrProperty(this.column.expr.value, \"useInSorting\");\r\n    };\r\n    ColumnRendererCB.prototype.onMouseClick = function (ev) {\r\n        this.bar.toggleColumnPicked(this.column);\r\n        this.adjustButtonsVisibility();\r\n        // if (!browserUtils.isMobileMode()) {\r\n        //     this.element.dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n        // }\r\n    };\r\n    ColumnRendererCB.prototype.onMouseEnter = function (e) {\r\n        if (browserUtils.isMobileMode())\r\n            return;\r\n        this.isMouseOverBlock = true;\r\n        this.enterButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.onMouseLeave = function (e) {\r\n        if (browserUtils.isMobileMode())\r\n            return;\r\n        this.isMouseOverBlock = false;\r\n        this.leaveButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.isColumnActive = function () {\r\n        return this.element.classList.contains(\"active\");\r\n    };\r\n    ColumnRendererCB.prototype.hideButtons = function () {\r\n        if (browserUtils.isMobileMode()) {\r\n            if (this.onHideButtonsMobile) {\r\n                this.onHideButtonsMobile();\r\n            }\r\n        }\r\n        else {\r\n            domel(this.element).data(\"show-buttons\", null);\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.showButtons = function () {\r\n        if (browserUtils.isMobileMode()) {\r\n            if (this.onShowButtonsMobile) {\r\n                this.onShowButtonsMobile();\r\n            }\r\n        }\r\n        else {\r\n            domel(this.element).data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.adjustButtonsVisibility = function () {\r\n        if (this.bar.options.alwaysShowButtons\r\n            || ((this.bar.options.accentActiveColumn || browserUtils.isMobileMode())\r\n                && this.isColumnActive())) {\r\n            this.showButtons();\r\n        }\r\n        else {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.enterButtonBlock = function () {\r\n        this.showButtons();\r\n    };\r\n    ColumnRendererCB.prototype.leaveButtonBlock = function () {\r\n        if (this.bar.options.alwaysShowButtons != true && (!this.isColumnActive() || this.bar.options.accentActiveColumn != true)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.createFunctionMenu = function () {\r\n        var items = [];\r\n        var funcs = this.bar.getContext().getModel().getAggrFunctions();\r\n        var funcAllowed = true;\r\n        var item = null;\r\n        var attribute = this.getAttribute();\r\n        var funcCaption;\r\n        for (var _i = 0, funcs_1 = funcs; _i < funcs_1.length; _i++) {\r\n            var func = funcs_1[_i];\r\n            if (!func)\r\n                continue;\r\n            var toInclude = func.appliedTypes.indexOf(attribute.dataType) >= 0;\r\n            if (this.column.expr.func === func.id && !toInclude) {\r\n                funcAllowed = false;\r\n            }\r\n            if (toInclude) {\r\n                funcCaption = this.bar.getContext().getModel()\r\n                    .getAggrFunctionCaption(func.id);\r\n                item = {\r\n                    id: func.id,\r\n                    text: funcCaption\r\n                };\r\n                items.push(item);\r\n            }\r\n        }\r\n        if (!funcAllowed) {\r\n            this.column.expr.func = items[0].id;\r\n        }\r\n        //Add \"Custom Expression\" menu\r\n        var columnsPanel = this.bar;\r\n        if (columnsPanel.areCustomExpressionsAllowed()) {\r\n            item = {\r\n                id: 'CustomSqlDivider',\r\n                text: '---'\r\n            };\r\n            items.push(item);\r\n            funcCaption = i18n.getText('CustomExpression');\r\n            item = {\r\n                id: 'CUSTOMSQL',\r\n                text: funcCaption\r\n            };\r\n            items.push(item);\r\n        }\r\n        var menuId = this.element.id;\r\n        if (menuId) {\r\n            menuId += '-FunctionsMenu';\r\n        }\r\n        var menuOptions = {\r\n            items: items,\r\n            id: menuId,\r\n            searchBoxAlwaysShown: false,\r\n            domWriteItemsId: true //this.panel.options.domWriteItemsId\r\n        };\r\n        this.functionMenu = new PopupMenu(menuOptions);\r\n    };\r\n    return ColumnRendererCB;\r\n}());\r\nexport { ColumnRendererCB };\r\n//# sourceMappingURL=column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { createBrowserEvent } from '@easydata/ui';\r\nimport { ColumnRendererCB } from './column_renderer';\r\nvar SimpleColumnRendererCB = /** @class */ (function (_super) {\r\n    __extends(SimpleColumnRendererCB, _super);\r\n    function SimpleColumnRendererCB() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleColumnRendererCB.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\";\r\n    };\r\n    SimpleColumnRendererCB.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.id = attrid;\r\n        this.column.expr.setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.refresh();\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCB.prototype.getUIS = function () {\r\n        var arg = this.column.expr.args[0];\r\n        if (arg) {\r\n            var model = this.bar.getContext().getModel();\r\n            return model.checkAttrProperty(arg.value, \"useInSorting\");\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    SimpleColumnRendererCB.prototype.changeTypeToCustomSql = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.CustomSql);\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCB.prototype.changeTypeToAggr = function (funcId) {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.AggregateFunction, { funcId: funcId });\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCB.prototype.changeTypeHandler = function (ev) {\r\n        var _this = this;\r\n        this.functionMenu.showMenu({\r\n            anchor: ev.target,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                if (data.id == \"CUSTOMSQL\") {\r\n                    _this.changeTypeToCustomSql();\r\n                }\r\n                else {\r\n                    _this.changeTypeToAggr(data.id);\r\n                }\r\n                return false;\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n                if (!_this.isMouseOverBlock) {\r\n                    _this.element.dispatchEvent(createBrowserEvent('mouseleave'));\r\n                }\r\n            }\r\n        });\r\n    };\r\n    return SimpleColumnRendererCB;\r\n}(ColumnRendererCB));\r\nexport { SimpleColumnRendererCB };\r\n//# sourceMappingURL=simple_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { SimpleColumnRendererCB } from './simple_column_renderer';\r\nvar AggrFuncColumnRendererCB = /** @class */ (function (_super) {\r\n    __extends(AggrFuncColumnRendererCB, _super);\r\n    function AggrFuncColumnRendererCB() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AggrFuncColumnRendererCB.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-aggr\";\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.getAttribute = function () {\r\n        return this.bar\r\n            .getContext()\r\n            .getModel()\r\n            .getAttributeById(this.column.expr.args[0].value);\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.getDefaultCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr) + ' '\r\n            + this.bar.getContext().getModel().getAggrFunctionCaption(this.column.expr.func);\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.renderColumnTypeButton = function () {\r\n        var button = _super.prototype.renderColumnTypeButton.call(this);\r\n        if (button) {\r\n            button.classList.add('aggregated');\r\n            button.title = i18n.getText('ButtonToSimple');\r\n        }\r\n        return button;\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.args[0].id = attrid;\r\n        this.column.expr.args[0].setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.fireColumnChanged();\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.changeTypeToSimple = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.EntityAttribute);\r\n        this.fireColumnChanged();\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.changeTypeHandler = function (ev) {\r\n        this.changeTypeToSimple();\r\n    };\r\n    return AggrFuncColumnRendererCB;\r\n}(SimpleColumnRendererCB));\r\nexport { AggrFuncColumnRendererCB };\r\n//# sourceMappingURL=aggrfunc_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { ExprTag, SortDirection, QueryChangePart, QueryChangeAction, Widget, WidgetGroup } from '@easyquery/core';\r\nimport { eqDragManager, DropEffect, getElementAbsolutePos, domel } from '@easydata/ui';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { AggrFuncColumnRendererCB } from './renderers/columnsbar/aggrfunc_column_renderer';\r\nimport { SimpleColumnRendererCB } from './renderers/columnsbar/simple_column_renderer';\r\nvar ColumnsBar = /** @class */ (function (_super) {\r\n    __extends(ColumnsBar, _super);\r\n    function ColumnsBar(slot, customQuery) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            isSubQuery: false,\r\n            activeColumn: null,\r\n            showAddRow: true,\r\n            showHeader: true,\r\n            showColumnTitles: true,\r\n            allowAggrColumns: true,\r\n            allowDuplicates: true,\r\n            allowCustomExpressions: false,\r\n            allowSorting: true,\r\n            attrElementFormat: '{entity} {attr}',\r\n            titleElementFormat: null,\r\n            alwaysShowButtons: false,\r\n            accentActiveColumn: true,\r\n            menuSearchBoxAfter: 30,\r\n            allowDragDrop: true,\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                adjustHeight: true,\r\n                itemRenderedCallback: null\r\n            },\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            columnRenderedCallback: null,\r\n            customExpressionText: 0,\r\n        };\r\n        _this.landingSlot = domel('div')\r\n            .addClass(eqCssPrefix + \"-highlight\")\r\n            .toDOM();\r\n        _this.landingIndex = -1;\r\n        _this.sortMenuList = [\r\n            { id: 'None', text: i18n.getText('CmdNotSorted') },\r\n            { id: 'Ascending', text: i18n.getText('CmdAscending') },\r\n            { id: 'Descending', text: i18n.getText('CmdDescending') },\r\n            { id: '---', text: '---' }\r\n        ];\r\n        _this.moveMenuList = [\r\n            { id: 'MoveTop', text: i18n.getText('CmdMoveToFirst') },\r\n            { id: 'MoveUp', text: i18n.getText('CmdMoveToPrev') },\r\n            { id: 'MoveDown', text: i18n.getText('CmdMoveToNext') },\r\n            { id: 'MoveBottom', text: i18n.getText('CmdMoveToLast') }\r\n        ];\r\n        domel(_this.slot)\r\n            .addClass(_this.cssPrefix + \"-panel\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        _this.group = WidgetGroup.Query;\r\n        _this.customQuery = customQuery;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ColumnsBar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return \"eqjs-cb\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnsBar.prototype.getWidgetType = function () {\r\n        return 'columnsPanel';\r\n    };\r\n    ColumnsBar.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.detachQueryObserver();\r\n        this.attachQueryObserver();\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"entityAttrSort\"],\r\n                onDragEnter: function (container, ev) {\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragOver: function (container, ev) {\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragLeave: function (container, ev) {\r\n                    ev.dropEffect = DropEffect.Forbid;\r\n                    _this.hideLandingSlot();\r\n                },\r\n                onDrop: function (container, ev) {\r\n                    var query = _this.getContext().getQuery();\r\n                    var columns = query.getColumns();\r\n                    var index = columns.indexOf(ev.data.column);\r\n                    _this.moveColumnCore(index, _this.landingIndex);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ColumnsBar.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            var focusedBefore = document.activeElement;\r\n            var isFocusInside = _this.slot.contains(focusedBefore) || focusedBefore == document.body;\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var columns = edata.changee;\r\n                    var modifyColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var newEl = _this.renderColumn(column, colEl);\r\n                            if (isFocusInside) {\r\n                                var focusElem = newEl.querySelector('a');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return modifyColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        modifyColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var columns = edata.changee;\r\n                    var addColumn_1 = function (column) {\r\n                        var index = query.getColumns().indexOf(column);\r\n                        _this.addColumnElement(column, index);\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return addColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        addColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var columns = edata.changee;\r\n                    var deleteColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var next = colEl.nextSibling;\r\n                            var prev = colEl.previousSibling;\r\n                            _this.columnsBlock.removeChild(colEl);\r\n                            if (isFocusInside) {\r\n                                var focusCond = next || prev || _this.addRowButton;\r\n                                var focusElem = focusCond.querySelector('a');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return deleteColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        deleteColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    ColumnsBar.prototype.getQuery = function () {\r\n        return this.customQuery\r\n            ? this.customQuery\r\n            : this.getContext().getQuery();\r\n    };\r\n    ColumnsBar.prototype.destroyCore = function () {\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    ColumnsBar.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    ColumnsBar.prototype.showLandingSlot = function (pageX, pageY) {\r\n        var elements = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var columnSlots = [];\r\n        for (var i = 0; i < elements.length; i++) {\r\n            if (elements[i].style.display !== 'none') {\r\n                columnSlots.push(elements[i]);\r\n            }\r\n        }\r\n        if (columnSlots.length === 0) {\r\n            this.landingIndex = 0;\r\n            return;\r\n        }\r\n        var landingPos = getElementAbsolutePos(this.landingSlot);\r\n        if (pageX >= landingPos.x && pageX <= landingPos.x + this.landingSlot.offsetWidth\r\n            && pageY >= landingPos.y && pageY <= landingPos.y + this.landingSlot.offsetHeight) {\r\n            return;\r\n        }\r\n        var newLandingIndex = this.landingIndex;\r\n        for (var i = 0; i < columnSlots.length; i++) {\r\n            var colSlot = columnSlots[i];\r\n            var absPos = getElementAbsolutePos(colSlot);\r\n            var colWidth = colSlot.offsetWidth;\r\n            var colHeight = colSlot.offsetHeight;\r\n            var paddingWidth = 0.2 * colWidth;\r\n            var paddingHeight = 2;\r\n            if (pageX >= absPos.x + paddingWidth && pageX <= absPos.x + colWidth - paddingWidth\r\n                && pageY >= absPos.y + paddingHeight && pageY <= absPos.y + colHeight - paddingHeight) {\r\n                if (pageX > landingPos.x)\r\n                    newLandingIndex = i + 1;\r\n                else\r\n                    newLandingIndex = i;\r\n                break;\r\n            }\r\n        }\r\n        if (newLandingIndex != this.landingIndex || this.landingSlot.parentElement) {\r\n            this.landingIndex = newLandingIndex;\r\n            if (this.landingIndex <= 0) {\r\n                this.columnsBlock.insertBefore(this.landingSlot, columnSlots[0]);\r\n            }\r\n            if (this.landingIndex < columnSlots.length) {\r\n                this.columnsBlock.insertBefore(this.landingSlot, columnSlots[this.landingIndex]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(this.landingSlot);\r\n            }\r\n        }\r\n    };\r\n    ColumnsBar.prototype.hideLandingSlot = function () {\r\n        this.landingIndex = -1;\r\n        if (this.landingSlot.parentElement) {\r\n            this.landingSlot.parentElement.removeChild(this.landingSlot);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.onProcessStartCore = function () {\r\n    };\r\n    ColumnsBar.prototype.onProcessEndCore = function () {\r\n    };\r\n    ColumnsBar.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    ColumnsBar.prototype.clear = function () {\r\n        // if (this.addRowButton) {\r\n        //     this.addRowButton.innerHTML = \"\";\r\n        //     this.addRowButton.className = \"\";\r\n        // }\r\n        // this.columnsBlock.innerHTML = \"\";\r\n        this.slot.innerHTML = '';\r\n    };\r\n    ColumnsBar.prototype.renderAddRowButton = function () {\r\n        var _this = this;\r\n        domel(this.addRowButton)\r\n            .addClass(eqCssPrefix + \"-addrow\", this.cssPrefix + \"-addrow\", eqCssPrefix + \"-addrow-empty\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .title(i18n.getText('CmdClickToAddColumn'))\r\n            .addChild('a', function (builder) { return builder\r\n            .attr('href', 'javascript:void(0)')\r\n            .on('click', function (e) {\r\n            e.preventDefault();\r\n            _this.showEntitiesMenu({\r\n                anchor: e.target,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var attrid = data.id;\r\n                    _this.addNewColumn(attrid);\r\n                    return false;\r\n                }\r\n            });\r\n        }); });\r\n        if (browserUtils.isMobileMode()) {\r\n            domel(this.columnsBlock)\r\n                .addChildElement(this.addRowButton);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.render = function () {\r\n        var _this = this;\r\n        this.createEntitiesMenu();\r\n        if (this.options.allowSorting) {\r\n            this.createSortMenu();\r\n        }\r\n        this.createMoveMenu();\r\n        this.columnsBlock =\r\n            domel('div')\r\n                .addClass(this.cssPrefix + \"-columns\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        if (this.options.showAddRow) {\r\n            this.addRowButton =\r\n                domel('div')\r\n                    .toDOM();\r\n            if (browserUtils.isMobileMode()) {\r\n                domel(this.columnsBlock)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            else {\r\n                domel(this.slot)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            this.renderAddRowButton();\r\n        }\r\n        domel(this.slot)\r\n            .addChildElement(this.columnsBlock)\r\n            .addChildElement(this.renderColumnButtonsBlockMobile());\r\n        var query = this.getQuery();\r\n        var columns = query.getColumns();\r\n        columns.forEach(function (column, index) {\r\n            var slot = _this.renderColumn(column);\r\n            _this.columnsBlock.appendChild(slot);\r\n        });\r\n    };\r\n    ColumnsBar.prototype.renderColumnButtonsBlockMobile = function () {\r\n        var _this = this;\r\n        this.columnButtonsBlockMobileArrow = domel('i').toDOM();\r\n        this.columnButtonsBlockMobile = domel('div')\r\n            .addClass(this.cssPrefix + \"-column-buttonsBlock\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.columnButtonsBlockMobileArrow)\r\n            .hide()\r\n            .toDOM();\r\n        this.buttonsBlockSortingButton = domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button\", this.cssPrefix + \"-column-sortbutton-none\")\r\n            .toDOM();\r\n        domel(this.buttonsBlockSortingButton)\r\n            .on('touchstart click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.currentColumnRenderer.buttonSortingClickHandler.call(_this.currentColumnRenderer, ev, _this.buttonsBlockSortingButton);\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n            return false;\r\n        });\r\n        this.buttonsBlockTypeButton = domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button\", this.cssPrefix + \"-column-button-type\")\r\n            .on('touchstart click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.currentColumnRenderer.buttonTypeClickHandler.call(_this.currentColumnRenderer, ev);\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n            return false;\r\n        })\r\n            .toDOM();\r\n        this.buttonsBlockDeleteButton = domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button\", this.cssPrefix + \"-column-button-delete\")\r\n            .on('touchstart click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.currentColumnRenderer.buttonDeleteClickHandler.call(_this.currentColumnRenderer, ev);\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n            return false;\r\n        })\r\n            .toDOM();\r\n        domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button-close-block\")\r\n            .on('touchstart click', function () {\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n        });\r\n        return this.columnButtonsBlockMobile;\r\n    };\r\n    ColumnsBar.prototype.showColumnButtonsMobile = function (column, columnRenderer, columnElement) {\r\n        this.currentActiveColumn = column;\r\n        this.currentColumnRenderer = columnRenderer;\r\n        //calculate coordinates\r\n        var rect = columnElement.getBoundingClientRect();\r\n        var top = columnElement.offsetTop;\r\n        var left = columnElement.offsetLeft;\r\n        domel(this.columnButtonsBlockMobileArrow)\r\n            .setStyle('left', (left + rect.width / 2).toString() + 'px');\r\n        if (rect.top > 100) {\r\n            domel(this.columnButtonsBlockMobile)\r\n                .removeClass('show-below')\r\n                .setStyle('top', (top - rect.height).toString() + 'px');\r\n        }\r\n        else {\r\n            domel(this.columnButtonsBlockMobile)\r\n                .addClass('show-below')\r\n                .setStyle('top', (top + rect.height).toString() + 'px');\r\n        }\r\n        //show/hide separate buttons\r\n        if (column.enabled && !column.isReadOnly()) {\r\n            domel(this.buttonsBlockSortingButton).show();\r\n            domel(this.buttonsBlockTypeButton).show();\r\n        }\r\n        else {\r\n            domel(this.buttonsBlockSortingButton).hide();\r\n            domel(this.buttonsBlockTypeButton).hide();\r\n        }\r\n        //show\r\n        if (column.isReadOnly()) {\r\n            domel(this.columnButtonsBlockMobile).hide();\r\n        }\r\n        else {\r\n            domel(this.columnButtonsBlockMobile).show();\r\n        }\r\n    };\r\n    ColumnsBar.prototype.hideColumnButtonsMobile = function () {\r\n        domel(this.columnButtonsBlockMobile).hide();\r\n    };\r\n    ColumnsBar.prototype.renderColumn = function (column, elem) {\r\n        var _this = this;\r\n        var renderer = this.getColumnRenderer(column, elem);\r\n        if (renderer) {\r\n            var columnSlot_1 = renderer.render();\r\n            renderer.onShowButtonsMobile = function () {\r\n                _this.showColumnButtonsMobile(column, renderer, columnSlot_1);\r\n            };\r\n            renderer.onHideButtonsMobile = function () {\r\n                _this.hideColumnButtonsMobile();\r\n            };\r\n            return columnSlot_1;\r\n        }\r\n        return null;\r\n    };\r\n    ColumnsBar.prototype.getColumnRenderer = function (column, slot) {\r\n        switch (column.expr.tag) {\r\n            case ExprTag.AggregateFunction:\r\n                return new AggrFuncColumnRendererCB(this, column, slot);\r\n            case ExprTag.CustomSql:\r\n            //                return new CustomSqlColumnRendererCB(this, column, slot);\r\n            case ExprTag.EntityAttribute:\r\n            case ExprTag.ParentEntityAttribute:\r\n                return new SimpleColumnRendererCB(this, column, slot);\r\n        }\r\n        return null;\r\n    };\r\n    ColumnsBar.prototype.addNewColumn = function (attrId, index) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInResult) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInResult) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn();\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.None;\r\n            column.sortIndex = -1;\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        if (!this.getQuery()) {\r\n            return;\r\n        }\r\n        var colToAdd, col;\r\n        if (Array.isArray(attrId)) {\r\n            colToAdd = [];\r\n            for (var i = 0; i < attrId.length; i++) {\r\n                col = getColumnByAttrId(attrId[i]);\r\n                if (col) {\r\n                    colToAdd.push(col);\r\n                }\r\n            }\r\n        }\r\n        else\r\n            colToAdd = getColumnByAttrId(attrId);\r\n        this.addColumn(colToAdd, index);\r\n        return colToAdd;\r\n    };\r\n    ColumnsBar.prototype.toggleColumnPicked = function (column) {\r\n        var el;\r\n        var isActive;\r\n        if (column) {\r\n            el = this.columnsBlock.querySelector(\"div[data-id=\" + column.id + \"]\");\r\n            if (el) {\r\n                isActive = el.classList.contains('active');\r\n            }\r\n        }\r\n        //clear 'active' in all rows\r\n        var rows = this.columnsBlock.querySelectorAll(\".\" + this.cssPrefix + \"-row\");\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            domel(row)\r\n                .removeClass('active')\r\n                .data(\"show-buttons\", null);\r\n        }\r\n        if (el && !isActive) {\r\n            domel(el)\r\n                .addClass('active')\r\n                .data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    ColumnsBar.prototype.addColumn = function (column, index) {\r\n        var query = this.getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        if (Array.isArray(column))\r\n            column = this.checkColumnsArray(column);\r\n        else\r\n            column = this.checkColumn(column);\r\n        if (!column || (Array.isArray(column) && column.length == 0)) {\r\n            return;\r\n        }\r\n        query.addColumnObj(column, index, self);\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.Columns,\r\n            action: QueryChangeAction.Add,\r\n            changee: column\r\n        });\r\n    };\r\n    //adds one column to the bar on the specified position\r\n    ColumnsBar.prototype.addColumnElement = function (column, index) {\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var newColBlock = this.renderColumn(column);\r\n        if (rows.length > 0) {\r\n            if (index < rows.length - 1) {\r\n                this.columnsBlock.insertBefore(newColBlock, rows[index]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(newColBlock);\r\n            }\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(newColBlock);\r\n        }\r\n        if (this.options.columnRenderedCallback) {\r\n            this.options.columnRenderedCallback(newColBlock);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.checkColumnsArray = function (cols) {\r\n        var i = 0, len = cols.length;\r\n        var result = [];\r\n        for (var i_1 = 0; i_1 < len; i_1++) {\r\n            if (this.checkColumn(cols[i_1]))\r\n                result.push(cols[i_1]);\r\n        }\r\n        return result;\r\n    };\r\n    ColumnsBar.prototype.checkColumn = function (col) {\r\n        if (!this.options.allowDuplicates) {\r\n            var query = this.getQuery();\r\n            var columns = query.getColumns();\r\n            var colJson = JSON.stringify(col.expr);\r\n            for (var i = 0; i < columns.length; i++) {\r\n                var qcolJson = JSON.stringify(columns[i].expr);\r\n                if (qcolJson === colJson) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    ColumnsBar.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnsBar.prototype.getColumnsBlock = function () {\r\n        return this.columnsBlock;\r\n    };\r\n    ColumnsBar.prototype.showEntitiesMenu = function (menuOptions) {\r\n        this.entitiesMenu.showMenu(menuOptions);\r\n    };\r\n    ColumnsBar.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: true, addUIS: false, attrPlacement: this.options.attrPlacement, sortEntities: this.options.sortEntities });\r\n        var options = { items: entitiesList, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    ColumnsBar.prototype.createSortMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-SortMenu';\r\n        }\r\n        var items = this.sortMenuList.concat(this.moveMenuList);\r\n        var menuOptions = { \"items\": items, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n        this.sortMenu = new PopupMenu(menuOptions);\r\n    };\r\n    ColumnsBar.prototype.createMoveMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-MoveMenu';\r\n        }\r\n        var items = this.moveMenuList;\r\n        var menuOptions = { \"items\": items, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        this.moveMenu = new PopupMenu(menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n    };\r\n    ColumnsBar.prototype.moveColumn = function (column, direction) {\r\n        var query = this.getQuery();\r\n        var columns = query.getColumns();\r\n        var index = columns.indexOf(column);\r\n        if (index >= 0) {\r\n            switch (direction) {\r\n                case 'MoveTop':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, 0);\r\n                    break;\r\n                case 'MoveUp':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index - 1);\r\n                    break;\r\n                case 'MoveDown':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index + 1);\r\n                    break;\r\n                case 'MoveBottom':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, columns.length - 1);\r\n                    break;\r\n            }\r\n            ;\r\n        }\r\n    };\r\n    ColumnsBar.prototype.moveColumnCore = function (index1, index2) {\r\n        var query = this.getQuery();\r\n        if (!query)\r\n            return;\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var colToMove = rows[index1];\r\n        if (index2 <= 0) {\r\n            this.columnsBlock.insertBefore(colToMove, this.columnsBlock[0]);\r\n        }\r\n        else if (index2 < rows.length) {\r\n            this.columnsBlock.insertBefore(colToMove, rows[index2]);\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(colToMove);\r\n        }\r\n        query.moveColumn(index1, index2);\r\n        query.fireColumnsChangedEvent(QueryChangeAction.All);\r\n    };\r\n    ColumnsBar.prototype.areCustomExpressionsAllowed = function () {\r\n        var query = this.getQuery();\r\n        return query.isEx() && this.options.allowCustomExpressions;\r\n    };\r\n    ColumnsBar.globalCounter = 0;\r\n    return ColumnsBar;\r\n}(Widget));\r\nexport { ColumnsBar };\r\n//# sourceMappingURL=columns_bar.js.map","import { i18n } from '@easydata/core';\r\nimport { QueryChangeAction, SortDirection } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar ColumnRendererSB = /** @class */ (function () {\r\n    function ColumnRendererSB(bar, column, slot) {\r\n        this.functionMenu = null;\r\n        this.isMouseOverBlock = false;\r\n        this.keepShowingButtons = false;\r\n        this.bar = bar;\r\n        this.column = column;\r\n        this.element = slot;\r\n    }\r\n    Object.defineProperty(ColumnRendererSB.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-sb';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnRendererSB.prototype.render = function () {\r\n        this.baseAttr = this.getAttribute();\r\n        var builder = domel('div');\r\n        builder.data('id', this.column.id);\r\n        if (this.element) {\r\n            //to remove all event listeners\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderCaptionBlock());\r\n        if (this.isEditable()) {\r\n            builder\r\n                .addChildElement(this.renderSortingButton());\r\n        }\r\n        return this.element;\r\n    };\r\n    ColumnRendererSB.prototype.fireColumnChanged = function () {\r\n        this.column.fireChangedEvent();\r\n    };\r\n    ColumnRendererSB.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ColumnRendererSB.prototype.getAttribute = function () {\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeById(this.column.expr.value);\r\n    };\r\n    ColumnRendererSB.prototype.isEditable = function () {\r\n        return this.column.enabled && !this.column.isReadOnly();\r\n    };\r\n    ColumnRendererSB.prototype.renderCaptionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultCaption();\r\n        }\r\n        function getArrow(sd) {\r\n            switch (sd) {\r\n                case SortDirection.Ascending:\r\n                    return ' ';\r\n                case SortDirection.Descending:\r\n                    return ' ';\r\n                default:\r\n                    return '';\r\n            }\r\n        }\r\n        var text = this.column.caption;\r\n        if (!this.isEditable()) {\r\n            text += getArrow(this.column.sorting);\r\n        }\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (b) { return b\r\n            .title(_this.column.caption)\r\n            .text(text); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererSB.prototype.renderSortingButton = function () {\r\n        var _this = this;\r\n        var sortButtonCssClass = eqCssPrefix + \"-column-sortbutton\";\r\n        var sortButtonDirectionCssClass = sortButtonCssClass;\r\n        switch (this.column.sorting) {\r\n            case SortDirection.None:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-none\";\r\n                break;\r\n            case SortDirection.Ascending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-asc\";\r\n                break;\r\n            case SortDirection.Descending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-desc\";\r\n                break;\r\n        }\r\n        var builder = domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-sortimage-placeholder\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-img-sorting\", sortButtonDirectionCssClass)\r\n            .title(i18n.getText('ButtonSorting')); })\r\n            .on('touchstart click', function (ev) { return _this.buttonSortingClickHandler(ev, builder.toDOM()); });\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererSB.prototype.buttonSortingClickHandler = function (ev, anchor) {\r\n        var _this = this;\r\n        ev.stopPropagation();\r\n        this.keepShowingButtons = true;\r\n        var menu = this.bar.sortMenu;\r\n        menu.showMenu({\r\n            anchor: anchor,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                var strToSortDirection = function (str) {\r\n                    if (str == 'None') {\r\n                        return SortDirection.None;\r\n                    }\r\n                    else if (str == \"Ascending\") {\r\n                        return SortDirection.Ascending;\r\n                    }\r\n                    else if (str == \"Descending\") {\r\n                        return SortDirection.Descending;\r\n                    }\r\n                };\r\n                if (data.id == 'None' || data.id == \"Ascending\" || data.id == \"Descending\") {\r\n                    var query = _this.bar.getContext().getQuery();\r\n                    if (_this.column.isJustSorted() && data.id == 'None') {\r\n                        query.removeColumn(_this.column, _this.bar);\r\n                        query.fireColumnsChangedEvent(QueryChangeAction.Delete, _this.column, true);\r\n                    }\r\n                    else {\r\n                        _this.column.sorting = strToSortDirection(data.id);\r\n                        _this.column.sortIndex = query.getColumnSortIndex(_this.column);\r\n                        _this.fireColumnChanged();\r\n                    }\r\n                }\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n            }\r\n        });\r\n        return false;\r\n    };\r\n    ColumnRendererSB.prototype.getDefaultCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr);\r\n    };\r\n    ColumnRendererSB.prototype.getDefaultTitleText = function (attr) {\r\n        var format = this.bar.options.titleElementFormat || this.bar.options.attrElementFormat;\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnRendererSB.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\";\r\n    };\r\n    ColumnRendererSB.prototype.getUIS = function () {\r\n        return this.bar\r\n            .getContext().getModel()\r\n            .checkAttrProperty(this.column.expr.value, \"useInSorting\");\r\n    };\r\n    return ColumnRendererSB;\r\n}());\r\nexport { ColumnRendererSB };\r\n//# sourceMappingURL=column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, QueryChangeAction, QueryChangePart, SortDirection, ExprTag } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { ColumnRendererSB } from './renderers/sortingbar/column_renderer';\r\nvar SortingBar = /** @class */ (function (_super) {\r\n    __extends(SortingBar, _super);\r\n    function SortingBar(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            showAddRow: true,\r\n            attrElementFormat: '{entity} {attr}',\r\n            titleElementFormat: null,\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                adjustHeight: true,\r\n                itemRenderedCallback: null\r\n            },\r\n        };\r\n        _this.sortMenuList = [\r\n            { id: 'None', text: i18n.getText('CmdNotSorted') },\r\n            { id: 'Ascending', text: i18n.getText('CmdAscending') },\r\n            { id: 'Descending', text: i18n.getText('CmdDescending') }\r\n        ];\r\n        domel(_this.slot)\r\n            .addClass(_this.cssPrefix + \"-panel\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        _this.group = WidgetGroup.Query;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SortingBar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return \"eqjs-sb\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SortingBar.prototype.getWidgetType = function () {\r\n        return 'sortingBar';\r\n    };\r\n    SortingBar.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.destroyCore();\r\n        this.attachQueryObserver();\r\n    };\r\n    SortingBar.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    SortingBar.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.SortingColumns\r\n                && edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var columns = edata.changee;\r\n                    var modifyColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            _this.renderColumn(column, colEl);\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return modifyColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        modifyColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var columns = edata.changee;\r\n                    var addColumn_1 = function (column) {\r\n                        _this.addColumnElement(column);\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return addColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        addColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var columns = edata.changee;\r\n                    var deleteColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl)\r\n                            _this.columnsBlock.removeChild(colEl);\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return deleteColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        deleteColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    SortingBar.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getContext().getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    SortingBar.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    SortingBar.prototype.destroyCore = function () {\r\n        this.detachQueryObserver();\r\n        this.clear();\r\n    };\r\n    SortingBar.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    SortingBar.prototype.renderAddRowButton = function () {\r\n        var _this = this;\r\n        domel(this.addRowButton)\r\n            .addClass(eqCssPrefix + \"-addrow\", this.cssPrefix + \"-addrow\", eqCssPrefix + \"-addrow-empty\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .title(i18n.getText('CmdClickToAddColumn'))\r\n            .addChild('a', function (builder) { return builder\r\n            .attr('href', 'javascript:void(0)')\r\n            .on('click', function (e) {\r\n            e.preventDefault();\r\n            _this.showEntitiesMenu({\r\n                anchor: e.target,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var attrid = data.id;\r\n                    _this.addNewColumn(attrid);\r\n                    return false;\r\n                }\r\n            });\r\n        }); });\r\n        if (browserUtils.isMobileMode()) {\r\n            domel(this.columnsBlock)\r\n                .addChildElement(this.addRowButton);\r\n        }\r\n    };\r\n    SortingBar.prototype.showEntitiesMenu = function (menuOptions) {\r\n        this.entitiesMenu.showMenu(menuOptions);\r\n    };\r\n    SortingBar.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: false, addUIS: true });\r\n        var options = { items: entitiesList,\r\n            adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    SortingBar.prototype.createSortMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-SortMenu';\r\n        }\r\n        var items = this.sortMenuList;\r\n        var menuOptions = { \"items\": items, id: menuId };\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n        this.sortMenu = new PopupMenu(menuOptions);\r\n    };\r\n    SortingBar.prototype.render = function () {\r\n        var _this = this;\r\n        this.createEntitiesMenu();\r\n        this.createSortMenu();\r\n        this.columnsBlock =\r\n            domel('div')\r\n                .addClass(this.cssPrefix + \"-columns\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        if (this.options.showAddRow) {\r\n            this.addRowButton =\r\n                domel('div')\r\n                    .toDOM();\r\n            if (browserUtils.isMobileMode()) {\r\n                domel(this.columnsBlock)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            else {\r\n                domel(this.slot)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            this.renderAddRowButton();\r\n        }\r\n        domel(this.slot)\r\n            .addChildElement(this.columnsBlock);\r\n        var query = this.context.getQuery();\r\n        var columns = query.getColumns().concat(query.getJustSortedColumns());\r\n        columns.forEach(function (column, index) {\r\n            var slot = _this.renderColumn(column);\r\n            _this.columnsBlock.appendChild(slot);\r\n        });\r\n    };\r\n    SortingBar.prototype.addNewColumn = function (attrId) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getContext().getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInSorting) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInSorting) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn(true);\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.Ascending;\r\n            column.sortIndex = _this.getQuery().getColumnSortIndex(column);\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        if (!this.getContext().getQuery()) {\r\n            return;\r\n        }\r\n        return this.addColumn(getColumnByAttrId(attrId));\r\n    };\r\n    SortingBar.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    SortingBar.prototype.addColumn = function (column) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        column = this.checkColumn(column);\r\n        if (!column) {\r\n            return;\r\n        }\r\n        column = query.addColumn({\r\n            caption: column.caption,\r\n            attributeId: column.expr.value,\r\n            sorting: column.sorting,\r\n            sortIndex: column.sortIndex,\r\n            justsorted: true\r\n        });\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.SortingColumns,\r\n            action: QueryChangeAction.Add,\r\n            changee: column\r\n        });\r\n        return column;\r\n    };\r\n    SortingBar.prototype.checkColumn = function (col) {\r\n        var query = this.getContext().getQuery();\r\n        var columns = query.getColumns()\r\n            .concat(query.getJustSortedColumns());\r\n        var colJson = JSON.stringify(col.expr.saveToData());\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var qcolJson = JSON.stringify(columns[i].expr.saveToData());\r\n            if (qcolJson === colJson) {\r\n                return null;\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    SortingBar.prototype.renderColumn = function (column, elem) {\r\n        var renderer = new ColumnRendererSB(this, column, elem);\r\n        if (renderer) {\r\n            var columnSlot = renderer.render();\r\n            return columnSlot;\r\n        }\r\n        return null;\r\n    };\r\n    //adds one column to the bar on the specified position\r\n    SortingBar.prototype.addColumnElement = function (column) {\r\n        var newColBlock = this.renderColumn(column);\r\n        this.columnsBlock.appendChild(newColBlock);\r\n        if (this.options.columnRenderedCallback) {\r\n            this.options.columnRenderedCallback(newColBlock);\r\n        }\r\n    };\r\n    SortingBar.prototype.clear = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    return SortingBar;\r\n}(Widget));\r\nexport { SortingBar };\r\n//# sourceMappingURL=sorting_bar.js.map","import { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar TextRenderer = /** @class */ (function () {\r\n    function TextRenderer(panel, text, slot) {\r\n        this.panel = panel;\r\n        this.text = text;\r\n        this.element = slot || domel('div').toDOM();\r\n    }\r\n    Object.defineProperty(TextRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TextRenderer.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    TextRenderer.prototype.render = function () {\r\n        var _this = this;\r\n        domel(this.element)\r\n            .html('')\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('span', function (builder) { return builder\r\n            .text(_this.text)\r\n            .title(_this.text); })\r\n            .toDOM();\r\n        return this.element;\r\n    };\r\n    TextRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement\";\r\n    };\r\n    return TextRenderer;\r\n}());\r\nexport { TextRenderer };\r\n//# sourceMappingURL=text_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { equtils, QueryChangeAction } from '@easyquery/core';\r\nimport { createBrowserEvent, domel } from '@easydata/ui';\r\nimport { TextRenderer } from './text_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nexport var ConditionAction;\r\n(function (ConditionAction) {\r\n    ConditionAction[ConditionAction[\"AddCondition\"] = 0] = \"AddCondition\";\r\n    ConditionAction[ConditionAction[\"AddGroup\"] = 1] = \"AddGroup\";\r\n    ConditionAction[ConditionAction[\"Enable\"] = 2] = \"Enable\";\r\n    ConditionAction[ConditionAction[\"Delete\"] = 4] = \"Delete\";\r\n    ConditionAction[ConditionAction[\"Menu\"] = 5] = \"Menu\";\r\n    ConditionAction[ConditionAction[\"Parameterized\"] = 6] = \"Parameterized\";\r\n    ConditionAction[ConditionAction[\"InJoin\"] = 7] = \"InJoin\";\r\n})(ConditionAction || (ConditionAction = {}));\r\nvar ConditionRenderer = /** @class */ (function () {\r\n    function ConditionRenderer(panel, condition, slot) {\r\n        this.panel = panel;\r\n        this.condition = condition;\r\n        this.element = slot || domel('div').toDOM();\r\n    }\r\n    Object.defineProperty(ConditionRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ConditionRenderer.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ConditionRenderer.prototype.clear = function () {\r\n        if (this.element) {\r\n            this.element.className = '';\r\n            this.element.removeAttribute('data-id');\r\n            this.element.removeAttribute('style');\r\n            domel(this.element)\r\n                .html('');\r\n        }\r\n        //        const elClone = this.element.cloneNode(true);\r\n        //        this.element.parentNode.replaceChild(elClone, el);\r\n    };\r\n    ConditionRenderer.prototype.render = function (autoAppear) {\r\n        this.clear();\r\n        //this.preRender();\r\n        this.coreRender(autoAppear);\r\n        if (this.panel.options.onConditionRendered) {\r\n            this.panel.options.onConditionRendered(this.condition, this.element);\r\n        }\r\n        return this.element;\r\n    };\r\n    ConditionRenderer.prototype.isEditable = function () {\r\n        return this.condition.enabled && !this.condition.isReadOnly();\r\n    };\r\n    return ConditionRenderer;\r\n}());\r\nexport { ConditionRenderer };\r\nvar SimpleConditionRenderer = /** @class */ (function (_super) {\r\n    __extends(SimpleConditionRenderer, _super);\r\n    function SimpleConditionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleConditionRenderer.prototype.getClassesToAdd = function () {\r\n        var result = this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-condition\";\r\n        result += this.condition.isInJoin() ? \" \" + this.cssPrefix + \"-condition-injoin\" : '';\r\n        result += this.condition.isParameterized() ? \" \" + this.cssPrefix + \"-condition-parameterized\" : '';\r\n        if (!browserUtils.isMobileMode()) {\r\n            var level = this.condition.getLevel();\r\n            if (level > 0)\r\n                result += \" \" + this.cssPrefix + \"-level-\" + level;\r\n        }\r\n        result += this.condition.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n        if (this.condition.enabled) {\r\n            result += this.condition.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n        }\r\n        return result;\r\n    };\r\n    SimpleConditionRenderer.prototype.coreRender = function (autoAppear) {\r\n        var _this = this;\r\n        var model = this.panel.getContext().getModel();\r\n        var operator = model.getOperatorById(this.condition.getOperatorId());\r\n        var arrFormat = equtils.parseOperatorFormat(operator);\r\n        var item = null;\r\n        var arrLength = arrFormat.length;\r\n        var builder = domel('div');\r\n        if (this.element && this.element.parentNode) {\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .data('id', this.condition.id)\r\n            .data('condrow', '')\r\n            .addChildElement(this.renderCheckbox())\r\n            .addChildElement(this.renderConjunction());\r\n        var mayAppear = autoAppear;\r\n        var _loop_1 = function (idx) {\r\n            item = arrFormat[idx];\r\n            if (item.type === 'operator') {\r\n                var renderer = this_1.panel.getOperatorRenderer(this_1.condition, item.text);\r\n                if (renderer) {\r\n                    builder.addChildElement(renderer.render());\r\n                }\r\n            }\r\n            else if (item.type === 'expression') {\r\n                var toAppear = mayAppear && (item.index > 0);\r\n                var exprRenderer_1 = this_1.panel.getExpressionRenderer(this_1.condition.expressions[item.index]);\r\n                if (exprRenderer_1) {\r\n                    var el = exprRenderer_1.render(toAppear);\r\n                    builder.addChildElement(el);\r\n                    setTimeout(function () {\r\n                        exprRenderer_1.adjustWidth();\r\n                    }, 100);\r\n                }\r\n                mayAppear = mayAppear && !toAppear;\r\n            }\r\n            else if (item.type === 'text') {\r\n                builder.addChildElement(new TextRenderer(this_1.panel, item.text).render());\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            _loop_1(idx);\r\n        }\r\n        if (this.panel.options.accentActiveCondition || browserUtils.isMobileMode()) {\r\n            builder.on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                _this.panel.toggleConditionPicked(_this.condition);\r\n                _this.adjustButtonsVisibility();\r\n                if (!browserUtils.isMobileMode()) {\r\n                    _this.element.dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n                }\r\n                return false;\r\n            });\r\n        }\r\n        builder\r\n            .addChildElement(this.renderButtonsBlock());\r\n        if (!browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('mouseenter', function (event) {\r\n                _this.isMouseOverBlock = true;\r\n                _this.enterButtonBlock();\r\n                event.stopPropagation();\r\n                return false;\r\n            })\r\n                .on('mouseleave', function (event) {\r\n                _this.isMouseOverBlock = false;\r\n                if (!_this.keepShowingButtons && domel(_this.buttonsBlock).isVisible()) {\r\n                    _this.leaveButtonBlock();\r\n                }\r\n                event.stopPropagation();\r\n                return false;\r\n            });\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.setConditionParameterized = function (value) {\r\n        this.condition.setParameterized(value);\r\n        this.condition.fireChangedEvent();\r\n    };\r\n    SimpleConditionRenderer.prototype.setConditionInJoin = function (value) {\r\n        this.condition.setInJoin(value);\r\n        this.condition.fireChangedEvent();\r\n    };\r\n    SimpleConditionRenderer.prototype.getConditionMenu = function () {\r\n        return this.panel.getConditionMenu();\r\n    };\r\n    SimpleConditionRenderer.prototype.renderConjunction = function () {\r\n        var parent = this.condition.getParent();\r\n        if (!parent)\r\n            return null;\r\n        var isFirstConditionInGroup = dataUtils.findItemIndexById(parent.getConditions(), this.condition.id) == 0;\r\n        if (this.panel.options.showConjunctions && !isFirstConditionInGroup) {\r\n            var linkTypeStr = equtils.linkTypeToStr(this.condition.getParent().linkType);\r\n            var conjuctionText = i18n.getText(\"Conj\" + linkTypeStr);\r\n            return domel(\"span\")\r\n                .text(conjuctionText)\r\n                .title(conjuctionText)\r\n                .addClass(this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-condition-conjuction\")\r\n                .toDOM();\r\n        }\r\n        return null;\r\n    };\r\n    SimpleConditionRenderer.prototype.renderCheckbox = function () {\r\n        var _this = this;\r\n        if (this.panel.options.showCheckboxes && !this.condition.isReadOnly()) {\r\n            return domel(\"div\")\r\n                .title(i18n.getText('CmdToggleEnable'))\r\n                .attr('tabIndex', '0')\r\n                .addClass(this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-condition-checkbox\")\r\n                .addClass(\"\" + (this.condition.enabled ? 'enabled' : ''))\r\n                .on('click', function () {\r\n                _this.condition.enabled = !_this.condition.enabled;\r\n                _this.condition.fireChangedEvent();\r\n                return false;\r\n            })\r\n                .on('keypress', function (evt) { if ([13, 32].includes(evt.keyCode)) {\r\n                evt.target.click();\r\n            } })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.isConditionActive = function () {\r\n        return this.element.classList.contains(\"active\");\r\n    };\r\n    SimpleConditionRenderer.prototype.hideButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", null);\r\n    };\r\n    SimpleConditionRenderer.prototype.showButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", \"\");\r\n    };\r\n    SimpleConditionRenderer.prototype.adjustButtonsVisibility = function () {\r\n        if (this.panel.options.alwaysShowButtonsInConditions\r\n            || (this.panel.options.accentActiveCondition && this.isConditionActive())) {\r\n            this.showButtons();\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.enterButtonBlock = function () {\r\n        this.showButtons();\r\n    };\r\n    SimpleConditionRenderer.prototype.leaveButtonBlock = function () {\r\n        if (!this.panel.options.alwaysShowButtonsInConditions\r\n            && (!this.isConditionActive() || this.panel.options.accentActiveCondition)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.conditionMenuHandler = function (action, evt) {\r\n        var _this = this;\r\n        switch (action) {\r\n            case ConditionAction.AddCondition:\r\n                if (!this.condition.isGroup())\r\n                    return;\r\n                var entMenu = this.panel.getEntitiesMenu();\r\n                if (entMenu) {\r\n                    entMenu.showMenu({\r\n                        anchor: evt.target,\r\n                        itemSelectedCallback: function (item) {\r\n                            var query = _this.panel.getQuery();\r\n                            var descr = {\r\n                                parent: _this.condition,\r\n                                attributeId: item.id\r\n                            };\r\n                            var cond = query.addSimpleCondition(descr);\r\n                            if (cond) {\r\n                                query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n                            }\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case ConditionAction.AddGroup:\r\n                if (!this.condition.isGroup())\r\n                    return;\r\n                var query = this.panel.getQuery();\r\n                var descr = {\r\n                    parent: this.condition\r\n                };\r\n                var group = this.panel.getQuery().addConditionGroup(descr);\r\n                if (group) {\r\n                    query.fireConditionsChangedEvent(QueryChangeAction.Add, group);\r\n                }\r\n                break;\r\n            case ConditionAction.Enable:\r\n                this.condition.enabled = !this.condition.enabled;\r\n                this.condition.fireChangedEvent();\r\n                break;\r\n            case ConditionAction.Delete:\r\n                var parent_1 = this.condition.getParent();\r\n                if (!parent_1)\r\n                    return;\r\n                var conditions = parent_1.getConditions();\r\n                var idx = conditions.indexOf(this.condition);\r\n                if (idx >= 0) {\r\n                    conditions.splice(idx, 1);\r\n                    this.condition.getQuery().fireConditionsChangedEvent(QueryChangeAction.Delete, this.condition);\r\n                }\r\n                break;\r\n            case ConditionAction.Menu:\r\n                var condMenu = this.getConditionMenu();\r\n                this.keepShowingButtons = true;\r\n                condMenu.showMenu({\r\n                    anchor: evt.target,\r\n                    selectedIds: this.getConditionMenuSelectedItems(),\r\n                    itemSelectedCallback: function (item) {\r\n                        var action;\r\n                        switch (item.id) {\r\n                            case \"enable\":\r\n                                action = ConditionAction.Enable;\r\n                                break;\r\n                            case \"delete\":\r\n                                action = ConditionAction.Delete;\r\n                                break;\r\n                            case \"param\":\r\n                                action = ConditionAction.Parameterized;\r\n                                break;\r\n                            case \"inJoin\":\r\n                                action = ConditionAction.InJoin;\r\n                                break;\r\n                            case \"addCondition\":\r\n                                action = ConditionAction.AddCondition;\r\n                                break;\r\n                            case \"addGroup\":\r\n                                action = ConditionAction.AddGroup;\r\n                                break;\r\n                        }\r\n                        _this.conditionMenuHandler(action, evt);\r\n                    },\r\n                    itemFilterCallback: function (item) {\r\n                        var result = _this.condition.enabled || item.id === \"enable\" || item.id === \"delete\";\r\n                        if (item.id === \"enable\") {\r\n                            var parent_2 = _this.condition.getParent();\r\n                            result = result && parent_2 && parent_2.enabled;\r\n                        }\r\n                        else if (item.id === \"delete\") {\r\n                            result = result && ((_this.panel.options.editableParts & QPEditablePart.Removal) === QPEditablePart.Removal);\r\n                        }\r\n                        else if (item.id === \"addGroup\" || item.id === \"addCondition\") {\r\n                            result = result && ((_this.panel.options.editableParts & QPEditablePart.Addition) === QPEditablePart.Addition);\r\n                        }\r\n                        return result;\r\n                    },\r\n                    menuClosedCallback: function () {\r\n                        _this.keepShowingButtons = false;\r\n                        if (!_this.isMouseOverBlock)\r\n                            _this.leaveButtonBlock();\r\n                    }\r\n                });\r\n                break;\r\n            case ConditionAction.Parameterized:\r\n                this.condition.setParameterized(!this.condition.isParameterized());\r\n                this.condition.fireChangedEvent();\r\n                break;\r\n            case ConditionAction.InJoin:\r\n                this.condition.setInJoin(!this.condition.isInJoin());\r\n                this.condition.fireChangedEvent();\r\n                break;\r\n        }\r\n        evt.stopPropagation();\r\n        return false;\r\n    };\r\n    SimpleConditionRenderer.prototype.getConditionMenuSelectedItems = function () {\r\n        var arrSelected = [];\r\n        if (this.condition.enabled) {\r\n            arrSelected.push(\"enable\");\r\n        }\r\n        ;\r\n        if (this.condition.isParameterized()) {\r\n            arrSelected.push(\"param\");\r\n        }\r\n        ;\r\n        if (this.condition.isInJoin()) {\r\n            arrSelected.push(\"inJoin\");\r\n        }\r\n        ;\r\n        return arrSelected;\r\n    };\r\n    SimpleConditionRenderer.prototype.renderButtonsBlock = function () {\r\n        var _this = this;\r\n        var onButtonMouseEnter = function (evt) {\r\n            domel(evt.target)\r\n                .addClass(_this.cssPrefix + \"-condition-button-active\");\r\n        };\r\n        var onButtonMouseLeave = function (evt) {\r\n            domel(evt.target)\r\n                .removeClass(_this.cssPrefix + \"-condition-button-active\");\r\n        };\r\n        var builder = domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-condition-buttonsBlock\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        this.buttonsBlock = builder.toDOM();\r\n        if (this.condition.isReadOnly()) {\r\n            return this.buttonsBlock;\r\n        }\r\n        var buttonsToShow = this.getButtonsToShow();\r\n        if (buttonsToShow.indexOf(\"addCondition\") >= 0 && this.condition.enabled\r\n            && ((this.panel.options.editableParts & QPEditablePart.Addition) == QPEditablePart.Addition)) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-addCondition\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdAddCondition'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.AddCondition, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        var showAddGroupBtn = buttonsToShow.indexOf(\"addGroup\") >= 0 || buttonsToShow.indexOf(\"addPredicate\") >= 0;\r\n        if (showAddGroupBtn && this.condition.enabled\r\n            && ((this.panel.options.editableParts & QPEditablePart.Addition) == QPEditablePart.Addition)) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-addPredicate\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdAddCondGroup'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.AddGroup, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        if (this.getButtonsToShow().indexOf(\"enable\") >= 0 && this.condition.getParent() && this.condition.getParent().enabled) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-enable\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdToggleEnable'))\r\n                        .addClass(_this.condition.enabled ? 'enabled' : '')\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.Enable, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        if (this.getButtonsToShow().indexOf(\"delete\") >= 0 && this.condition.getParent()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Removal) == QPEditablePart.Removal)) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-delete\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdDelete'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.Delete, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        if (this.getButtonsToShow().indexOf(\"menu\") >= 0) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-menu\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('ButtonMenu'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.Menu, evt); });\r\n                    if (!browserUtils.isMobileMode()) {\r\n                        b\r\n                            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                            evt.target.click();\r\n                        } })\r\n                            .on('mouseenter', onButtonMouseEnter)\r\n                            .on('mouseleave', onButtonMouseLeave);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        this.adjustButtonsVisibility();\r\n        return this.buttonsBlock;\r\n    };\r\n    SimpleConditionRenderer.prototype.getButtonsToShow = function () {\r\n        return this.panel.options.buttons && this.panel.options.buttons.condition && Array.isArray(this.panel.options.buttons.condition) ? this.panel.options.buttons.condition : [\"enable\", \"delete\"];\r\n    };\r\n    return SimpleConditionRenderer;\r\n}(ConditionRenderer));\r\nexport { SimpleConditionRenderer };\r\n//# sourceMappingURL=condition_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DomElementBuilder } from '@easydata/ui';\r\nvar DomDropDownElementBuilder = /** @class */ (function (_super) {\r\n    __extends(DomDropDownElementBuilder, _super);\r\n    function DomDropDownElementBuilder(parent) {\r\n        var _this = _super.call(this, 'a', parent) || this;\r\n        _this.attr('href', 'javascript:void(0)');\r\n        _this.on('click', function (ev) {\r\n            ev.preventDefault();\r\n            _this.appear();\r\n            return false;\r\n        });\r\n        return _this;\r\n    }\r\n    DomDropDownElementBuilder.prototype.onGetMenu = function (onGetMenu) {\r\n        this._onGetMenu = onGetMenu;\r\n        return this;\r\n    };\r\n    DomDropDownElementBuilder.prototype.onItemSelected = function (onItemSelected) {\r\n        this._onItemSelected = onItemSelected;\r\n        return this;\r\n    };\r\n    DomDropDownElementBuilder.prototype.appear = function () {\r\n        var _this = this;\r\n        var menu = this._onGetMenu ? this._onGetMenu() : null;\r\n        if (menu) {\r\n            menu.showMenu({\r\n                anchor: this.element,\r\n                itemSelectedCallback: function (item) {\r\n                    if (_this._onItemSelected) {\r\n                        _this._onItemSelected(item.id);\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return DomDropDownElementBuilder;\r\n}(DomElementBuilder));\r\nexport { DomDropDownElementBuilder };\r\nexport function dropdown(parent) {\r\n    return new DomDropDownElementBuilder(parent);\r\n}\r\n//# sourceMappingURL=dropdown.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { eqconsts, equtils } from '@easyquery/core';\r\nimport { createBrowserEvent, domel } from '@easydata/ui';\r\nimport { ConditionRenderer, SimpleConditionRenderer } from './condition_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { dropdown } from '../../../utils/dropdown';\r\nvar ConditionGroupRenderer = /** @class */ (function (_super) {\r\n    __extends(ConditionGroupRenderer, _super);\r\n    function ConditionGroupRenderer(panel, condition, slot) {\r\n        var _this = _super.call(this, panel, condition, slot) || this;\r\n        _this.isRoot = !condition.getParent();\r\n        return _this;\r\n    }\r\n    ConditionGroupRenderer.prototype.getClassesToAdd = function () {\r\n        var result = this.cssPrefix + \"-group\";\r\n        if (this.isRoot) {\r\n            result += \" \" + this.cssPrefix + \"-group-root\";\r\n        }\r\n        return result;\r\n    };\r\n    ConditionGroupRenderer.prototype.coreRender = function (autoAppear) {\r\n        domel(this.element)\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderGroupRow())\r\n            .addChildElement(this.renderConditions(autoAppear))\r\n            .data('id', this.condition.id)\r\n            .data('group', '');\r\n    };\r\n    ConditionGroupRenderer.prototype.renderGroupRow = function () {\r\n        if (this.isRoot && !this.panel.options.showRootRow) {\r\n            return null;\r\n        }\r\n        else {\r\n            return new ConditionGroupRowRenderer(this.panel, this.condition).render();\r\n        }\r\n    };\r\n    ConditionGroupRenderer.prototype.renderConditions = function (autoAppear) {\r\n        var _this = this;\r\n        var builder = domel('div');\r\n        builder\r\n            .addClass(this.cssPrefix + \"-conditions\")\r\n            .addClass(\"\" + browserUtils.getMobileCssClass())\r\n            .data('conditions', '');\r\n        if (this.isRoot) {\r\n            builder.addClass(this.cssPrefix + \"-conditions-root\");\r\n        }\r\n        this.condition.getConditions().forEach(function (condition, index, array) {\r\n            var renderer = _this.panel.getConditionRenderer(condition);\r\n            if (renderer) {\r\n                builder.addChildElement(renderer.render(autoAppear && index == array.length - 1));\r\n            }\r\n        });\r\n        return builder.toDOM();\r\n    };\r\n    return ConditionGroupRenderer;\r\n}(ConditionRenderer));\r\nexport { ConditionGroupRenderer };\r\nvar ConditionGroupRowRenderer = /** @class */ (function (_super) {\r\n    __extends(ConditionGroupRowRenderer, _super);\r\n    function ConditionGroupRowRenderer(panel, condition, slot) {\r\n        var _this = _super.call(this, panel, condition, slot) || this;\r\n        _this.isRoot = !_this.condition.getParent();\r\n        return _this;\r\n    }\r\n    ConditionGroupRowRenderer.prototype.getButtonsToShow = function () {\r\n        return this.panel.options.buttons && this.panel.options.buttons.group && Array.isArray(this.panel.options.buttons.group) ? this.panel.options.buttons.group : [\"addCondition\", \"addGroup\", \"enable\", \"delete\"];\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getClassesToAdd = function () {\r\n        var result;\r\n        if (this.isRoot) {\r\n            result = this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-group \" + this.cssPrefix + \"-row-group-root\";\r\n        }\r\n        else {\r\n            result = this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-group\";\r\n            var level = this.condition.getLevel();\r\n            if (level > 0)\r\n                result += \" \" + this.cssPrefix + \"-level-\" + level;\r\n            result += this.condition.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n            if (this.condition.enabled) {\r\n                result += this.condition.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ConditionGroupRowRenderer.prototype.coreRender = function (autoAppear) {\r\n        var _this = this;\r\n        var builder = domel(this.element)\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .data('group-row', '')\r\n            .addChildElement(this.renderCheckbox())\r\n            .addChildElement(this.renderConjunction());\r\n        var level = this.condition.getLevel();\r\n        if (level > 0)\r\n            builder.addClass(this.cssPrefix + \"-level-\" + level);\r\n        this.buildGroupElements(builder, this.getGroupTitle());\r\n        if (this.panel.options.accentActiveCondition) {\r\n            builder.on('click', function (ev) {\r\n                _this.panel.toggleConditionPicked(_this.condition);\r\n                _this.adjustButtonsVisibility();\r\n                if (!browserUtils.isMobileMode()) {\r\n                    builder.toDOM().dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n                }\r\n            });\r\n        }\r\n        builder\r\n            .addChildElement(this.renderButtonsBlock());\r\n        if (!browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('mouseenter', function (event) {\r\n                _this.isMouseOverBlock = true;\r\n                _this.enterButtonBlock();\r\n                event.stopPropagation();\r\n                return false;\r\n            })\r\n                .on('mouseleave', function (event) {\r\n                _this.isMouseOverBlock = false;\r\n                if (!_this.keepShowingButtons && domel(_this.buttonsBlock).isVisible()) {\r\n                    _this.leaveButtonBlock();\r\n                }\r\n                event.stopPropagation();\r\n                return false;\r\n            });\r\n        }\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getGroupTitle = function () {\r\n        var result;\r\n        if (this.isRoot && !browserUtils.isMobileMode()) {\r\n            result = i18n.getText('RootConditionGroupTitle');\r\n            if (!result) {\r\n                //to support old text key\r\n                result = i18n.getText('RootPredicteTitle');\r\n            }\r\n        }\r\n        else {\r\n            result = i18n.getText('ConditionGroupTitle');\r\n            if (!result) {\r\n                //to support old text key\r\n                result = i18n.getText('PredicateTitle');\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ConditionGroupRowRenderer.prototype.buildGroupElements = function (builder, groupTitle) {\r\n        var _this = this;\r\n        var pos = groupTitle.indexOf('{lt}');\r\n        if (pos < 0) {\r\n            //invalid format\r\n            builder.addText(i18n.getText('ErrIncorrectGroupTitleFormat'));\r\n            builder.addClass(this.cssPrefix + \"-error\");\r\n        }\r\n        else {\r\n            if (pos > 0) {\r\n                builder.addChild('span', function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-grelement\")\r\n                        .addText(groupTitle.substring(0, pos));\r\n                });\r\n            }\r\n            var linkTypeStr = equtils.linkTypeToStr(this.condition.linkType);\r\n            var curType_1 = dataUtils.findItemById(eqconsts.predicateLinkTypeList, linkTypeStr);\r\n            if (!curType_1) {\r\n                curType_1 = eqconsts.predicateLinkTypeList[0];\r\n            }\r\n            if (this.isEditable()) {\r\n                dropdown(builder.toDOM())\r\n                    .onGetMenu(function () { return _this.getLinkTypeMenu(); })\r\n                    .onItemSelected(function (id) {\r\n                    _this.condition.linkType = equtils.strToLinkType(id);\r\n                    _this.condition.fireChangedEvent();\r\n                })\r\n                    .addText(i18n.getText(curType_1.key))\r\n                    .title(i18n.getText(curType_1.key))\r\n                    .addClass(this.cssPrefix + \"-grelement\");\r\n            }\r\n            else {\r\n                builder.addChild('span', function (b) {\r\n                    b.text(i18n.getText(curType_1.key))\r\n                        .title(i18n.getText(curType_1.key))\r\n                        .addClass(_this.cssPrefix + \"-grelement\");\r\n                });\r\n            }\r\n            builder.addChild('span', function (b) {\r\n                b.addClass(_this.cssPrefix + \"-grelement\")\r\n                    .addText(groupTitle.substring(pos + 4));\r\n            });\r\n        }\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getConditionMenu = function () {\r\n        return this.panel.getConditionGroupMenu(this.condition.getParent() == null);\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getLinkTypeMenu = function () {\r\n        return this.panel.getLinkTypeMenu();\r\n    };\r\n    ConditionGroupRowRenderer.prototype.renderConjunction = function () {\r\n        return this.isRoot ? null : _super.prototype.renderConjunction.call(this);\r\n    };\r\n    ConditionGroupRowRenderer.prototype.renderCheckbox = function () {\r\n        return this.isRoot ? null : _super.prototype.renderCheckbox.call(this);\r\n    };\r\n    ConditionGroupRowRenderer.prototype.leaveButtonBlock = function () {\r\n        if (!this.panel.options.alwaysShowButtonsInGroups\r\n            && (!this.isConditionActive() || this.panel.options.accentActiveCondition)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ConditionGroupRowRenderer.prototype.adjustButtonsVisibility = function () {\r\n        if (this.panel.options.alwaysShowButtonsInGroups\r\n            || (this.panel.options.accentActiveCondition && this.isConditionActive())) {\r\n            this.showButtons();\r\n        }\r\n    };\r\n    return ConditionGroupRowRenderer;\r\n}(SimpleConditionRenderer));\r\nexport { ConditionGroupRowRenderer };\r\n//# sourceMappingURL=condition_group_renderer.js.map","export var FacetType;\r\n(function (FacetType) {\r\n    FacetType[\"DataGrid\"] = \"DATA_GRID\";\r\n    FacetType[\"Chart\"] = \"CHART\";\r\n    FacetType[\"PivotTable\"] = \"PIVOT_TABLE\";\r\n})(FacetType || (FacetType = {}));\r\n//# sourceMappingURL=facet_type.js.map","import { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../../utils/browser_utils';\r\nvar BaseElementRenderer = /** @class */ (function () {\r\n    function BaseElementRenderer(slot) {\r\n        this.element = slot || domel('div').toDOM();\r\n    }\r\n    BaseElementRenderer.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    BaseElementRenderer.prototype.render = function (isEditMode) {\r\n        var _this = this;\r\n        if (isEditMode === void 0) { isEditMode = false; }\r\n        this.labelElement = this.renderLabelElement();\r\n        domel(this.element)\r\n            .html('')\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.labelElement);\r\n        if (this.isEditable()) {\r\n            this.renderEditor();\r\n            if (isEditMode) {\r\n                setTimeout(function () { return _this.showEditor(); }, 50);\r\n            }\r\n        }\r\n        return this.element;\r\n    };\r\n    BaseElementRenderer.prototype.isEditable = function () {\r\n        return true;\r\n    };\r\n    BaseElementRenderer.prototype.renderLabelElement = function () {\r\n        var _this = this;\r\n        var displayedText = this.getLabelText();\r\n        if (this.isEditable()) {\r\n            return domel('a')\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(displayedText)\r\n                .text(displayedText)\r\n                .on('click', function (ev) {\r\n                ev.preventDefault();\r\n                _this.showEditor();\r\n                return false;\r\n            })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            return domel('span')\r\n                .title(displayedText)\r\n                .text(displayedText)\r\n                .toDOM();\r\n        }\r\n    };\r\n    BaseElementRenderer.prototype.getClassesToAdd = function () {\r\n        return '';\r\n    };\r\n    BaseElementRenderer.prototype.getLabelText = function () {\r\n        return this.getEmptyText();\r\n    };\r\n    BaseElementRenderer.prototype.getEmptyText = function () {\r\n        return '<empty>';\r\n    };\r\n    return BaseElementRenderer;\r\n}());\r\nexport { BaseElementRenderer };\r\n//# sourceMappingURL=base_element_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ConditionPart } from '@easyquery/core';\r\nimport { BaseElementRenderer } from '../base_element_renderer';\r\nvar ExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(ExpressionRenderer, _super);\r\n    function ExpressionRenderer(panel, expression, valueEditor, slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = panel;\r\n        _this.expression = expression;\r\n        _this.valueEditor = valueEditor;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ExpressionRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ExpressionRenderer.prototype.render = function (isEditMode) {\r\n        if (isEditMode === void 0) { isEditMode = false; }\r\n        _super.prototype.render.call(this, isEditMode);\r\n        if (this.panel.options.onExpressionRendered) {\r\n            this.panel.options.onExpressionRendered(this.expression, this.element);\r\n        }\r\n        return this.element;\r\n    };\r\n    ExpressionRenderer.prototype.getContext = function () {\r\n        return this.panel.getContext();\r\n    };\r\n    ExpressionRenderer.prototype.isReadOnly = function () {\r\n        var parent = this.expression.getParent();\r\n        return !parent.enabled || parent.isReadOnly();\r\n    };\r\n    ExpressionRenderer.prototype.isEditable = function () {\r\n        return !this.isReadOnly();\r\n    };\r\n    ExpressionRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-valueelement\";\r\n    };\r\n    ExpressionRenderer.prototype.getLabelText = function () {\r\n        var result = !this.expression.isEmpty()\r\n            ? this.expression.value\r\n            : this.getEmptyText();\r\n        return result;\r\n    };\r\n    ExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextValue || i18n.getText('MsgEmptyScalarValue'); //'[enter value]';\r\n    };\r\n    ExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        this.expression.setValue(value);\r\n        if (!silent) {\r\n            this.expression.getParent().fireChangedEvent(ConditionPart.Value);\r\n        }\r\n    };\r\n    ExpressionRenderer.prototype.getValue = function () {\r\n        return this.expression.value;\r\n    };\r\n    ExpressionRenderer.prototype.validateInput = function (value) {\r\n        return { success: true, value: value };\r\n    };\r\n    ExpressionRenderer.prototype.showValidationError = function (message, target) {\r\n        this.getContext().throwError({\r\n            action: \"ui.validation\",\r\n            \"text\": message\r\n        });\r\n    };\r\n    ExpressionRenderer.prototype.isEmptyValue = function () {\r\n        var v = this.getValue();\r\n        return (typeof (v) === \"undefined\" || v === null || !v);\r\n    };\r\n    ExpressionRenderer.prototype.adjustWidth = function () {\r\n    };\r\n    return ExpressionRenderer;\r\n}(BaseElementRenderer));\r\nexport { ExpressionRenderer };\r\n//# sourceMappingURL=expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { DataKind } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExpressionRenderer } from './expression_renderer';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar InputExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(InputExpressionRenderer, _super);\r\n    function InputExpressionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    InputExpressionRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        this.inputBuilder = domel(\"input\")\r\n            .hide()\r\n            .addClass(this.cssPrefix + \"-ve-editbox\")\r\n            .type('text')\r\n            .on('blur', function (ev) {\r\n            if (_this.inputBuilder.isVisible() && !_this.dontProcessBlur) {\r\n                var validationResult = _this.validateInput(_this.inputElement.value);\r\n                if (validationResult.success) {\r\n                    _this.setValue(_this.inputElement.value);\r\n                    _this.closeEditor();\r\n                }\r\n                else {\r\n                    _this.dontProcessBlur = true;\r\n                    _this.inputElement.focus();\r\n                    setTimeout(function () { _this.dontProcessBlur = false; }, 200);\r\n                    _this.showValidationError(validationResult.message, ev.target);\r\n                }\r\n                ev.stopPropagation();\r\n                return false;\r\n            }\r\n        })\r\n            .on('keydown', function (ev) {\r\n            if (ev.keyCode === 27) { // ESC is pressed\r\n                _this.closeEditor();\r\n                ev.stopPropagation();\r\n                return false;\r\n            }\r\n            else if (ev.keyCode === 13) { // Enter is pressed\r\n                if (_this.inputBuilder.isVisible()) {\r\n                    _this.dontProcessBlur = true;\r\n                    var validationResult = _this.validateInput(_this.inputElement.value);\r\n                    if (validationResult.success) {\r\n                        _this.setValue(_this.inputElement.value);\r\n                        _this.closeEditor();\r\n                        _this.dontProcessBlur = false;\r\n                    }\r\n                    else {\r\n                        _this.inputElement.focus();\r\n                        setTimeout(function () { _this.dontProcessBlur = false; }, 200);\r\n                    }\r\n                    ev.stopPropagation();\r\n                    return false;\r\n                }\r\n            }\r\n        });\r\n        this.inputElement = this.inputBuilder.toDOM();\r\n        domel(this.element)\r\n            .addChildElement(this.inputElement);\r\n    };\r\n    InputExpressionRenderer.prototype.showEditor = function () {\r\n        var MIN_WIDTH = 200;\r\n        if (!browserUtils.isMobileMode()) {\r\n            var left = this.element.offsetLeft;\r\n            var width = this.element.offsetWidth > MIN_WIDTH ? this.element.offsetWidth : MIN_WIDTH;\r\n            var maxWidth = this.element.parentElement.clientWidth - left - 55;\r\n            this.inputBuilder\r\n                .removeStyle('left')\r\n                .removeStyle('right');\r\n            if (maxWidth < MIN_WIDTH) {\r\n                this.inputBuilder\r\n                    .setStyle('right', '55px')\r\n                    .setStyle('width', MIN_WIDTH + \"px\");\r\n            }\r\n            else if (maxWidth < width) {\r\n                this.inputBuilder\r\n                    .setStyle('left', left + \"px\")\r\n                    .setStyle('width', maxWidth + \"px\");\r\n            }\r\n            else {\r\n                this.inputBuilder\r\n                    .setStyle('left', left + \"px\")\r\n                    .setStyle('width', width + \"px\");\r\n            }\r\n        }\r\n        domel(this.labelElement).hide();\r\n        this.inputBuilder\r\n            .value(this.getValue())\r\n            .show();\r\n        this.inputElement.focus();\r\n    };\r\n    InputExpressionRenderer.prototype.closeEditor = function () {\r\n        this.inputBuilder.hide();\r\n        domel(this.labelElement).show();\r\n        this.labelElement.focus();\r\n    };\r\n    InputExpressionRenderer.prototype.validateInput = function (inputValue) {\r\n        this.inputBuilder.removeClass(\"eqjs-invalid\");\r\n        var result = {\r\n            success: true,\r\n            value: inputValue\r\n        };\r\n        if (this.expression.kind == DataKind.List) {\r\n            this.validateListInput(inputValue, result);\r\n        }\r\n        else {\r\n            this.validateScalarInput(inputValue, result);\r\n        }\r\n        return result;\r\n    };\r\n    InputExpressionRenderer.prototype.validateListInput = function (inputValue, result) {\r\n        var inputValues = inputValue.split(/\\s*,\\s*/);\r\n        for (var _i = 0, inputValues_1 = inputValues; _i < inputValues_1.length; _i++) {\r\n            var val = inputValues_1[_i];\r\n            this.validateScalarInput(val, result);\r\n            if (!result.success) {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    InputExpressionRenderer.prototype.validateScalarInput = function (inputValue, result) {\r\n        if (dataUtils.isNumericType(this.expression.dataType)) {\r\n            var parsedVal = +inputValue;\r\n            if (isNaN(parsedVal)) {\r\n                result.success = false;\r\n                result.message = '\"' + inputValue + '\" ' + i18n.getText('ErrNotNumber');\r\n            }\r\n            if (dataUtils.isIntType(this.expression.dataType) && parsedVal != parseInt(inputValue, 10)) {\r\n                result.success = false;\r\n                result.message = '\"' + inputValue + '\" ' + i18n.getText('ErrIncorrectInteger');\r\n            }\r\n        }\r\n    };\r\n    InputExpressionRenderer.prototype.showValidationError = function (message, target) {\r\n        _super.prototype.showValidationError.call(this, message, target);\r\n        this.inputBuilder.addClass(\"eqjs-invalid\");\r\n    };\r\n    InputExpressionRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    return InputExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { InputExpressionRenderer };\r\n//# sourceMappingURL=input_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { eqconsts, DataKind, ConditionPart, } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExpressionRenderer } from './expression_renderer';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar ListExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(ListExpressionRenderer, _super);\r\n    function ListExpressionRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.menuItemsList = [];\r\n        _this.showWhenReady = false;\r\n        return _this;\r\n    }\r\n    ListExpressionRenderer.prototype.isEditable = function () {\r\n        return !this.isReadOnly()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    ListExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        var newValue = this.adjustNewValue(value);\r\n        if (value !== this.expression.value) {\r\n            var text = this.getValueText(value);\r\n            this.expression.setContent(newValue, text);\r\n            if (!silent) {\r\n                this.expression.getParent().fireChangedEvent(ConditionPart.Value);\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    ListExpressionRenderer.prototype.getValueText = function (value) {\r\n        var result = \"\";\r\n        if (Array.isArray(value)) {\r\n            for (var _i = 0, _a = this.menuItemsList; _i < _a.length; _i++) {\r\n                var item = _a[_i];\r\n                if (value.indexOf(item.id) >= 0) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var _b = 0, _c = this.menuItemsList; _b < _c.length; _b++) {\r\n                var item = _c[_b];\r\n                if (item.id === value) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        if (result) {\r\n            result = result.substring(0, result.length - 1);\r\n        }\r\n        return result;\r\n    };\r\n    ListExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextList || i18n.getText('MsgEmptyListValue');\r\n    };\r\n    ListExpressionRenderer.prototype.getListName = function () {\r\n        return this.valueEditor.name;\r\n    };\r\n    ListExpressionRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        this.fillMenuItemsList(function () {\r\n            _this.renderMenuBlock();\r\n        });\r\n    };\r\n    ListExpressionRenderer.prototype.getLabelText = function () {\r\n        if (!this.expression.isEmpty()) {\r\n            return this.expression.getText();\r\n        }\r\n        else {\r\n            return this.getEmptyText();\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.showLoader = function () {\r\n        //NOTHING TO DO\r\n    };\r\n    ListExpressionRenderer.prototype.hideLoader = function () {\r\n        //NOTHING TO DO\r\n    };\r\n    ListExpressionRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        if (this.menu) {\r\n            this.menu.showMenu({\r\n                anchor: this.labelElement,\r\n                selectedIds: this.getValuesAsArray(),\r\n                itemSelectedCallback: function (item, selectedItems) {\r\n                    if (!_this.menu.options.multiselect) {\r\n                        _this.setValue(item.id);\r\n                    }\r\n                    else if (selectedItems) {\r\n                        var selectedIds = [];\r\n                        var selLength = selectedItems.length;\r\n                        for (var i = 0; i < selLength; i++)\r\n                            selectedIds.push(selectedItems[i].id);\r\n                        _this.setValue(selectedIds);\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.showWhenReady = true;\r\n            this.showLoader();\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.closeEditor = function () {\r\n        this.menu.hideMenu();\r\n    };\r\n    ListExpressionRenderer.prototype.renderMenuBlock = function () {\r\n        var multiSelect = false;\r\n        if (this.expression) {\r\n            multiSelect = this.expression.kind === DataKind.List;\r\n        }\r\n        var queryPanel = this.panel;\r\n        var options = {\r\n            items: this.menuItemsList,\r\n            multiselect: multiSelect,\r\n            container: queryPanel ? queryPanel.options.menuContainer : null,\r\n            showSelected: true\r\n        };\r\n        if (queryPanel) {\r\n            dataUtils.assignDeep(options, queryPanel.options.menuOptions);\r\n        }\r\n        ;\r\n        if (queryPanel && queryPanel.options.isSubQuery) {\r\n            options.zIndex = queryPanel.options.dialogZIndex + 1000;\r\n        }\r\n        var menuId = this.element.id;\r\n        if (menuId) {\r\n            options.id = menuId + '-EditorMenu';\r\n        }\r\n        if (queryPanel) {\r\n            options.domWriteItemsId = queryPanel.options.domWriteItemsId;\r\n        }\r\n        ;\r\n        options.buttons = {\r\n            submit: i18n.getText('ButtonApply'),\r\n            cancel: i18n.getText('ButtonCancel')\r\n        };\r\n        this.menu = new PopupMenu(options);\r\n    };\r\n    ListExpressionRenderer.prototype.getValuesAsArray = function () {\r\n        if (this.expression.kind !== DataKind.List) {\r\n            return [this.expression.value];\r\n        }\r\n        else {\r\n            //splits value by ',' \r\n            var res = this.expression.value.match(/\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\"|[^,]+/g);\r\n            return res\r\n                ? res.map(function (a) {\r\n                    if (a.charAt(0) == '\"' && a.charAt(a.length - 1) == '\"') {\r\n                        a = a.substring(1, a.length - 1);\r\n                        return a.replace(/\\\"/g, '\"');\r\n                    }\r\n                    else {\r\n                        return a;\r\n                    }\r\n                })\r\n                : [];\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.adjustNewValue = function (newValue) {\r\n        if (Array.isArray(newValue)) {\r\n            return newValue.map(function (a) {\r\n                if (a.indexOf(',') >= 0) {\r\n                    a = a.replace(/\"/g, '\\\"');\r\n                    return '\"' + a + '\"';\r\n                }\r\n                else {\r\n                    return a;\r\n                }\r\n            }).join(',');\r\n        }\r\n        else {\r\n            return newValue;\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        this.menuItemsList = this.valueEditor.values;\r\n        if (onComplete) {\r\n            onComplete();\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.takeDefaultValue = function () {\r\n        if (!this.menuItemsList)\r\n            return;\r\n        var itemLen = this.menuItemsList.length;\r\n        for (var i = 0; i < itemLen; i++) {\r\n            var item = this.menuItemsList[i];\r\n            if (item.isDefault) {\r\n                this.setValue(item.id, true);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    return ListExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { ListExpressionRenderer };\r\nvar CustomListExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(CustomListExpressionRenderer, _super);\r\n    function CustomListExpressionRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.isLoading = false;\r\n        _this.onClickTemp = null;\r\n        return _this;\r\n    }\r\n    CustomListExpressionRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        if (this.isLoading)\r\n            return;\r\n        this.isLoading = true;\r\n        this.fillMenuItemsList(function () {\r\n            _this.isLoading = false;\r\n            if (_this.isEmptyValue()) {\r\n                _this.takeDefaultValue();\r\n            }\r\n            if (!_this.expression.isEmpty() && _this.expression._isDefaultValue) {\r\n                var text = _this.getValueText(_this.expression.value);\r\n                _this.expression.setContent(_this.expression.value, text);\r\n                _this.expression.getParent().fireChangedEvent();\r\n            }\r\n            _this.renderMenuBlock();\r\n            if (_this.showWhenReady) {\r\n                _this.showWhenReady = false;\r\n                _this.hideLoader();\r\n                _this.showEditor();\r\n            }\r\n        });\r\n    };\r\n    CustomListExpressionRenderer.prototype.showLoader = function () {\r\n        this.labelElement.style.display = 'none';\r\n        if (!this.loaderElement) {\r\n            this.loaderElement = domel('div', this.element)\r\n                .addClass(this.cssPrefix + \"-ve-loader\")\r\n                .toDOM();\r\n        }\r\n        this.loaderElement.style.display = 'block';\r\n    };\r\n    CustomListExpressionRenderer.prototype.hideLoader = function () {\r\n        this.loaderElement.style.display = 'none';\r\n        this.labelElement.removeAttribute('style');\r\n    };\r\n    CustomListExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        var _this = this;\r\n        var listName = this.getListName();\r\n        var listRequestHandler = this.panel.getContext().getListRequestHandler();\r\n        if (eqconsts.constLists[listName]) {\r\n            this.menuItemsList = eqconsts.constLists[listName];\r\n            if (onComplete) {\r\n                onComplete();\r\n            }\r\n        }\r\n        else if (listRequestHandler) {\r\n            listRequestHandler({\r\n                listName: listName,\r\n                editorId: this.valueEditor.id,\r\n                editorParams: this.valueEditor.extraParams,\r\n                value: this.getValue()\r\n            }, function (list) {\r\n                _this.menuItemsList = list;\r\n                if (onComplete) {\r\n                    onComplete();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return CustomListExpressionRenderer;\r\n}(ListExpressionRenderer));\r\nexport { CustomListExpressionRenderer };\r\nvar SqlListExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(SqlListExpressionRenderer, _super);\r\n    function SqlListExpressionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SqlListExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        var _this = this;\r\n        var context = this.panel.getContext();\r\n        var editor = this.valueEditor;\r\n        var listRequestHandler = context.getListRequestHandler();\r\n        if (listRequestHandler) {\r\n            var requestData = {\r\n                listName: \"SQL\",\r\n                editorId: this.valueEditor.id,\r\n                editorParams: this.valueEditor.extraParams,\r\n                value: this.getValue()\r\n            };\r\n            //requestData.sql = editor.sql;\r\n            listRequestHandler(requestData, function (list) {\r\n                _this.menuItemsList = list;\r\n                if (onComplete) {\r\n                    onComplete();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return SqlListExpressionRenderer;\r\n}(CustomListExpressionRenderer));\r\nexport { SqlListExpressionRenderer };\r\n//# sourceMappingURL=list_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ConditionPart, } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ListExpressionRenderer } from './list_expression_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar AttributeExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(AttributeExpressionRenderer, _super);\r\n    function AttributeExpressionRenderer(panel, expression, entitiesMenu, slot) {\r\n        var _this = _super.call(this, panel, expression, null, slot) || this;\r\n        _this.menu = entitiesMenu;\r\n        return _this;\r\n    }\r\n    AttributeExpressionRenderer.prototype.renderEditor = function () {\r\n        //create menu\r\n    };\r\n    AttributeExpressionRenderer.prototype.getLabelText = function () {\r\n        var model = this.panel.getContext().getModel();\r\n        var attrId = this.expression.value;\r\n        var attrObj = attrId ? model.getAttributeById(attrId) : null;\r\n        var attrFormat = this.panel.options.attrElementFormat;\r\n        return attrObj ? model.getAttributeText(attrObj, attrFormat) : this.getEmptyText();\r\n    };\r\n    AttributeExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        silent = silent && value !== this.expression.value;\r\n        var result = _super.prototype.setValue.call(this, value, true);\r\n        if (!silent) {\r\n            this.expression.getParent().fireChangedEvent(ConditionPart.EntityAttr | ConditionPart.Operator);\r\n        }\r\n        return result;\r\n    };\r\n    AttributeExpressionRenderer.prototype.isEditable = function () {\r\n        return !this.isReadOnly()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Attribute) === QPEditablePart.Attribute);\r\n    };\r\n    AttributeExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextAttribute || i18n.getText('MsgEmptyAttrValue');\r\n    };\r\n    AttributeExpressionRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-attrelement\";\r\n    };\r\n    AttributeExpressionRenderer.prototype.adjustWidth = function () {\r\n        if (browserUtils.isMobileMode()) {\r\n            return;\r\n        }\r\n        var elWidth = this.element.clientWidth;\r\n        var parWidth = this.element.parentElement.clientWidth;\r\n        if (elWidth > parWidth / 2) {\r\n            domel(this.element)\r\n                .addClass(this.cssPrefix + \"-attrelement-wide\");\r\n        }\r\n    };\r\n    return AttributeExpressionRenderer;\r\n}(ListExpressionRenderer));\r\nexport { AttributeExpressionRenderer };\r\n//# sourceMappingURL=attribute_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { BaseElementRenderer } from './base_element_renderer';\r\nvar DropDownRenderer = /** @class */ (function (_super) {\r\n    __extends(DropDownRenderer, _super);\r\n    function DropDownRenderer(slot) {\r\n        return _super.call(this, slot) || this;\r\n    }\r\n    DropDownRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        var menu = this.getMenu();\r\n        if (menu) {\r\n            menu.showMenu({\r\n                anchor: this.labelElement,\r\n                itemSelectedCallback: function (item) {\r\n                    _this.itemSelected(item.id);\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    DropDownRenderer.prototype.closeEditor = function () {\r\n        var menu = this.getMenu();\r\n        if (menu)\r\n            menu.hideMenu();\r\n    };\r\n    return DropDownRenderer;\r\n}(BaseElementRenderer));\r\nexport { DropDownRenderer };\r\n//# sourceMappingURL=dropdown_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { QueryChangeAction } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { DropDownRenderer } from '../dropdown_renderer';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar AddRowRenderer = /** @class */ (function (_super) {\r\n    __extends(AddRowRenderer, _super);\r\n    function AddRowRenderer(panel, entitiesMenu, slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = panel;\r\n        _this.menu = entitiesMenu;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AddRowRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AddRowRenderer.prototype.getLabelText = function () {\r\n        return i18n.getText('CmdClickToAddCondition');\r\n    };\r\n    AddRowRenderer.prototype.getClassesToAdd = function () {\r\n        return eqCssPrefix + \"-addrow \" + this.cssPrefix + \"-addrow\";\r\n    };\r\n    AddRowRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Addition) === QPEditablePart.Addition);\r\n    };\r\n    AddRowRenderer.prototype.renderLabelElement = function () {\r\n        var _this = this;\r\n        var displayedText = this.getLabelText();\r\n        if (this.isEditable()) {\r\n            this.labelElement = domel('a')\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(displayedText)\r\n                .text(displayedText)\r\n                .on('click', function (ev) {\r\n                ev.preventDefault();\r\n                _this.showEditor();\r\n                return false;\r\n            })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            this.labelElement = domel('div')\r\n                .toDOM();\r\n        }\r\n        return this.labelElement;\r\n    };\r\n    AddRowRenderer.prototype.renderEditor = function () {\r\n        // do nothing - the menu is alredy created\r\n    };\r\n    AddRowRenderer.prototype.itemSelected = function (id) {\r\n        var query = this.panel.getQuery();\r\n        var descr = {\r\n            parent: query.getRootCondition(),\r\n            attributeId: id\r\n        };\r\n        var cond = query.addSimpleCondition(descr);\r\n        if (cond) {\r\n            query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n        }\r\n    };\r\n    AddRowRenderer.prototype.getMenu = function () {\r\n        return this.menu;\r\n    };\r\n    return AddRowRenderer;\r\n}(DropDownRenderer));\r\nexport { AddRowRenderer };\r\n//# sourceMappingURL=addrow_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { DataKind, ConditionPart } from '@easyquery/core';\r\nimport { DropDownRenderer } from '../dropdown_renderer';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar OperatorRenderer = /** @class */ (function (_super) {\r\n    __extends(OperatorRenderer, _super);\r\n    function OperatorRenderer(panel, condition, text, slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = panel;\r\n        _this.condition = condition;\r\n        _this.displayedText = text;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(OperatorRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    OperatorRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        //create menu\r\n        var model = this.panel.getContext().getModel();\r\n        var query = this.panel.getQuery();\r\n        var items = [];\r\n        var isRelatedToSubQuery = function (operator) {\r\n            return operator.defaultOperand.kind == DataKind.Query;\r\n        };\r\n        var attrId = (this.condition && this.condition.expressions && this.condition.expressions[0]) ? this.condition.expressions[0].value : null;\r\n        var attr = attrId ? model.getAttributeById(this.condition.expressions[0].value) : null;\r\n        if (attr && attr.operators) {\r\n            attr.operators.forEach(function (operId) {\r\n                var operator = model.getOperatorById(operId);\r\n                var related = isRelatedToSubQuery(operator);\r\n                if (!query.isEx() && related) {\r\n                    return;\r\n                }\r\n                if (operator && !(_this.panel.options.isSubQuery && related)) {\r\n                    items.push({\r\n                        id: operId,\r\n                        text: i18n.getText('Operators', operId, 'caption') || operator.caption\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        var options = {\r\n            items: items,\r\n            adjustHeight: this.panel.options.adjustEntitiesMenuHeight,\r\n            id: dataUtils.generateId('opmn'),\r\n            domWriteItemsId: this.panel.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.panel.options.menuOptions);\r\n        this.menu = new PopupMenu(options);\r\n    };\r\n    OperatorRenderer.prototype.getLabelText = function () {\r\n        return this.displayedText;\r\n    };\r\n    OperatorRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextOperator || i18n.getText('MsgEmptyOperator');\r\n    };\r\n    OperatorRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-operelement\";\r\n    };\r\n    OperatorRenderer.prototype.isEditable = function () {\r\n        return this.condition.enabled && !this.condition.isReadOnly()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Operator) === QPEditablePart.Operator);\r\n    };\r\n    OperatorRenderer.prototype.itemSelected = function (id) {\r\n        this.condition.setOperatorId(id);\r\n        this.condition.fireChangedEvent(ConditionPart.Operator);\r\n    };\r\n    OperatorRenderer.prototype.getMenu = function () {\r\n        return this.menu;\r\n    };\r\n    return OperatorRenderer;\r\n}(DropDownRenderer));\r\nexport { OperatorRenderer };\r\n//# sourceMappingURL=operator_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, DataType, utils as dataUtils } from '@easydata/core';\r\nimport { DefaultDateTimePicker } from '@easydata/ui';\r\nimport { ExpressionRenderer } from './expression_renderer';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar DateTimeExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(DateTimeExpressionRenderer, _super);\r\n    function DateTimeExpressionRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.dtp = null;\r\n        _this.internalDateFormat = 'yyyy-MM-dd';\r\n        _this.internalTimeFormat = 'HH:mm';\r\n        return _this;\r\n    }\r\n    DateTimeExpressionRenderer.prototype.renderEditor = function () {\r\n    };\r\n    DateTimeExpressionRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        if (this.dtp)\r\n            return;\r\n        var pickerOptions = {\r\n            yearRange: this.panel.options.yearRange,\r\n            showCalendar: this.expression.dataType !== DataType.Time,\r\n            showTimePicker: this.expression.dataType !== DataType.Date,\r\n            oneClickDateSelection: this.panel.options.oneClickDateSelection,\r\n            showDateTimeInput: this.panel.options.showDateTimeInput,\r\n            onApply: function (dateTime) {\r\n                var value = _this.convertToInternalFormat(dateTime);\r\n                _this.setValue(value);\r\n                _this.dtp = null;\r\n                setTimeout(function () { return _this.labelElement.focus(); }, 100);\r\n            },\r\n            onCancel: function () {\r\n                _this.labelElement.innerText = _this.getLabelText();\r\n                _this.dtp = null;\r\n                setTimeout(function () { return _this.labelElement.focus(); }, 100);\r\n            },\r\n            onDateTimeChanged: function (dateTime) {\r\n                var value = i18n.dateTimeToStr(dateTime, _this.expression.dataType);\r\n                _this.labelElement.innerText = value;\r\n            }\r\n        };\r\n        this.dtp = this.panel.options.dateTimePickerResolver\r\n            ? this.panel.options.dateTimePickerResolver(pickerOptions)\r\n            : new DefaultDateTimePicker(pickerOptions);\r\n        var model = this.expression.getModel();\r\n        var value = this.expression.value;\r\n        var dateTime = new Date();\r\n        if (this.expression.dataType != DataType.Time && model.isDateMacro(value)) {\r\n            dateTime = model.getDateMacroValue(value);\r\n        }\r\n        else if (this.expression.dataType == DataType.Time && model.isTimeMacro(value)) {\r\n            dateTime = model.getTimeMacroValue(value);\r\n        }\r\n        else {\r\n            dateTime = this.convertFromInternalFormat(value);\r\n        }\r\n        this.dtp.setDateTime(dateTime);\r\n        this.dtp.show(this.element);\r\n    };\r\n    DateTimeExpressionRenderer.prototype.closeEditor = function () {\r\n        this.dtp.cancel();\r\n        this.dtp = null;\r\n    };\r\n    DateTimeExpressionRenderer.prototype.getLabelText = function () {\r\n        if (!this.expression.value)\r\n            return this.getEmptyText();\r\n        var defValue = '${{Today}}';\r\n        var value = this.expression.value;\r\n        var model = this.expression.getModel();\r\n        if (model) {\r\n            if (model.isDateMacro(value) || model.isTimeMacro(value)) {\r\n                var macroText = value.substring(3, value.length - 2);\r\n                var res = i18n.getText(macroText);\r\n                return res ? res : defValue;\r\n            }\r\n        }\r\n        var result = i18n.dateTimeToStr(this.convertFromInternalFormat(value), this.expression.dataType);\r\n        return result;\r\n    };\r\n    DateTimeExpressionRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    DateTimeExpressionRenderer.prototype.convertFromInternalFormat = function (dateTime) {\r\n        return dataUtils.strToDateTime(dateTime, this.internalDateFormat + ' ' + this.internalTimeFormat);\r\n    };\r\n    DateTimeExpressionRenderer.prototype.convertToInternalFormat = function (dateTime) {\r\n        return dataUtils.dateTimeToStr(dateTime, this.internalDateFormat + ' ' + this.internalTimeFormat);\r\n    };\r\n    return DateTimeExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { DateTimeExpressionRenderer };\r\n//# sourceMappingURL=datetime_expression_render.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { SortDirection, Expression, DataKind, ExprTag, Query, QueryChangeAction, ConditionPart } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExpressionRenderer } from \"./expression_renderer\";\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { QueryPanel } from '../../query_panel';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar SubQueryExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(SubQueryExpressionRenderer, _super);\r\n    function SubQueryExpressionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SubQueryExpressionRenderer.prototype.renderEditor = function () {\r\n        this.dialogBlockBody = domel('div')\r\n            .addClass(\"kfrm-form\")\r\n            //.setStyle('height', '100%')\r\n            .toDOM();\r\n        this.createEntitiesMenu();\r\n        this.renderColumnBlock();\r\n        this.renderQueryPanelBlock();\r\n    };\r\n    SubQueryExpressionRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    SubQueryExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        if (value instanceof Query) {\r\n            this.expression.subQuery = value;\r\n            if (!silent) {\r\n                this.expression.getParent().fireChangedEvent(ConditionPart.Value);\r\n            }\r\n        }\r\n    };\r\n    SubQueryExpressionRenderer.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        var exprType = this.expression.dataType;\r\n        this.colEntitiesList = model.getEntitiesTreeWithFilter(function (ent, attr) {\r\n            if (attr) {\r\n                return attr.useInConditions && attr.dataType === exprType;\r\n            }\r\n            else {\r\n                //if it's entity\r\n                return ent.attributes && ent.useInConditions;\r\n            }\r\n        });\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.element.getAttribute('data-id');\r\n        if (menuId) {\r\n            menuId += '-SubColumnMenu';\r\n        }\r\n        var options = {\r\n            items: this.colEntitiesList,\r\n            adjustHeight: this.panel.options.adjustEntitiesMenuHeight,\r\n            id: menuId,\r\n            zIndex: this.panel.options.dialogZIndex + 1000,\r\n            isSubQuery: true,\r\n            domWriteItemsId: this.panel.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.panel.options.menuOptions);\r\n        this.colEntitiesMenu = new PopupMenu(options);\r\n    };\r\n    SubQueryExpressionRenderer.prototype.renderColumnBlock = function () {\r\n        var _this = this;\r\n        this.columnBlock = domel('div', this.dialogBlockBody)\r\n            .addClass(\"kfrm-field\")\r\n            .addChild('label', function (b) { return b\r\n            .addText(i18n.getText('SubQueryColumnTitle')); })\r\n            .addChild('a', function (b) { return _this.columnElement = b\r\n            .attr('href', 'javascript:void(0)')\r\n            .on('click', function (e) {\r\n            _this.colEntitiesMenu.showMenu({\r\n                anchor: _this.columnElement,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var attrId = data.id;\r\n                    _this.setResultAttributeId(attrId);\r\n                    return false;\r\n                }\r\n            });\r\n        })\r\n            .toDOM(); })\r\n            .toDOM();\r\n    };\r\n    SubQueryExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextValue || i18n.getText('MsgSubQueryValue');\r\n    };\r\n    SubQueryExpressionRenderer.prototype.renderQueryPanelBlock = function () {\r\n        var parentEl = domel('div', this.dialogBlockBody)\r\n            .addClass(\"kfrm-field\")\r\n            .addChild('label', function (b) { return b\r\n            .addText(i18n.getText('SubQueryQueryPanelCaption')); })\r\n            .toDOM();\r\n        this.queryPanelBlock =\r\n            domel('div', parentEl)\r\n                .toDOM();\r\n        var qpId = this.element.getAttribute('data-id');\r\n        if (qpId) {\r\n            this.queryPanelBlock.id = qpId + '-SubQueryPanel';\r\n        }\r\n    };\r\n    SubQueryExpressionRenderer.prototype.setResultAttributeId = function (attrId) {\r\n        var attrObj = this.getContext().getModel().getAttributeById(attrId);\r\n        if (attrObj) {\r\n            var subQuery = this.getSubQuery();\r\n            var cols = subQuery.getColumns();\r\n            var column = void 0;\r\n            if (cols.length > 0) {\r\n                column = cols[0];\r\n                column.expr.setValue(attrId);\r\n                column.expr.dataType = attrObj.dataType;\r\n                column.fireChangedEvent();\r\n            }\r\n            else {\r\n                column = subQuery.createColumn();\r\n                column.sorting = SortDirection.None;\r\n                column.sortIndex = -1;\r\n                var expr = new Expression(column);\r\n                expr.setValue(attrId);\r\n                expr.tag = ExprTag.EntityAttribute;\r\n                expr.kind = DataKind.Attribute;\r\n                expr.dataType = attrObj.dataType;\r\n                column.expr = expr;\r\n                cols.push(column);\r\n                subQuery.fireColumnsChangedEvent(QueryChangeAction.Add, column);\r\n            }\r\n            this.columnElement.innerText = this.getAttributeText(attrObj);\r\n        }\r\n    };\r\n    SubQueryExpressionRenderer.prototype.getSubQuery = function () {\r\n        return this.queryPanel.getQuery();\r\n    };\r\n    SubQueryExpressionRenderer.prototype.getAttributeText = function (attribute) {\r\n        if (!attribute)\r\n            return i18n.getText('SubQueryEmptyColumn');\r\n        var attrText = i18n.getText('Attributes', attribute.id);\r\n        if (!attrText)\r\n            attrText = attribute.caption;\r\n        var format = this.panel.options.attrElementFormat;\r\n        if (!format)\r\n            return attrText;\r\n        var result = format.replace(new RegExp(\"{attr}\", 'g'), attrText);\r\n        var entityPath = this.getContext()\r\n            .getModel()\r\n            .getFullEntityPathByAttr(attribute.id, '.');\r\n        return result.replace(new RegExp(\"{entity}\", 'g'), entityPath);\r\n    };\r\n    SubQueryExpressionRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        var parentQuery = this.panel.getQuery();\r\n        var parentPanel = this.panel;\r\n        var context = this.getContext();\r\n        this.queryPanelBlock.innerHTML = \"\";\r\n        var subQuery = context.createQuery();\r\n        if (this.expression.subQuery) {\r\n            subQuery.loadFromData(this.expression.subQuery.toJSONData());\r\n        }\r\n        var subOptions = dataUtils.assign({}, parentPanel.options);\r\n        subOptions.isSubQuery = true;\r\n        subOptions.showAddRow = true;\r\n        subOptions.menuContainer = document.body;\r\n        subOptions.menuOptions.isSubQuery = true;\r\n        subOptions.entitiesListFilter = function (listItems, listOptions) {\r\n            if (parentPanel.options.entitiesListFilter) {\r\n                var subQueryPanelListOptions = listOptions || {};\r\n                subQueryPanelListOptions.isSubQuery = true;\r\n                parentPanel.options.entitiesListFilter(listItems, subQueryPanelListOptions);\r\n            }\r\n        };\r\n        this.queryPanel = new QueryPanel(this.queryPanelBlock, subQuery);\r\n        this.queryPanel.init(this.panel.getContext(), subOptions);\r\n        var attrId = null;\r\n        var cols = subQuery.getColumns();\r\n        ;\r\n        if (cols.length == 0) {\r\n            var condition = this.expression.getParent();\r\n            if (condition.expressions.length > 0) {\r\n                var attrExpr = condition.expressions[0];\r\n                attrId = (attrExpr.tag == ExprTag.EntityAttribute\r\n                    || attrExpr.kind == DataKind.Attribute) ? attrExpr.value : null;\r\n            }\r\n        }\r\n        else {\r\n            attrId = cols[0].expr.value;\r\n        }\r\n        if (attrId) {\r\n            this.setResultAttributeId(attrId);\r\n        }\r\n        else {\r\n            this.columnElement.innerText = i18n.getText(\"SubQueryEmptyColumn\");\r\n        }\r\n        this.queryPanel.refresh();\r\n        var rootCondEl = this.queryPanelBlock.querySelector('.eqjs-qp-conditions-root');\r\n        if (rootCondEl) {\r\n            rootCondEl.style.minHeight = '100px';\r\n        }\r\n        var dialogService = this.panel\r\n            .getContext()\r\n            .getServices()\r\n            .getDialogService();\r\n        dialogService.open({\r\n            title: i18n.getText('SubQueryDialogTitle'),\r\n            body: this.dialogBlockBody,\r\n            width: this.panel.options.subQueryDialogWidth,\r\n            //height: this.panel.options.subQueryDialogHeight,\r\n            closable: true,\r\n            cancelable: true,\r\n            onSubmit: function () {\r\n                var value = _this.queryPanel.getQuery();\r\n                // validate subquery\r\n                if (value.tryValidate({ checkExpressions: true })) {\r\n                    _this.setValue(value);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    SubQueryExpressionRenderer.prototype.closeEditor = function () {\r\n    };\r\n    return SubQueryExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { SubQueryExpressionRenderer };\r\n//# sourceMappingURL=subquery_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ExprTag } from \"@easyquery/core\";\r\nimport { CustomListExpressionRenderer } from \"./list_expression_renderer\";\r\nvar BindToParentColumnExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(BindToParentColumnExpressionRenderer, _super);\r\n    function BindToParentColumnExpressionRenderer(panel, expression, editor, slot) {\r\n        var _this = _super.call(this, panel, expression, editor, slot) || this;\r\n        _this.expression.tag = ExprTag.ParentColumn;\r\n        return _this;\r\n    }\r\n    BindToParentColumnExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        var query = this.panel.getQuery().getParentQuery();\r\n        var parent = this.expression.getParent();\r\n        var attrDataType = parent.expressions[0].dataType;\r\n        this.menuItemsList = query\r\n            .getColumns()\r\n            .filter(function (col) { return col.expr.dataType == attrDataType; })\r\n            .map(function (col) {\r\n            return { id: col.id, text: col.caption };\r\n        });\r\n        if (onComplete) {\r\n            onComplete();\r\n        }\r\n    };\r\n    return BindToParentColumnExpressionRenderer;\r\n}(CustomListExpressionRenderer));\r\nexport { BindToParentColumnExpressionRenderer };\r\n//# sourceMappingURL=bind_to_parent_column_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, eqconsts, CondTag, EqValueEditor, EqEditorTag, DataKind, QueryChangePart, QueryChangeAction, ConditionPart } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { eqDragManager, DropEffect } from '@easydata/ui';\r\nimport { QPEditablePart } from '../types/qp_editable_part';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { SimpleConditionRenderer } from './renderers/querypanel/condition_renderer';\r\nimport { ConditionGroupRenderer } from './renderers/querypanel/condition_group_renderer';\r\nimport { InputExpressionRenderer } from './renderers/querypanel/input_expression_renderer';\r\nimport { AttributeExpressionRenderer } from './renderers/querypanel/attribute_expression_renderer';\r\nimport { AddRowRenderer } from './renderers/querypanel/addrow_renderer';\r\nimport { ListExpressionRenderer, SqlListExpressionRenderer, CustomListExpressionRenderer } from './renderers/querypanel/list_expression_renderer';\r\nimport { OperatorRenderer } from './renderers/querypanel/operator_renderer';\r\nimport { DateTimeExpressionRenderer } from './renderers/querypanel/datetime_expression_render';\r\nimport { SubQueryExpressionRenderer } from './renderers/querypanel/subquery_expression_renderer';\r\nimport { eqCssPrefix, eqCssMobile, safeFocus } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { BindToParentColumnExpressionRenderer } from './renderers/querypanel/bind_to_parent_column_expression_renderer';\r\n/**\r\n * The query panel wiget, implemented without JQuery.\r\n */\r\nvar QueryPanel = /** @class */ (function (_super) {\r\n    __extends(QueryPanel, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function QueryPanel(slot, customQuery) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            editableParts: QPEditablePart.All,\r\n            isSubQuery: false,\r\n            activeCondition: null,\r\n            entitiesPopupHandler: null,\r\n            entitiesListFilter: null,\r\n            menuContainer: document.body,\r\n            showRootRow: true,\r\n            showAddRow: true,\r\n            showCheckboxes: false,\r\n            allowParameterization: false,\r\n            allowInJoinConditions: false,\r\n            showPoweredBy: false,\r\n            buttons: {\r\n                condition: null,\r\n                group: null\r\n            },\r\n            alwaysShowButtonsInGroups: false,\r\n            alwaysShowButtonsInConditions: false,\r\n            showConjunctions: true,\r\n            accentActiveCondition: true,\r\n            activateRootOnStart: true,\r\n            yearRange: 'c-10:c+10',\r\n            oneClickDateSelection: true,\r\n            showDateTimeInput: false,\r\n            attrElementFormat: '{entity} {attr}',\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                itemRenderedCallback: null\r\n            },\r\n            allowDragDrop: true,\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            subQueryDialogWidth: 600,\r\n            subQueryDialogHeight: 300,\r\n            dialogZIndex: 100000,\r\n            numberListSeparators: [',', ';'],\r\n            autoEditNewCondition: false,\r\n            onConditionRendered: null,\r\n            onGetConditionRenderer: null,\r\n            onGetExpressionRenderer: null,\r\n            onGetOperatorRenderer: null,\r\n            onOperatorRendered: null,\r\n            onGetAddRowRenderer: null,\r\n            defaultQuery: null\r\n        };\r\n        _this.customQuery = null;\r\n        _this.landingSlot = domel('div')\r\n            .addClass(_this.cssPrefix + \"-cond-landing-slot\")\r\n            .addChildElement(domel('div')\r\n            .toDOM())\r\n            .toDOM();\r\n        if (!_this.slot.classList.contains(_this.cssPrefix + \"-panel\")) {\r\n            _this.slot.classList.add(_this.cssPrefix + \"-panel\");\r\n        }\r\n        _this.group = WidgetGroup.Query;\r\n        if (customQuery) {\r\n            _this.customQuery = customQuery;\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(QueryPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    QueryPanel.prototype.getWidgetType = function () {\r\n        return 'queryPanel';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    QueryPanel.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        //detach previously defined query observer (if any)\r\n        this.detachQueryObserver();\r\n        this.attachQueryObserver();\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        if (this.options.allowDragDrop) {\r\n            var model_1 = this.getContext().getModel();\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"entityAttr\"],\r\n                onDragEnter: function (container, ev) {\r\n                    _this.slot.classList.add(eqCssPrefix + \"-drophover\");\r\n                    ev.dragImage.classList.add('eqjs-sortable-helper');\r\n                    _this.showLandingSlot();\r\n                    var attrId = ev.data.attrId;\r\n                    if (!model_1.checkAttrProperty(attrId, \"useInConditions\")) {\r\n                        ev.dropEffect = DropEffect.Forbid;\r\n                    }\r\n                },\r\n                onDragOver: function (container, ev) {\r\n                },\r\n                onDragLeave: function (container, ev) {\r\n                    ev.dragImage.classList.remove('eqjs-sortable-helper');\r\n                    ev.dragImage.style.removeProperty('width');\r\n                    _this.slot.classList.remove(eqCssPrefix + \"-drophover\");\r\n                    _this.hideLangindSlot();\r\n                },\r\n                onDrop: function (container, ev) {\r\n                    var query = _this.getQuery();\r\n                    var descr = {\r\n                        parent: query.getRootCondition(),\r\n                        attributeId: ev.data.attrId\r\n                    };\r\n                    var cond = query.addSimpleCondition(descr);\r\n                    if (cond) {\r\n                        query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    QueryPanel.prototype.destroyCore = function () {\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    QueryPanel.prototype.getEntitiesMenu = function () {\r\n        return this.entitiesMenu;\r\n    };\r\n    QueryPanel.prototype.getConditionMenu = function () {\r\n        return this.conditionMenu;\r\n    };\r\n    QueryPanel.prototype.getLinkTypeMenu = function () {\r\n        return this.linkTypeMenu;\r\n    };\r\n    QueryPanel.prototype.getConditionGroupMenu = function (isRoot) {\r\n        if (isRoot === void 0) { isRoot = false; }\r\n        return isRoot ? this.rootGroupMenu : this.groupMenu;\r\n    };\r\n    QueryPanel.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to conditions\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Conditions && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            var focusedBefore = document.activeElement;\r\n            var isFocusInside = _this.slot.contains(focusedBefore) || focusedBefore == document.body;\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var conds = edata.changee;\r\n                    var modifyCondition_1 = function (cond, autoEdit) {\r\n                        var el = _this.slot.querySelector(\"div[data-id=\" + cond.id + \"]\");\r\n                        if (el) {\r\n                            autoEdit = autoEdit\r\n                                && ((edata.condPart & ConditionPart.Operator) === ConditionPart.Operator)\r\n                                && cond.expressions.length > 1\r\n                                && (cond.expressions[1]._isDefaultValue || cond.expressions[1].value == '' ||\r\n                                    cond.expressions[1].value == null);\r\n                            var isActive = el.classList.contains('active');\r\n                            var renderer = _this.getConditionRenderer(cond, el);\r\n                            if (renderer) {\r\n                                var newEl = renderer.render(autoEdit);\r\n                                if (isActive) {\r\n                                    _this.toggleConditionPicked(cond);\r\n                                }\r\n                                if (isFocusInside && !autoEdit) {\r\n                                    var focusElem = newEl.querySelector('a') || newEl.querySelector('.eqjs-qp-condition-button');\r\n                                    if (focusElem) {\r\n                                        safeFocus(focusElem);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    var autoEdit_1 = _this.options.autoEditNewCondition;\r\n                    if (Array.isArray(conds)) {\r\n                        conds.forEach(function (cond) { return modifyCondition_1(cond, autoEdit_1); });\r\n                        autoEdit_1 = false;\r\n                    }\r\n                    else {\r\n                        modifyCondition_1(conds, autoEdit_1);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var conds = edata.changee;\r\n                    var addCondition_1 = function (cond) {\r\n                        var renderer = _this.getConditionRenderer(cond);\r\n                        if (renderer) {\r\n                            var parent_1 = cond.getParent();\r\n                            var parentEl = _this.slot.querySelector(\"div[data-id=\" + parent_1.id + \"]\");\r\n                            if (parentEl) {\r\n                                var newCondContainer = parentEl.lastChild;\r\n                                if (newCondContainer) {\r\n                                    var el = renderer.render(_this.options.autoEditNewCondition);\r\n                                    newCondContainer.appendChild(el);\r\n                                    el.scrollIntoView(false);\r\n                                    if (isFocusInside && !_this.options.autoEditNewCondition) {\r\n                                        el.querySelector(\"a\").focus();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(conds)) {\r\n                        conds.forEach(function (cond) { return addCondition_1(cond); });\r\n                    }\r\n                    else {\r\n                        addCondition_1(conds);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var conds = edata.changee;\r\n                    var deleteCondition_1 = function (cond) {\r\n                        var el = _this.slot.querySelector(\"div[data-id=\" + cond.id + \"]\");\r\n                        if (el) {\r\n                            var parent_2 = _this.slot.querySelector(\"div[data-id=\" + cond.getParent().id + \"] > .eqjs-qp-row-group\");\r\n                            ;\r\n                            var next = el.nextSibling;\r\n                            var prev = el.previousSibling;\r\n                            el.parentElement.removeChild(el);\r\n                            if (isFocusInside) {\r\n                                var focusCond = next || prev || parent_2;\r\n                                var focusElem = focusCond.querySelector('a') || focusCond.querySelector('.eqjs-qp-condition-button');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(conds)) {\r\n                        conds.forEach(function (cond) { return deleteCondition_1(cond); });\r\n                    }\r\n                    else {\r\n                        deleteCondition_1(conds);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    QueryPanel.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    QueryPanel.prototype.getQuery = function () {\r\n        if (this.customQuery) {\r\n            return this.customQuery;\r\n        }\r\n        return this.context.getQuery();\r\n    };\r\n    QueryPanel.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    QueryPanel.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n        // dateFormatValue & dateFormatDisplay back compatibility\r\n        if (this.options.dateFormatValue) {\r\n            i18n.updateLocaleSettings({\r\n                editDateFormat: this.options.dateFormatValue\r\n            });\r\n        }\r\n        if (this.options.dateFormatDisplay) {\r\n            // TO DO: process option\r\n        }\r\n        if (typeof this.options.editableParts === \"undefined\") {\r\n            this.options.editableParts = QPEditablePart.All;\r\n        }\r\n        if (browserUtils.isMobileMode()) {\r\n            this.options.buttons = this.options.buttons || {};\r\n            this.options.buttons.condition = [\"menu\"];\r\n            this.options.buttons.group = [\"menu\"];\r\n        }\r\n    };\r\n    QueryPanel.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    QueryPanel.prototype.render = function () {\r\n        try {\r\n            this.entitiesMenu = this.createEntitiesMenu();\r\n            this.createConditionMenus();\r\n            this.createLinkTypeMenu();\r\n            this.rootContainer = domel('div', this.slot)\r\n                .toDOM();\r\n            domel(this.slot)\r\n                .removeClass(eqCssMobile)\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            var query = this.getQuery();\r\n            var root = query.getRootCondition();\r\n            var renderer = this.getConditionRenderer(root, this.rootContainer);\r\n            if (renderer) {\r\n                renderer.render();\r\n            }\r\n            if (this.options.showAddRow) {\r\n                this.addRowElement = domel('div', this.slot)\r\n                    .toDOM();\r\n                var addrowRenderer = this.getAddRowRenderer(this.addRowElement);\r\n                if (addrowRenderer)\r\n                    addrowRenderer.render();\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.context.throwError({\r\n                action: \"QueryPanel rendering\",\r\n                text: e.message,\r\n                sourceError: e\r\n            });\r\n        }\r\n    };\r\n    QueryPanel.prototype.getConditionRenderer = function (condition, slot) {\r\n        var renderer;\r\n        if (this.options.onGetConditionRenderer) {\r\n            renderer = this.options.onGetConditionRenderer(condition, slot);\r\n            if (renderer) {\r\n                return renderer;\r\n            }\r\n        }\r\n        switch (condition.tag) {\r\n            case CondTag.Simple:\r\n                return new SimpleConditionRenderer(this, condition, slot);\r\n            case CondTag.Group:\r\n                return new ConditionGroupRenderer(this, condition, slot);\r\n        }\r\n        return null;\r\n    };\r\n    QueryPanel.prototype.getExpressionRenderer = function (expression, slot) {\r\n        if (!expression) {\r\n            throw 'Expression is not defined in the condition';\r\n        }\r\n        var model = this.getContext().getModel();\r\n        var condition = expression.getParent();\r\n        var operator = model.getOperatorById(condition.getOperatorId());\r\n        var attribute = model.getAttributeById(condition.expressions[0].value);\r\n        var operand = model.getOperand(attribute, operator, expression.getIndex());\r\n        var editor;\r\n        var tag;\r\n        if (operand && operand.editor && operand.editor.tag !== EqEditorTag.Unknown) {\r\n            editor = operand.editor;\r\n        }\r\n        else if (attribute && attribute.defaultEditor) {\r\n            editor = attribute.defaultEditor;\r\n        }\r\n        else {\r\n            editor = new EqValueEditor();\r\n        }\r\n        tag = editor.tag;\r\n        var exprType = expression.dataType;\r\n        if (exprType == DataType.Unknown) {\r\n            exprType = attribute.dataType;\r\n        }\r\n        if (expression.kind === DataKind.Attribute) {\r\n            if (expression.getIndex() === 0) { // Base attribute expression\r\n                return new AttributeExpressionRenderer(this, expression, this.entitiesMenu, slot);\r\n            }\r\n            else {\r\n                var attributeMenu = this.createEntitiesMenu(function (ent, attr) {\r\n                    if (attr) {\r\n                        return attr.useInConditions && attr.dataType === exprType;\r\n                    }\r\n                    return true;\r\n                });\r\n                return new AttributeExpressionRenderer(this, expression, attributeMenu, slot);\r\n            }\r\n        }\r\n        else if (expression.kind === DataKind.Query) {\r\n            tag = EqEditorTag.SubQuery;\r\n        }\r\n        else if (expression.kind === DataKind.Scalar) {\r\n            if (tag == EqEditorTag.Unknown && (expression.dataType === DataType.Date\r\n                || expression.dataType === DataType.DateTime || expression.dataType === DataType.Time)) {\r\n                tag = EqEditorTag.DateTime;\r\n            }\r\n        }\r\n        else if (expression.kind == DataKind.ParentColumn) {\r\n            tag = EqEditorTag.BindToParentColumn;\r\n        }\r\n        if (this.options.onGetExpressionRenderer) {\r\n            var renderer = this.options.onGetExpressionRenderer(this, expression, editor, slot);\r\n            if (renderer) {\r\n                return renderer;\r\n            }\r\n        }\r\n        switch (tag) {\r\n            case EqEditorTag.List:\r\n                return new ListExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.SqlList:\r\n                return new SqlListExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.CustomList:\r\n                return new CustomListExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.DateTime:\r\n                return new DateTimeExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.SubQuery:\r\n                return new SubQueryExpressionRenderer(this, expression, editor, slot);\r\n            //move to ERS later\r\n            case EqEditorTag.BindToParentColumn:\r\n                return new BindToParentColumnExpressionRenderer(this, expression, editor, slot);\r\n            default:\r\n                return new InputExpressionRenderer(this, expression, editor, slot);\r\n        }\r\n    };\r\n    QueryPanel.prototype.getOperatorRenderer = function (condition, text, slot) {\r\n        var renderer;\r\n        if (this.options.onGetOperatorRenderer)\r\n            renderer = this.options.onGetOperatorRenderer(condition, text, slot);\r\n        if (renderer)\r\n            return renderer;\r\n        return new OperatorRenderer(this, condition, text, slot);\r\n    };\r\n    QueryPanel.prototype.getAddRowRenderer = function (slot) {\r\n        var renderer;\r\n        if (this.options.onGetAddRowRenderer)\r\n            renderer = this.options.onGetAddRowRenderer(slot);\r\n        if (renderer)\r\n            return renderer;\r\n        return new AddRowRenderer(this, this.entitiesMenu, slot);\r\n    };\r\n    QueryPanel.prototype.createEntitiesMenu = function (filterFunc) {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id || \"eq-querypanel\";\r\n        menuId += '-EntitiesMenu';\r\n        var entitiesList = model.getEntitiesTree({\r\n            addUIC: true,\r\n            addUIR: false,\r\n            addUIS: false,\r\n            attrPlacement: this.options.attrPlacement,\r\n            sortEntities: this.options.sortEntities\r\n        }, filterFunc);\r\n        var options = {\r\n            items: entitiesList,\r\n            adjustHeight: this.options.adjustEntitiesMenuHeight,\r\n            id: menuId,\r\n            domWriteItemsId: this.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        return new PopupMenu(options);\r\n    };\r\n    QueryPanel.prototype.showEntitiesMenu = function (options) {\r\n        this.entitiesMenu.showMenu(options);\r\n    };\r\n    QueryPanel.prototype.createConditionMenus = function () {\r\n        //ConditionMenu\r\n        {\r\n            var query = this.getQuery();\r\n            var menuId = this.slot.id || \"eq-querypanel\";\r\n            menuId += '-ConditionMenu';\r\n            var items = [\r\n                {\r\n                    id: \"enable\",\r\n                    text: i18n.getText('MenuEnable')\r\n                },\r\n                {\r\n                    id: \"delete\",\r\n                    text: i18n.getText('CmdDelete')\r\n                }\r\n            ];\r\n            if (query.isEx()) {\r\n                if (this.options.allowParameterization || this.options.allowInJoinConditions) {\r\n                    items.push({ id: \"delimiter\", text: \"---\" });\r\n                }\r\n                ;\r\n                if (this.options.allowParameterization) {\r\n                    items.push({\r\n                        id: \"param\",\r\n                        text: i18n.getText('MenuParameterization')\r\n                    });\r\n                }\r\n                ;\r\n                if (this.options.allowInJoinConditions) {\r\n                    items.push({\r\n                        id: \"inJoin\",\r\n                        text: i18n.getText('MenuJoinCond')\r\n                    });\r\n                }\r\n                ;\r\n            }\r\n            var options = { items: items, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId, showSearchBoxAfter: 100, showSelected: true };\r\n            dataUtils.assign(options, this.options.menuOptions);\r\n            this.conditionMenu = new PopupMenu(options);\r\n        }\r\n        //groupMenu\r\n        {\r\n            var menuId = this.slot.id || \"eq-querypanel\";\r\n            menuId += '-GroupMenu';\r\n            var items = [\r\n                {\r\n                    id: \"enable\",\r\n                    text: i18n.getText('MenuEnable')\r\n                },\r\n                {\r\n                    id: \"delete\",\r\n                    text: i18n.getText('CmdDelete')\r\n                },\r\n                {\r\n                    id: \"delimiter\",\r\n                    text: \"---\"\r\n                },\r\n                {\r\n                    id: \"addCondition\",\r\n                    text: i18n.getText('CmdAddCondition')\r\n                },\r\n                {\r\n                    id: \"addGroup\",\r\n                    text: i18n.getText('CmdAddCondGroup')\r\n                }\r\n            ];\r\n            var options = { items: items, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId, showSearchBoxAfter: 100, showSelected: true };\r\n            dataUtils.assign(options, this.options.menuOptions);\r\n            this.groupMenu = new PopupMenu(options);\r\n        }\r\n        //rootGroupMenu\r\n        {\r\n            var menuId = this.slot.id || \"eq-querypanel\";\r\n            menuId += '-RootGroupMenu';\r\n            var items = [\r\n                {\r\n                    id: \"addCondition\",\r\n                    text: i18n.getText('CmdAddCondition')\r\n                },\r\n                {\r\n                    id: \"addGroup\",\r\n                    text: i18n.getText('CmdAddCondGroup')\r\n                }\r\n            ];\r\n            var options = { items: items, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId, showSearchBoxAfter: 100, showSelected: true };\r\n            dataUtils.assign(options, this.options.menuOptions);\r\n            this.rootGroupMenu = new PopupMenu(options);\r\n        }\r\n    };\r\n    QueryPanel.prototype.createLinkTypeMenu = function () {\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-LinkTypeMenu';\r\n        }\r\n        var typeList = eqconsts.predicateLinkTypeList;\r\n        var itemList = typeList.map(function (item) {\r\n            return {\r\n                id: item.id,\r\n                text: i18n.getText(item.key)\r\n            };\r\n        });\r\n        var options = { items: itemList, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.linkTypeMenu = new PopupMenu(options);\r\n    };\r\n    QueryPanel.prototype.toggleConditionPicked = function (condition, force) {\r\n        if (force === void 0) { force = undefined; }\r\n        var el;\r\n        var isActive;\r\n        if (condition) {\r\n            el = this.slot.querySelector(\"div[data-id=\" + condition.id + \"][data-condrow], div[data-id=\" + condition.id + \"] > div[data-grouprow]\");\r\n            if (el) {\r\n                isActive = el.classList.contains('active');\r\n            }\r\n        }\r\n        //clear 'active' in all rows\r\n        var rows = this.slot.querySelectorAll(\".\" + this.cssPrefix + \"-row\");\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            if (row.hasAttribute('data-group-row')) {\r\n                if (!this.options.alwaysShowButtonsInGroups) {\r\n                    domel(row)\r\n                        .data(\"show-buttons\", null);\r\n                }\r\n            }\r\n            else {\r\n                if (!this.options.alwaysShowButtonsInConditions) {\r\n                    domel(row)\r\n                        .data(\"show-buttons\", null);\r\n                }\r\n            }\r\n            domel(row)\r\n                .removeClass('active');\r\n        }\r\n        if (el && !isActive) {\r\n            domel(el)\r\n                .addClass('active')\r\n                .data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    QueryPanel.prototype.showLandingSlot = function () {\r\n        var container = this.slot.querySelector('.eqjs-qp-conditions-root');\r\n        if (container) {\r\n            container.appendChild(this.landingSlot);\r\n            this.landingSlot.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        }\r\n    };\r\n    QueryPanel.prototype.hideLangindSlot = function () {\r\n        if (this.landingSlot.parentElement) {\r\n            this.landingSlot.parentElement.removeChild(this.landingSlot);\r\n        }\r\n    };\r\n    return QueryPanel;\r\n}(Widget));\r\nexport { QueryPanel };\r\n//# sourceMappingURL=query_panel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, QueryChangeAction } from '@easyquery/core';\r\nimport { slideUp, slideDown, domel } from '@easydata/ui';\r\nimport { QueryPanel } from './query_panel';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar FilterBar = /** @class */ (function (_super) {\r\n    __extends(FilterBar, _super);\r\n    function FilterBar(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            applyOnClose: true,\r\n            showApplyButton: true,\r\n            showClearButton: true,\r\n            queryPanel: {\r\n                showAddRow: true,\r\n                showCheckboxes: true,\r\n                alwaysShowButtonsInGroups: true\r\n            }\r\n        };\r\n        _this.headerClickListener = _this.headerClickHandler.bind(_this);\r\n        _this.group = WidgetGroup.Query;\r\n        return _this;\r\n    }\r\n    FilterBar.prototype.getWidgetType = function () {\r\n        return 'filterBar';\r\n    };\r\n    Object.defineProperty(FilterBar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-fb';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FilterBar.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.destroyCore();\r\n        this.qpElement = domel('div')\r\n            .addClass(this.cssPrefix + \"-querypanel\")\r\n            .toDOM();\r\n        this.queryPanel = new QueryPanel(this.qpElement);\r\n        this.queryPanel.init(context, options.queryPanel || {});\r\n        this.attachQueryObserver();\r\n    };\r\n    FilterBar.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    FilterBar.prototype.applyBtnClick = function (ev) {\r\n        this.applyFilter();\r\n    };\r\n    FilterBar.prototype.clearBtnClick = function (ev) {\r\n        this.clearFilter();\r\n    };\r\n    FilterBar.prototype.showQueryPanel = function (callback) {\r\n        var _this = this;\r\n        slideDown(this.qpBlock, 200, function () {\r\n            _this.updateHeader();\r\n            if (callback)\r\n                callback();\r\n        });\r\n    };\r\n    FilterBar.prototype.hideQueryPanel = function () {\r\n        var _this = this;\r\n        slideUp(this.qpBlock, 200, function () {\r\n            _this.updateHeader();\r\n            if (_this.options.applyOnClose) {\r\n                _this.applyFilter();\r\n            }\r\n        });\r\n    };\r\n    FilterBar.prototype.headerClickHandler = function (ev) {\r\n        ev.preventDefault();\r\n        if (domel(this.qpBlock).isVisible()) { // close query panel\r\n            this.hideQueryPanel();\r\n        }\r\n        else { //open query panel\r\n            this.showQueryPanel();\r\n        }\r\n    };\r\n    FilterBar.prototype.updateHeader = function () {\r\n        if (!this.headerTextElement)\r\n            return;\r\n        var text = '';\r\n        var query = this.getContext().getQuery();\r\n        if (query) {\r\n            text = query.getConditionsText();\r\n        }\r\n        if (text == '') {\r\n            text = i18n.getText('StrNoFilterDefined');\r\n        }\r\n        domel(this.headerTextElement)\r\n            .text(text)\r\n            .attr('title', text);\r\n        if (!query || query.isEmptyConditions()) { //empty query, don't show query panel and arrow, show link in header\r\n            domel(this.headerTextElement).hide();\r\n            domel(this.headerLinkElement).show();\r\n            if (!domel(this.qpBlock).isVisible()) {\r\n                domel(this.headerArrowBlock).hide();\r\n                this.headerElement.style.cursor = '';\r\n                this.headerElement.removeEventListener('click', this.headerClickListener);\r\n            }\r\n        }\r\n        else {\r\n            this.headerElement.style.cursor = 'pointer';\r\n            this.headerElement.removeEventListener('click', this.headerClickListener);\r\n            this.headerElement.addEventListener('click', this.headerClickListener);\r\n            domel(this.headerTextElement).show();\r\n            domel(this.headerLinkElement).hide();\r\n            domel(this.headerArrowBlock).show();\r\n        }\r\n        if (domel(this.qpBlock).isVisible()) { // close query panel\r\n            this.headerArrowElement.classList.add(this.cssPrefix + \"-header-arrowUp\");\r\n        }\r\n        else {\r\n            this.headerArrowElement.classList.remove(this.cssPrefix + \"-header-arrowUp\");\r\n        }\r\n        this.textResize();\r\n    };\r\n    FilterBar.prototype.render = function () {\r\n        var _this = this;\r\n        domel(this.slot)\r\n            .addClass(this.cssPrefix + \"-container\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (builder) { return _this.headerElement = builder\r\n            .addClass(_this.cssPrefix + \"-header\")\r\n            .addChild('div', function (builder) { return _this.headerIconElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-icon\")\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.headerTextBlock = builder\r\n            .addClass(_this.cssPrefix + \"-header-textblock\")\r\n            .addChild('div', function (builder) { return _this.headerTextElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-text\")\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.headerLinkElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-text \" + _this.cssPrefix + \"-header-link\")\r\n            .text(i18n.getText('StrNoFilterClickToAdd'))\r\n            .hide()\r\n            .on('click', function () {\r\n            _this.queryPanel.showEntitiesMenu({\r\n                anchor: _this.headerLinkElement,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (item, items) {\r\n                    var attrid = item.id;\r\n                    _this.showQueryPanel(function () {\r\n                        var query = _this.getContext().getQuery();\r\n                        var descr = {\r\n                            parent: query.getRootCondition(),\r\n                            attributeId: attrid\r\n                        };\r\n                        var cond = query.addSimpleCondition(descr);\r\n                        if (cond) {\r\n                            query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        })\r\n            .toDOM(); })\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.headerArrowBlock = builder\r\n            .addClass(_this.cssPrefix + \"-header-arrowblock\")\r\n            .addChild('div', function (builder) { return _this.headerArrowElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-arrow\")\r\n            .toDOM(); })\r\n            .toDOM(); })\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.qpBlock = builder\r\n            .addClass(_this.cssPrefix + \"-querypanelblock\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .hide()\r\n            .addChildElement(_this.qpElement)\r\n            .toDOM(); });\r\n        if (this.options.showApplyButton || this.options.showClearButton) {\r\n            this.buttonsBlock = domel('div', this.qpBlock)\r\n                .addClass(this.cssPrefix + \"-buttonsblock\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        }\r\n        if (this.options.showApplyButton) {\r\n            domel('a', this.buttonsBlock)\r\n                .attr('href', 'javascript:void(0)')\r\n                .addClass(this.cssPrefix + \"-button \" + this.cssPrefix + \"-button-apply\")\r\n                .text(i18n.getText('ButtonApply'))\r\n                .on('click', this.applyBtnClick.bind(this));\r\n        }\r\n        if (this.options.showClearButton) {\r\n            domel('a', this.buttonsBlock)\r\n                .attr('href', 'javascript:void(0)')\r\n                .addClass(this.cssPrefix + \"-button \" + this.cssPrefix + \"-button-clear\")\r\n                .text(i18n.getText('CmdClear'))\r\n                .on('click', this.clearBtnClick.bind(this));\r\n        }\r\n        window.addEventListener('resize', function () {\r\n            _this.textResize();\r\n        });\r\n        this.updateHeader();\r\n        this.queryPanel.refresh();\r\n        setTimeout(function () { return _this.textResize(); }, 500);\r\n    };\r\n    FilterBar.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    FilterBar.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    FilterBar.prototype.applyFilter = function () {\r\n        if (this.options.applyFilterCallback) {\r\n            this.options.applyFilterCallback();\r\n        }\r\n    };\r\n    FilterBar.prototype.clearFilter = function () {\r\n        var query = this.getContext().getQuery();\r\n        if (query) {\r\n            query.clearConditions();\r\n            query.fireConditionsChangedEvent(QueryChangeAction.All);\r\n        }\r\n    };\r\n    FilterBar.prototype.textResize = function () {\r\n        this.headerTextBlock.style.width = (this.slot.clientWidth - this.headerIconElement.offsetWidth\r\n            - (domel(this.headerArrowBlock).isVisible() ? this.headerArrowBlock.offsetWidth : 0)) + \"px\";\r\n    };\r\n    FilterBar.prototype.destroyCore = function () {\r\n        if (this.queryPanel)\r\n            this.queryPanel.destroy();\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    FilterBar.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getContext().getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            _this.updateHeader();\r\n        });\r\n    };\r\n    FilterBar.prototype.detachQueryObserver = function () {\r\n        var query = this.getContext().getQuery();\r\n        if (query)\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n    };\r\n    return FilterBar;\r\n}(Widget));\r\nexport { FilterBar };\r\n//# sourceMappingURL=filter_bar.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from \"@easyquery/core\";\r\n/**\r\n * The widget responsed for rendering html content\r\n */\r\nvar HtmlContentWidget = /** @class */ (function (_super) {\r\n    __extends(HtmlContentWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function HtmlContentWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.contentElement = slot;\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    HtmlContentWidget.prototype.getWidgetType = function () {\r\n        return 'htmlContent';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    HtmlContentWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    HtmlContentWidget.prototype.refreshCore = function () {\r\n        this.clear();\r\n        if (!this.context.resultContent)\r\n            return;\r\n        this.render();\r\n    };\r\n    /**\r\n     * Renders widget\r\n     */\r\n    HtmlContentWidget.prototype.render = function () {\r\n        if (this.context.resultContent) {\r\n            this.contentElement.innerHTML += this.context.resultContent;\r\n        }\r\n    };\r\n    /**\r\n     * Clears content.\r\n     */\r\n    HtmlContentWidget.prototype.clear = function () {\r\n        this.contentElement.innerHTML = \"\";\r\n    };\r\n    HtmlContentWidget.prototype.destroyCore = function () {\r\n        this.clear();\r\n    };\r\n    return HtmlContentWidget;\r\n}(Widget));\r\nexport { HtmlContentWidget };\r\n//# sourceMappingURL=html_content_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { WidgetGroup } from '@easyquery/core';\r\nimport { HtmlContentWidget } from './html_content_widget';\r\n/**\r\n * The widget responsed for rendering html grid.\r\n */\r\nvar EqHtmlGrid = /** @class */ (function (_super) {\r\n    __extends(EqHtmlGrid, _super);\r\n    /**\r\n    * The default constructor.\r\n    * @param slot The html element.\r\n    */\r\n    function EqHtmlGrid(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            maxButtonCount: 10,\r\n            useBootstrap: false\r\n        };\r\n        return _this;\r\n    }\r\n    EqHtmlGrid.prototype.getWidgetType = function () {\r\n        return 'eqHtmlGrid';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    EqHtmlGrid.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n    };\r\n    EqHtmlGrid.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    EqHtmlGrid.prototype.refreshCore = function () {\r\n        _super.prototype.refreshCore.call(this);\r\n        this.renderPageNavigator();\r\n    };\r\n    EqHtmlGrid.prototype.destroyCore = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    /**\r\n     * Renders page navigator.\r\n     */\r\n    EqHtmlGrid.prototype.renderPageNavigator = function () {\r\n        var _this = this;\r\n        var pageNavigatorPlaceholder = document.getElementById(\"PageNavigator\");\r\n        if (!pageNavigatorPlaceholder) {\r\n            return;\r\n        }\r\n        var pageCount = parseInt(pageNavigatorPlaceholder.getAttribute('data-pagecount'));\r\n        var pageIndex = parseInt(pageNavigatorPlaceholder.getAttribute('data-pageindex'));\r\n        if (pageCount > 1) {\r\n            var buttonClick = function (ev) {\r\n                var element = ev.target;\r\n                if (element.hasAttribute('data-page')) {\r\n                    var pageNum = parseInt(element.getAttribute('data-page'));\r\n                    _this.context.fetchDataChunk({\r\n                        chunk: {\r\n                            page: pageNum\r\n                        },\r\n                        success: function () {\r\n                            _this.context.refreshWidgets(WidgetGroup.Result);\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n            var maxButtonCount = this.options.maxButtonCount || 10;\r\n            var zeroBasedIndex = pageIndex - 1;\r\n            var firstPageIndex = zeroBasedIndex - (zeroBasedIndex % maxButtonCount) + 1;\r\n            var lastPageIndex = firstPageIndex + maxButtonCount - 1;\r\n            if (lastPageIndex > pageCount) {\r\n                lastPageIndex = pageCount;\r\n            }\r\n            var ul = document.createElement('ul');\r\n            if (this.options.useBootstrap) {\r\n                ul.className = \"pagination\";\r\n            }\r\n            else {\r\n                ul.className = \"eqv-pagination\";\r\n            }\r\n            if (this.options.pageItemCssClass) {\r\n                ul.className += \" \" + (this.options.pageItemCssClass);\r\n            }\r\n            var li = document.createElement('li');\r\n            if (this.options.useBootstrap) {\r\n                li.className = \"page-item\";\r\n            }\r\n            var a = document.createElement('span');\r\n            a.setAttribute(\"aria-hidden\", 'true');\r\n            if (this.options.useBootstrap) {\r\n                a.className = \"page-link\";\r\n            }\r\n            if (firstPageIndex == 1) {\r\n                li.className += \" disabled\";\r\n            }\r\n            else {\r\n                if (this.options.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                    a.className = \"page-link\";\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                    a = newA;\r\n                }\r\n                a.addEventListener(\"click\", buttonClick);\r\n            }\r\n            a.innerHTML = \"&laquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            for (var i = firstPageIndex; i <= lastPageIndex; i++) {\r\n                li = document.createElement('li');\r\n                if (this.options.useBootstrap) {\r\n                    li.className = \"page-item\";\r\n                }\r\n                if (i == pageIndex)\r\n                    li.className += \" active\";\r\n                a = document.createElement('a');\r\n                a.setAttribute('href', 'javascript:void(0)');\r\n                a.innerHTML = i.toString();\r\n                a.setAttribute('data-page', i.toString());\r\n                a.className = \"page-link\";\r\n                a.addEventListener(\"click\", buttonClick);\r\n                li.appendChild(a);\r\n                ul.appendChild(li);\r\n            }\r\n            li = document.createElement('li');\r\n            if (this.options.useBootstrap) {\r\n                li.className = \"page-item\";\r\n            }\r\n            a = document.createElement(\"span\");\r\n            a.setAttribute('aria-hidden', 'true');\r\n            if (this.options.useBootstrap) {\r\n                a.className = \"page-link\";\r\n            }\r\n            if (lastPageIndex == pageCount) {\r\n                li.className += \"disabled\";\r\n            }\r\n            else {\r\n                if (this.options.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                    a.className += \" page-link\";\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                    a = newA;\r\n                }\r\n                a.addEventListener(\"click\", buttonClick);\r\n            }\r\n            a.innerHTML = \"&raquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            pageNavigatorPlaceholder.appendChild(ul);\r\n        }\r\n    };\r\n    return EqHtmlGrid;\r\n}(HtmlContentWidget));\r\nexport { EqHtmlGrid };\r\n//# sourceMappingURL=eq_result_html_grid.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\n/**\r\n * Base class for GRID.\r\n */\r\nvar Grid = /** @class */ (function (_super) {\r\n    __extends(Grid, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function Grid(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            useCustomLocaleSettings: false\r\n        };\r\n        _this.slot = slot;\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    Grid.prototype.getWidgetType = function () {\r\n        return 'grid';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    Grid.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        if (options) {\r\n            dataUtils.assignDeep(this.options, options);\r\n        }\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    Grid.prototype.refreshCore = function () {\r\n        this.clear();\r\n        if (!this.context.resultTable) {\r\n            return;\r\n        }\r\n        this.render();\r\n    };\r\n    /**\r\n     * Renders widget\r\n     */\r\n    Grid.prototype.render = function () {\r\n        if (this.options.beforeTableRendering) {\r\n            this.options.beforeTableRendering(this.context.resultTable);\r\n        }\r\n        this.applyDisplayFormats();\r\n    };\r\n    Grid.prototype.applyDisplayFormats = function () {\r\n    };\r\n    /**\r\n     * Clears GRID.\r\n     */\r\n    Grid.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    return Grid;\r\n}(Widget));\r\nexport { Grid };\r\n//# sourceMappingURL=grid.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { WidgetGroup, QueryChangeAction, ExprTag, QueryChangePart, SortDirection } from '@easyquery/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { EasyGrid } from '@easydata/ui';\r\nimport { Grid } from './grid';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nvar EasyGridWidget = /** @class */ (function (_super) {\r\n    __extends(EasyGridWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function EasyGridWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.hasCustomTotalsSettings = false;\r\n        //!!!! DO NOT forget to add types for options\r\n        _this.options = { autoRefresh: true };\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    EasyGridWidget.prototype.getWidgetType = function () {\r\n        return 'easyGrid';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    EasyGridWidget.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        var gridOptions = __assign({}, options, { slot: this.slot, dataTable: context.resultTable });\r\n        this.options = dataUtils.assign(this.options, options);\r\n        gridOptions.onAddColumnClick = function (ev) { return _this.addColumnClickHandler(ev); };\r\n        gridOptions.onColumnMoved = function (ev) { return _this.columnMovedHandler(ev); };\r\n        if (this.context.calcTotals) {\r\n            if (gridOptions.totals) {\r\n                this.hasCustomTotalsSettings = true;\r\n            }\r\n            else {\r\n                gridOptions.totals = __assign({}, this.context.getTotalsSettings(), { calculator: null });\r\n            }\r\n            gridOptions.totals.calculator = this.context.getServices()\r\n                .getTotalCalculator();\r\n        }\r\n        this.destroy();\r\n        this.grid = new EasyGrid(gridOptions);\r\n        if (this.options.autoRefresh) {\r\n            this.attachQueryObserver();\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.updateTotalsSettings();\r\n        this.render();\r\n    };\r\n    EasyGridWidget.prototype.render = function () {\r\n        this.createEntitiesMenu();\r\n        this.grid.refresh();\r\n    };\r\n    EasyGridWidget.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            if (event.data.source == _this) {\r\n                _this.grid.refresh();\r\n            }\r\n            else {\r\n                _this.refresh();\r\n            }\r\n        });\r\n    };\r\n    EasyGridWidget.prototype.destroyCore = function () {\r\n        this.detachQueryObserver();\r\n        if (this.grid)\r\n            this.grid.destroy();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    EasyGridWidget.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getContext().getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.updateTotalsSettings = function () {\r\n        var context = this.getContext();\r\n        if (context.calcTotals && !this.hasCustomTotalsSettings) {\r\n            var settings = context.getTotalsSettings();\r\n            this.grid.options.totals.calcGrandTotals = settings.calcGrandTotals;\r\n            this.grid.options.totals.cols = settings.cols;\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: true, addUIS: false });\r\n        var options = { items: entitiesList, id: menuId };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    EasyGridWidget.prototype.getModel = function () {\r\n        return this.context.getModel();\r\n    };\r\n    EasyGridWidget.prototype.getQuery = function () {\r\n        return this.context.getQuery();\r\n    };\r\n    EasyGridWidget.prototype.clear = function () {\r\n        if (this.grid)\r\n            this.grid.clear();\r\n    };\r\n    EasyGridWidget.prototype.addColumnClickHandler = function (ev) {\r\n        var _this = this;\r\n        this.entitiesMenu.showMenu({\r\n            anchor: ev.sourceEvent.target,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                var attrid = data.id;\r\n                _this.addNewColumn(attrid);\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    EasyGridWidget.prototype.columnMovedHandler = function (ev) {\r\n        var query = this.getQuery();\r\n        var oldIndex = dataUtils.findItemIndexById(query.getColumns(), ev.columnId);\r\n        if (oldIndex >= 0) {\r\n            query.moveColumn(oldIndex, ev.newIndex);\r\n            query.fireChangedEvent({\r\n                part: QueryChangePart.Columns,\r\n                action: QueryChangeAction.All,\r\n                source: this\r\n            });\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.addNewColumn = function (attrId) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getContext().getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInSorting) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInSorting) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn();\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.None;\r\n            column.sortIndex = -1;\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        if (!this.getContext().getQuery()) {\r\n            return;\r\n        }\r\n        return this.addColumn(getColumnByAttrId(attrId));\r\n    };\r\n    EasyGridWidget.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    EasyGridWidget.prototype.addColumn = function (column) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        column = this.checkColumn(column);\r\n        if (!column) {\r\n            return;\r\n        }\r\n        column = query.addColumn({\r\n            caption: column.caption,\r\n            attributeId: column.expr.value,\r\n            sorting: column.sorting,\r\n            sortIndex: column.sortIndex\r\n        });\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.Columns,\r\n            action: QueryChangeAction.Add,\r\n            changee: column,\r\n            source: this\r\n        });\r\n        return column;\r\n    };\r\n    EasyGridWidget.prototype.checkColumn = function (col) {\r\n        var query = this.getContext().getQuery();\r\n        var columns = query.getColumns();\r\n        var colJson = JSON.stringify(col.expr.saveToData());\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var qcolJson = JSON.stringify(columns[i].expr.saveToData());\r\n            if (qcolJson === colJson) {\r\n                return null;\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    return EasyGridWidget;\r\n}(Grid));\r\nexport { EasyGridWidget };\r\n//# sourceMappingURL=easy_grid_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\n/**\r\n * The widget responsed for rendering statement.\r\n * It's usually added for demonstration purposes only.\r\n */\r\nvar StatementPanel = /** @class */ (function (_super) {\r\n    __extends(StatementPanel, _super);\r\n    /**\r\n     * The  default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function StatementPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = slot;\r\n        _this.group = WidgetGroup.Statement;\r\n        if (_this.panel.tagName !== \"TEXTAREA\") {\r\n            _this.panel.innerHTML = '<div class=\"eqv-sql-panel-result\"></div>';\r\n            _this.panel = _this.panel.querySelector('div');\r\n        }\r\n        return _this;\r\n    }\r\n    StatementPanel.prototype.getWidgetType = function () {\r\n        return 'statementPanel';\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    StatementPanel.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    StatementPanel.prototype.render = function () {\r\n        this.panel.textContent = this.context.resultStatement ? this.context.resultStatement : \"\";\r\n        var statementText = this.panel.innerHTML.replace(/\\r\\n/g, \"<br />\").replace(/  /g, \"&nbsp;&nbsp;\");\r\n        this.panel.innerHTML = statementText;\r\n    };\r\n    StatementPanel.prototype.destroyCore = function () {\r\n        this.clear();\r\n    };\r\n    StatementPanel.prototype.clear = function () {\r\n        this.panel.innerHTML = \"\";\r\n    };\r\n    return StatementPanel;\r\n}(Widget));\r\nexport { StatementPanel };\r\n//# sourceMappingURL=statement_panel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\n/**\r\n * The widget responsed for rendering process bar.\r\n */\r\nvar ProcessWidget = /** @class */ (function (_super) {\r\n    __extends(ProcessWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function ProcessWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.element = slot;\r\n        _this.element.style.display = 'none';\r\n        _this.group = WidgetGroup.All;\r\n        return _this;\r\n    }\r\n    ProcessWidget.prototype.getWidgetType = function () {\r\n        return 'processIndicator';\r\n    };\r\n    /**\r\n     * On process start implementation\r\n     */\r\n    ProcessWidget.prototype.onProcessStartCore = function () {\r\n        this.element.style.display = '';\r\n    };\r\n    /**\r\n    * On process end implementation\r\n    */\r\n    ProcessWidget.prototype.onProcessEndCore = function () {\r\n        this.element.style.display = 'none';\r\n    };\r\n    return ProcessWidget;\r\n}(Widget));\r\nexport { ProcessWidget };\r\n//# sourceMappingURL=process_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup, Query, DataKind } from \"@easyquery/core\";\r\nimport { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ColumnsBar } from './columns_bar';\r\nimport { QueryPanel } from './query_panel';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nvar ManageDrillDownWidget = /** @class */ (function (_super) {\r\n    __extends(ManageDrillDownWidget, _super);\r\n    function ManageDrillDownWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.clickHandler = function () { return _this.openDialog(); };\r\n        _this.columnsBar = null;\r\n        _this.queryPanel = null;\r\n        _this.ddQuery = null;\r\n        _this.cssPrefix = eqCssPrefix;\r\n        _this.group = WidgetGroup.None;\r\n        return _this;\r\n    }\r\n    ManageDrillDownWidget.prototype.getWidgetType = function () {\r\n        return 'manageDrillDown';\r\n    };\r\n    ManageDrillDownWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.options = options;\r\n        this.refresh();\r\n        this.slot.addEventListener('click', this.clickHandler);\r\n    };\r\n    ManageDrillDownWidget.prototype.destroyCore = function () {\r\n        this.slot.removeEventListener('click', this.clickHandler);\r\n    };\r\n    ManageDrillDownWidget.prototype.openDialog = function () {\r\n        var _this = this;\r\n        var dialogService = this.context.getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        var model = this.context.getModel();\r\n        var dialogBody = domel('div')\r\n            .addClass(this.cssPrefix + \"-manage-drilldown\")\r\n            .addChildElement(this.renderColumnsBarBlock())\r\n            .addChildElement(this.renderQueryPanelBlock())\r\n            .toDOM();\r\n        var op = model.addOrUpdateOperator({\r\n            id: 'BindToParentColumn',\r\n            caption: 'is bound to',\r\n            format: '{expr1} [[is bound to]] {expr2}',\r\n            paramCount: 2,\r\n            kind: DataKind.ParentColumn,\r\n            appliedTypes: [DataType.String, DataType.Bool, DataType.Float, DataType.Int32, DataType.Int64, DataType.Word]\r\n        });\r\n        op.defaultOperand.dataType = DataType.String;\r\n        op.defaultOperand.kind = DataKind.ParentColumn;\r\n        model.runThroughEntities(function (attr) {\r\n            var opIdx = attr.operators.indexOf(op.id);\r\n            if (opIdx > 0) {\r\n                dataUtils.moveArrayItem(attr.operators, opIdx, 0);\r\n            }\r\n        }, null);\r\n        this.ddQuery = new Query(model, null, {\r\n            parent: query\r\n        });\r\n        var dds = this.context.getQuery().getDrillDowns();\r\n        if (dds.length) {\r\n            var dd = dds[0];\r\n            this.ddQuery.loadFromData(dd.toJSONData());\r\n        }\r\n        dialogService.open({\r\n            title: 'Manage Drill Down',\r\n            body: dialogBody,\r\n            cancelable: true,\r\n            closable: false,\r\n            beforeOpen: function () {\r\n                var columnsBarSlot = dialogBody.getElementsByClassName(_this.cssPrefix + \"-columnsbar-slot\")[0];\r\n                _this.columnsBar = new ColumnsBar(columnsBarSlot, _this.ddQuery);\r\n                _this.columnsBar.init(_this.context, _this.options.columnsBar);\r\n                var queryPanelSlot = dialogBody.getElementsByClassName(_this.cssPrefix + \"-querypanel-slot\")[0];\r\n                _this.queryPanel = new QueryPanel(queryPanelSlot, _this.ddQuery);\r\n                _this.queryPanel.init(_this.context, _this.options.queryPanel);\r\n                _this.columnsBar.refresh();\r\n                _this.queryPanel.refresh();\r\n            },\r\n            onSubmit: function () {\r\n                return _this.submitDialog();\r\n            },\r\n            onDestroy: function () {\r\n                _this.destroyDialog();\r\n            }\r\n        });\r\n    };\r\n    ManageDrillDownWidget.prototype.renderQueryPanelBlock = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-querypanel-block\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-querypanel-caption\"); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-querypanel-slot\"); })\r\n            .toDOM();\r\n    };\r\n    ManageDrillDownWidget.prototype.renderColumnsBarBlock = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-columnsbar-block\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-columnsbar-caption\"); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-columnsbar-slot\"); })\r\n            .toDOM();\r\n    };\r\n    ManageDrillDownWidget.prototype.submitDialog = function () {\r\n        if (this.ddQuery.tryValidate({\r\n            checkExpressions: true\r\n        })) {\r\n            var dds = this.context.getQuery().getDrillDowns();\r\n            if (dds.length) {\r\n                dds[0].loadFromData(this.ddQuery.toJSONData());\r\n                this.context.getQuery().fireChangedEvent();\r\n            }\r\n            else {\r\n                if (!this.ddQuery.isEmpty()) {\r\n                    var dd = this.context.getQuery().addDrillDown();\r\n                    dd.loadFromData(this.ddQuery.toJSONData());\r\n                    this.context.getQuery().fireChangedEvent();\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ManageDrillDownWidget.prototype.destroyDialog = function () {\r\n        var model = this.context.getModel();\r\n        model.removeOperator('BindToParentColumn', true);\r\n        this.ddQuery = null;\r\n        this.columnsBar && this.columnsBar.destroy();\r\n        this.columnsBar = null;\r\n        this.queryPanel && this.queryPanel.destroy();\r\n        this.queryPanel = null;\r\n    };\r\n    return ManageDrillDownWidget;\r\n}(Widget));\r\nexport { ManageDrillDownWidget };\r\n//# sourceMappingURL=manage_drilldown_widget.js.map","import { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nvar ResultFacetTab = /** @class */ (function () {\r\n    function ResultFacetTab(panel, options) {\r\n        var _this = this;\r\n        this.panel = panel;\r\n        this.title = i18n.getText('Facets', 'DefaultFacetTitle');\r\n        this.cssPrefix = 'eqjs-facet';\r\n        this.dialogTitle = i18n.getText('Facets', 'DefaultDlgTitle');\r\n        this.options = {};\r\n        this.canDisplayFlag = true;\r\n        this.downloadAllClickHandler = function () {\r\n            var chunksToLoad = _this.getChunksForLoading();\r\n            var resultTable = _this.getContext().resultTable;\r\n            var recordsToLoad = resultTable.getTotal() - resultTable.getCachedCount();\r\n            var ds = _this.getDialogService();\r\n            var textDiv;\r\n            var progressDiv;\r\n            var body = domel('div')\r\n                .addChild('div', function (b) { return textDiv = b\r\n                .text(i18n.getText('Facets', 'LoadDataDlgContent')\r\n                .replace('{loadedRecs}', '0')\r\n                .replace('{totalRecs}', \"\" + recordsToLoad))\r\n                .toDOM(); })\r\n                .addChild('div', function (b) { return b\r\n                .addClass(eqCssPrefix + \"-progress-line\")\r\n                .addChild('div', function (b) { return progressDiv = b\r\n                .addClass('fill')\r\n                .setStyle('width', '0%')\r\n                .toDOM(); }); })\r\n                .toDOM();\r\n            var dlg = ds.open({\r\n                title: i18n.getText('Facets', 'LoadDataDlgTitle'),\r\n                body: body,\r\n                submitable: false,\r\n                cancelable: false,\r\n                closable: false\r\n            });\r\n            var loadedRecords = 0;\r\n            var _loop_1 = function (chunk) {\r\n                setTimeout(function () {\r\n                    resultTable.getRows({ offset: chunk.offset, limit: resultTable.chunkSize })\r\n                        .then(function (_) {\r\n                        loadedRecords += _.length;\r\n                        var progress = loadedRecords / recordsToLoad * 100;\r\n                        progressDiv.style.width = progress + \"%\";\r\n                        textDiv.innerText = i18n.getText('Facets', 'LoadDataDlgContent')\r\n                            .replace('{loadedRecs}', \"\" + loadedRecords)\r\n                            .replace('{totalRecs}', \"\" + recordsToLoad);\r\n                        if (progress === 100) {\r\n                            // postpone for 0.5s for smooth closing\r\n                            setTimeout(function () {\r\n                                dlg.submit();\r\n                                _this.refresh();\r\n                            }, 500);\r\n                        }\r\n                    })\r\n                        .catch(function (error) {\r\n                        dlg.submit();\r\n                        _this.refresh();\r\n                        _this.getContext().throwError(error);\r\n                    });\r\n                }, 10);\r\n            };\r\n            for (var _i = 0, chunksToLoad_1 = chunksToLoad; _i < chunksToLoad_1.length; _i++) {\r\n                var chunk = chunksToLoad_1[_i];\r\n                _loop_1(chunk);\r\n            }\r\n        };\r\n        dataUtils.assignDeep(this.options, options);\r\n    }\r\n    ResultFacetTab.prototype.init = function (slot) {\r\n        this.slot = slot;\r\n        this.contentDiv = domel('div', this.slot).toDOM();\r\n        this.displayMessageDiv = domel('div', this.slot).hide().toDOM();\r\n    };\r\n    ResultFacetTab.prototype.showSettingsDialog = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            var ds = _this.getDialogService();\r\n            var content = _this.renderDialogContent();\r\n            ds.open({\r\n                title: _this.dialogTitle,\r\n                body: content,\r\n                cancelable: true,\r\n                closable: false,\r\n                onSubmit: function () {\r\n                    var submited = _this.submitSettingsDialog();\r\n                    if (submited) {\r\n                        resolve(true);\r\n                    }\r\n                    return submited;\r\n                },\r\n                onCancel: function () {\r\n                    resolve(false);\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ResultFacetTab.prototype.renderDialogContent = function () {\r\n        var fieldsContainer;\r\n        var b = domel('div')\r\n            .addClass('kfrm-form')\r\n            .addChild('div', function (b) { return fieldsContainer = b\r\n            .addClass(\"\" + (browserUtils.IsIE()\r\n            ? 'kfrm-fields-ie col-ie-1-4 label-align-right'\r\n            : 'kfrm-fields col-a-1 label-align-right'))\r\n            .toDOM(); });\r\n        this.renderFormFields(b.toDOM(), fieldsContainer);\r\n        return b.toDOM();\r\n    };\r\n    ResultFacetTab.prototype.renderFormFields = function (form, fieldsContainer) {\r\n        var _this = this;\r\n        var cont = fieldsContainer;\r\n        if (browserUtils.IsIE()) {\r\n            cont = domel('div', fieldsContainer)\r\n                .addClass('kfrm-field-ie')\r\n                .toDOM();\r\n        }\r\n        domel(cont)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'tab_name')\r\n            .addText(i18n.getText('Facets', 'TabNameLabel')); })\r\n            .addChild('input', function (b) { return b\r\n            .id('facetTabName')\r\n            .name('tab_name')\r\n            .type('text')\r\n            .attr('value', _this.title); });\r\n    };\r\n    ResultFacetTab.prototype.submitSettingsDialog = function () {\r\n        var tabNameInput = document.querySelector('#facetTabName');\r\n        if (tabNameInput.value.length == 0)\r\n            return false;\r\n        this.title = tabNameInput.value;\r\n        return true;\r\n    };\r\n    ResultFacetTab.prototype.getDialogService = function () {\r\n        return this.getContext()\r\n            .getServices()\r\n            .getDialogService();\r\n    };\r\n    ResultFacetTab.prototype.canDisplay = function () {\r\n        var context = this.getContext();\r\n        var resultTable = context.resultTable;\r\n        return (resultTable.getCachedCount() == resultTable.getTotal());\r\n    };\r\n    ResultFacetTab.prototype.showUnableDisplayMessage = function (message) {\r\n        var context = this.getContext();\r\n        var resultTable = context.resultTable;\r\n        this.displayMessageDiv.innerHTML = message || i18n.getText('Facets', 'ErrNotEnoughData')\r\n            .replace('{totalRecs}', \"\" + resultTable.getTotal())\r\n            .replace('{cachedRecs}', \"\" + resultTable.getCachedCount())\r\n            .replace(/\\[(.*)\\]/g, \"<a href='javascript:void(0)' class=\\\"\" + this.cssPrefix + \"-download-all-link\\\">$1</a>\");\r\n        var link = this.displayMessageDiv.querySelector(\"a.\" + this.cssPrefix + \"-download-all-link\");\r\n        if (link) {\r\n            link.addEventListener('click', this.downloadAllClickHandler);\r\n        }\r\n        domel(this.contentDiv).hide();\r\n        domel(this.displayMessageDiv).show();\r\n    };\r\n    ResultFacetTab.prototype.hideUnableDisplayMessage = function () {\r\n        domel(this.displayMessageDiv).hide();\r\n        domel(this.contentDiv).show();\r\n    };\r\n    ResultFacetTab.prototype.getContext = function () {\r\n        return this.panel.getContext();\r\n    };\r\n    ResultFacetTab.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    ResultFacetTab.prototype.saveToData = function () {\r\n        return { title: this.title, type: this.getType() };\r\n    };\r\n    ResultFacetTab.prototype.loadFromData = function (data) {\r\n        if (data) {\r\n            this.title = data.title;\r\n        }\r\n    };\r\n    ResultFacetTab.prototype.refresh = function () {\r\n        this.hideUnableDisplayMessage();\r\n        if (this.canDisplay()) {\r\n            this.refreshCore();\r\n        }\r\n        else {\r\n            this.showUnableDisplayMessage();\r\n        }\r\n    };\r\n    ResultFacetTab.prototype.getChunksForLoading = function () {\r\n        var resultTable = this.getContext().resultTable;\r\n        var chunkSize = resultTable.chunkSize;\r\n        var cachedChunks = resultTable.getCachedChunks();\r\n        var chunksToLoad = [];\r\n        if (cachedChunks[0].offset != 0) {\r\n            chunksToLoad.push({ offset: 0 });\r\n        }\r\n        for (var i = 1; i < cachedChunks.length; i++) {\r\n            var diffOffset = cachedChunks[i].offset - cachedChunks[i - 1].offset - chunkSize;\r\n            if (diffOffset >= chunkSize) {\r\n                var numbOfChunks = diffOffset / chunkSize;\r\n                for (var j = 1; j <= numbOfChunks; j++) {\r\n                    chunksToLoad.push({ offset: cachedChunks[i - 1].offset + j * chunkSize });\r\n                }\r\n            }\r\n        }\r\n        var lastChunk = cachedChunks[cachedChunks.length - 1];\r\n        var diff = resultTable.getTotal() - lastChunk.offset;\r\n        if (diff >= chunkSize) {\r\n            var numbOfChunks = diff / chunkSize;\r\n            for (var j = 1; j <= numbOfChunks; j++) {\r\n                chunksToLoad.push({ offset: lastChunk.offset + j * chunkSize });\r\n            }\r\n        }\r\n        return chunksToLoad;\r\n    };\r\n    ResultFacetTab.prototype.onResize = function () {\r\n    };\r\n    return ResultFacetTab;\r\n}());\r\nexport { ResultFacetTab };\r\n//# sourceMappingURL=result_facet_tab.js.map","/** Represents chart types. */\r\nexport var ChartType;\r\n(function (ChartType) {\r\n    ChartType[ChartType[\"Column\"] = 3] = \"Column\";\r\n    ChartType[ChartType[\"Histogram\"] = 4] = \"Histogram\";\r\n    ChartType[ChartType[\"Bar\"] = 5] = \"Bar\";\r\n    ChartType[ChartType[\"Combo\"] = 6] = \"Combo\";\r\n    ChartType[ChartType[\"Area\"] = 7] = \"Area\";\r\n    ChartType[ChartType[\"Line\"] = 9] = \"Line\";\r\n    ChartType[ChartType[\"Pie\"] = 10] = \"Pie\";\r\n    ChartType[ChartType[\"Donut\"] = 12] = \"Donut\";\r\n    ChartType[ChartType[\"Gauge\"] = 17] = \"Gauge\";\r\n    ChartType[ChartType[\"Candlestick\"] = 18] = \"Candlestick\";\r\n})(ChartType || (ChartType = {}));\r\n//# sourceMappingURL=chart_type.js.map","import { i18n } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar TotalsDialog = /** @class */ (function () {\r\n    function TotalsDialog(context) {\r\n        this.context = context;\r\n    }\r\n    TotalsDialog.prototype.show = function () {\r\n        var _this = this;\r\n        if (!this.context.calcTotals) {\r\n            console.warn('Totals mode is turned off. Set calcTotals options to true');\r\n        }\r\n        var settings = this.context.getTotalsSettings();\r\n        var body = domel('div')\r\n            .addClass('kfrm-form')\r\n            .addChild('div', function (b) {\r\n            b.addClass(\"\" + (browserUtils.IsIE()\r\n                ? 'kfrm-fields-ie col-ie-1-4 label-align-right'\r\n                : 'kfrm-fields col-a-1 label-align-right'));\r\n            TotalsDialog.renderFields(settings, _this.context, b.toDOM());\r\n        })\r\n            .toDOM();\r\n        var ds = this.context.getServices().getDialogService();\r\n        ds.open({\r\n            title: i18n.getText('TotalsDlgTitle'),\r\n            body: body,\r\n            cancelable: true,\r\n            closable: false,\r\n            onSubmit: function () {\r\n                var settings = TotalsDialog.getSelectedSettings(body);\r\n                _this.context.setTotalsSettings(settings);\r\n            }\r\n        });\r\n    };\r\n    TotalsDialog.getSelectedSettings = function (parent) {\r\n        parent = parent || document.body;\r\n        var settings = {\r\n            calcGrandTotals: parent.querySelector('#dataTableCalcGrandTotals').checked,\r\n            cols: {}\r\n        };\r\n        var inputs = Array.from(parent.querySelectorAll('[data-colId]'));\r\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\r\n            var input = inputs_1[_i];\r\n            var colId = input.getAttribute('data-colId');\r\n            settings.cols[colId] = { calcSubTotals: input.checked };\r\n        }\r\n        return settings;\r\n    };\r\n    // for facets dialog\r\n    TotalsDialog.renderFields = function (settings, context, parent) {\r\n        var isIE = browserUtils.IsIE();\r\n        var fieldsClass = isIE ? 'kfrm-fields-ie' : 'kfrm-fields';\r\n        var getCurrent = function () {\r\n            if (isIE) {\r\n                return domel('div', parent)\r\n                    .addClass('kfrm-field-ie')\r\n                    .toDOM();\r\n            }\r\n            else {\r\n                return parent;\r\n            }\r\n        };\r\n        var current = getCurrent();\r\n        var container;\r\n        domel(current)\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-break-30'); });\r\n        var cols = context.getQuery().getUsedInTotalsColumns();\r\n        domel(current)\r\n            .addChild('fieldset', function (b) { return b\r\n            .addChild('legend', function (b) { return b\r\n            .addText(i18n.getText('TotalsDlgLabel')); })\r\n            .addChild('div', function (b) { return container = b\r\n            .addClass(fieldsClass)\r\n            .toDOM(); }); })\r\n            .toDOM();\r\n        domel(container)\r\n            .addChild('label', function (b) { return b\r\n            .addClass('checkbox')\r\n            .addChild('input', function (b) {\r\n            b\r\n                .id('dataTableCalcGrandTotals')\r\n                .type('checkbox');\r\n            if (settings.calcGrandTotals)\r\n                b.attr('checked', '');\r\n        })\r\n            .addText(' ' + i18n.getText('GrandTotalsLabel'))\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-break-20'); }); });\r\n        var _loop_1 = function (col) {\r\n            var sCol = settings.cols[col.id];\r\n            domel(container)\r\n                .addChild('label', function (b) { return b\r\n                .addClass('checkbox')\r\n                .addChild('input', function (b) {\r\n                b\r\n                    .data('colId', col.id)\r\n                    .type('checkbox');\r\n                if (sCol.calcSubTotals)\r\n                    b.attr('checked', '');\r\n            })\r\n                .addText(' ' + col.caption); })\r\n                .toDOM();\r\n        };\r\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\r\n            var col = cols_1[_i];\r\n            _loop_1(col);\r\n        }\r\n    };\r\n    return TotalsDialog;\r\n}());\r\nexport { TotalsDialog };\r\n//# sourceMappingURL=totals_dialog.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easyquery/core';\r\nimport { ResultFacetTab } from './result_facet_tab';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { EasyGridWidget } from '../widgets/easy_grid_widget';\r\nimport { TotalsDialog } from '../dialog/totals_dialog';\r\nvar DataTableFacetTab = /** @class */ (function (_super) {\r\n    __extends(DataTableFacetTab, _super);\r\n    function DataTableFacetTab() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.grid = null;\r\n        _this.title = i18n.getText('Facets', 'DataTable', 'FacetTitle');\r\n        _this.dialogTitle = i18n.getText('Facets', 'DataTable', 'DlgTitle');\r\n        return _this;\r\n    }\r\n    DataTableFacetTab.prototype.init = function (slot) {\r\n        _super.prototype.init.call(this, slot);\r\n        var context = this.getContext();\r\n        if (context.calcTotals) {\r\n            this.settings = dataUtils.assign(this.getContext().getDefaultTotalsSettings(), this.settings);\r\n        }\r\n        this.reinitGrid();\r\n    };\r\n    DataTableFacetTab.prototype.reinitGrid = function () {\r\n        if (this.grid)\r\n            this.grid.destroy();\r\n        var options = this.panel.options || {};\r\n        if (options.gridResolver) {\r\n            this.grid = options.gridResolver(this.contentDiv, this.getType());\r\n        }\r\n        if (this.grid == null) {\r\n            this.grid = new EasyGridWidget(this.contentDiv);\r\n        }\r\n        options.grid = options.grid || {};\r\n        options.grid.autoRefresh = false;\r\n        options.grid.addColumns = false;\r\n        var context = this.getContext();\r\n        if (context.calcTotals) {\r\n            options.grid.totals = this.settings;\r\n        }\r\n        this.grid.init(context, options.grid);\r\n    };\r\n    DataTableFacetTab.prototype.getType = function () {\r\n        return FacetType.DataGrid;\r\n    };\r\n    DataTableFacetTab.prototype.canDisplay = function () {\r\n        return true;\r\n    };\r\n    DataTableFacetTab.prototype.renderFormFields = function (form, fieldsContainer) {\r\n        _super.prototype.renderFormFields.call(this, form, fieldsContainer);\r\n        var context = this.getContext();\r\n        if (context.calcTotals) {\r\n            var settings = this.settings || {};\r\n            TotalsDialog.renderFields(settings, context, form);\r\n        }\r\n    };\r\n    DataTableFacetTab.prototype.dropSettings = function () {\r\n        this.settings.cols = this.getContext().getDefaultTotalsSettings().cols;\r\n        this.reinitGrid();\r\n        this.saveToData();\r\n    };\r\n    DataTableFacetTab.prototype.submitSettingsDialog = function () {\r\n        var result = _super.prototype.submitSettingsDialog.call(this);\r\n        if (result) {\r\n            this.settings = TotalsDialog.getSelectedSettings();\r\n            this.reinitGrid();\r\n        }\r\n        return result;\r\n    };\r\n    DataTableFacetTab.prototype.refreshCore = function () {\r\n        var context = this.getContext();\r\n        if (context.calcTotals && context.wereTotalsColumnsChanged(this.settings)) {\r\n            this.dropSettings();\r\n            return;\r\n        }\r\n        if (!this.grid)\r\n            return;\r\n        this.grid.refresh();\r\n    };\r\n    DataTableFacetTab.prototype.destroy = function () {\r\n        if (this.grid) {\r\n            this.grid.destroy();\r\n        }\r\n    };\r\n    DataTableFacetTab.prototype.saveToData = function () {\r\n        var data = _super.prototype.saveToData.call(this);\r\n        if (this.settings) {\r\n            data.cols = this.settings.cols;\r\n            data.calcGrandTotals = this.settings.calcGrandTotals;\r\n        }\r\n        return data;\r\n    };\r\n    DataTableFacetTab.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            this.settings = {\r\n                cols: data.cols,\r\n                calcGrandTotals: data.calcGrandTotals\r\n            };\r\n        }\r\n    };\r\n    return DataTableFacetTab;\r\n}(ResultFacetTab));\r\nexport { DataTableFacetTab };\r\n//# sourceMappingURL=datatable_facet_tab.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup, } from '@easyquery/core';\r\nimport { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { addCssClass, showElement, hideElement, toggleVisibility, isVisible } from '@easydata/ui';\r\nimport { ChartType } from './chart_type';\r\nvar ChartWidget = /** @class */ (function (_super) {\r\n    __extends(ChartWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     * @param provider The provider.\r\n     */\r\n    function ChartWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.chartType = ChartType.Pie;\r\n        _this.supportedChartTypes = [];\r\n        _this.dataTable = null;\r\n        _this.potentialLabelColumns = [];\r\n        _this.potentialDataColumns = [];\r\n        _this.labelColumn = -1;\r\n        _this.dataColumns = [];\r\n        _this.options = {\r\n            chartType: ChartType.Pie,\r\n            showOnPaging: false,\r\n            hideSettings: false\r\n        };\r\n        _this.element = slot;\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ChartWidget.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-chart';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    ChartWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.dataTable = context.resultTable;\r\n        this.setOptions(options);\r\n    };\r\n    /**\r\n     * Checks, if widget has data.\r\n     * @returns `true` if has data, otherwise - `false`.\r\n     */\r\n    ChartWidget.prototype.hasData = function () {\r\n        var result = this.dataTable != null;\r\n        if (result) {\r\n            result = this.dataTable.getCachedCount() > 0;\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Checks, if there ara colums for chart\r\n     * @returns `true` if there are columns, otherwise - `false`.\r\n     */\r\n    ChartWidget.prototype.hasColumnsForChart = function () {\r\n        return this.potentialLabelColumns.length > 0 && this.potentialDataColumns.length > 0;\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    ChartWidget.prototype.refreshCore = function () {\r\n        this.prepareChartData();\r\n        this.render();\r\n    };\r\n    ChartWidget.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n        this.supportedChartTypes = this.getSupportedChartTypes();\r\n        if (this.supportedChartTypes.length == 0) {\r\n            throw Error(\"Chart widget should support at least one chart type\");\r\n        }\r\n        if (options.chartType && this.supportedChartTypes.indexOf(options.chartType) >= 0) {\r\n            this.chartType = options.chartType;\r\n        }\r\n        else {\r\n            this.chartType = this.supportedChartTypes[0];\r\n        }\r\n    };\r\n    ChartWidget.prototype.getChartTypeName = function (ct) {\r\n        switch (ct) {\r\n            case ChartType.Area:\r\n                return \"Area chart\";\r\n            case ChartType.Bar:\r\n                return \"Bar chart\";\r\n            case ChartType.Candlestick:\r\n                return \"Candlestick chart\";\r\n            case ChartType.Column:\r\n                return \"Column chart\";\r\n            case ChartType.Combo:\r\n                return \"Combo chart\";\r\n            case ChartType.Donut:\r\n                return \"Donut chart\";\r\n            case ChartType.Gauge:\r\n                return \"Gauge chart\";\r\n            case ChartType.Histogram:\r\n                return \"Histogram chart\";\r\n            case ChartType.Line:\r\n                return \"Line chart\";\r\n            default:\r\n                return \"Pie chart\";\r\n        }\r\n    };\r\n    ChartWidget.prototype.updateSettings = function (settings) {\r\n        this.chartType = settings.type;\r\n        this.labelColumn = settings.labelColumn;\r\n        this.updateChartColumns();\r\n        this.dataColumns[0] = settings.dataColumn;\r\n        this.updateChartColumns();\r\n    };\r\n    /**\r\n     * Prepares data for chart.\r\n     */\r\n    ChartWidget.prototype.prepareChartData = function () {\r\n        var _this = this;\r\n        if (this.dataTable) {\r\n            this.potentialLabelColumns = [];\r\n            this.potentialDataColumns = [];\r\n            var colNum = this.dataTable.columns.count;\r\n            for (var i = 0; i < colNum; i++) {\r\n                var column = this.dataTable.columns.get(i);\r\n                var colType = column.type;\r\n                var colLabel = column.label;\r\n                if (colType === DataType.String) {\r\n                    this.potentialLabelColumns.push({ idx: i, label: colLabel });\r\n                }\r\n                else if (dataUtils.isNumericType(colType)) {\r\n                    this.potentialDataColumns.push({ idx: i, label: colLabel });\r\n                }\r\n            }\r\n            ;\r\n            if (this.labelColumn != -1) {\r\n                if (!this.potentialLabelColumns\r\n                    .filter(function (c) { return c.idx == _this.labelColumn; })\r\n                    .length) {\r\n                    this.labelColumn = -1;\r\n                }\r\n            }\r\n            else {\r\n                this.labelColumn = (this.potentialLabelColumns.length > 0)\r\n                    ? this.potentialLabelColumns[0].idx : -1;\r\n            }\r\n            if (this.dataColumns.length) {\r\n                var ids_1 = this.potentialDataColumns.map(function (d) { return d.idx; });\r\n                this.dataColumns = this.dataColumns.filter(function (v) { return ids_1.indexOf(v) >= 0; });\r\n                if (!this.dataColumns.length) {\r\n                    this.dataColumns = (this.potentialDataColumns.length > 0)\r\n                        ? [].concat(this.potentialDataColumns[0].idx)\r\n                        : [];\r\n                }\r\n            }\r\n            else {\r\n                this.dataColumns = (this.potentialDataColumns.length > 0)\r\n                    ? [].concat(this.potentialDataColumns[0].idx)\r\n                    : [];\r\n            }\r\n            this.initChart();\r\n        }\r\n    };\r\n    ChartWidget.prototype.getSupportedChartTypes = function () {\r\n        var _this = this;\r\n        var chartTypes = this.options.supportedChartTypes\r\n            ? this.options.supportedChartTypes\r\n            : Object.keys(ChartType).map(function (key) { return ChartType[key]; });\r\n        return chartTypes.filter(function (type) { return _this.hasChartTypes.indexOf(type) >= 0; });\r\n    };\r\n    ChartWidget.prototype.getCurrentChartType = function () {\r\n        return this.chartType;\r\n    };\r\n    ChartWidget.prototype.render = function () {\r\n        var _this = this;\r\n        this.clear();\r\n        if (this.hasData() && this.hasColumnsForChart()\r\n            && (this.context.resultTable.getTotal()\r\n                == this.context.resultTable.getCachedCount())) {\r\n            var headerDiv = document.createElement('div');\r\n            addCssClass(headerDiv, this.cssPrefix + \"-header\");\r\n            var mainDiv = document.createElement('div');\r\n            addCssClass(mainDiv, this.cssPrefix + \"-main\");\r\n            if (this.canDraw()) {\r\n                var chartTypeSelector = document.createElement('select');\r\n                for (var _i = 0, _a = this.supportedChartTypes; _i < _a.length; _i++) {\r\n                    var ct = _a[_i];\r\n                    var sopt = document.createElement('option');\r\n                    sopt.value = ct.toString();\r\n                    sopt.text = this.getChartTypeName(ct);\r\n                    chartTypeSelector.appendChild(sopt);\r\n                }\r\n                chartTypeSelector.value = this.chartType.toString();\r\n                headerDiv.appendChild(chartTypeSelector);\r\n                chartTypeSelector.addEventListener('change', function (ev) {\r\n                    var ctkey = ev.target.value;\r\n                    _this.chartType = parseInt(ctkey);\r\n                    _this.refresh();\r\n                });\r\n                this.settingsDiv = document.createElement('div');\r\n                addCssClass(this.settingsDiv, this.cssPrefix + \"-settings\");\r\n                hideElement(this.settingsDiv);\r\n                mainDiv.appendChild(this.settingsDiv);\r\n                this.chartDiv = document.createElement('div');\r\n                addCssClass(this.chartDiv, this.cssPrefix + \"-content\");\r\n                hideElement(this.chartDiv);\r\n                mainDiv.appendChild(this.chartDiv);\r\n                this.initSettingsDiv();\r\n                var chartSettingsBtn = document.createElement('div');\r\n                addCssClass(chartSettingsBtn, this.cssPrefix + \"-settings-icon\");\r\n                chartSettingsBtn.title = \"Settings\";\r\n                headerDiv.appendChild(chartSettingsBtn);\r\n                chartSettingsBtn.addEventListener('click', function (ev) {\r\n                    _this.toggleSettings();\r\n                });\r\n                this.drawChart(100);\r\n            }\r\n            else {\r\n                this.addContentDiv(mainDiv, \"Chart Provider is not defined\");\r\n            }\r\n            if (!this.options.hideSettings) {\r\n                this.element.appendChild(headerDiv);\r\n            }\r\n            this.element.appendChild(mainDiv);\r\n            this.element.style.display = \"\";\r\n        }\r\n        else {\r\n            this.element.style.display = \"none\";\r\n        }\r\n    };\r\n    ChartWidget.prototype.addContentDiv = function (mainDiv, text) {\r\n        var contentDiv = document.createElement('div');\r\n        addCssClass(contentDiv, this.cssPrefix + \"-no-data\");\r\n        contentDiv.innerText = text;\r\n        mainDiv.appendChild(contentDiv);\r\n    };\r\n    /**\r\n     * Clears chart.\r\n     */\r\n    ChartWidget.prototype.clear = function () {\r\n        this.element.innerHTML = '';\r\n    };\r\n    /**\r\n     * Draws chart with delay.\r\n     * @param delay The delay.\r\n     */\r\n    ChartWidget.prototype.drawChart = function (delay) {\r\n        var _this = this;\r\n        showElement(this.chartDiv);\r\n        if (delay > 0) {\r\n            setTimeout(function () { return _this.drawCore(); }, delay);\r\n        }\r\n        else {\r\n            this.drawCore();\r\n        }\r\n    };\r\n    /**\r\n     * Inititialize settings div.\r\n     */\r\n    ChartWidget.prototype.initSettingsDiv = function () {\r\n        var _this = this;\r\n        var settingsHeader = document.createElement('div');\r\n        settingsHeader.textContent = 'SETTINGS';\r\n        addCssClass(settingsHeader, this.cssPrefix + \"-settings-header\");\r\n        this.settingsDiv.appendChild(settingsHeader);\r\n        // Label column\r\n        var labelDiv = document.createElement('div');\r\n        addCssClass(labelDiv, this.cssPrefix + \"-settings-single\");\r\n        this.settingsDiv.appendChild(labelDiv);\r\n        var labelColumnSelectorCaption = document.createElement('span');\r\n        showElement(labelColumnSelectorCaption);\r\n        labelColumnSelectorCaption.textContent = 'Label column';\r\n        labelDiv.appendChild(labelColumnSelectorCaption);\r\n        var labelColumnSelector = document.createElement('select');\r\n        showElement(labelColumnSelector);\r\n        labelDiv.appendChild(labelColumnSelector);\r\n        for (var _i = 0, _a = this.potentialLabelColumns; _i < _a.length; _i++) {\r\n            var col = _a[_i];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            labelColumnSelector.appendChild(sopt);\r\n        }\r\n        if (this.labelColumn >= 0) {\r\n            labelColumnSelector.value = this.labelColumn.toString();\r\n        }\r\n        labelColumnSelector.addEventListener('change', function (ev) {\r\n            _this.labelColumn = parseInt(ev.target.value);\r\n            _this.updateChartColumns();\r\n            _this.toggleSettings(function () {\r\n                _this.drawChart(100);\r\n            });\r\n        });\r\n        // Data column\r\n        var dataDiv = document.createElement('div');\r\n        addCssClass(dataDiv, this.cssPrefix + \"-settings-single\");\r\n        this.settingsDiv.appendChild(dataDiv);\r\n        var dataColumnSelectorCaption = document.createElement('span');\r\n        showElement(dataColumnSelectorCaption);\r\n        dataColumnSelectorCaption.textContent = 'Data column';\r\n        dataDiv.appendChild(dataColumnSelectorCaption);\r\n        var dataColumnSelector = document.createElement('select');\r\n        showElement(dataColumnSelector);\r\n        dataDiv.appendChild(dataColumnSelector);\r\n        for (var _b = 0, _c = this.potentialDataColumns; _b < _c.length; _b++) {\r\n            var col = _c[_b];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            dataColumnSelector.appendChild(sopt);\r\n        }\r\n        if (this.dataColumns.length > 0 && this.dataColumns[0] >= 0) {\r\n            dataColumnSelector.value = this.dataColumns[0].toString();\r\n        }\r\n        dataColumnSelector.addEventListener('change', function (ev) {\r\n            _this.dataColumns[0] = parseInt(ev.target.value);\r\n            _this.updateChartColumns();\r\n            _this.toggleSettings(function () {\r\n                _this.drawChart(100);\r\n            });\r\n        });\r\n    };\r\n    ChartWidget.prototype.getPotentialLabelColumns = function () {\r\n        return this.potentialLabelColumns;\r\n    };\r\n    ChartWidget.prototype.getPotentialDataColumns = function () {\r\n        return this.potentialDataColumns;\r\n    };\r\n    ChartWidget.prototype.getLabelColumnIndex = function () {\r\n        return this.labelColumn;\r\n    };\r\n    ChartWidget.prototype.getDataColumnIndex = function () {\r\n        return this.dataColumns[0];\r\n    };\r\n    /**\r\n     * Toggles settings.\r\n     * @param callback The callback.\r\n     */\r\n    ChartWidget.prototype.toggleSettings = function (callback) {\r\n        var first;\r\n        var second;\r\n        if (isVisible(this.chartDiv)) {\r\n            first = this.chartDiv;\r\n            second = this.settingsDiv;\r\n        }\r\n        else {\r\n            first = this.settingsDiv;\r\n            second = this.chartDiv;\r\n        }\r\n        toggleVisibility(first, second, {\r\n            complete: callback\r\n        });\r\n    };\r\n    return ChartWidget;\r\n}(Widget));\r\nexport { ChartWidget };\r\n//# sourceMappingURL=chart_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { domel } from '@easydata/ui';\r\nimport { EasyDataTable, DataType, utils as dataUtils, i18n } from '@easydata/core';\r\nimport { EasyGrid } from '@easydata/ui';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { ResultFacetTab } from './result_facet_tab';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar AggrFunc;\r\n(function (AggrFunc) {\r\n    AggrFunc[\"Sum\"] = \"SUM\";\r\n    AggrFunc[\"Average\"] = \"AVG\";\r\n    AggrFunc[\"Min\"] = \"MIN\";\r\n    AggrFunc[\"Max\"] = \"MAX\";\r\n    AggrFunc[\"Count\"] = \"COUNT\";\r\n})(AggrFunc || (AggrFunc = {}));\r\nvar PivotTableFacetTab = /** @class */ (function (_super) {\r\n    __extends(PivotTableFacetTab, _super);\r\n    function PivotTableFacetTab() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.cssPrefix = \"eqjs\";\r\n        _this.title = i18n.getText('Facets', 'Pivot', 'FacetTitle');\r\n        _this.dialogTitle = i18n.getText('Facets', 'Pivot', 'DlgTitle');\r\n        _this.pivotTable = new EasyDataTable();\r\n        return _this;\r\n    }\r\n    PivotTableFacetTab.prototype.init = function (slot) {\r\n        _super.prototype.init.call(this, slot);\r\n        this.grid = new EasyGrid({\r\n            slot: this.contentDiv,\r\n            dataTable: this.pivotTable,\r\n            paging: {\r\n                enabled: false\r\n            },\r\n            useRowNumeration: false,\r\n            addColumns: false,\r\n            allowDragDrop: false,\r\n            onGetCellRenderer: function (column, defaultRenderer) {\r\n                if (column.dataColumn && column.dataColumn.id == \"total\") {\r\n                    return function (value, column, cell, rowEl) {\r\n                        defaultRenderer(value, column, cell, rowEl);\r\n                        cell.style.fontWeight = '900';\r\n                    };\r\n                }\r\n            }\r\n        });\r\n    };\r\n    PivotTableFacetTab.prototype.getType = function () {\r\n        return FacetType.PivotTable;\r\n    };\r\n    PivotTableFacetTab.prototype.destroy = function () {\r\n        if (this.grid) {\r\n            this.grid.destroy();\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.createAggrFuncSelectBuilder = function (aggrFunc) {\r\n        var model = this.getContext().getModel();\r\n        var csb = domel('select');\r\n        var aggrfuncs = Object.keys(AggrFunc).map(function (k) { return AggrFunc[k]; });\r\n        var _loop_1 = function (aggrfunc) {\r\n            csb.addChild('option', function (b) {\r\n                b\r\n                    .attr('value', aggrfunc)\r\n                    .text(model.getAggrFunctionCaption(aggrfunc));\r\n            });\r\n        };\r\n        for (var _i = 0, aggrfuncs_1 = aggrfuncs; _i < aggrfuncs_1.length; _i++) {\r\n            var aggrfunc = aggrfuncs_1[_i];\r\n            _loop_1(aggrfunc);\r\n        }\r\n        var options = csb.toDOM().querySelectorAll('option');\r\n        if (aggrFunc != undefined) {\r\n            options.forEach(function (option) {\r\n                if (option.value == aggrFunc) {\r\n                    option.selected = true;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            options[0].selected = true;\r\n        }\r\n        return csb;\r\n    };\r\n    PivotTableFacetTab.prototype.createColumnsSelectBuilder = function (allowedTypes, colName) {\r\n        var dataTable = this.getContextDataTable();\r\n        var csb = domel('select');\r\n        var _loop_2 = function (i) {\r\n            var column = dataTable.columns.get(i);\r\n            var colLabel = column.label;\r\n            var colType = column.type;\r\n            var colId = column.id;\r\n            if (allowedTypes && allowedTypes.indexOf(colType) < 0)\r\n                return \"continue\";\r\n            csb.addChild('option', function (b) {\r\n                b\r\n                    .attr('value', colId)\r\n                    .text(colLabel);\r\n            });\r\n        };\r\n        for (var i = 0; i < dataTable.columns.count; i++) {\r\n            _loop_2(i);\r\n        }\r\n        var options = csb.toDOM().querySelectorAll('option');\r\n        if (options.length > 0) {\r\n            if (colName != undefined) {\r\n                options.forEach(function (option) {\r\n                    if (option.value == colName) {\r\n                        option.selected = true;\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                options[0].selected = true;\r\n            }\r\n        }\r\n        return csb;\r\n    };\r\n    PivotTableFacetTab.prototype.renderFormFields = function (form, fieldsContainer) {\r\n        var _this = this;\r\n        _super.prototype.renderFormFields.call(this, form, fieldsContainer);\r\n        var settings = this.settings || {};\r\n        var colTypes = [DataType.String, DataType.Date, DataType.DateTime, DataType.Int32,\r\n            DataType.Int64, DataType.Word, DataType.Byte];\r\n        var fieldTypes = [DataType.Float, DataType.Int32,\r\n            DataType.Int64, DataType.Word, DataType.Byte, DataType.Currency];\r\n        var isIE = browserUtils.IsIE();\r\n        var current = fieldsContainer;\r\n        var horizClass = isIE ? 'kfrm-fields-ie is-horizontal' : 'kfrm-fields is-horizontal';\r\n        var getCurrent = function () {\r\n            if (isIE) {\r\n                return domel('div', fieldsContainer)\r\n                    .addClass('kfrm-field-ie')\r\n                    .toDOM();\r\n            }\r\n            else {\r\n                return fieldsContainer;\r\n            }\r\n        };\r\n        if (isIE) {\r\n            domel(fieldsContainer)\r\n                .addChildElement(getCurrent());\r\n        }\r\n        else {\r\n            domel(fieldsContainer)\r\n                .addChild('div')\r\n                .addChild('div');\r\n        }\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'column_field')\r\n            .text(i18n.getText('Facets', 'Pivot', 'ColumnFieldSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'column_field')\r\n            .addChildElement(_this.createColumnsSelectBuilder(colTypes, settings.colName)\r\n            .id('pivotTableColFieldSelector')\r\n            .toDOM()); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'row_field')\r\n            .text(i18n.getText('Facets', 'Pivot', 'RowFieldSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'row_field')\r\n            .addChildElement(_this.createColumnsSelectBuilder(colTypes, settings.rowName)\r\n            .id('pivotTableRowFieldSelector')\r\n            .toDOM()); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'data_function')\r\n            .text(i18n.getText('Facets', 'Pivot', 'CellDataSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass(horizClass)\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'data_function')\r\n            .addChildElement(_this.createAggrFuncSelectBuilder(settings.aggrFunc)\r\n            .id('pivotTableAggrFuncSelector')\r\n            .toDOM()); })\r\n            .addChild('label', function (b) { return b.addText('of  '); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'data_column')\r\n            .addChildElement(_this.createColumnsSelectBuilder(fieldTypes, settings.fieldName)\r\n            .id('pivotTableCellFieldSelector')\r\n            .toDOM()); }); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('div')\r\n            .addChild('div', function (b) { return b\r\n            .addClass(horizClass)\r\n            .addChild('label', function (b) { return b\r\n            .addClass('checkbox')\r\n            .addChild('input', function (b) {\r\n            b\r\n                .id('pivotTableHasTotalsRow')\r\n                .type('checkbox');\r\n            if (settings.totalsRow)\r\n                b.attr('checked', '');\r\n        })\r\n            .addText(' ' + i18n.getText('Facets', 'Pivot', 'TotalsRowLabel')); })\r\n            .addChild('label', function (b) { return b\r\n            .addClass('checkbox')\r\n            .addChild('input', function (b) {\r\n            b\r\n                .id('pivotTableHasTotalsCol')\r\n                .type('checkbox');\r\n            if (settings.totalsCol)\r\n                b.attr('checked', '');\r\n        })\r\n            .addText(' ' + i18n.getText('Facets', 'Pivot', 'TotalsColLabel')); }); });\r\n    };\r\n    PivotTableFacetTab.prototype.submitSettingsDialog = function () {\r\n        var result = _super.prototype.submitSettingsDialog.call(this);\r\n        if (result) {\r\n            this.settings = {\r\n                colName: document.getElementById('pivotTableColFieldSelector').value,\r\n                rowName: document.getElementById('pivotTableRowFieldSelector').value,\r\n                aggrFunc: document.getElementById('pivotTableAggrFuncSelector').value,\r\n                fieldName: document.getElementById('pivotTableCellFieldSelector').value,\r\n                totalsRow: document.getElementById('pivotTableHasTotalsRow').checked,\r\n                totalsCol: document.getElementById('pivotTableHasTotalsCol').checked\r\n            };\r\n            this.refresh();\r\n        }\r\n        return result;\r\n    };\r\n    PivotTableFacetTab.prototype.saveToData = function () {\r\n        var data = _super.prototype.saveToData.call(this);\r\n        if (this.settings) {\r\n            dataUtils.assignDeep(data, this.settings);\r\n        }\r\n        return data;\r\n    };\r\n    PivotTableFacetTab.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            this.settings = dataUtils.assignDeep(this.settings, data);\r\n            if (this.settings.aggrFunc == 'AVERAGE') {\r\n                this.settings.aggrFunc = AggrFunc.Average;\r\n            }\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.refreshCore = function () {\r\n        this.updatePivotData();\r\n        if (this.grid) {\r\n            this.grid.refresh();\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.getContextDataTable = function () {\r\n        var context = this.getContext();\r\n        return context.resultTable;\r\n    };\r\n    PivotTableFacetTab.prototype.updatePivotData = function () {\r\n        this.pivotTable.clear();\r\n        var dataTable = this.getContextDataTable();\r\n        if (!dataTable || dataTable.getTotal() == 0) {\r\n            return;\r\n        }\r\n        if (!this.settings) {\r\n            return;\r\n        }\r\n        var colName = this.settings.colName;\r\n        var rowName = this.settings.rowName;\r\n        var fieldName = this.settings.fieldName;\r\n        var colIdx = dataTable.columns.getIndex(colName);\r\n        var rowIdx = dataTable.columns.getIndex(rowName);\r\n        var fieldIdx = dataTable.columns.getIndex(fieldName);\r\n        if (colIdx == undefined || rowIdx == undefined || fieldIdx == undefined) {\r\n            this.showUnableDisplayMessage(i18n.getText('Facets', 'ErrQueryChanged'));\r\n            return;\r\n        }\r\n        var columnCol = dataTable.columns.get(colIdx);\r\n        var columnRow = dataTable.columns.get(rowIdx);\r\n        var rowLabel = columnRow.label;\r\n        var rowType = columnRow.type;\r\n        var colLabel = columnCol.label;\r\n        var colValues = [];\r\n        var rowValues = [];\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var colValue = rows[i].getValue(colIdx);\r\n            if (colValues.indexOf(colValue) < 0) {\r\n                colValues.push(colValue);\r\n            }\r\n            var rowValue = rows[i].getValue(rowIdx);\r\n            if (rowValues.indexOf(rowValue) < 0) {\r\n                rowValues.push(rowValue);\r\n            }\r\n        }\r\n        this.pivotTable.columns.add({\r\n            id: rowLabel + '\\\\' + colLabel,\r\n            label: rowLabel + '\\\\' + colLabel,\r\n            type: rowType\r\n        });\r\n        var null_columns = [];\r\n        for (var i = 0; i < colValues.length; i++) {\r\n            var colValue = colValues[i];\r\n            if (!colValue) {\r\n                null_columns.push(i);\r\n            }\r\n            else {\r\n                this.pivotTable.columns.add({\r\n                    type: DataType.Float,\r\n                    id: colValue,\r\n                    label: colValue\r\n                });\r\n            }\r\n        }\r\n        var new_rows = [];\r\n        for (var i = 0; i < rowValues.length; i++) {\r\n            new_rows.push([]);\r\n            new_rows[i].push(rowValues[i]);\r\n        }\r\n        for (var i = 0; i < rowValues.length; i++) {\r\n            for (var j = 0; j < colValues.length; j++) {\r\n                if (null_columns.indexOf(j) >= 0)\r\n                    continue;\r\n                new_rows[i].push(this.calcAggrFunc(this.settings.aggrFunc, {\r\n                    colName: this.settings.colName,\r\n                    rowName: this.settings.rowName,\r\n                    fieldName: this.settings.fieldName,\r\n                    rowValue: rowValues[i],\r\n                    colValue: colValues[j]\r\n                }));\r\n            }\r\n        }\r\n        if (this.settings.totalsCol) {\r\n            this.pivotTable.columns.add({\r\n                id: \"total\",\r\n                label: i18n.getText('Facets', 'Pivot', 'TotalGridLabel'),\r\n                type: DataType.Float\r\n            });\r\n            for (var i = 0; i < new_rows.length; i++) {\r\n                var totalByRow = 0;\r\n                var row = new_rows[i];\r\n                for (var j = 1; j < row.length; j++) {\r\n                    var value = row[j];\r\n                    if (value !== null)\r\n                        totalByRow += value;\r\n                }\r\n                row.push(totalByRow);\r\n            }\r\n        }\r\n        for (var _i = 0, new_rows_1 = new_rows; _i < new_rows_1.length; _i++) {\r\n            var row = new_rows_1[_i];\r\n            this.pivotTable.addRow(row);\r\n        }\r\n        if (this.settings.totalsRow) {\r\n            var total_row = [];\r\n            total_row.push(i18n.getText('Facets', 'Pivot', 'TotalGridLabel'));\r\n            for (var i = 1; i < this.pivotTable.columns.count; i++) {\r\n                var totalByCol = 0;\r\n                var rows_1 = this.pivotTable.getCachedRows();\r\n                for (var j = 0; j < rows_1.length - 1; j++) {\r\n                    totalByCol += rows_1[j].getValue(i);\r\n                }\r\n                total_row.push(totalByCol);\r\n            }\r\n            this.pivotTable.addRow(total_row);\r\n            this.contentDiv.classList.add('pivot-grid-totals-row');\r\n        }\r\n        else {\r\n            this.contentDiv.classList.remove('pivot-grid-totals-row');\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.calcAggrFunc = function (func, options) {\r\n        switch (func) {\r\n            case AggrFunc.Sum:\r\n                return this.sum(options);\r\n            case AggrFunc.Average:\r\n                return this.average(options);\r\n            case AggrFunc.Min:\r\n                return this.min(options);\r\n            case AggrFunc.Max:\r\n                return this.max(options);\r\n            case AggrFunc.Count:\r\n                return this.count(options);\r\n            default:\r\n                return 0;\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.sum = function (options) {\r\n        var result = 0;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            result += fieldValue;\r\n        }\r\n        return result;\r\n    };\r\n    PivotTableFacetTab.prototype.average = function (options) {\r\n        var result = 0;\r\n        var count = 0;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            result += fieldValue;\r\n            count++;\r\n        }\r\n        if (count != 0)\r\n            result = result / count;\r\n        return result;\r\n    };\r\n    PivotTableFacetTab.prototype.min = function (options) {\r\n        var min = Number.MAX_SAFE_INTEGER;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            if (fieldValue < min) {\r\n                min = fieldValue;\r\n            }\r\n        }\r\n        if (min == Number.MAX_SAFE_INTEGER)\r\n            return null;\r\n        return min;\r\n    };\r\n    PivotTableFacetTab.prototype.max = function (options) {\r\n        var max = Number.MIN_SAFE_INTEGER;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            if (fieldValue > max) {\r\n                max = fieldValue;\r\n            }\r\n        }\r\n        if (max == Number.MIN_SAFE_INTEGER)\r\n            return null;\r\n        return max;\r\n    };\r\n    PivotTableFacetTab.prototype.count = function (options) {\r\n        var dataTable = this.getContextDataTable();\r\n        var count = 0;\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            count++;\r\n        }\r\n        return count;\r\n    };\r\n    return PivotTableFacetTab;\r\n}(ResultFacetTab));\r\nexport { PivotTableFacetTab };\r\n//# sourceMappingURL=pivot_table_facet_tab.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { addElement } from '@easydata/ui';\r\nimport { ChartWidget } from './chart_widget';\r\nimport { ChartType } from './chart_type';\r\nvar ChartJsWidget = /** @class */ (function (_super) {\r\n    __extends(ChartJsWidget, _super);\r\n    function ChartJsWidget() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.colors = [\r\n            '#4dc9f6',\r\n            '#f67019',\r\n            '#f53794',\r\n            '#537bc4',\r\n            '#acc236',\r\n            '#166a8f',\r\n            '#00a950',\r\n            '#58595b',\r\n            '#8549ba'\r\n        ];\r\n        _this.chartLabels = [];\r\n        _this.chartColumns = [];\r\n        _this.hasChartTypes = [\r\n            ChartType.Column,\r\n            ChartType.Bar,\r\n            ChartType.Line,\r\n            ChartType.Pie\r\n        ];\r\n        return _this;\r\n    }\r\n    ChartJsWidget.prototype.getWidgetType = function () {\r\n        return 'chartChartJs';\r\n    };\r\n    ChartJsWidget.hasChartJs = function () {\r\n        return typeof Chart !== 'undefined';\r\n    };\r\n    ChartJsWidget.prototype.canDraw = function () {\r\n        return ChartJsWidget.hasChartJs();\r\n    };\r\n    ChartJsWidget.prototype.initChart = function () {\r\n        if (ChartJsWidget.hasChartJs() && this.labelColumn >= 0\r\n            && this.dataColumns && this.dataColumns.length > 0) {\r\n            this.updateChartColumns();\r\n        }\r\n    };\r\n    ChartJsWidget.prototype.drawCore = function () {\r\n        if (ChartJsWidget.hasChartJs() && this.dataTable\r\n            && this.dataTable.getCachedCount() > 0) {\r\n            var config = this.generateConfig();\r\n            var chartCanvas = this.getChartCanvas(this.chartDiv);\r\n            var chartContext = chartCanvas.getContext('2d');\r\n            new Chart(chartContext, config);\r\n        }\r\n    };\r\n    ChartJsWidget.prototype.updateChartColumns = function () {\r\n        if (this.dataTable) {\r\n            this.chartLabels = [];\r\n            this.chartColumns = [];\r\n            var rows = this.dataTable.getCachedRows();\r\n            for (var i = 0; i < rows.length; i++) {\r\n                this.chartLabels.push(rows[i].getValue(this.labelColumn));\r\n                this.chartColumns.push(rows[i].getValue(this.dataColumns[0]));\r\n            }\r\n        }\r\n    };\r\n    ChartJsWidget.prototype.getChartCanvas = function (slot) {\r\n        var result;\r\n        //find canvas element\r\n        var canvases = slot.getElementsByTagName('canvas');\r\n        if (canvases && canvases.length > 0) {\r\n            result = canvases[0];\r\n        }\r\n        else {\r\n            result = addElement(slot, 'canvas');\r\n        }\r\n        return result;\r\n    };\r\n    ChartJsWidget.prototype.generateConfig = function () {\r\n        var dataColors = [];\r\n        var datasetName = this.dataTable.columns.get(this.dataColumns[0]).label;\r\n        var displayLegend = true;\r\n        var fillValue = true;\r\n        var borderColor;\r\n        if (this.chartType == ChartType.Pie || this.chartType == ChartType.Bar || this.chartType == ChartType.Column) {\r\n            displayLegend = false;\r\n            for (var i = 0; i < this.chartLabels.length; i++) {\r\n                dataColors.push(this.colors[i % this.colors.length]);\r\n            }\r\n        }\r\n        else {\r\n            dataColors = [this.colors[3]];\r\n        }\r\n        if (this.chartType == ChartType.Line) {\r\n            fillValue = false;\r\n            borderColor = this.colors[3];\r\n        }\r\n        return {\r\n            type: this.getChartType(),\r\n            data: {\r\n                datasets: [{\r\n                        data: this.chartColumns,\r\n                        backgroundColor: dataColors,\r\n                        borderColor: borderColor,\r\n                        label: datasetName,\r\n                        fill: fillValue\r\n                    }],\r\n                labels: this.chartLabels\r\n            },\r\n            options: {\r\n                legend: {\r\n                    display: displayLegend\r\n                },\r\n                title: {\r\n                    display: true,\r\n                    text: datasetName\r\n                }\r\n            }\r\n        };\r\n    };\r\n    ChartJsWidget.prototype.getChartType = function () {\r\n        switch (this.chartType) {\r\n            case ChartType.Column:\r\n                return \"bar\";\r\n            case ChartType.Bar:\r\n                return \"horizontalBar\";\r\n            case ChartType.Line:\r\n                return \"line\";\r\n            case ChartType.Pie:\r\n                return \"pie\";\r\n            default:\r\n                return \"pie\";\r\n        }\r\n    };\r\n    return ChartJsWidget;\r\n}(ChartWidget));\r\nexport { ChartJsWidget };\r\n//# sourceMappingURL=chart_widget_chartjs.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DataType } from '@easydata/core';\r\nimport { ChartWidget } from './chart_widget';\r\nimport { ChartType } from './chart_type';\r\nvar GoogleChartWidget = /** @class */ (function (_super) {\r\n    __extends(GoogleChartWidget, _super);\r\n    function GoogleChartWidget() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.hasChartTypes = [\r\n            ChartType.Column,\r\n            ChartType.Bar,\r\n            ChartType.Combo,\r\n            ChartType.Area,\r\n            ChartType.Line,\r\n            ChartType.Pie\r\n        ];\r\n        return _this;\r\n    }\r\n    GoogleChartWidget.prototype.getWidgetType = function () {\r\n        return 'chartGoogle';\r\n    };\r\n    GoogleChartWidget.prototype.canDraw = function () {\r\n        return GoogleChartWidget.hasGoogleCharts();\r\n    };\r\n    GoogleChartWidget.hasGoogleCharts = function () {\r\n        return typeof google !== 'undefined' && typeof google.charts !== 'undefined';\r\n    };\r\n    GoogleChartWidget.prototype.initChart = function () {\r\n        if (GoogleChartWidget.hasGoogleCharts() && this.labelColumn >= 0\r\n            && this.dataColumns && this.dataColumns.length > 0) {\r\n            this.googleDataView =\r\n                new google.visualization.DataView(this.convertToGoogleFormat());\r\n            this.updateChartColumns();\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.convertToGoogleType = function (type) {\r\n        switch (type) {\r\n            case DataType.Date:\r\n                return \"date\";\r\n            case DataType.DateTime:\r\n                return \"datetime\";\r\n            case DataType.Time:\r\n                return \"timeofday\";\r\n            case DataType.Byte:\r\n            case DataType.Word:\r\n            case DataType.Int32:\r\n            case DataType.Int64:\r\n            case DataType.Currency:\r\n            case DataType.Float:\r\n                return \"number\";\r\n            default:\r\n                return \"string\";\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.convertToGoogleValue = function (value, type) {\r\n        switch (type) {\r\n            case DataType.Bool:\r\n                return value.toString();\r\n            default:\r\n                return value;\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.convertToGoogleFormat = function () {\r\n        var googleTable = new google.visualization.DataTable();\r\n        var columns = this.dataTable.columns;\r\n        for (var i = 0; i < columns.count; i++) {\r\n            var column = columns.get(i);\r\n            googleTable.addColumn(this.convertToGoogleType(column.type), column.label, column.id);\r\n        }\r\n        var rows = this.dataTable.getCachedRows();\r\n        googleTable.addRows(rows.length);\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            for (var j = 0; j < columns.count; j++) {\r\n                googleTable.setCell(i, j, this.convertToGoogleValue(row.getValue(j), columns.get(j).type));\r\n            }\r\n        }\r\n        return googleTable;\r\n    };\r\n    GoogleChartWidget.prototype.drawCore = function () {\r\n        if (this.googleDataView != null) {\r\n            var chartOptions = {\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                chartArea: { width: this.getChartAreaWidth }\r\n            };\r\n            var chart = this.createChart(this.chartDiv);\r\n            chart.draw(this.googleDataView, chartOptions);\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.getChartAreaWidth = function (chartType) {\r\n        if (chartType == ChartType.Pie) {\r\n            return \"100%\";\r\n        }\r\n        else {\r\n            return \"50%\";\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.updateChartColumns = function () {\r\n        if (this.googleDataView) {\r\n            this.googleDataView.setColumns([].concat(this.labelColumn).concat(this.dataColumns));\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.createChart = function (slot) {\r\n        switch (this.chartType) {\r\n            case 3:\r\n                return new google.visualization.ColumnChart(slot);\r\n            case 4:\r\n                return new google.visualization.Histogram(slot);\r\n            case 5:\r\n                return new google.visualization.BarChart(slot);\r\n            case 6:\r\n                return new google.visualization.ComboChart(slot);\r\n            case 7:\r\n                return new google.visualization.AreaChart(slot);\r\n            case 9:\r\n                return new google.visualization.LineChart(slot);\r\n            case 10:\r\n                return new google.visualization.PieChart(slot);\r\n            case 17:\r\n                return new google.visualization.Gauge(slot);\r\n            case 18:\r\n                return new google.visualization.CandlestickChart(slot);\r\n            default:\r\n                return new google.visualization.PieChart(slot);\r\n        }\r\n    };\r\n    return GoogleChartWidget;\r\n}(ChartWidget));\r\nexport { GoogleChartWidget };\r\n//# sourceMappingURL=chart_widget_google.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { ResultFacetTab } from './result_facet_tab';\r\nimport { ChartJsWidget } from '../widgets/charts/chart_widget_chartjs';\r\nimport { GoogleChartWidget } from '../widgets/charts/chart_widget_google';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar ChartFacetTab = /** @class */ (function (_super) {\r\n    __extends(ChartFacetTab, _super);\r\n    function ChartFacetTab() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.title = i18n.getText('Facets', 'Chart', 'FacetTitle');\r\n        _this.dialogTitle = i18n.getText('Facets', 'Chart', 'DlgTitle');\r\n        return _this;\r\n    }\r\n    ChartFacetTab.prototype.init = function (slot) {\r\n        _super.prototype.init.call(this, slot);\r\n        if (GoogleChartWidget.hasGoogleCharts()) {\r\n            this.chart = new GoogleChartWidget(this.contentDiv);\r\n        }\r\n        else {\r\n            this.chart = new ChartJsWidget(this.contentDiv);\r\n        }\r\n        var supportedChartTypes = this.panel.options\r\n            ? this.panel.options.supportedChartTypes\r\n            : null;\r\n        this.chart.init(this.getContext(), {\r\n            showOnPaging: true,\r\n            hideSettings: true,\r\n            supportedChartTypes: supportedChartTypes\r\n        });\r\n        if (this.settings) {\r\n            this.chart.updateSettings(this.settings);\r\n        }\r\n        this.chart.prepareChartData();\r\n        //prevent showing chart tab\r\n        domel(this.slot).hide();\r\n    };\r\n    ChartFacetTab.prototype.destroy = function () {\r\n        if (this.chart) {\r\n            this.chart.destroy();\r\n        }\r\n    };\r\n    ChartFacetTab.prototype.getType = function () {\r\n        return FacetType.Chart;\r\n    };\r\n    ChartFacetTab.prototype.renderFormFields = function (form, fieldsContainer) {\r\n        _super.prototype.renderFormFields.call(this, form, fieldsContainer);\r\n        // Chart type\r\n        var chartTypeSelector = document.createElement('select');\r\n        chartTypeSelector.id = 'chart_type_selector';\r\n        chartTypeSelector.name = 'chart_type_selector';\r\n        for (var _i = 0, _a = this.chart.getSupportedChartTypes(); _i < _a.length; _i++) {\r\n            var ct = _a[_i];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = ct.toString();\r\n            sopt.text = this.chart.getChartTypeName(ct);\r\n            chartTypeSelector.appendChild(sopt);\r\n        }\r\n        chartTypeSelector.value = this.chart.getCurrentChartType().toString();\r\n        // Label column\r\n        var labelColumnSelector = document.createElement('select');\r\n        labelColumnSelector.name = 'label_column_selector';\r\n        labelColumnSelector.id = 'label_column_selector';\r\n        for (var _b = 0, _c = this.chart.getPotentialLabelColumns(); _b < _c.length; _b++) {\r\n            var col = _c[_b];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            labelColumnSelector.appendChild(sopt);\r\n        }\r\n        var labelColumn = this.chart.getLabelColumnIndex();\r\n        if (labelColumn >= 0) {\r\n            labelColumnSelector.value = labelColumn.toString();\r\n        }\r\n        // Data column\r\n        var dataColumnSelector = document.createElement('select');\r\n        dataColumnSelector.id = 'data_column_selector';\r\n        dataColumnSelector.name = 'data_column_selector';\r\n        for (var _d = 0, _e = this.chart.getPotentialDataColumns(); _d < _e.length; _d++) {\r\n            var col = _e[_d];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            dataColumnSelector.appendChild(sopt);\r\n        }\r\n        var dataColumn = this.chart.getDataColumnIndex();\r\n        if (dataColumn >= 0) {\r\n            dataColumnSelector.value = dataColumn.toString();\r\n        }\r\n        var isIE = browserUtils.IsIE();\r\n        var current = fieldsContainer;\r\n        var getCurrent = function () {\r\n            if (isIE) {\r\n                return domel('div', fieldsContainer)\r\n                    .addClass('kfrm-field-ie')\r\n                    .toDOM();\r\n            }\r\n            else {\r\n                return fieldsContainer;\r\n            }\r\n        };\r\n        if (isIE) {\r\n            domel(form)\r\n                .addChildElement(getCurrent());\r\n        }\r\n        else {\r\n            domel(fieldsContainer)\r\n                .addChild('div')\r\n                .addChild('div');\r\n        }\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'chart_type_selector')\r\n            .text(i18n.getText('Facets', 'Chart', 'ChartTypeSelectorLabel')); })\r\n            .addChild('div', function (b) {\r\n            return b\r\n                .addClass('kfrm-select')\r\n                .addChildElement(chartTypeSelector);\r\n        });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'label_column_selector')\r\n            .text(i18n.getText('Facets', 'Chart', 'LabelColumnSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .addChildElement(labelColumnSelector); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'data_column_selector')\r\n            .text(i18n.getText('Facets', 'Chart', 'DataColumnSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .addChildElement(dataColumnSelector); });\r\n    };\r\n    ChartFacetTab.prototype.submitSettingsDialog = function () {\r\n        var result = _super.prototype.submitSettingsDialog.call(this);\r\n        var chartTypeSelector = document.getElementById('chart_type_selector');\r\n        var ct = parseInt(chartTypeSelector.value);\r\n        var labelColumnSelector = document.getElementById('label_column_selector');\r\n        var labelColumn = parseInt(labelColumnSelector.value);\r\n        var dataColumnSelector = document.getElementById('data_column_selector');\r\n        var dataColumn = parseInt(dataColumnSelector.value);\r\n        if (result) {\r\n            this.settings = {\r\n                type: ct,\r\n                labelColumn: labelColumn,\r\n                dataColumn: dataColumn\r\n            };\r\n            this.chart.updateSettings(this.settings);\r\n            if (this.canDisplay()) {\r\n                this.refresh();\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ChartFacetTab.prototype.saveToData = function () {\r\n        var data = _super.prototype.saveToData.call(this);\r\n        if (this.settings) {\r\n            data.chartType = this.settings.type;\r\n            data.labelCol = this.settings.labelColumn;\r\n            data.dataCol = this.settings.dataColumn;\r\n        }\r\n        return data;\r\n    };\r\n    ChartFacetTab.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            this.settings = {\r\n                type: data.chartType,\r\n                dataColumn: data.dataCol,\r\n                labelColumn: data.labelCol\r\n            };\r\n        }\r\n    };\r\n    ChartFacetTab.prototype.refreshCore = function () {\r\n        if (this.chart) {\r\n            this.chart.refresh();\r\n        }\r\n    };\r\n    ChartFacetTab.prototype.onResize = function () {\r\n        this.refresh();\r\n    };\r\n    return ChartFacetTab;\r\n}(ResultFacetTab));\r\nexport { ChartFacetTab };\r\n//# sourceMappingURL=chart_facet_tab.js.map","import { domel } from '@easydata/ui';\r\nimport { i18n } from '@easyquery/core';\r\nvar ExportDialog = /** @class */ (function () {\r\n    function ExportDialog(context) {\r\n        this.context = context;\r\n        this.promise = null;\r\n    }\r\n    ExportDialog.prototype.show = function (defFormat) {\r\n        var _this = this;\r\n        if (defFormat === void 0) { defFormat = null; }\r\n        if (!this.promise) {\r\n            var formats = this.context.getExportFormats();\r\n            if (formats.length == 0)\r\n                throw Error(\"No exporter has been registered.\");\r\n            defFormat = defFormat || formats[0];\r\n            this.promise = new Promise(function (resolve, reject) {\r\n                var ds = _this.context.getServices().getDialogService();\r\n                var body = domel('div')\r\n                    .addClass('kdlg-form-section')\r\n                    .addChild('div', function (b) { return b\r\n                    .addClass('kfrm-form')\r\n                    .addChild('div', function (b) { return b\r\n                    .addClass('kfrm-fields col-a-1 label-align-right')\r\n                    .addChild('label', function (b) { return b\r\n                    .addClass('kdlg-form-label', 'kflex-20')\r\n                    .attr('for', 'export_format')\r\n                    .addText(i18n.getText('ExportDlgTitle')); })\r\n                    .addChild('div', function (b) { return b\r\n                    .addClass('kfrm-select')\r\n                    .addChild('select', function (b) {\r\n                    b\r\n                        .attr('name', 'export_format')\r\n                        .id('exportFormat');\r\n                    for (var _i = 0, _a = _this.context.getExportFormats(); _i < _a.length; _i++) {\r\n                        var format = _a[_i];\r\n                        b.addOption({\r\n                            value: format,\r\n                            title: i18n.getText(format) || format,\r\n                            selected: defFormat == format\r\n                        });\r\n                    }\r\n                }); }); }); })\r\n                    .toDOM();\r\n                ds.open({\r\n                    title: i18n.getText('ExportDlgFmtLabel'),\r\n                    body: body,\r\n                    onSubmit: function () {\r\n                        var format = body.querySelector('#exportFormat').value;\r\n                        _this.context.exportResult({\r\n                            format: format,\r\n                            success: resolve,\r\n                            error: reject\r\n                        });\r\n                        return true;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        return this.promise.finally(function () { return _this.promise = null; });\r\n    };\r\n    return ExportDialog;\r\n}());\r\nexport { ExportDialog };\r\n//# sourceMappingURL=export_dialog.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup, QueryChangePart, } from '@easyquery/core';\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { DataTableFacetTab } from '../facets/datatable_facet_tab';\r\nimport { ChartFacetTab } from '../facets/chart_facet_tab';\r\nimport { PivotTableFacetTab } from '../facets/pivot_table_facet_tab';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { ExportDialog } from '../dialog/export_dialog';\r\nvar ResultFacetsPanel = /** @class */ (function (_super) {\r\n    __extends(ResultFacetsPanel, _super);\r\n    function ResultFacetsPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.facets = [];\r\n        _this.activeFacetIndex = -1;\r\n        _this.firstRender = true;\r\n        _this.options = {\r\n            showExportButton: true,\r\n            showRefreshButton: true,\r\n            showMaximizeButton: true,\r\n            showProcessIndicator: true\r\n        };\r\n        _this.menuItems = [\r\n            { id: FacetType.DataGrid, text: i18n.getText('Facets', 'AddMenuItems', 'DataTable') },\r\n            { id: FacetType.Chart, text: i18n.getText('Facets', 'AddMenuItems', 'Chart') },\r\n            { id: FacetType.PivotTable, text: i18n.getText('Facets', 'AddMenuItems', 'Pivot') }\r\n        ];\r\n        if (!_this.slot.classList.contains(_this.cssPrefix + \"-panel\")) {\r\n            _this.slot.classList.add(_this.cssPrefix + \"-panel\");\r\n        }\r\n        _this.group = WidgetGroup.Result;\r\n        _this.renderProcessBlock();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ResultFacetsPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-facets';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ResultFacetsPanel.prototype.getWidgetType = function () {\r\n        return 'facetsPanel';\r\n    };\r\n    ResultFacetsPanel.prototype.destroyCore = function () {\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            facet.destroy();\r\n        }\r\n        this.clear();\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    ResultFacetsPanel.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.destroyCore();\r\n        this.attachQueryObserver();\r\n        this.loadFacets();\r\n    };\r\n    ResultFacetsPanel.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    ResultFacetsPanel.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (edata.part != QueryChangePart.All) {\r\n                return;\r\n            }\r\n            if (edata.source == _this) {\r\n                return;\r\n            }\r\n            _this.reloadFacets();\r\n            _this.refreshCore(true);\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.refreshCore = function (force) {\r\n        if (force === void 0) { force = false; }\r\n        if (this.firstRender || force) {\r\n            this.clear();\r\n            this.createAddMenu();\r\n            this.render();\r\n        }\r\n        this.renderActiveFacet();\r\n        this.updateTotalRecords();\r\n    };\r\n    ResultFacetsPanel.prototype.createAddMenu = function () {\r\n        this.addMenu = new PopupMenu({\r\n            items: this.menuItems,\r\n            id: \"FacetType-List\"\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.updateTotalRecords = function () {\r\n        var context = this.getContext();\r\n        var total = context.resultTable.getTotal();\r\n        this.recordsDiv.innerHTML = i18n.getText('Facets', 'TotalRecordsLabel') + ' ' + total;\r\n        if (total == 0) {\r\n            domel(this.exportDiv).hide();\r\n        }\r\n        else {\r\n            domel(this.exportDiv).show();\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.renderProcessBlock = function () {\r\n        var html = '<div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"></div></div>';\r\n        ;\r\n        this._processBlock = domel('div')\r\n            .addClass(this.cssPrefix + \"-spinner\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-progress-win8\", browserUtils.getMobileCssClass())\r\n            .addHtml(html); })\r\n            .toDOM();\r\n    };\r\n    ResultFacetsPanel.prototype.onProcessStartCore = function () {\r\n        if (this.options.showProcessIndicator) {\r\n            // FacetsPanel might be not rendered yet, so \r\n            // it has no body\r\n            if (!this._processBlock.parentNode && this.bodyDiv) {\r\n                this.bodyDiv.childNodes.forEach(function (el) {\r\n                    domel(el).hide();\r\n                });\r\n                this.bodyDiv.appendChild(this._processBlock);\r\n            }\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.onProcessEndCore = function () {\r\n        if (this.options.showProcessIndicator) {\r\n            if (this._processBlock.parentNode) {\r\n                try {\r\n                    this._processBlock.parentNode\r\n                        .removeChild(this._processBlock);\r\n                }\r\n                catch (e) {\r\n                }\r\n                finally {\r\n                    this.renderActiveFacet(false);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.render = function () {\r\n        var _this = this;\r\n        this.firstRender = false;\r\n        this.headerDiv = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-header\")\r\n            .toDOM();\r\n        this.tabsDiv =\r\n            domel('div', this.headerDiv)\r\n                .addClass(this.cssPrefix + \"-tabs\")\r\n                .toDOM();\r\n        this.tabsUl = domel('ul', this.tabsDiv)\r\n            .addClass(this.cssPrefix + \"-nav-tabs\")\r\n            .toDOM();\r\n        this.bodyDiv =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-body\")\r\n                .toDOM();\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            this.renderFacet(facet);\r\n        }\r\n        domel(this.tabsDiv)\r\n            .addChild('div', function (b) { return b\r\n            .addClass(//`${this.cssPrefix}-header-item`, \r\n        _this.cssPrefix + \"-add-button\")\r\n            .addChild('a', function (b) { return b\r\n            .attr('href', 'javascript:void(0)'); })\r\n            .on('click', function (e) { return _this.addClickHandler(e); }); });\r\n        var manageDiv = domel('div', this.headerDiv)\r\n            .addClass(this.cssPrefix + \"-manage\")\r\n            .toDOM();\r\n        this.recordsDiv = domel('div', manageDiv)\r\n            .addClass(this.cssPrefix + \"-total-recs\")\r\n            .toDOM();\r\n        if (this.options.showRefreshButton || this.options.showExportButton || this.options.showMaximizeButton) {\r\n            var bdb = domel('div', manageDiv)\r\n                .addClass(this.cssPrefix + \"-total-buttons\")\r\n                .toDOM();\r\n            if (this.options.showExportButton) {\r\n                this.exportDiv = domel('button', bdb)\r\n                    .on('click', function () { return _this.exportHandler(); })\r\n                    .addClass(this.cssPrefix + \"-button\")\r\n                    .addClass(this.cssPrefix + \"-button-export\")\r\n                    .title(i18n.getText('Facets', 'ExportBtnTitle'))\r\n                    .toDOM();\r\n            }\r\n            if (this.options.showRefreshButton) {\r\n                domel('button', bdb)\r\n                    .on('click', function () { return _this.refreshHandler(); })\r\n                    .addClass(this.cssPrefix + \"-button\")\r\n                    .addClass(this.cssPrefix + \"-button-refresh\")\r\n                    .title(i18n.getText('Facets', 'RefreshBtnTitle'));\r\n            }\r\n            if (this.options.showMaximizeButton) {\r\n                this.maximizeButton = domel('button', bdb)\r\n                    .on('click', function () { return _this.maximizeHandler(); })\r\n                    .addClass(this.cssPrefix + \"-button\")\r\n                    .addClass(this.cssPrefix + \"-button-maximize\")\r\n                    .title(i18n.getText('Facets', 'MaximizeBtnTitle'))\r\n                    .toDOM();\r\n            }\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.refreshHandler = function () {\r\n        var context = this.getContext();\r\n        context.fetchData({\r\n            success: function () {\r\n                // possibly we should move this logic to context\r\n                context.refreshWidgets(WidgetGroup.Result);\r\n            }\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.exportHandler = function () {\r\n        var context = this.getContext();\r\n        new ExportDialog(context).show();\r\n    };\r\n    ResultFacetsPanel.prototype.maximizeHandler = function () {\r\n        var b = domel(this.slot);\r\n        b.toggleClass(eqCssPrefix + \"-maximized-2window\");\r\n        if (this.slot.classList.contains(eqCssPrefix + \"-maximized-2window\")) {\r\n            this.maximizeButton.title = i18n.getText('Facets', 'RestoreBtnTitle');\r\n            this.maximizeButton.classList.toggle(this.cssPrefix + \"-button-maximize\", false);\r\n            this.maximizeButton.classList.toggle(this.cssPrefix + \"-button-restore\", true);\r\n        }\r\n        else {\r\n            this.maximizeButton.title = i18n.getText('Facets', 'MaximizeBtnTitle');\r\n            this.maximizeButton.classList.toggle(this.cssPrefix + \"-button-restore\", false);\r\n            this.maximizeButton.classList.toggle(this.cssPrefix + \"-button-maximize\", true);\r\n        }\r\n        this.facets.forEach(function (facetTab) { return facetTab.onResize(); });\r\n    };\r\n    ResultFacetsPanel.prototype.renderActiveFacet = function (refresh) {\r\n        var _this = this;\r\n        if (refresh === void 0) { refresh = true; }\r\n        this.tabsUl.querySelectorAll('li') //`.${this.cssPrefix}-header-item.${this.cssPrefix}-facet`)\r\n            .forEach(function (el, index) {\r\n            if (el.classList.contains('active')) {\r\n                el.classList.remove('active');\r\n            }\r\n            if (_this.activeFacetIndex === index) {\r\n                el.classList.add('active');\r\n            }\r\n        });\r\n        this.bodyDiv.querySelectorAll(\".\" + eqCssPrefix + \"-facet\")\r\n            .forEach(function (el, index) {\r\n            domel(el).hide();\r\n            if (_this.activeFacetIndex === index) {\r\n                domel(el).show();\r\n                if (refresh) {\r\n                    _this.facets[index].refresh();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.renderFacet = function (facet) {\r\n        this.renderFacetTab(facet);\r\n        var body = this.renderFacetBody(facet);\r\n        facet.init(body);\r\n    };\r\n    ResultFacetsPanel.prototype.renderFacetTab = function (facet) {\r\n        var _this = this;\r\n        return domel('li', this.tabsUl)\r\n            //.addClass(`${this.cssPrefix}-header-item`, `${this.cssPrefix}-facet`)\r\n            //facet settings button\r\n            .addChild('span', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-facet-settings\")\r\n            .on('click', function (e) {\r\n            e.stopPropagation();\r\n            _this.settingsClickHandler(facet);\r\n        }); })\r\n            .addChild('a', function (b) { return b\r\n            .addText(facet.title)\r\n            .attr('href', 'javascript:void(0)'); })\r\n            //facet close button\r\n            .addChild('span', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-facet-close\")\r\n            .on('click', function (e) {\r\n            e.stopPropagation();\r\n            _this.closeClickHandler(facet);\r\n        }); })\r\n            .on('click', function (e) { return _this.selectClickHandler(facet); })\r\n            .toDOM();\r\n    };\r\n    ResultFacetsPanel.prototype.renderFacetBody = function (facet) {\r\n        var element = domel('div', this.bodyDiv)\r\n            .addClass(eqCssPrefix + \"-facet\")\r\n            .hide()\r\n            .toDOM();\r\n        // makeElementMaximizable(element);\r\n        return element;\r\n    };\r\n    ResultFacetsPanel.prototype.refreshFacetTabs = function () {\r\n        var _this = this;\r\n        this.tabsUl.querySelectorAll('li') //`.${this.cssPrefix}-header-item.${this.cssPrefix}-facet`)\r\n            .forEach(function (item) {\r\n            _this.tabsUl.removeChild(item);\r\n        });\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            this.renderFacetTab(facet);\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.removeFacet = function (facet) {\r\n        var index = this.facets.indexOf(facet);\r\n        if (index >= 0) {\r\n            this.facets.splice(index, 1);\r\n            var header = this.tabsUl.childNodes[index];\r\n            this.tabsUl.removeChild(header);\r\n            var body = this.bodyDiv.childNodes[index];\r\n            this.bodyDiv.removeChild(body);\r\n            if (this.facets.length > 0) {\r\n                this.activeFacetIndex =\r\n                    index < this.facets.length\r\n                        ? index\r\n                        : this.facets.length - 1;\r\n            }\r\n            else {\r\n                this.activeFacetIndex = -1;\r\n            }\r\n            this.renderActiveFacet();\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.addClickHandler = function (ev) {\r\n        var _this = this;\r\n        var table = this.getContext().resultTable;\r\n        this.addMenu.showMenu({\r\n            anchor: ev.target,\r\n            itemSelectedCallback: function (data) {\r\n                var facet = _this.createFacetTab(data.id);\r\n                var facetSlot = _this.renderFacetBody(facet);\r\n                facet.init(facetSlot);\r\n                facet.showSettingsDialog()\r\n                    .then(function (submited) {\r\n                    if (submited) {\r\n                        _this.facets.push(facet);\r\n                        _this.activeFacetIndex = _this.facets.length - 1;\r\n                        _this.renderFacetTab(facet);\r\n                        _this.renderActiveFacet();\r\n                        _this.saveFacets();\r\n                    }\r\n                    else {\r\n                        _this.bodyDiv.removeChild(facetSlot);\r\n                    }\r\n                })\r\n                    .catch(function (error) { return console.error(error); });\r\n            }\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.selectClickHandler = function (facet) {\r\n        var index = this.facets.indexOf(facet);\r\n        this.setActiveFacet(index);\r\n    };\r\n    ResultFacetsPanel.prototype.settingsClickHandler = function (facet) {\r\n        var _this = this;\r\n        facet.showSettingsDialog()\r\n            .then(function (submited) {\r\n            if (submited) {\r\n                _this.refreshFacetTabs();\r\n                _this.renderActiveFacet();\r\n                _this.saveFacets();\r\n            }\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n    };\r\n    ResultFacetsPanel.prototype.closeClickHandler = function (facet) {\r\n        var _this = this;\r\n        var ds = this.getDialogService();\r\n        ds.openConfirm(i18n.getText('Facets', 'RemoveFacetDlgTitle'), i18n.getText('Facets', 'RemoveFacetDlgContent')\r\n            .replace('{facetTitle}', facet.title))\r\n            .then(function (confirmed) {\r\n            if (confirmed) {\r\n                _this.removeFacet(facet);\r\n                _this.saveFacets();\r\n            }\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n    };\r\n    ResultFacetsPanel.prototype.clear = function () {\r\n        this.firstRender = true;\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    ResultFacetsPanel.prototype.createDefaultFacetIfNotExist = function () {\r\n        if (this.facets.length === 0) {\r\n            var facet = this.createFacetTab(FacetType.DataGrid);\r\n            this.facets.push(facet);\r\n            this.activeFacetIndex = 0;\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.setActiveFacet = function (index) {\r\n        if (this.activeFacetIndex != index) {\r\n            this.activeFacetIndex = index;\r\n            this.renderActiveFacet();\r\n            this.saveFacets();\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    ResultFacetsPanel.prototype.getDialogService = function () {\r\n        return this.getContext()\r\n            .getServices()\r\n            .getDialogService();\r\n    };\r\n    ResultFacetsPanel.prototype.createFacetTab = function (type) {\r\n        var options = this.options[type];\r\n        switch (type) {\r\n            case FacetType.Chart:\r\n                return new ChartFacetTab(this, options);\r\n            case FacetType.PivotTable:\r\n                return new PivotTableFacetTab(this, options);\r\n            default:\r\n                return new DataTableFacetTab(this, options);\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.saveFacets = function () {\r\n        var query = this.getQuery();\r\n        query.innerData = query.innerData || {};\r\n        query.innerData.facets = {\r\n            active: this.activeFacetIndex,\r\n            items: this.facets.map(function (f) { return f.saveToData(); })\r\n        };\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.ExtraData,\r\n            source: this\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.reloadFacets = function () {\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            facet.destroy();\r\n        }\r\n        this.loadFacets();\r\n    };\r\n    ResultFacetsPanel.prototype.loadFacets = function () {\r\n        var query = this.getQuery();\r\n        this.facets = [];\r\n        if (query.innerData && query.innerData.facets) {\r\n            var items = query.innerData.facets.items;\r\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\r\n                var fd = items_1[_i];\r\n                var facet = this.createFacetTab(fd.type);\r\n                facet.loadFromData(fd);\r\n                this.facets.push(facet);\r\n            }\r\n            var active = query.innerData.facets.active;\r\n            this.activeFacetIndex = (active >= 0)\r\n                ? active\r\n                : this.facets.length - 1;\r\n        }\r\n        else {\r\n            this.createDefaultFacetIfNotExist();\r\n        }\r\n    };\r\n    return ResultFacetsPanel;\r\n}(Widget));\r\nexport { ResultFacetsPanel };\r\n//# sourceMappingURL=result_facets_panel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\nimport { ExportDialog } from '../dialog/export_dialog';\r\nvar ExportWidget = /** @class */ (function (_super) {\r\n    __extends(ExportWidget, _super);\r\n    function ExportWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            defFormat: 'csv',\r\n            enableExport: true\r\n        };\r\n        _this.clickHandler = function (ev) {\r\n            if (!_this.slot.hasAttribute('disabled'))\r\n                new ExportDialog(_this.context).show(_this.options.defFormat);\r\n        };\r\n        _this.group = WidgetGroup.All;\r\n        return _this;\r\n    }\r\n    ExportWidget.prototype.getWidgetType = function () {\r\n        return 'exportWidget';\r\n    };\r\n    ExportWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.options = dataUtils.assignDeep(this.options, options);\r\n        this.slot.addEventListener('click', this.clickHandler);\r\n    };\r\n    ExportWidget.prototype.refreshCore = function () {\r\n        if (this.options.enableExport && this.context.resultTable\r\n            && this.context.resultTable.getCachedCount() > 0) {\r\n            this.slot.removeAttribute('disabled');\r\n        }\r\n        else {\r\n            this.slot.setAttribute('disabled', '');\r\n        }\r\n    };\r\n    ExportWidget.prototype.destroyCore = function () {\r\n        this.slot.removeAttribute('disabled');\r\n        this.slot.removeEventListener('click', this.clickHandler);\r\n    };\r\n    return ExportWidget;\r\n}(Widget));\r\nexport { ExportWidget };\r\n//# sourceMappingURL=export_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\nvar LocaleWidget = /** @class */ (function (_super) {\r\n    __extends(LocaleWidget, _super);\r\n    /**\r\n    * The default constructor.\r\n    * @param slot The html element.\r\n    */\r\n    function LocaleWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.changeLocale = function () {\r\n            var newLocale = _this.selectEl.value;\r\n            i18n.setCurrentLocale(newLocale);\r\n            _this.context.refreshWidgets(WidgetGroup.All);\r\n        };\r\n        _this.group = WidgetGroup.None;\r\n        return _this;\r\n    }\r\n    LocaleWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    LocaleWidget.prototype.getWidgetType = function () {\r\n        return 'changeLocale';\r\n    };\r\n    LocaleWidget.prototype.render = function () {\r\n        var locales = i18n.getLocales();\r\n        if (locales.length > 1) {\r\n            this.selectEl = document.createElement('select');\r\n            for (var _i = 0, locales_1 = locales; _i < locales_1.length; _i++) {\r\n                var locale = locales_1[_i];\r\n                var optionEl = document.createElement('option');\r\n                optionEl.value = locale.locale;\r\n                optionEl.innerHTML = this.displayLocaleName(locale);\r\n                this.selectEl.appendChild(optionEl);\r\n            }\r\n            this.selectEl.value = i18n.getCurrentLocale();\r\n            this.selectEl.classList.add('eqv-select');\r\n            this.selectEl.addEventListener('change', this.changeLocale);\r\n            this.slot.appendChild(this.selectEl);\r\n        }\r\n    };\r\n    LocaleWidget.prototype.displayLocaleName = function (locale) {\r\n        if (locale.englishName && locale.displayName) {\r\n            return locale.englishName + \" - \" + locale.displayName;\r\n        }\r\n        else if (locale.englishName) {\r\n            return locale.englishName;\r\n        }\r\n        else if (locale.displayName) {\r\n            return locale.displayName;\r\n        }\r\n        return locale.locale;\r\n    };\r\n    LocaleWidget.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    LocaleWidget.prototype.destroyCore = function () {\r\n        this.clear();\r\n    };\r\n    return LocaleWidget;\r\n}(Widget));\r\nexport { LocaleWidget };\r\n//# sourceMappingURL=locale_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\nimport { browserUtils } from '../utils/browser_utils';\r\n/**\r\n * The widget responsed for rendering the name of the current query.\r\n */\r\nvar QueryNameWidget = /** @class */ (function (_super) {\r\n    __extends(QueryNameWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The HTML element where our widget should be placed.\r\n     */\r\n    function QueryNameWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.queryEventCallbackId = null;\r\n        _this.group = WidgetGroup.Query | WidgetGroup.QueryStatus;\r\n        return _this;\r\n    }\r\n    QueryNameWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.destroyCore();\r\n        this.attachQueryObserver();\r\n    };\r\n    Object.defineProperty(QueryNameWidget.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-query-name';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    QueryNameWidget.prototype.getWidgetType = function () {\r\n        return 'queryName';\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    QueryNameWidget.prototype.refreshCore = function () {\r\n        this.render();\r\n    };\r\n    QueryNameWidget.prototype.render = function () {\r\n        this.slot.classList.add(\"\" + this.cssPrefix);\r\n        var mobClass = browserUtils.getMobileCssClass();\r\n        if (mobClass) {\r\n            this.slot.classList.add(mobClass);\r\n        }\r\n        if (!this.nameSlot) {\r\n            this.nameSlot = document.createElement('div');\r\n            this.nameSlot.classList.add(this.cssPrefix + \"-text\");\r\n            this.nameSlot.classList.add(this.cssPrefix + \"-theme\");\r\n            this.slot.appendChild(this.nameSlot);\r\n        }\r\n        if (!this.asteriskSlot) {\r\n            this.asteriskSlot = document.createElement('span');\r\n            this.asteriskSlot.innerHTML = \"*\";\r\n            this.asteriskSlot.classList.add(this.cssPrefix + \"-asterisk\");\r\n            this.slot.appendChild(this.asteriskSlot);\r\n        }\r\n        if (!this.tooltipSlot) {\r\n            this.tooltipSlot = document.createElement('span');\r\n            this.tooltipSlot.classList.add(this.cssPrefix + \"-tooltip\");\r\n            this.tooltipSlot.classList.add(this.cssPrefix + \"-theme\");\r\n            this.slot.appendChild(this.tooltipSlot);\r\n        }\r\n        // Update\r\n        var queryName = this.context.getQuery().getName();\r\n        this.nameSlot.textContent = queryName;\r\n        this.tooltipSlot.textContent = queryName;\r\n        this.asteriskSlot.style.visibility = this.context.getQuery().isModified() ? \"visible\" : \"hidden\";\r\n    };\r\n    QueryNameWidget.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n        this.nameSlot = null;\r\n        this.tooltipSlot = null;\r\n        this.asteriskSlot = null;\r\n    };\r\n    QueryNameWidget.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.context.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            _this.refreshCore();\r\n        });\r\n    };\r\n    QueryNameWidget.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.context.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    QueryNameWidget.prototype.destroyCore = function () {\r\n        this.clear();\r\n        this.detachQueryObserver();\r\n    };\r\n    return QueryNameWidget;\r\n}(Widget));\r\nexport { QueryNameWidget };\r\n//# sourceMappingURL=queryname_widget.js.map","import { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { EqContext, WidgetGroup } from '@easyquery/core';\r\nimport { DefaultDialogService, addElement, domel } from '@easydata/ui';\r\nimport { EasyGridWidget } from '../widgets/easy_grid_widget';\r\nimport { ChartJsWidget } from '../widgets/charts/chart_widget_chartjs';\r\nimport { EntitiesPanel } from '../widgets/entities_panel';\r\nimport { ColumnsPanel } from '../widgets/columns_panel';\r\nimport { ColumnsBar } from '../widgets/columns_bar';\r\nimport { LocaleWidget } from '../widgets/locale_widget';\r\nimport { QueryPanel } from '../widgets/query_panel';\r\nimport { ProcessWidget } from '../widgets/process_widget';\r\nimport { FilterBar } from '../widgets/filter_bar';\r\nimport { SortingBar } from '../widgets/sorting_bar';\r\nimport { QueryNameWidget } from '../widgets/queryname_widget';\r\nimport { StatementPanel } from '../widgets/statement_panel';\r\nimport { ResultFacetsPanel } from '../widgets/result_facets_panel';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { ExportWidget } from '../widgets/export_widget';\r\nvar View = /** @class */ (function () {\r\n    function View() {\r\n        this.domRoots = [document];\r\n        this.defaultViewOptions = {\r\n            enableExport: true,\r\n            disableConfirmationOnQueryChange: false,\r\n            queryFileExtensions: 'text/xml,application/json',\r\n            result: {\r\n                clearResultOnQueryChange: true,\r\n                showChart: true,\r\n                showProcessIndicator: true\r\n            },\r\n            widgets: {\r\n                resultGrid: {\r\n                    addColumns: false\r\n                }\r\n            }\r\n        };\r\n        this.resultOptions = {};\r\n        this.enableExport = false;\r\n        this.resetContext();\r\n        this.renderSpinner();\r\n        this.defaultErrorHandler = function (context, error) {\r\n            console.error(error.action + \": \" + error.text);\r\n            if (error.sourceError) {\r\n                console.error(error.sourceError);\r\n            }\r\n        };\r\n    }\r\n    View.prototype.resetContext = function () {\r\n        this.context = new EqContext();\r\n        this.context\r\n            .getServices()\r\n            .registerDialogServiceResolver(function () { return new DefaultDialogService(); });\r\n    };\r\n    View.prototype.init = function (options) {\r\n        // to support shadow DOM rendering\r\n        if (options && options.shadowRoots)\r\n            this.domRoots = this.domRoots.concat(options.shadowRoots);\r\n        options = this.initOptions(options);\r\n        this.initWidgets(options);\r\n        this.context.init(options);\r\n        this.initDone();\r\n    };\r\n    View.prototype.initDone = function () { };\r\n    View.prototype.initWidgets = function (options) {\r\n        var queryPanel = \"QueryPanel\";\r\n        var columnsPanel = \"ColumnsPanel\";\r\n        var entitiesPanel = \"EntitiesPanel\";\r\n        var resultPanel = \"ResultPanel\";\r\n        var columnsBar = \"ColumnsBar\";\r\n        var sortingBar = \"SortingBar\";\r\n        var filterBar = \"FilterBar\";\r\n        var processBar = \"ProcessBar\";\r\n        var statementPanel = \"StatementPanel\";\r\n        var changeLocale = \"ChangeLocale\";\r\n        var queryNameLabel = \"QueryNameLabel\";\r\n        var facetsPanel = \"ResultFacetsPanel\";\r\n        var resultCount = \"ResultCount\";\r\n        var exportButton = \"ExportButton\";\r\n        if (options.slots) {\r\n            queryNameLabel = options.slots.queryNameLabel || queryNameLabel;\r\n            queryPanel = options.slots.queryPanel || queryPanel;\r\n            columnsPanel = options.slots.columnsPanel || columnsPanel;\r\n            columnsBar = options.slots.columnsBar || columnsBar;\r\n            entitiesPanel = options.slots.entitiesPanel || entitiesPanel;\r\n            resultPanel = options.slots.resultPanel || resultPanel;\r\n            statementPanel = options.slots.statementPanel || statementPanel;\r\n            processBar = options.slots.processBar || processBar;\r\n            changeLocale = options.slots.changeLocale || changeLocale;\r\n            facetsPanel = options.slots.facetsPanel || facetsPanel;\r\n            resultCount = options.slots.resultCountSpan || resultCount;\r\n            filterBar = options.slots.filterBar || filterBar;\r\n            exportButton = options.slots.exportButtons || exportButton;\r\n        }\r\n        var epElement = this.resolveElement(entitiesPanel);\r\n        if (epElement && !this.entitiesPanelWidget) {\r\n            this.entitiesPanelWidget = this.createEntitiesPanelWidget(epElement);\r\n            this.context.addWidget(this.entitiesPanelWidget);\r\n        }\r\n        var cpElement = this.resolveElement(columnsPanel);\r\n        if (cpElement && !this.columnsPanelWidget) {\r\n            this.columnsPanelWidget = this.createColumnsPanelWidget(cpElement);\r\n            this.context.addWidget(this.columnsPanelWidget);\r\n        }\r\n        var cbElement = this.resolveElement(columnsBar);\r\n        if (cbElement && !this.columnsBarWidget) {\r\n            this.columnsBarWidget = this.createColumnsBarWidget(cbElement);\r\n            this.context.addWidget(this.columnsBarWidget);\r\n        }\r\n        var qpElement = this.resolveElement(queryPanel);\r\n        if (qpElement && !this.queryPanelWidget) {\r\n            this.queryPanelWidget = this.createQueryPanelWidget(qpElement);\r\n            this.context.addWidget(this.queryPanelWidget);\r\n        }\r\n        this.resultPanelSlot = this.resolveElement(resultPanel);\r\n        if (this.resultPanelSlot) {\r\n            if (!this.resultGridWidget) {\r\n                var gridPanel = addElement(this.resultPanelSlot, 'div', { cssClass: 'eqv-result-grid' });\r\n                this.resultGridWidget = this.createResultGridWidget(gridPanel);\r\n                this.context.addWidget(this.resultGridWidget);\r\n            }\r\n            if (this.resultOptions.showChart && !this.chartWidget) {\r\n                var chartPanel = addElement(this.resultPanelSlot, 'div', { cssClass: 'eqv-chart-panel' });\r\n                chartPanel.style.display = 'none';\r\n                this.chartWidget = this.createChartWidget(chartPanel);\r\n                this.context.addWidget(this.chartWidget);\r\n            }\r\n        }\r\n        var qnElement = this.resolveElement(queryNameLabel);\r\n        if (qnElement && !this.queryNameWidget) {\r\n            this.queryNameWidget = this.createQueryNameWidget(qnElement);\r\n            this.context.addWidget(this.queryNameWidget);\r\n        }\r\n        var fbElement = this.resolveElement(filterBar);\r\n        if (fbElement && !this.filterBarWidget) {\r\n            this.filterBarWidget = this.createFilterBarWidget(fbElement);\r\n            this.context.addWidget(this.filterBarWidget);\r\n        }\r\n        var sbElement = this.resolveElement(sortingBar);\r\n        if (sbElement && !this.sortingBarWidget) {\r\n            this.sortingBarWidget = this.createSortingBarWidget(sbElement);\r\n            this.context.addWidget(this.sortingBarWidget);\r\n        }\r\n        var pbElement = this.resolveElement(processBar);\r\n        if (pbElement && !this.processWidget) {\r\n            this.processWidget = this.createProcessWidget(pbElement);\r\n            this.context.addWidget(this.processWidget);\r\n        }\r\n        var stElement = this.resolveElement(statementPanel);\r\n        if (stElement && !this.statementPanelWidget) {\r\n            this.statementPanelWidget = this.createStatementPanelWidget(stElement);\r\n            this.context.addWidget(this.statementPanelWidget);\r\n        }\r\n        var clElement = this.resolveElement(changeLocale);\r\n        if (clElement) {\r\n            var widget = this.createLocaleWidget(clElement);\r\n            this.context.addWidget(widget);\r\n        }\r\n        var fpElement = this.resolveElement(facetsPanel);\r\n        if (fpElement && !this.resultFacetPanelWidget) {\r\n            this.resultFacetPanelWidget = this.createResultFacetsPanel(fpElement);\r\n            this.context.addWidget(this.resultFacetPanelWidget);\r\n        }\r\n        var ewElement = this.resolveElement(exportButton);\r\n        if (ewElement && !this.exportWidget) {\r\n            this.exportWidget = this.createExportWidget(ewElement);\r\n            this.context.addWidget(this.exportWidget);\r\n        }\r\n        this.resultCountSlot = this.resolveElement(resultCount);\r\n    };\r\n    View.prototype.resolveElement = function (elementOrId) {\r\n        if (typeof elementOrId === 'string') {\r\n            for (var _i = 0, _a = this.domRoots; _i < _a.length; _i++) {\r\n                var domRoot = _a[_i];\r\n                var el = domRoot.getElementById(elementOrId);\r\n                if (el)\r\n                    return el;\r\n            }\r\n            return null;\r\n        }\r\n        return elementOrId;\r\n    };\r\n    View.prototype.resolveElementsByClassName = function (className) {\r\n        var result = [];\r\n        for (var _i = 0, _a = this.domRoots; _i < _a.length; _i++) {\r\n            var domRoot = _a[_i];\r\n            var elemList = domRoot.querySelectorAll('.' + className);\r\n            for (var i = 0; i < elemList.length; i++) {\r\n                result.push(elemList[i]);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n    * Shows records count.\r\n    * @param count The value to show.\r\n    */\r\n    View.prototype.displayRecordsCount = function (count) {\r\n        if (this.resultCountSlot && (typeof count !== 'undefined')) {\r\n            this.resultCountSlot.style.display = \"inline\";\r\n            this.resultCountSlot.innerHTML = i18n.getText(\"MsgResultCount\").replace(\"{0}\", count.toString());\r\n        }\r\n    };\r\n    View.prototype.initOptions = function (options) {\r\n        if (options) {\r\n            options = dataUtils.assignDeep({}, this.defaultViewOptions, options);\r\n        }\r\n        else {\r\n            options = this.defaultViewOptions;\r\n        }\r\n        if (!options.handlers) {\r\n            options.handlers = {};\r\n        }\r\n        if (!options.handlers.onError) {\r\n            options.handlers.onError = this.defaultErrorHandler;\r\n        }\r\n        if (!options.widgets) {\r\n            options.widgets = {};\r\n        }\r\n        this.resultOptions = dataUtils.assignDeep(this.resultOptions, options.result);\r\n        if (typeof this.resultOptions.showProcessIndicator == 'undefined') {\r\n            this.resultOptions.showProcessIndicator = true;\r\n        }\r\n        else if (options.widgets.facetsPanel) {\r\n            options.widgets.facetsPanel.showProcessIndicator\r\n                = this.resultOptions.showProcessIndicator;\r\n        }\r\n        // support old format \r\n        if (!options.widgets.easyGrid) {\r\n            options.widgets.easyGrid = options.widgets.resultGrid || {};\r\n        }\r\n        options.widgets.easyGrid.paging =\r\n            dataUtils.assignDeep(this.resultOptions.paging, options.widgets.easyGrid.paging);\r\n        this.enableExport = options.enableExport || false;\r\n        if (!options.widgets.exportWidget) {\r\n            options.widgets.exportWidget = {};\r\n        }\r\n        options.widgets.exportWidget.enableExport = this.enableExport;\r\n        return options;\r\n    };\r\n    View.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    /**\r\n     * Sets dialog service for the view\r\n     * @param dialogService The dialog service.\r\n     */\r\n    View.prototype.setDialogService = function (dialogService) {\r\n        this.context.getServices()\r\n            .registerDialogServiceResolver(function () { return dialogService; });\r\n    };\r\n    /** @deprecated `executeQuery` is deprecated. Use `fetchData` instead*/\r\n    View.prototype.executeQuery = function (options) {\r\n        console.warn('`executeQuery` is deprecated. Use `fetchData` instead');\r\n        this.fetchData(options);\r\n    };\r\n    /**\r\n    * Fetches the data according to the query and other options defined in the context.\r\n    * @param options The options.\r\n    */\r\n    View.prototype.fetchData = function (options) {\r\n        var _this = this;\r\n        options = options || { refresh: true };\r\n        this.showResultSpinner();\r\n        this.context.fetchData({\r\n            options: {\r\n                page: options.page,\r\n                pageSize: options.pageSize\r\n            },\r\n            success: function (result) {\r\n                _this.hideResultSpinner();\r\n                _this.toggleExportButtons();\r\n                _this.displayRecordsCount(_this.context.resultTable.getTotal());\r\n                if (options.refresh === true) {\r\n                    _this.context.refreshWidgets(WidgetGroup.Result);\r\n                }\r\n                if (options.callback) {\r\n                    options.callback();\r\n                }\r\n                if (options.success) {\r\n                    options.success();\r\n                }\r\n            },\r\n            error: function () {\r\n                _this.hideResultSpinner();\r\n            }\r\n        });\r\n    };\r\n    View.prototype.toggleExportButtons = function () {\r\n        if (this.enableExport && this.context.resultTable\r\n            && this.context.resultTable.getCachedCount() > 0) {\r\n            this.enableExportButtons();\r\n        }\r\n        else {\r\n            this.disableExportButtons();\r\n        }\r\n    };\r\n    View.prototype.enableExportButtons = function () {\r\n        // Nothing to do\r\n    };\r\n    View.prototype.disableExportButtons = function () {\r\n        // Nothing to do\r\n    };\r\n    View.prototype.renderSpinner = function () {\r\n        var html = '<div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"></div></div>';\r\n        ;\r\n        this._spinnerDiv = domel('div')\r\n            .addClass(\"eqjs-result-spinner\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-progress-win8\", browserUtils.getMobileCssClass())\r\n            .addHtml(html); })\r\n            .toDOM();\r\n    };\r\n    View.prototype.showResultSpinner = function () {\r\n        if (this.resultOptions.showProcessIndicator && this.resultPanelSlot) {\r\n            if (!this._spinnerDiv.parentNode) {\r\n                for (var i = 0; i < this.resultPanelSlot.children.length; i++) {\r\n                    var el = this.resultPanelSlot.children[i];\r\n                    domel(el).hide();\r\n                }\r\n                this.resultPanelSlot.appendChild(this._spinnerDiv);\r\n            }\r\n        }\r\n    };\r\n    View.prototype.hideResultSpinner = function () {\r\n        if (this.resultOptions.showProcessIndicator && this.resultPanelSlot) {\r\n            if (this._spinnerDiv.parentNode) {\r\n                this._spinnerDiv.parentNode.removeChild(this._spinnerDiv);\r\n                for (var i = 0; i < this.resultPanelSlot.children.length; i++) {\r\n                    var el = this.resultPanelSlot.children[i];\r\n                    domel(el).show();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Creates the widget that represents Chart Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createChartWidget = function (slotElement) {\r\n        if (this.resultOptions.chartWidgetResolver) {\r\n            return this.resultOptions.chartWidgetResolver(slotElement);\r\n        }\r\n        else {\r\n            return new ChartJsWidget(slotElement);\r\n        }\r\n    };\r\n    /**\r\n    * Creates the widget that represents Grid Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createResultGridWidget = function (slotElement) {\r\n        if (this.resultOptions.resultGridResolver) {\r\n            return this.resultOptions.resultGridResolver(slotElement);\r\n        }\r\n        else {\r\n            return new EasyGridWidget(slotElement);\r\n        }\r\n    };\r\n    /**\r\n    * Creates the widget that represents Entity Panel.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createEntitiesPanelWidget = function (slot) {\r\n        return new EntitiesPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Columns Panel.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createColumnsPanelWidget = function (slot) {\r\n        return new ColumnsPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Query Panel.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createQueryPanelWidget = function (slot) {\r\n        return new QueryPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Locale Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createLocaleWidget = function (slot) {\r\n        return new LocaleWidget(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Process Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createProcessWidget = function (slot) {\r\n        return new ProcessWidget(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Columns Bar.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createColumnsBarWidget = function (slot) {\r\n        return new ColumnsBar(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Filter Bar.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createFilterBarWidget = function (slot) {\r\n        return new FilterBar(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Sorting Bar.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createSortingBarWidget = function (slot) {\r\n        return new SortingBar(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Query Name Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createQueryNameWidget = function (slot) {\r\n        return new QueryNameWidget(slot);\r\n    };\r\n    /**\r\n     * Creates the widget that represents Statement Panel Widget.\r\n     * @param slot\r\n     */\r\n    View.prototype.createStatementPanelWidget = function (slot) {\r\n        return new StatementPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Result Facets Panel Widget.\r\n    * @param slot\r\n    */\r\n    View.prototype.createResultFacetsPanel = function (slot) {\r\n        return new ResultFacetsPanel(slot);\r\n    };\r\n    /**\r\n     * Creates the widget that represents Export funcionality.\r\n     * @param slot\r\n     */\r\n    View.prototype.createExportWidget = function (slot) {\r\n        return new ExportWidget(slot);\r\n    };\r\n    View.prototype.detach = function () {\r\n        if (this.entitiesPanelWidget) {\r\n            this.entitiesPanelWidget.destroy();\r\n            this.entitiesPanelWidget = null;\r\n        }\r\n        if (this.columnsPanelWidget) {\r\n            this.columnsPanelWidget.destroy();\r\n            this.columnsPanelWidget = null;\r\n        }\r\n        if (this.queryPanelWidget) {\r\n            this.queryPanelWidget.destroy();\r\n            this.queryPanelWidget = null;\r\n        }\r\n        if (this.columnsBarWidget) {\r\n            this.columnsBarWidget.destroy();\r\n            this.columnsBarWidget = null;\r\n        }\r\n        if (this.resultGridWidget) {\r\n            this.resultGridWidget.destroy();\r\n            this.resultGridWidget = null;\r\n        }\r\n        if (this.chartWidget) {\r\n            this.chartWidget.destroy();\r\n            this.chartWidget = null;\r\n        }\r\n        if (this.queryNameWidget) {\r\n            this.queryNameWidget.destroy();\r\n            this.queryNameWidget = null;\r\n        }\r\n        if (this.processWidget) {\r\n            this.processWidget.destroy();\r\n            this.processWidget = null;\r\n        }\r\n        if (this.localeWidget) {\r\n            this.localeWidget.destroy();\r\n            this.localeWidget = null;\r\n        }\r\n        if (this.statementPanelWidget) {\r\n            this.statementPanelWidget.destroy();\r\n            this.statementPanelWidget = null;\r\n        }\r\n        if (this.filterBarWidget) {\r\n            this.filterBarWidget.destroy();\r\n            this.filterBarWidget = null;\r\n        }\r\n        if (this.sortingBarWidget) {\r\n            this.sortingBarWidget.destroy();\r\n            this.sortingBarWidget = null;\r\n        }\r\n        if (this.statementWidget) {\r\n            this.statementWidget.destroy();\r\n            this.statementWidget = null;\r\n        }\r\n        if (this.exportWidget) {\r\n            this.exportWidget.destroy();\r\n            this.exportWidget = null;\r\n        }\r\n        if (this.resultFacetPanelWidget) {\r\n            this.resultFacetPanelWidget.destroy();\r\n            this.resultFacetPanelWidget = null;\r\n        }\r\n        if (this.resultCountSlot) {\r\n            this.resultCountSlot.innerHTML = '';\r\n            this.resultCountSlot = null;\r\n        }\r\n        if (this.resultPanelSlot) {\r\n            this.resultPanelSlot.innerHTML = '';\r\n            this.resultPanelSlot = null;\r\n        }\r\n        this.domRoots = [document];\r\n        this.resetContext();\r\n    };\r\n    return View;\r\n}());\r\nexport { View };\r\n//# sourceMappingURL=view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { QueryChangePart, WidgetGroup } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { View } from '../views/view';\r\n/**\r\n * The EasyQuery client-side view that represents the UI for advanced search page\r\n */\r\nvar AdvancedSearchView = /** @class */ (function (_super) {\r\n    __extends(AdvancedSearchView, _super);\r\n    function AdvancedSearchView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.exportButtons = [];\r\n        // Name of the class to add to disabled elements.\r\n        _this.disabledClass = \"eqjs-disabled\";\r\n        _this.dropdownContainerClass = \"eqv-dropdown-container\";\r\n        _this.dropdownButtonClass = \"eqv-drop-button\";\r\n        _this.dropdownContentClass = \"eqv-dropdown-content\";\r\n        _this.dropdownShowClass = \"eqv-dropdown-show\";\r\n        _this._querySaveTemplate = \"<div id=\\\"kdlg-dialog-form\\\" class=\\\"kfrm-form\\\">\\n            <div class=\\\"kfrm-fields label-above\\\">\\n                <label for=\\\"kdlg-dialog-form-input\\\" id=\\\"kdlg-dialog-form-content\\\"></label>\\n                <input type=\\\"text\\\" name=\\\"kdlg-dialog-form-input\\\" id=\\\"kdlg-dialog-form-input\\\" />\\n            </div>\\n        </div>\";\r\n        _this.queryListMenu = null;\r\n        _this.fetchDataButtonClickHandler = _this.fetchDataButtonClick.bind(_this);\r\n        _this.clearQueryButtonClickHandler = _this.clearQueryButtonClick.bind(_this);\r\n        _this.newQueryButtonClickHandler = _this.newQueryButtonClick.bind(_this);\r\n        _this.loadQueryButtonClickHandler = _this.loadQueryButtonClick.bind(_this);\r\n        _this.saveQueryButtonClickHandler = _this.saveQueryButtonClick.bind(_this);\r\n        _this.copyQueryButtonClickHandler = _this.copyQueryButtonClick.bind(_this);\r\n        _this.removeQueryButtonClickHandler = _this.removeQueryButtonClick.bind(_this);\r\n        _this.storageButtonClickHandler = _this.storageDropButtonClick.bind(_this);\r\n        _this.saveQueryToFileButtonClickHandler = _this.saveQueryToFileButtonClick.bind(_this);\r\n        _this.loadQueryFromFileButtonClickHandler = _this.loadQueryFromFileButtonClick.bind(_this);\r\n        var self = _this;\r\n        _this.exportButtonClickHandler = function (e) {\r\n            if (!this.classList.contains(self.disabledClass)) {\r\n                var format = this.getAttribute(\"data-format\");\r\n                self.getContext().exportResult({ format: format });\r\n            }\r\n        };\r\n        _this.queryChangedHandler = function (ev) {\r\n            var eventData = ev.data;\r\n            if (_this.resultOptions.clearResultOnQueryChange) {\r\n                _this.context.clearResult();\r\n                _this.context.refreshWidgets(WidgetGroup.Result);\r\n            }\r\n            _this.disableExportButtons();\r\n            if (_this.resultCountSlot) {\r\n                _this.resultCountSlot.style.display = \"none\";\r\n            }\r\n            if (_this.options.syncQueryOnChange) {\r\n                _this.syncQuery();\r\n            }\r\n            // if (this.options.executeQueryOnChange) {\r\n            //     console.warn('`options.executeQueryOnChange` is deprecated. Use fetchDataOnChange instead');\r\n            //     this.options.fetchDataOnChange = true;\r\n            // }\r\n            if (_this.options.fetchDataOnChange) {\r\n                if (!eventData || eventData.part != QueryChangePart.ExtraData) {\r\n                    _this.fetchData();\r\n                }\r\n            }\r\n        };\r\n        _this.outsideClickHandler = function (event) {\r\n            var currentContent = null;\r\n            if (event.target.matches(\".\" + _this.dropdownButtonClass)) {\r\n                currentContent = event.target.parentElement.querySelector(\".\" + _this.dropdownContentClass);\r\n            }\r\n            else if (event.target.matches(\".\" + _this.dropdownButtonClass + \" > span\")) {\r\n                currentContent = event.target.parentElement.parentElement.querySelector(\".\" + _this.dropdownContentClass);\r\n            }\r\n            var dropdowns = _this.resolveElementsByClassName(_this.dropdownContentClass);\r\n            for (var i = 0; i < dropdowns.length; i++) {\r\n                var openDropdown = dropdowns[i];\r\n                if (currentContent != openDropdown) {\r\n                    if (openDropdown.classList.contains(_this.dropdownShowClass)) {\r\n                        openDropdown.classList.remove(_this.dropdownShowClass);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    AdvancedSearchView.prototype.refreshQueryList = function () {\r\n        var _this = this;\r\n        if (this.queryListPanel) {\r\n            this.queryListPanel.innerHTML = '';\r\n            this.context.loadQueryList({\r\n                success: function (data) {\r\n                    var b = domel('ul', _this.queryListPanel)\r\n                        .addClass('list-group list-group-flush');\r\n                    data.map(function (item) {\r\n                        b.addChild('li', function (b) {\r\n                            b.addClass('list-group-item')\r\n                                .setStyle('cursor', 'pointer')\r\n                                .data('id', item.id)\r\n                                .text(item.name)\r\n                                .on('click', function () {\r\n                                _this.checkIfQueryModified(function () { return _this.loadQuery(item.id); });\r\n                            });\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.initOptions = function (options) {\r\n        this.options = _super.prototype.initOptions.call(this, options);\r\n        if (typeof (this.options.syncQueryOnChange) == 'undefined') {\r\n            this.options.syncQueryOnChange = true;\r\n        }\r\n        var query = this.context.getQuery();\r\n        query.addChangedCallback(this.queryChangedHandler);\r\n        // hide any dropdown menu when user clicks somewhere\r\n        window.addEventListener('click', this.outsideClickHandler);\r\n        return this.options;\r\n    };\r\n    AdvancedSearchView.prototype.initWidgets = function (options) {\r\n        var _this = this;\r\n        _super.prototype.initWidgets.call(this, options);\r\n        var exportClass = \"eqjs-export\";\r\n        var queryContentInputId = \"QueryContentJson\";\r\n        var clearQueryButtonId = \"ClearQueryButton\";\r\n        var newQueryButtonId = \"NewQueryButton\";\r\n        var loadQueryButtonId = \"LoadQueryButton\";\r\n        var saveQueryButtonId = \"SaveQueryButton\";\r\n        var copyQueryButtonId = \"CopyQueryButton\";\r\n        var removeQueryButtonId = \"RemoveQueryButton\";\r\n        var storageButtonId = \"StorageDropButton\";\r\n        var fetchDataButtonId = \"FetchDataButton\";\r\n        var loadQueryFromFileButtonId = \"LoadQueryFromFileButton\";\r\n        var saveQueryToFileButtonId = \"SaveQueryToFileButton\";\r\n        var queryListPanelId = \"QueryListPanel\";\r\n        if (options.slots) {\r\n            queryContentInputId = options.slots.queryContentInput || queryContentInputId;\r\n            fetchDataButtonId = options.slots.fetchDataButton || fetchDataButtonId;\r\n            clearQueryButtonId = options.slots.clearQueryButton || clearQueryButtonId;\r\n            newQueryButtonId = options.slots.newQueryButton || newQueryButtonId;\r\n            loadQueryButtonId = options.slots.loadQueryButton || loadQueryButtonId;\r\n            saveQueryButtonId = options.slots.saveQueryButton || saveQueryButtonId;\r\n            copyQueryButtonId = options.slots.copyQueryButton || copyQueryButtonId;\r\n            removeQueryButtonId = options.slots.removeQueryButton || removeQueryButtonId;\r\n            storageButtonId = options.slots.storageButton || storageButtonId;\r\n            exportClass = options.slots.exportClass || exportClass;\r\n            loadQueryFromFileButtonId = options.slots.loadQueryFromFileButton || loadQueryFromFileButtonId;\r\n            saveQueryToFileButtonId = options.slots.saveQueryToFileButton || saveQueryToFileButtonId;\r\n            queryListPanelId = options.slots.queryListPanel || queryListPanelId;\r\n        }\r\n        this.exportButtons = this.domRoots.reduce(function (elems, root) {\r\n            return elems.concat(Array.from(root.querySelectorAll(\".\" + exportClass)));\r\n        }, []);\r\n        if (!options.enableExport) {\r\n            this.hideExportButtons();\r\n        }\r\n        this.disableExportButtons();\r\n        //Add event listener for export buttons\r\n        var self = this;\r\n        this.exportButtons.forEach(function (button) {\r\n            button.addEventListener('click', _this.exportButtonClickHandler);\r\n        });\r\n        if (!this.fetchDataButton) {\r\n            this.fetchDataButton = this.resolveElement(fetchDataButtonId);\r\n            if (!this.fetchDataButton) {\r\n                this.fetchDataButton = this.resolveElement('ExecuteQueryButton'); //deprecated, should be removed on the next major update\r\n            }\r\n            if (this.fetchDataButton) {\r\n                this.fetchDataButton.addEventListener('click', this.fetchDataButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.clearQueryButton) {\r\n            this.clearQueryButton = this.resolveElement(clearQueryButtonId);\r\n            if (this.clearQueryButton) {\r\n                this.clearQueryButton.addEventListener('click', this.clearQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.newQueryButton) {\r\n            this.newQueryButton = this.resolveElement(newQueryButtonId);\r\n            if (this.newQueryButton) {\r\n                this.newQueryButton.addEventListener('click', this.newQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.loadQueryButton) {\r\n            this.loadQueryButton = this.resolveElement(loadQueryButtonId);\r\n            if (this.loadQueryButton) {\r\n                this.loadQueryButton.addEventListener('click', this.loadQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.saveQueryButton) {\r\n            this.saveQueryButton = this.resolveElement(saveQueryButtonId);\r\n            if (this.saveQueryButton) {\r\n                this.saveQueryButton.addEventListener('click', this.saveQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.copyQueryButton) {\r\n            this.copyQueryButton = this.resolveElement(copyQueryButtonId);\r\n            if (this.copyQueryButton) {\r\n                this.copyQueryButton.addEventListener('click', this.copyQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.removeQueryButton) {\r\n            this.removeQueryButton = this.resolveElement(removeQueryButtonId);\r\n            if (this.removeQueryButton) {\r\n                this.removeQueryButton.addEventListener('click', this.removeQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.storageDropButton) {\r\n            this.storageDropButton = this.resolveElement(storageButtonId);\r\n            if (this.storageDropButton) {\r\n                this.storageDropButton.addEventListener('click', this.storageButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.saveQueryToFileButton) {\r\n            this.saveQueryToFileButton = this.resolveElement(saveQueryToFileButtonId);\r\n            if (this.saveQueryToFileButton) {\r\n                this.saveQueryToFileButton.addEventListener('click', this.saveQueryToFileButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.queryListPanel) {\r\n            this.queryListPanel = this.resolveElement(queryListPanelId);\r\n            //For backward compatibility. Remove on the next update\r\n            if (!this.queryListPanel) {\r\n                this.queryListPanel = this.resolveElement('QueryListSlot');\r\n            }\r\n            if (this.queryListPanel) {\r\n                this.context.addEventListener('ready', function () {\r\n                    _this.refreshQueryList();\r\n                });\r\n            }\r\n        }\r\n        if (!this.loadQueryFromFileButton) {\r\n            this.loadQueryFromFileButton = this.resolveElement(loadQueryFromFileButtonId);\r\n            if (this.loadQueryFromFileButton) {\r\n                this.loadQueryFromFileInput = document.createElement('input');\r\n                this.loadQueryFromFileInput.type = 'file';\r\n                this.loadQueryFromFileInput.accept = options.queryFileExtensions;\r\n                this.loadQueryFromFileInput.style.display = 'none';\r\n                document.body.appendChild(this.loadQueryFromFileInput);\r\n                this.loadQueryFromFileInput.addEventListener('change', this.loadQueryFromFileInputSelect.bind(this));\r\n                this.loadQueryFromFileButton.addEventListener('click', this.loadQueryFromFileButtonClickHandler);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Sends current query to the backend.\r\n    */\r\n    AdvancedSearchView.prototype.syncQuery = function () {\r\n        var _this = this;\r\n        this.context.syncQuery({\r\n            success: function (responseData) {\r\n                if (responseData.statement) {\r\n                    _this.context.refreshWidgets(WidgetGroup.Statement);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Disables export buttons.\r\n    */\r\n    AdvancedSearchView.prototype.disableExportButtons = function () {\r\n        var _this = this;\r\n        this.exportButtons.forEach(function (button) {\r\n            button.disabled = true;\r\n            if (!button.classList.contains(_this.disabledClass)) {\r\n                button.classList.add(_this.disabledClass);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Enables export buttons.\r\n    */\r\n    AdvancedSearchView.prototype.enableExportButtons = function () {\r\n        var _this = this;\r\n        this.exportButtons.forEach(function (button) {\r\n            button.disabled = false;\r\n            if (button.classList.contains(_this.disabledClass)) {\r\n                button.classList.remove(_this.disabledClass);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Hides export buttons.\r\n    */\r\n    AdvancedSearchView.prototype.hideExportButtons = function () {\r\n        this.exportButtons.forEach(function (button) {\r\n            button.style.display = \"none\";\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.clearQueryButtonClick = function () {\r\n        this.context.clearQuery();\r\n        this.context.refreshWidgets(WidgetGroup.Statement);\r\n    };\r\n    AdvancedSearchView.prototype.createNewQuery = function (options) {\r\n        return this.context.newQuery(options);\r\n    };\r\n    AdvancedSearchView.prototype.loadQuery = function (queryId) {\r\n        if (!queryId)\r\n            return;\r\n        this.context.loadQuery({\r\n            queryId: queryId,\r\n            silent: false\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveQuery = function (success, error) {\r\n        var _this = this;\r\n        this.context.saveQuery({\r\n            success: function () {\r\n                if (success)\r\n                    success();\r\n                _this.context.getQuery().fireChangedEvent({\r\n                    part: QueryChangePart.Properties,\r\n                    wasModified: false\r\n                });\r\n                _this.refreshQueryList();\r\n            },\r\n            error: error\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveCurrentQuery = function (copyQuery, callback) {\r\n        var _this = this;\r\n        if (copyQuery === void 0) { copyQuery = false; }\r\n        var query = this.context.getQuery();\r\n        if (query.isNewbie || copyQuery) {\r\n            this.showSaveQueryDialog(function (result) { return new Promise(function (resolve) {\r\n                if (!result)\r\n                    return;\r\n                query.regenerateId();\r\n                query.setName(result);\r\n                query.fireChangedEvent({\r\n                    part: QueryChangePart.Properties,\r\n                    wasModified: true\r\n                });\r\n                _this.saveQuery(function () { resolve({ success: true }); callback; }, function (error) { return resolve({ success: false, message: error }); });\r\n            }); });\r\n        }\r\n        else {\r\n            this.saveQuery(callback);\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.checkIfQueryModified = function (callback) {\r\n        var _this = this;\r\n        if (this.context.getQuery().isModified()\r\n            && !this.options.disableConfirmationOnQueryChange) {\r\n            this.showQueryChangedDialog(function (result) {\r\n                if (result) {\r\n                    _this.saveCurrentQuery(false, callback);\r\n                }\r\n                else {\r\n                    callback();\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            callback();\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.removeCurrentQuery = function () {\r\n        var _this = this;\r\n        this.context.removeQuery({\r\n            success: function () {\r\n                _this.createNewQuery({\r\n                    useStorage: false\r\n                });\r\n                if (_this.resultCountSlot) {\r\n                    _this.resultCountSlot.style.display = \"none\";\r\n                }\r\n                _this.context.clearResult();\r\n                _this.refreshQueryList();\r\n            }\r\n        });\r\n    };\r\n    // ------------------ Dialog wrappers ---------------------\r\n    AdvancedSearchView.prototype.showNewQueryDialog = function (callback) {\r\n        var ds = this.context.getServices().getDialogService();\r\n        var defVal = i18n.getText('NewQueryDefName');\r\n        var dlg = ds.open({\r\n            title: i18n.getText('NewQueryTitle'),\r\n            body: this._querySaveTemplate,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                if (defVal) {\r\n                    input.value = defVal;\r\n                }\r\n                var content = document.getElementById('kdlg-dialog-form-content');\r\n                content.innerHTML = i18n.getText('NewQueryContent');\r\n                input.focus();\r\n            },\r\n            onSubmit: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                var value = input.value;\r\n                if (value && value.replace(/\\s/g, '').length > 0) {\r\n                    if (!callback)\r\n                        return true;\r\n                    dlg.disableButtons();\r\n                    var header_1 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_1 = domel('div', header_1)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    callback(value)\r\n                        .then(function (result) {\r\n                        header_1.removeChild(processEl_1);\r\n                        dlg.enableButtons();\r\n                        if (result.success) {\r\n                            dlg.close();\r\n                        }\r\n                        else {\r\n                            dlg.showAlert(result.message, 'error');\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.showQueryChangedDialog = function (callback) {\r\n        var ds = this.context.getServices().getDialogService();\r\n        ds.openConfirm(i18n.getText('QueryChangedTitle'), i18n.getText('QueryChangedContent'), callback);\r\n    };\r\n    AdvancedSearchView.prototype.showSaveQueryDialog = function (callback) {\r\n        var ds = this.context.getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        var newQueryName = query.isNewbie\r\n            ? query.getName()\r\n            : i18n.getText('SaveQueryDefName').replace('{queryName}', query.getName());\r\n        var dlg = ds.open({\r\n            title: i18n.getText('SaveQueryTitle'),\r\n            body: this._querySaveTemplate,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                input.value = newQueryName;\r\n                var content = document.getElementById('kdlg-dialog-form-content');\r\n                content.innerHTML = i18n.getText('SaveQueryContent');\r\n                input.focus();\r\n            },\r\n            onSubmit: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                var value = input.value;\r\n                if (value && value.replace(/\\s/g, '').length > 0) {\r\n                    if (!callback)\r\n                        return true;\r\n                    dlg.disableButtons();\r\n                    var header_2 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_2 = domel('div', header_2)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    callback(value)\r\n                        .then(function (result) {\r\n                        dlg.enableButtons();\r\n                        header_2.removeChild(processEl_2);\r\n                        if (result.success) {\r\n                            dlg.close();\r\n                        }\r\n                        else {\r\n                            dlg.showAlert(result.message, 'error');\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.showRemoveQueryDialog = function (callback) {\r\n        var ds = this.context.getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        ds.openConfirm(i18n.getText('RemoveQueryTitle'), i18n.getText('RemoveQueryContent').replace('{queryName}', query.getName()), callback);\r\n    };\r\n    AdvancedSearchView.prototype.showSaveQueryToFileDialog = function (callback) {\r\n        var ds = this.getContext().getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        var body = this.renderSaveToFileDialogBody(query.getName());\r\n        var dlg = ds.open({\r\n            title: i18n.getText('SaveQueryToFileDlgTitle'),\r\n            body: body,\r\n            onSubmit: function () {\r\n                var fileNameInput = body.querySelector('#kdlgFileNameInput');\r\n                var fileName = fileNameInput ? fileNameInput.value : \"Query\";\r\n                var formatSelector = body.querySelector('#kdlgFileFormatSelector');\r\n                var format = formatSelector ? formatSelector.value : 'json';\r\n                if (callback) {\r\n                    dlg.disableButtons();\r\n                    var header_3 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_3 = domel('div', header_3)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    callback(fileName, format)\r\n                        .then(function (result) {\r\n                        dlg.enableButtons();\r\n                        header_3.removeChild(processEl_3);\r\n                        if (result.success) {\r\n                            dlg.close();\r\n                        }\r\n                        else {\r\n                            dlg.showAlert(result.message, 'error');\r\n                        }\r\n                    });\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.renderSaveToFileDialogBody = function (name, format) {\r\n        if (format === void 0) { format = \"json\"; }\r\n        var isIE = browserUtils.IsIE();\r\n        var fieldsClass = isIE\r\n            ? 'kfrm-fields-ie col-ie-1-4 label-align-right'\r\n            : 'kfrm-fields col-a-1 label-align-right';\r\n        var horizClass = isIE\r\n            ? 'kfrm-fields-ie is-horizontal'\r\n            : 'kfrm-fields is-horizontal';\r\n        return domel('div')\r\n            .addClass('kfrm-form')\r\n            .addChild('div', function (b) {\r\n            b.addClass(fieldsClass)\r\n                .addChild('label', function (b) { return b\r\n                .attr('for', 'file_name')\r\n                .addText(i18n.getText('FileNameLabel')); })\r\n                .addChild('div', function (b) { return b\r\n                .addClass(horizClass)\r\n                .addChild('input', function (b) { return b\r\n                .id('kdlgFileNameInput')\r\n                .name('file_name')\r\n                .type('text')\r\n                .attr('value', name); })\r\n                .addChild('label', function (b) { return b\r\n                .addText('.'); })\r\n                .addChild('div', function (b) { return b\r\n                .addClass('kfrm-select')\r\n                .addChild('select', function (b) { return b\r\n                .id('kdlgFileFormatSelector')\r\n                .addClass('kdlg-form-control')\r\n                .addOption({\r\n                value: 'xml',\r\n                selected: 'xml' === format\r\n            })\r\n                .addOption({\r\n                value: 'json',\r\n                selected: 'json' === format\r\n            }); }); }); });\r\n        })\r\n            .toDOM();\r\n    };\r\n    // ------------------ Query management buttons handler ---------------------\r\n    AdvancedSearchView.prototype.newQueryButtonClick = function () {\r\n        var _this = this;\r\n        this.checkIfQueryModified(function () {\r\n            _this.createNewQuery();\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveQueryToFileButtonClick = function () {\r\n        var _this = this;\r\n        this.showSaveQueryToFileDialog(function (fileName, format) { return new Promise(function (resolve) {\r\n            _this.context.getQueryFile({\r\n                fileName: fileName,\r\n                format: format,\r\n                success: function () { return resolve({ success: true }); },\r\n                error: function (error) { return resolve({ success: false, message: error }); }\r\n            });\r\n        }); });\r\n    };\r\n    AdvancedSearchView.prototype.loadQueryFromFileButtonClick = function () {\r\n        var _this = this;\r\n        this.checkIfQueryModified(function () {\r\n            _this.showLoadQueryFromFileDialog();\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.showLoadQueryFromFileDialog = function () {\r\n        this.loadQueryFromFileInput.click();\r\n    };\r\n    AdvancedSearchView.prototype.loadQueryFromFileInputSelect = function () {\r\n        var _this = this;\r\n        var files = this.loadQueryFromFileInput.files;\r\n        var file = files.item(0);\r\n        var data = new FormData();\r\n        data.append(file.name, file);\r\n        this.loadQueryFromFileInput.value = \"\";\r\n        this.context.uploadQueryFile({\r\n            data: data,\r\n            success: function () {\r\n                _this.syncQuery();\r\n                _this.refreshQueryList();\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.loadQueryButtonClick = function () {\r\n        var _this = this;\r\n        this.context.loadQueryList({\r\n            success: function (data) {\r\n                _this.fillLoadQueryButtonMenu(data);\r\n                _this.queryListMenu.showMenu({\r\n                    anchor: _this.loadQueryButton,\r\n                    adjustHeight: false,\r\n                    itemSelectedCallback: function (data) {\r\n                        _this.checkIfQueryModified(function () { return _this.loadQuery(data.id); });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.fillLoadQueryButtonMenu = function (queryList) {\r\n        var query = this.getContext().getQuery();\r\n        this.queryListMenu = new PopupMenu({\r\n            items: queryList.map(function (item) { return ({ id: item.id, text: item.name }); }),\r\n            selectedIds: query.getId()\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveQueryButtonClick = function () {\r\n        this.saveCurrentQuery();\r\n    };\r\n    AdvancedSearchView.prototype.copyQueryButtonClick = function () {\r\n        this.saveCurrentQuery(true);\r\n    };\r\n    AdvancedSearchView.prototype.removeQueryButtonClick = function () {\r\n        var _this = this;\r\n        this.showRemoveQueryDialog(function (result) {\r\n            if (result) {\r\n                _this.removeCurrentQuery();\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.storageDropButtonClick = function () {\r\n        var _this = this;\r\n        var container = this.storageDropButton.parentElement;\r\n        var content = container.querySelector(\".\" + this.dropdownContentClass);\r\n        if (content) {\r\n            window.setTimeout(function () { return content.classList.toggle(_this.dropdownShowClass); }, 100);\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.fetchDataButtonClick = function () {\r\n        this.fetchData();\r\n    };\r\n    AdvancedSearchView.prototype.detach = function () {\r\n        var _this = this;\r\n        this.enableExportButtons();\r\n        this.exportButtons.forEach(function (button) {\r\n            button.removeEventListener('click', _this.exportButtonClickHandler);\r\n        });\r\n        this.exportButtons = [];\r\n        if (this.fetchDataButton) {\r\n            this.fetchDataButton.removeEventListener('click', this.fetchDataButtonClickHandler);\r\n            this.fetchDataButton = null;\r\n        }\r\n        if (this.clearQueryButton) {\r\n            this.clearQueryButton.removeEventListener('click', this.clearQueryButtonClickHandler);\r\n            this.clearQueryButton = null;\r\n        }\r\n        if (this.newQueryButton) {\r\n            this.newQueryButton.removeEventListener('click', this.newQueryButtonClickHandler);\r\n            this.newQueryButton = null;\r\n        }\r\n        if (this.loadQueryButton) {\r\n            this.loadQueryButton.removeEventListener('click', this.loadQueryButtonClickHandler);\r\n            this.loadQueryButton = null;\r\n        }\r\n        if (this.saveQueryButton) {\r\n            this.saveQueryButton.removeEventListener('click', this.saveQueryButtonClickHandler);\r\n            this.saveQueryButton = null;\r\n        }\r\n        if (this.copyQueryButton) {\r\n            this.copyQueryButton.removeEventListener('click', this.copyQueryButtonClickHandler);\r\n            this.copyQueryButton = null;\r\n        }\r\n        if (this.removeQueryButton) {\r\n            this.removeQueryButton.removeEventListener('click', this.removeQueryButtonClickHandler);\r\n            this.removeQueryButton = null;\r\n        }\r\n        if (this.storageDropButton) {\r\n            this.storageDropButton.removeEventListener('click', this.storageButtonClickHandler);\r\n            this.storageDropButton = null;\r\n        }\r\n        if (this.saveQueryToFileButton) {\r\n            this.saveQueryToFileButton.removeEventListener('click', this.saveQueryToFileButtonClickHandler);\r\n            this.saveQueryToFileButton = null;\r\n        }\r\n        if (this.queryListPanel) {\r\n            this.queryListPanel = null;\r\n        }\r\n        if (this.loadQueryFromFileButton) {\r\n            if (this.loadQueryFromFileInput) {\r\n                document.body.removeChild(this.loadQueryFromFileInput);\r\n            }\r\n            this.loadQueryFromFileButton.removeEventListener('click', this.loadQueryFromFileButtonClickHandler);\r\n            this.loadQueryFromFileButton = null;\r\n        }\r\n        _super.prototype.detach.call(this);\r\n    };\r\n    return AdvancedSearchView;\r\n}(View));\r\nexport { AdvancedSearchView };\r\n//left for backward compatibility\r\nvar AdvancedSearchViewJQuery = /** @class */ (function (_super) {\r\n    __extends(AdvancedSearchViewJQuery, _super);\r\n    function AdvancedSearchViewJQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return AdvancedSearchViewJQuery;\r\n}(AdvancedSearchView));\r\nexport { AdvancedSearchViewJQuery };\r\n//# sourceMappingURL=adv_search_view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { QueryChangePart } from '@easyquery/core';\r\nimport { View } from './view';\r\n/**\r\n * The view that represents a data-filtering scenario (a text search for one entity/table)\r\n */\r\nvar DataFilterView = /** @class */ (function (_super) {\r\n    __extends(DataFilterView, _super);\r\n    function DataFilterView() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DataFilterView.prototype.initOptions = function (options) {\r\n        var _this = this;\r\n        options = _super.prototype.initOptions.call(this, options);\r\n        var query = this.context.getQuery();\r\n        query.addChangedCallback(function () {\r\n            if (_this.resultOptions.clearResultOnQueryChange) {\r\n                _this.context.clearResult();\r\n            }\r\n            if (options.syncQueryOnChange) {\r\n                _this.context.syncQuery();\r\n            }\r\n        });\r\n        this.context.addEventListener('ready', this.fetchData.bind(this));\r\n        return options;\r\n    };\r\n    DataFilterView.prototype.initWidgets = function (options) {\r\n        var _this = this;\r\n        _super.prototype.initWidgets.call(this, options);\r\n        if (this.sortingBarWidget) {\r\n            this.context.getQuery().addChangedCallback(function (ev) {\r\n                var edata = ev.data;\r\n                if (!edata || (edata.part != QueryChangePart.SortingColumns\r\n                    && edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                    return;\r\n                }\r\n                _this.fetchData();\r\n            });\r\n        }\r\n        if (this.filterBarWidget) {\r\n            var widgetType = this.filterBarWidget.getWidgetType();\r\n            options.widgets[widgetType] = options.widgets[widgetType] = {};\r\n            if (!options.widgets[widgetType].applyFilterCallback) {\r\n                options.widgets[widgetType].applyFilterCallback = function () {\r\n                    _this.fetchData();\r\n                };\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Obsolete. Left for backward compatibility.\r\n     * Use fetchData() instead\r\n     * @deprecated Use `fetchData()`\r\n     */\r\n    DataFilterView.prototype.applyQueryFilter = function () {\r\n        console.warn('applyQueryFilter is obsolete. Use fetchData instead');\r\n        this.fetchData();\r\n    };\r\n    return DataFilterView;\r\n}(View));\r\nexport { DataFilterView };\r\n//left for backward compatibility\r\nvar DataFilterViewJQuery = /** @class */ (function (_super) {\r\n    __extends(DataFilterViewJQuery, _super);\r\n    function DataFilterViewJQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return DataFilterViewJQuery;\r\n}(DataFilterView));\r\nexport { DataFilterViewJQuery };\r\n//# sourceMappingURL=data_filter_view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EqHtmlGrid } from \"../widgets/eq_result_html_grid\";\r\nimport { DataFilterView } from \"./data_filter_view\";\r\n/**\r\n * The EasyQuery client-side view that represents the UI for data filtering page\r\n */\r\nvar HtmlDataFilterView = /** @class */ (function (_super) {\r\n    __extends(HtmlDataFilterView, _super);\r\n    function HtmlDataFilterView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n    * Creates the widget that represents Grid Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    HtmlDataFilterView.prototype.createResultGridWidget = function (element) {\r\n        return new EqHtmlGrid(element);\r\n    };\r\n    /**\r\n     * Obsolete. Left for backward compatibility.\r\n     * Use fetchData() instead\r\n     */\r\n    HtmlDataFilterView.prototype.applyQueryFilter = function () {\r\n        console.warn('applyQueryFilter is obsolete. Use fetchData instead');\r\n        this.fetchData();\r\n    };\r\n    return HtmlDataFilterView;\r\n}(DataFilterView));\r\nexport { HtmlDataFilterView };\r\n//# sourceMappingURL=html_data_filter_view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { WidgetGroup, QueryChangePart } from '@easyquery/core';\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { View } from './view';\r\n/**\r\n * The view that represents the \"ad-hoc reporting\" scenario\r\n */\r\nvar ReportView = /** @class */ (function (_super) {\r\n    __extends(ReportView, _super);\r\n    function ReportView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.reports = [];\r\n        _this.reportCache = [];\r\n        _this.exportButtons = [];\r\n        _this.exportClass = \"eqjs-export\";\r\n        _this.disabledClass = \"eqjs-disabled\";\r\n        _this.enableExport = false;\r\n        _this.useReportCache = true;\r\n        _this._reportSaveTemplate = \"<div id=\\\"kdlg-dialog-form\\\" class=\\\"kfrm-form\\\">\\n            <div class=\\\"kfrm-fields label-above\\\">\\n                <label for=\\\"kdlg-dialog-form-input\\\" id=\\\"kdlg-dialog-form-content\\\"></label>\\n                <input type=\\\"text\\\" name=\\\"kdlg-dialog-form-input\\\" id=\\\"kdlg-dialog-form-input\\\" />\\n            </div>\\n        </div>\";\r\n        var self = _this;\r\n        _this.exportButtonClickHandler = function (e) {\r\n            if (!this.classList.contains(self.disabledClass)) {\r\n                var format = this.getAttribute(\"data-format\");\r\n                self.getContext().exportResult({ format: format });\r\n            }\r\n        };\r\n        _this.clearReportButtonClickHandler = _this.clearReportButtonClick.bind(_this);\r\n        _this.newReportButtonClickHandler = _this.newReportButtonClick.bind(_this);\r\n        _this.loadReportButtonClickHandler = _this.loadReportButtonClick.bind(_this);\r\n        _this.saveReportButtonClickHandler = _this.saveReportButtonClick.bind(_this);\r\n        _this.removeReportButtonClickHandler = _this.removeReportButtonClick.bind(_this);\r\n        _this.updateReportButtonClickHandler = _this.updateReportButtonClick.bind(_this);\r\n        browserUtils.onMobileModeChanged(function (_) {\r\n            document.location.reload();\r\n        });\r\n        return _this;\r\n    }\r\n    ReportView.prototype.initOptions = function (options) {\r\n        var _this = this;\r\n        options = _super.prototype.initOptions.call(this, options);\r\n        if (typeof (options.syncReportOnChange) === \"undefined\") {\r\n            options.syncReportOnChange = true;\r\n        }\r\n        if (typeof (options.syncQueryOnChange) == \"undefined\") {\r\n            options.syncQueryOnChange = options.syncReportOnChange;\r\n        }\r\n        if (typeof (options.useReportCache) !== \"undefined\") {\r\n            this.useReportCache = options.useReportCache;\r\n        }\r\n        this.defaultReportId = options.defaultReportId;\r\n        var query = this.context.getQuery();\r\n        query.addChangedCallback(function (event) {\r\n            var eventData = event.data;\r\n            if (eventData) {\r\n                if (eventData.changeType == \"query.switched\") {\r\n                    _this.context.refreshWidgets(WidgetGroup.Query);\r\n                }\r\n                else {\r\n                    _this.disableExportButtons();\r\n                    if (_this.resultCountSlot) {\r\n                        _this.resultCountSlot.style.display = \"none\";\r\n                    }\r\n                }\r\n            }\r\n            if (options.syncQueryOnChange) {\r\n                var needSync = eventData && eventData.changeType != \"query.switched\" && !eventData.noSync;\r\n                if (needSync) {\r\n                    _this.syncReport();\r\n                }\r\n            }\r\n            //clear dataset result on query change\r\n            if (_this.resultOptions.clearResultOnQueryChange) {\r\n                if (!eventData\r\n                    || eventData.changeType == \"query.switched\"\r\n                    || eventData.part == QueryChangePart.ExtraData) {\r\n                    return;\r\n                }\r\n                _this.context.clearResult();\r\n                _this.context.refreshWidgets(WidgetGroup.Result);\r\n            }\r\n        });\r\n        return options;\r\n    };\r\n    ReportView.prototype.initDone = function () {\r\n        var _this = this;\r\n        _super.prototype.initDone.call(this);\r\n        window.setTimeout(function () {\r\n            _this.context.loadQueryList({\r\n                success: function (data) {\r\n                    if (Array.isArray(data)) {\r\n                        _this.reports = data;\r\n                        var exists = _this.reports.filter(function (r) { return r.id == _this.defaultReportId; }).length > 0;\r\n                        if (exists) {\r\n                            _this.renderReportList({ reportId: _this.defaultReportId });\r\n                        }\r\n                        else {\r\n                            _this.renderReportList();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }, 100);\r\n    };\r\n    ReportView.prototype.initWidgets = function (options) {\r\n        var _this = this;\r\n        _super.prototype.initWidgets.call(this, options);\r\n        var clearReportButton = \"ClearReportButton\";\r\n        var newReportButton = \"NewReportButton\";\r\n        var loadReportButton = \"LoadReportButton\";\r\n        var saveReportButton = \"SaveReportButton\";\r\n        var removeReportButton = \"RemoveReportButton\";\r\n        var updateReportButton = \"UpdateReportButton\";\r\n        var resultCountSpan = \"ResultCount\";\r\n        var exportButtons = \"ResultExportButtons\";\r\n        var exportClass = this.exportClass;\r\n        if (options.slots) {\r\n            resultCountSpan = options.slots.resultCountSpan || resultCountSpan;\r\n            exportButtons = options.slots.exportButtons || exportButtons;\r\n            clearReportButton = options.slots.clearReportButton || clearReportButton;\r\n            newReportButton = options.slots.newReportButton || newReportButton;\r\n            loadReportButton = options.slots.loadReportButton || loadReportButton;\r\n            saveReportButton = options.slots.saveReportButton || saveReportButton;\r\n            removeReportButton = options.slots.removeReportButton || removeReportButton;\r\n            updateReportButton = options.slots.updateReportButton || updateReportButton;\r\n            exportClass = options.slots.exportClass || exportClass;\r\n        }\r\n        this.exportButtons = this.domRoots.reduce(function (elems, root) {\r\n            return elems.concat(Array.from(root.querySelectorAll(\".\" + exportClass)));\r\n        }, []);\r\n        this.enableExport = options.enableExport;\r\n        if (this.enableExport) {\r\n            //Add event listener for export buttons\r\n            this.exportButtons.forEach(function (button) {\r\n                button.addEventListener('click', _this.exportButtonClickHandler);\r\n            });\r\n        }\r\n        else {\r\n            this.hideExportButtons();\r\n        }\r\n        this.exportButtonsContainer = this.resolveElement(exportButtons);\r\n        if (!this.clearReportButton) {\r\n            this.clearReportButton = this.resolveElement(clearReportButton);\r\n            if (this.clearReportButton) {\r\n                this.clearReportButton.addEventListener('click', this.clearReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.newReportButton) {\r\n            this.newReportButton = this.resolveElement(newReportButton);\r\n            if (this.newReportButton) {\r\n                this.newReportButton.addEventListener('click', this.newReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.loadReportButton) {\r\n            this.loadReportButton = this.resolveElement(loadReportButton);\r\n            if (this.loadReportButton) {\r\n                this.loadReportButton.addEventListener('click', this.loadReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!saveReportButton) {\r\n            this.saveReportButton = this.resolveElement(saveReportButton);\r\n            if (this.saveReportButton) {\r\n                this.saveReportButton.addEventListener('click', this.saveReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.removeReportButton) {\r\n            this.removeReportButton = this.resolveElement(removeReportButton);\r\n            if (this.removeReportButton) {\r\n                this.removeReportButton.addEventListener('click', this.removeReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.updateReportButton) {\r\n            this.updateReportButton = this.resolveElement(updateReportButton);\r\n            if (this.updateReportButton) {\r\n                this.updateReportButton.addEventListener('click', this.updateReportButtonClickHandler);\r\n            }\r\n        }\r\n        this.reportListSlot = document.getElementById('ReportList');\r\n        this.resultCountSlot = this.resolveElement(resultCountSpan);\r\n    };\r\n    /**\r\n    * Creates a new report.\r\n    */\r\n    ReportView.prototype.newReport = function () {\r\n        var _this = this;\r\n        var ds = this.context.getServices().getDialogService();\r\n        var dlg = ds.open({\r\n            title: i18n.getText('NewReportDlgTitle'),\r\n            body: this._reportSaveTemplate,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                input.value = i18n.getText('NewReportDefName');\r\n                var content = document.getElementById('kdlg-dialog-form-content');\r\n                content.innerHTML = i18n.getText('SaveReportDlgLabel');\r\n                input.focus();\r\n            },\r\n            onSubmit: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                var value = input.value;\r\n                if (value && value.replace(/\\s/g, '').length > 0) {\r\n                    dlg.clearAlert();\r\n                    dlg.disableButtons();\r\n                    var header_1 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_1 = domel('div', header_1)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    var query = _this.context.getQuery();\r\n                    query.reset();\r\n                    _this.context.newQuery({\r\n                        name: value,\r\n                        success: function () {\r\n                            dlg.close();\r\n                            var query = _this.context.getQuery();\r\n                            var reportId = query.getId();\r\n                            _this.insertIntoReportList({ id: reportId, name: query.getName() });\r\n                            _this.renderReportList({ reportId: reportId });\r\n                        },\r\n                        error: function (error) {\r\n                            header_1.removeChild(processEl_1);\r\n                            dlg.enableButtons();\r\n                            dlg.showAlert(error, 'error');\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Loads report by ID.\r\n    * @param reportId The ID of the report to load.\r\n    */\r\n    ReportView.prototype.loadReport = function (reportId) {\r\n        var _this = this;\r\n        if (!reportId) {\r\n            throw 'Empty report ID!';\r\n        }\r\n        var reportToLoad = this.findReportById(reportId);\r\n        if (!reportToLoad)\r\n            return;\r\n        var self = this;\r\n        var query = self.context.getQuery();\r\n        var reportLoaded = function () {\r\n            _this.renderReportProps();\r\n            query.fireChangedEvent({\r\n                part: QueryChangePart.All,\r\n                noSync: true,\r\n                changeType: 'query.switched'\r\n            });\r\n            _this.fetchData();\r\n        };\r\n        var reportContent = this.useReportCache ? this.getReportContentFromCache(reportToLoad) : null;\r\n        if (reportContent) {\r\n            query.clear();\r\n            query.loadFromJson(reportContent);\r\n            reportLoaded();\r\n        }\r\n        else {\r\n            this.context.loadQuery({\r\n                queryId: reportId,\r\n                silent: true,\r\n                success: function () {\r\n                    _this.saveReportContentInCache(reportToLoad, query.toJSON());\r\n                    reportLoaded();\r\n                }\r\n            });\r\n        }\r\n        this.setActiveReport(reportId);\r\n    };\r\n    /**\r\n    * Shows the dialog to save the report with new name.\r\n    */\r\n    ReportView.prototype.saveCurrentReportAs = function () {\r\n        var _this = this;\r\n        var query = this.context.getQuery();\r\n        var ds = this.context.getServices().getDialogService();\r\n        var dlg = ds.open({\r\n            title: i18n.getText('NewReportDlgTitle'),\r\n            body: this._reportSaveTemplate,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                input.value = query.getName();\r\n                var content = document.getElementById('kdlg-dialog-form-content');\r\n                content.innerHTML = i18n.getText('SaveReportDlgLabel');\r\n                input.focus();\r\n            },\r\n            onSubmit: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                var value = input.value;\r\n                if (value && value.replace(/\\s/g, '').length > 0) {\r\n                    query.setId(dataUtils.generateId(value.replace(/\\s/g, '')));\r\n                    dlg.clearAlert();\r\n                    dlg.disableButtons();\r\n                    var header_2 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_2 = domel('div', header_2)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    _this.context.newQuery({\r\n                        clearQuery: false,\r\n                        name: value,\r\n                        success: function () {\r\n                            dlg.close();\r\n                            _this.context.refreshWidgets(WidgetGroup.Query);\r\n                            var savedQuery = _this.context.getQuery();\r\n                            var reportId = savedQuery.getId();\r\n                            _this.fetchData();\r\n                            _this.insertIntoReportList({ id: reportId, name: query.getName() });\r\n                            _this.renderReportList({ reportId: reportId });\r\n                            _this.setActiveReport(reportId);\r\n                            _this.renderReportProps();\r\n                        },\r\n                        error: function (error) {\r\n                            header_2.removeChild(processEl_2);\r\n                            dlg.enableButtons();\r\n                            dlg.showAlert(error, 'error');\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Removes current report.\r\n    */\r\n    ReportView.prototype.removeCurrentReport = function () {\r\n        var _this = this;\r\n        var report = this.context.getQuery();\r\n        var ds = this.context.getServices().getDialogService();\r\n        ds.openConfirm(i18n.getText('RemoveReportContent').replace('{reportName}', report.getName()))\r\n            .then(function (result) {\r\n            if (result) {\r\n                var reportId_1 = report.getId();\r\n                _this.context.removeQuery({\r\n                    queryId: reportId_1,\r\n                    success: function () {\r\n                        var index = _this.removeFromReportList(reportId_1);\r\n                        _this.renderReportList({ reportIndex: index });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Sends current report's query to back-end.\r\n    */\r\n    ReportView.prototype.syncReport = function () {\r\n        var _this = this;\r\n        if (this.useReportCache) {\r\n            var query = this.context.getQuery();\r\n            var currentReport = this.findReportById(query.getId());\r\n            if (currentReport) {\r\n                currentReport.lastUpdated = Date.now();\r\n                this.saveReportContentInCache(currentReport, query.toJSON());\r\n            }\r\n        }\r\n        this.context.syncQuery({\r\n            success: function (responseData) {\r\n                if (responseData.query)\r\n                    _this.context.refreshWidgets(WidgetGroup.Query);\r\n                if (responseData.statement)\r\n                    _this.context.refreshWidgets(WidgetGroup.Statement);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Sets active report.\r\n    * @param reportId The ID of the report to make active.\r\n    */\r\n    ReportView.prototype.setActiveReport = function (reportId) {\r\n        var rlItems = this.reportListSlot.querySelectorAll('li');\r\n        for (var i = 0; i < rlItems.length; i++) {\r\n            var item = rlItems[i];\r\n            item.classList.remove('active');\r\n            var rid = item.getAttribute('data-rid');\r\n            if (rid === reportId) {\r\n                item.classList.add('active');\r\n            }\r\n        }\r\n        ;\r\n    };\r\n    /**\r\n    * Renders current report.\r\n    */\r\n    ReportView.prototype.renderReportProps = function () {\r\n        var query = this.context.getQuery();\r\n        var titleElem = document.getElementById('ReportTitle');\r\n        titleElem.innerHTML = query.getName();\r\n        var columnsPanel = document.querySelector('.columns-bar');\r\n        if (columnsPanel) {\r\n            columnsPanel.innerHTML = '<strong>Columns:</strong>';\r\n            var columns = query.getColumns();\r\n            for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\r\n                var column = columns_1[_i];\r\n                columnsPanel.innerHTML += '<span class=\"label label-default\">' + column.caption + '</span> ';\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Renders the list of reports.\r\n    * @param options The options. In particular, `options.reportIndex` defines which report should be active.\r\n    */\r\n    ReportView.prototype.renderReportList = function (options) {\r\n        this.renderReportPanels();\r\n        if (!this.reportListSlot.matches('li')) {\r\n            this.reportListSlot.innerHTML = \"\";\r\n            options = options || { reportId: (this.reports.length > 0 ? this.reports[0].id : null) };\r\n            var ul = document.createElement('ul');\r\n            ul.className = 'list-group list-group-flush';\r\n            this.reportListSlot.appendChild(ul);\r\n            for (var _i = 0, _a = this.reports; _i < _a.length; _i++) {\r\n                var report = _a[_i];\r\n                this.renderReportItemInList(report, ul);\r\n            }\r\n            if (options.reportId) {\r\n                this.loadReport(options.reportId);\r\n            }\r\n            if (typeof (options.reportIndex) !== \"undefined\") {\r\n                var idx = options.reportIndex;\r\n                if (idx >= this.reports.length)\r\n                    idx = this.reports.length - 1;\r\n                if (idx < 0 && this.reports.length > 0)\r\n                    idx = 0;\r\n                if (idx >= 0)\r\n                    this.loadReport(this.reports[idx].id);\r\n            }\r\n        }\r\n    };\r\n    ReportView.prototype.detach = function () {\r\n        var _this = this;\r\n        if (this.exportButtonsContainer) {\r\n            this.showExportButtons();\r\n            this.exportButtons.forEach(function (button) {\r\n                button.removeEventListener('click', _this.exportButtonClickHandler);\r\n            });\r\n            this.exportButtons = [];\r\n            this.exportButtonsContainer = null;\r\n        }\r\n        if (this.clearReportButton) {\r\n            this.clearReportButton.removeEventListener('click', this.clearReportButtonClickHandler);\r\n            this.clearReportButton = null;\r\n        }\r\n        if (this.newReportButton) {\r\n            this.newReportButton.removeEventListener('click', this.newReportButtonClickHandler);\r\n            this.newReportButton = null;\r\n        }\r\n        if (!this.loadReportButton) {\r\n            this.loadReportButton.removeEventListener('click', this.loadReportButtonClickHandler);\r\n            this.loadReportButton = null;\r\n        }\r\n        if (this.saveReportButton) {\r\n            this.saveReportButton.addEventListener('click', this.saveReportButtonClickHandler);\r\n            this.saveReportButton = null;\r\n        }\r\n        if (!this.removeReportButton) {\r\n            this.removeReportButton.removeEventListener('click', this.removeReportButtonClickHandler);\r\n            this.removeReportButton = null;\r\n        }\r\n        if (this.updateReportButton) {\r\n            this.updateReportButton.removeEventListener('click', this.updateReportButtonClickHandler);\r\n            this.removeReportButton = null;\r\n        }\r\n        if (this.reportListSlot) {\r\n            this.reportListSlot.innerHTML = '';\r\n            this.reportListSlot = null;\r\n        }\r\n        if (this.resultCountSlot) {\r\n            this.resultCountSlot.innerHTML = '';\r\n            this.resultCountSlot = null;\r\n        }\r\n        _super.prototype.detach.call(this);\r\n    };\r\n    /**\r\n    * Renders a single item in the list of reports.\r\n    * @param report The [[Report]] object to render.\r\n    * @param ul The [[HTMLUListElement]] to add the item to.\r\n    */\r\n    ReportView.prototype.renderReportItemInList = function (report, ul) {\r\n        if (!ul) {\r\n            ul = this.reportListSlot.querySelector(\"ul\");\r\n        }\r\n        var reportName = report.name || report.description || \"\";\r\n        var li = document.createElement('li');\r\n        li.className = \"list-group-item\";\r\n        li.style.cursor = 'pointer';\r\n        li.setAttribute('data-rid', report.id);\r\n        li.innerText = reportName;\r\n        var self = this;\r\n        li.addEventListener('click', function (e) {\r\n            var target = e.target;\r\n            var rid = target.getAttribute('data-rid');\r\n            self.loadReport(rid);\r\n            self.setActiveReport(rid);\r\n        });\r\n        ul.appendChild(li);\r\n    };\r\n    /**\r\n    * Renders report panels.\r\n    */\r\n    ReportView.prototype.renderReportPanels = function () {\r\n        var reportsContainer = document.getElementById(\"ReportsContainer\");\r\n        var noReportPanel = document.getElementById(\"NoReportPanel\");\r\n        if (this.reports.length > 0) {\r\n            this.hideElement(noReportPanel);\r\n            this.showElement(reportsContainer);\r\n        }\r\n        else {\r\n            this.hideElement(reportsContainer);\r\n            this.showElement(noReportPanel);\r\n        }\r\n    };\r\n    //TODO: Move these two functions to @easydata/ui\r\n    ReportView.prototype.hideElement = function (element) {\r\n        if (element) {\r\n            element.style.visibility = 'hidden';\r\n        }\r\n    };\r\n    ReportView.prototype.showElement = function (element) {\r\n        if (element) {\r\n            element.style.removeProperty('visibility');\r\n        }\r\n    };\r\n    /**\r\n    * Inserts the report to the list of reports.\r\n    * @param report The [[Report]] object to be inserted.\r\n    */\r\n    ReportView.prototype.insertIntoReportList = function (report) {\r\n        this.reports.push(report);\r\n    };\r\n    /**\r\n    * Removes the report from the list of reports.\r\n    * @param reportId The ID of the report to be removed.\r\n    * @returns the index of removed report.\r\n    */\r\n    ReportView.prototype.removeFromReportList = function (reportId) {\r\n        var index = this.indexOfReportById(reportId);\r\n        if (index >= 0)\r\n            this.reports.splice(index, 1);\r\n        return index;\r\n    };\r\n    ReportView.prototype.indexOfReportById = function (reportId) {\r\n        for (var i = 0; i < this.reports.length; i++) {\r\n            if (this.reports[i].id === reportId)\r\n                return i;\r\n        }\r\n        return -1;\r\n    };\r\n    /**\r\n    * The handler of the \"Clear\" button click.\r\n    */\r\n    ReportView.prototype.clearReportButtonClick = function () {\r\n        this.clearErrors();\r\n        this.context.clearQuery();\r\n    };\r\n    /**\r\n    * The handler of the \"Update\" button click.\r\n    */\r\n    ReportView.prototype.updateReportButtonClick = function () {\r\n        this.fetchData();\r\n    };\r\n    /**\r\n    * The handler of the \"Save\" button click.\r\n    */\r\n    ReportView.prototype.saveReportButtonClick = function () {\r\n        this.saveCurrentReportAs();\r\n    };\r\n    /**\r\n    * The handler of the \"Load\" button click.\r\n    */\r\n    ReportView.prototype.loadReportButtonClick = function () {\r\n        this.loadReport(\"LastQuery\");\r\n    };\r\n    /**\r\n    * The handler of the \"Remove\" button click.\r\n    */\r\n    ReportView.prototype.removeReportButtonClick = function () {\r\n        this.removeCurrentReport();\r\n    };\r\n    /**\r\n    * The handler of the \"New\" button click.\r\n    */\r\n    ReportView.prototype.newReportButtonClick = function () {\r\n        this.newReport();\r\n    };\r\n    /**\r\n    * The handler of errors.\r\n    * @param error The error object.\r\n    */\r\n    ReportView.prototype.errorHandler = function (error) {\r\n    };\r\n    /**\r\n    * Clears the errors.\r\n    */\r\n    ReportView.prototype.clearErrors = function () {\r\n    };\r\n    /**\r\n    * Disables export buttons.\r\n    */\r\n    ReportView.prototype.disableExportButtons = function () {\r\n        this.hideExportButtons();\r\n    };\r\n    /**\r\n    * Enables export buttons.\r\n    */\r\n    ReportView.prototype.enableExportButtons = function () {\r\n        this.showExportButtons();\r\n    };\r\n    /**\r\n    * Hides export buttons.\r\n    */\r\n    ReportView.prototype.hideExportButtons = function () {\r\n        if (this.exportButtonsContainer) {\r\n            this.exportButtonsContainer.style.display = \"none\";\r\n        }\r\n    };\r\n    /**\r\n    * Shows export buttons.\r\n    */\r\n    ReportView.prototype.showExportButtons = function () {\r\n        if (this.exportButtonsContainer) {\r\n            this.exportButtonsContainer.style.display = \"initial\";\r\n        }\r\n    };\r\n    /**\r\n     * Saves reports content to the cache.\r\n     * @param report  The report.\r\n     * @param content The content (Query serialized into JSON).\r\n     */\r\n    ReportView.prototype.saveReportContentInCache = function (report, content) {\r\n        var item = this.findReportCacheItem(report.id);\r\n        if (!item) {\r\n            item = { id: report.id };\r\n            this.reportCache.push(item);\r\n        }\r\n        item.lastUpdated = report.lastUpdated;\r\n        item.content = content;\r\n    };\r\n    /**\r\n     * Gets the report content from cache.\r\n     * @param report The report.\r\n     * @returns Content of the report (Query in JSOn string)\r\n     */\r\n    ReportView.prototype.getReportContentFromCache = function (report) {\r\n        var item = this.findReportCacheItem(report.id);\r\n        if (item && item.lastUpdated === report.lastUpdated) {\r\n            return item.content;\r\n        }\r\n        return null;\r\n    };\r\n    ReportView.prototype.findReportById = function (id) {\r\n        for (var _i = 0, _a = this.reports; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.id === id) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    ReportView.prototype.findReportCacheItem = function (id) {\r\n        for (var _i = 0, _a = this.reportCache; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.id === id) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return ReportView;\r\n}(View));\r\nexport { ReportView };\r\n//left for backward compatibility\r\nvar ReportViewJQuery = /** @class */ (function (_super) {\r\n    __extends(ReportViewJQuery, _super);\r\n    function ReportViewJQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ReportViewJQuery;\r\n}(ReportView));\r\nexport { ReportViewJQuery };\r\n//# sourceMappingURL=report_view.js.map","import { i18n } from '@easydata/core';\r\nfunction addOldEasyQueryUIMapper() {\r\n    i18n.addMapper(function (info) {\r\n        if (!info && !info.texts)\r\n            return;\r\n        for (var prop in info.texts) {\r\n            switch (prop) {\r\n                case 'PredicateTitle':\r\n                    info.texts['ConditionGroupTitle'] = info.texts[prop];\r\n                    break;\r\n                case 'RootPredicateTitle':\r\n                    info.texts['RootConditionGroupTitle'] = info.texts[prop];\r\n                    break;\r\n                case 'ErrIncorrectPredicateTitleFormat':\r\n                    info.texts['ErrIncorrectGroupTitleFormat'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonAddPredicate':\r\n                    info.texts['ButtonAddGroup'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonDelete':\r\n                    info.texts['CmdDelete'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonClear':\r\n                    info.texts['CmdClear'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonEnable':\r\n                    info.texts['CmdToggleEnable'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonAddCondition':\r\n                    info.texts['CmdAddCondition'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonAddGroup':\r\n                    info.texts['CmdAddCondGroup'] = info.texts[prop];\r\n                    break;\r\n                default:\r\n                    //do nothing\r\n                    break;\r\n            }\r\n        }\r\n    });\r\n}\r\nfunction addEasyQueryUITexts() {\r\n    i18n.updateDefaultTexts({\r\n        AltMenuAttribute: 'Attribute',\r\n        AltMenuConstantExpression: 'Constant expression',\r\n        ButtonApply: 'Apply',\r\n        ButtonCancel: 'Cancel',\r\n        ButtonClose: 'Close',\r\n        ButtonNext: 'Next',\r\n        ButtonPrev: 'Prev',\r\n        ButtonNow: 'Now',\r\n        ButtonOK: 'OK',\r\n        MenuEnable: 'Enabled',\r\n        MenuParameterization: 'Parameterized',\r\n        MenuJoinCond: 'Use in JOIN',\r\n        CmdClear: 'Clear',\r\n        CmdDelete: 'Delete',\r\n        CmdToggleEnable: 'Toggle enable',\r\n        CmdAddCondition: 'Add condition',\r\n        CmdAddCondGroup: 'Add group of conditions',\r\n        ButtonSelectAll: 'Select all',\r\n        ButtonDeselectAll: 'Clear selection',\r\n        ButtonAddColumns: 'Add column(s)',\r\n        ButtonAddConditions: 'Add condition(s)',\r\n        CmdClickToAddCondition: '[Add new condition]',\r\n        CmdDeleteRow: 'Delete this row',\r\n        ErrIncorrectGroupTitleFormat: 'Incorrect condition group title format',\r\n        ErrNotNumber: ' is not a number',\r\n        ErrIncorrectInteger: 'Incorrect integer value',\r\n        ErrIncorrectNumberList: 'Incorrect list format',\r\n        False: 'False',\r\n        LinkTypeAll: 'all',\r\n        LinkTypeAny: 'any',\r\n        LinkTypeNone: 'none',\r\n        LinkTypeNotAll: 'not all',\r\n        ConjAll: 'and',\r\n        ConjAny: 'or',\r\n        ConjNotAll: 'and',\r\n        ConjNone: 'or',\r\n        MsgApplySelection: '[Apply selection]',\r\n        MsgAs: 'as',\r\n        MsgEmptyList: '(empty list)',\r\n        MsgEmptyListValue: '[select value]',\r\n        MsgEmptyScalarValue: '[enter value]',\r\n        MsgSubQueryValue: '[edit sub-query]',\r\n        MsgEmptyAttrValue: '[select attribute]',\r\n        MsgEmptyOperator: '[Unrecognized operator]',\r\n        MsgEmptyCustomSql: '[enter SQL expression]',\r\n        MsgCustomSql: '[Custom SQL]',\r\n        MsgNoResult: 'No result',\r\n        MsgResultCount: '{0} records found',\r\n        MsgOf: 'of',\r\n        ConditionGroupTitle: '{lt} of the following apply',\r\n        RootConditionGroupTitle: 'Select records where {lt} of the following apply',\r\n        StrAddConditions: 'Add conditions',\r\n        SubQueryDialogTitle: 'Edit sub-query',\r\n        SubQueryColumnTitle: 'Column:',\r\n        SubQueryEmptyColumn: '[select column]',\r\n        SubQueryQueryPanelCaption: 'Conditions',\r\n        True: 'True',\r\n        ButtonSorting: 'Sorting',\r\n        ButtonToAggr: 'Change to aggregate column',\r\n        ButtonToSimple: 'Change to simple column',\r\n        CmdAscending: 'Ascending',\r\n        CmdClickToAddColumn: '[Add new column]',\r\n        CmdDeleteColumn: 'Delete column',\r\n        CmdDeleteSorting: 'Delete sorting',\r\n        CmdDescending: 'Descending',\r\n        CmdGroupSort: 'Sorting',\r\n        CmdNotSorted: 'Not sorted',\r\n        ColTypeAggrFunc: 'Aggregate function',\r\n        ColTypeCompound: 'Calculated',\r\n        ColTypeGroup: 'Column type',\r\n        ColTypeSimple: 'Simple column',\r\n        HeaderExpression: 'Expression',\r\n        HeaderSorting: 'Sorting',\r\n        HeaderTitle: 'Title',\r\n        SortHeaderColumn: 'Column',\r\n        SortHeaderSorting: 'Sorting',\r\n        StrAddColumns: 'Add columns',\r\n        CustomExpression: 'Custom Expression',\r\n        CmdMoveToStart: 'Move to start',\r\n        CmdMoveRight: 'Move right',\r\n        CmdMoveLeft: 'Move left',\r\n        CmdMoveToEnd: 'Move to the end',\r\n        CmdMoveUp: 'Move up',\r\n        CmdMoveDown: 'Move down',\r\n        ButtonMenu: 'Show menu',\r\n        CmdToSimple: 'Not aggregated',\r\n        CmdMoveToFirst: 'Move to the first',\r\n        CmdMoveToPrev: 'Move to the previous',\r\n        CmdMoveToNext: 'Move to the next',\r\n        CmdMoveToLast: 'Move to the last',\r\n        CmdHiddenColumn: 'Hidden',\r\n        RowButtonTitle: 'Click to see the available options',\r\n        //FilterBar\r\n        StrNoFilterDefined: 'No filter defined',\r\n        StrNoFilterClickToAdd: 'No filter defined. Click to add a new condition',\r\n        //Time picker\r\n        HintHours: 'Hours',\r\n        HintMinutes: 'Minutes',\r\n        //advanced search view texts\r\n        RemoveQueryTitle: 'Confirmation',\r\n        RemoveQueryContent: 'Remove query [{queryName}]?',\r\n        NewQueryTitle: 'New query',\r\n        NewQueryContent: 'New query name: ',\r\n        NewQueryDefName: 'New query',\r\n        SaveQueryTitle: 'Save query',\r\n        SaveQueryContent: 'Query name: ',\r\n        SaveQueryDefName: '{queryName} copy',\r\n        QueryChangedTitle: 'Confirmation',\r\n        QueryChangedContent: 'The query was changed. Do you want to save it first?',\r\n        UpdateQuerySelector: '[click here to load the query]',\r\n        FileNameLabel: 'File name: ',\r\n        SaveQueryToFileDlgTitle: 'Save query to file',\r\n        //report view texts\r\n        NewReportDefName: 'New report',\r\n        NewReportDlgTitle: 'New report',\r\n        SaveReportDlgTitle: 'Save report',\r\n        SaveReportDlgLabel: 'Report name:',\r\n        RemoveReportContent: 'Remove report \\'{reportName}\\'?',\r\n        //facets\r\n        Facets: {\r\n            TotalRecordsLabel: 'Total records:',\r\n            AddMenuItems: {\r\n                Chart: 'Chart',\r\n                Pivot: 'Pivot table',\r\n                DataTable: 'Data table'\r\n            },\r\n            LoadDataDlgTitle: 'Downloading data',\r\n            LoadDataDlgContent: 'Records loaded: {loadedRecs}/{totalRecs}',\r\n            RefreshBtnTitle: 'Refresh',\r\n            ExportBtnTitle: 'Export',\r\n            MaximizeBtnTitle: 'Maximize',\r\n            RestoreBtnTitle: 'Restore Down',\r\n            RemoveFacetDlgTitle: 'Remove facet',\r\n            RemoveFacetDlgContent: \"Are you sure, that you want to delete {facetTitle} tab?\",\r\n            DefaultDlgTitle: 'Setup facet',\r\n            DefaultFacetTitle: '',\r\n            TabNameLabel: 'Tab name',\r\n            ErrQueryChanged: 'FAILED TO DISPLAY. QUERY WAS CHANGED',\r\n            ErrNotEnoughData: \"We can't display the graph because not all data for this query is loaded. \\n        The total number of records: {totalRecs}, currently loaded: {cachedRecs}. \\n        You can [download the result]. Please note: this may take some time and consume a lot of memory.\",\r\n            Chart: {\r\n                FacetTitle: 'Chart',\r\n                DlgTitle: 'Chart settings',\r\n                DataColumnSelectorLabel: 'Data column',\r\n                LabelColumnSelectorLabel: 'Label column',\r\n                ChartTypeSelectorLabel: 'Chart type'\r\n            },\r\n            Pivot: {\r\n                FacetTitle: 'Pivot table',\r\n                DlgTitle: 'Pivot settings',\r\n                ColumnFieldSelectorLabel: 'Column field',\r\n                RowFieldSelectorLabel: 'Row field',\r\n                CellDataSelectorLabel: 'Cell data',\r\n                TotalsRowLabel: 'Totals row',\r\n                TotalsColLabel: 'Totals col',\r\n                TotalGridLabel: 'Total'\r\n            },\r\n            DataTable: {\r\n                FacetTitle: 'Result table',\r\n                DlgTitle: 'Table facet settings'\r\n            }\r\n        },\r\n        TotalsDlgLabel: 'Totals',\r\n        GrandTotalsLabel: 'Grand totals',\r\n        TotalsDlgTitle: 'Select totals',\r\n        //formats\r\n        ExportDlgTitle: 'Export result',\r\n        ExportDlgFmtLabel: 'Format',\r\n        'csv': 'CSV',\r\n        'excel-html': 'Excel'\r\n    });\r\n}\r\naddOldEasyQueryUIMapper();\r\naddEasyQueryUITexts();\r\n//# sourceMappingURL=text_resources.js.map","import { EqServiceProvider } from \"@easyquery/core\";\r\nEqServiceProvider.prototype.registerDialogServiceResolver = function (resolver) {\r\n    this['dialogServiceResolver'] = resolver;\r\n};\r\nEqServiceProvider.prototype.getDialogService = function () {\r\n    if (!this['dialogService']) {\r\n        if (!this['dialogServiceResolver']) {\r\n            throw 'DialogServiceResolver is not defined';\r\n        }\r\n        this['dialogService'] = this['dialogServiceResolver']();\r\n    }\r\n    return this['dialogService'];\r\n};\r\n//# sourceMappingURL=extensions.js.map","export * from './widgets/entities_panel';\r\nexport * from './widgets/columns_panel';\r\nexport * from './widgets/columns_bar';\r\nexport * from './widgets/sorting_bar';\r\nexport * from './widgets/query_panel';\r\nexport * from './widgets/filter_bar';\r\nexport * from './widgets/html_content_widget';\r\nexport * from './widgets/eq_result_html_grid';\r\nexport * from './widgets/grid';\r\nexport * from './widgets/easy_grid_widget';\r\nexport * from './widgets/statement_panel';\r\nexport * from './widgets/process_widget';\r\nexport * from './widgets/manage_drilldown_widget';\r\nexport * from './widgets/result_facets_panel';\r\nexport * from './widgets/export_widget';\r\nexport * from './widgets/charts/chart_type';\r\nexport * from './widgets/charts/chart_widget';\r\nexport * from './widgets/charts/chart_widget_google';\r\nexport * from './widgets/charts/chart_widget_chartjs';\r\nexport * from './widgets/renderers/base_element_renderer';\r\nexport * from './widgets/renderers/dropdown_renderer';\r\nexport * from './widgets/renderers/columnsbar/aggrfunc_column_renderer';\r\nexport * from './widgets/renderers/columnsbar/simple_column_renderer';\r\nexport * from './widgets/renderers/columnsbar/column_renderer';\r\nexport * from './widgets/renderers/columnspanel/aggrfunc_column_renderer';\r\nexport * from './widgets/renderers/columnspanel/simple_column_renderer';\r\nexport * from './widgets/renderers/columnspanel/column_renderer';\r\nexport * from './widgets/renderers/columnspanel/customsql_column_renderer';\r\nexport * from './widgets/renderers/querypanel/input_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/datetime_expression_render';\r\nexport * from './widgets/renderers/querypanel/condition_renderer';\r\nexport * from './widgets/renderers/querypanel/condition_group_renderer';\r\nexport * from './widgets/renderers/querypanel/attribute_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/expression_renderer';\r\nexport * from './widgets/renderers/querypanel/operator_renderer';\r\nexport * from './widgets/renderers/querypanel/subquery_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/list_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/text_renderer';\r\nexport * from './widgets/renderers/querypanel/addrow_renderer';\r\nexport * from './facets/result_facet_tab';\r\nexport * from './facets/datatable_facet_tab';\r\nexport * from './facets/chart_facet_tab';\r\nexport * from './facets/pivot_table_facet_tab';\r\nexport * from './views/view';\r\nexport * from './views/adv_search_view';\r\nexport * from './views/data_filter_view';\r\nexport * from './views/html_data_filter_view';\r\nexport * from './views/report_view';\r\nexport * from './utils/dropdown';\r\nexport * from './utils/popup_menu';\r\nexport * from './types/qp_editable_part';\r\nexport * from './types/facet_type';\r\nexport * from './dialog/export_dialog';\r\nexport * from './dialog/totals_dialog';\r\nimport './i18n/text_resources';\r\nimport './extensions';\r\nif (!Element.prototype.matches) {\r\n    Element.prototype.matches =\r\n        Element.prototype.msMatchesSelector\r\n            || Element.prototype.webkitMatchesSelector;\r\n}\r\n// support NodeList forEach in IE11\r\nif (window['NodeList'] && !window['NodeList'].prototype.forEach) {\r\n    window['NodeList'].prototype.forEach = Array.prototype.forEach;\r\n}\r\n//# sourceMappingURL=public_api.js.map","var majVer = 7;\r\nvar minVer = 0;\r\nvar magic = 45;\r\nMath.trunc = Math.trunc || function (x) {\r\n    if (isNaN(x)) {\r\n        return NaN;\r\n    }\r\n    if (x > 0) {\r\n        return Math.floor(x);\r\n    }\r\n    return Math.ceil(x);\r\n};\r\nexport var lcv = {\r\n    __kt: 0,\r\n    ck: function (key) {\r\n        if (!key)\r\n            return;\r\n        try {\r\n            var part1 = key.slice(0, key.length - 8);\r\n            var infoBytes = _bs(part1);\r\n            var part2 = key.slice(key.length - 8);\r\n            var ed = f36(magic);\r\n            if (part2[0] !== ed[0] || part2[2] !== ed[1])\r\n                return;\r\n            var idx = minVer % 4;\r\n            var shift = majVer + minVer;\r\n            if (part2[4 + idx] != encChar(shift, 19)) {\r\n                return;\r\n            }\r\n            if (part2[1] != encChar(infoBytes[3])) {\r\n                return;\r\n            }\r\n            lcv.__kt = part2[3] != encChar(infoBytes[5]) ? 1 : 2;\r\n        }\r\n        catch (error) {\r\n        }\r\n    }\r\n};\r\nfunction encChar(x, b) {\r\n    if (b === void 0) { b = 20; }\r\n    return String.fromCharCode(65 + x % b);\r\n}\r\nfunction _bs(str) {\r\n    var binary_string = urlatob(str);\r\n    var len = binary_string.length;\r\n    var bytes = new Uint8Array(len);\r\n    for (var i = 0; i < len; i++) {\r\n        bytes[i] = binary_string.charCodeAt(i);\r\n    }\r\n    return bytes;\r\n}\r\nfunction urlatob(str) {\r\n    var s = str;\r\n    s = s.replace(/-/g, '+');\r\n    s = s.replace(/_/g, '/');\r\n    switch (s.length % 4) {\r\n        case 0:\r\n            break;\r\n        case 2:\r\n            s += \"==\";\r\n            break;\r\n        case 3:\r\n            s += \"=\";\r\n            break;\r\n    }\r\n    return window.atob(s);\r\n}\r\nfunction f36(val) {\r\n    var str = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\r\n    var tb = 36;\r\n    var i = 1;\r\n    var result = \"AA\";\r\n    var rest = val;\r\n    do {\r\n        result = setCharAt(result, i--, str[rest % tb]);\r\n        rest = Math.trunc(rest / tb);\r\n    } while (rest > 0);\r\n    return result;\r\n}\r\nfunction setCharAt(str, index, chr) {\r\n    if (index > str.length - 1)\r\n        return str;\r\n    return str.substr(0, index) + chr + str.substr(index + 1);\r\n}\r\n//# sourceMappingURL=lcv.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Condition, CondTag } from \"@easyquery/core\";\r\nimport { lcv } from '../utils/lcv';\r\nvar ConditionEx = /** @class */ (function (_super) {\r\n    __extends(ConditionEx, _super);\r\n    function ConditionEx() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.readOnly = false;\r\n        _this.parameterized = false;\r\n        _this.inJoin = false;\r\n        return _this;\r\n    }\r\n    ConditionEx.prototype.isReadOnly = function () {\r\n        return this.readOnly || (this.getParent() && this.getParent().isReadOnly());\r\n    };\r\n    ConditionEx.prototype.setReadOnly = function (value) {\r\n        this.readOnly = value || (this.getParent() && this.getParent().isReadOnly());\r\n        this.conditions && this.conditions.forEach(function (cond) {\r\n            cond.setReadOnly(value);\r\n        });\r\n    };\r\n    ConditionEx.prototype.isParameterized = function () {\r\n        return this.parameterized;\r\n    };\r\n    ConditionEx.prototype.setParameterized = function (value) {\r\n        this.parameterized = value;\r\n    };\r\n    ConditionEx.prototype.isInJoin = function () {\r\n        return this.inJoin;\r\n    };\r\n    ConditionEx.prototype.setInJoin = function (value) {\r\n        this.inJoin = value;\r\n    };\r\n    ConditionEx.prototype.loadFromData = function (model, data) {\r\n        _super.prototype.loadFromData.call(this, model, data);\r\n        if (!lcv.__kt)\r\n            return;\r\n        if (typeof data.readOnly !== 'undefined') {\r\n            this.setReadOnly(data.readOnly);\r\n        }\r\n        if (typeof data.inJoin !== 'undefined') {\r\n            this.setInJoin(data.inJoin);\r\n        }\r\n        if (typeof data.parameterized !== 'undefined') {\r\n            this.setParameterized(data.parameterized);\r\n        }\r\n        //if condition group\r\n        //this.linkType = data.linking;\r\n        if (data.conds) {\r\n            for (var i = 0; i < data.conds.length; i++) {\r\n                var newCond = this.query.createCondition();\r\n                newCond.loadFromData(model, data.conds[i]);\r\n                this.conditions.push(newCond);\r\n                newCond.setParent(this);\r\n            }\r\n        }\r\n    };\r\n    ConditionEx.prototype.saveToData = function () {\r\n        var obj = _super.prototype.saveToData.call(this);\r\n        if (!lcv.__kt)\r\n            return obj;\r\n        if (lcv.__kt !== 0)\r\n            if (this.isReadOnly()) {\r\n                obj.readOnly = this.isReadOnly();\r\n            }\r\n        if (this.isParameterized()) {\r\n            obj.parameterized = this.isParameterized();\r\n        }\r\n        if (this.isInJoin()) {\r\n            obj.inJoin = this.isInJoin();\r\n        }\r\n        if (this.tag == CondTag.Group) {\r\n            //if condition group\r\n            //obj.linking = this.linkType;\r\n            obj.conds = [];\r\n            for (var i = 0; i < this.conditions.length; i++) {\r\n                obj.conds.push(this.conditions[i].saveToData());\r\n            }\r\n        }\r\n        return obj;\r\n    };\r\n    return ConditionEx;\r\n}(Condition));\r\nexport { ConditionEx };\r\n//# sourceMappingURL=condition_ex.js.map","import { EqContext } from '@easyquery/core';\r\nimport { QueryEx } from './query/query_ex';\r\nimport { EqServerQueryStorage } from './main/eqs_query_storage';\r\nimport { DataModelEx } from './dm/model_ex';\r\nimport { lcv } from './utils/lcv';\r\nimport { EqTotalsCalculator } from './data/eqs_totals_calculator';\r\nvar licenseKeyEndpoint = '/.easyquery/lck';\r\nEqContext.prototype.setLicenseKeyEndpoint = function (endpoint) {\r\n    licenseKeyEndpoint = endpoint;\r\n};\r\nEqContext.prototype.useEnterprise = function (keyOrInitCallback) {\r\n    var _this = this;\r\n    var func = function (key) {\r\n        lcv.ck(key);\r\n        if (lcv.__kt) {\r\n            var services = _this.getServices();\r\n            services.registerDataModelResolver(function (context) { return new DataModelEx(); });\r\n            services.registerQueryResolver(function (context) { return new QueryEx(context.getModel()); });\r\n            services.registerQueryStorageResolver(function (context) { return new EqServerQueryStorage(context); });\r\n            services.registerTotalCalculator(function (context) { return new EqTotalsCalculator(context); });\r\n            if (lcv.__kt === 1) {\r\n                console.warn('EasyQuery.JS is working in TRIAL MODE! Please order a license to get a proper product key (https://korzh.com/eq).');\r\n                createTrialWM();\r\n                setTimeout(function () {\r\n                    showTrialWM();\r\n                    setTimeout(hideTrialWM, 6000);\r\n                }, 3000);\r\n            }\r\n        }\r\n        else {\r\n            console.error(\"INVALID KEY! EasyQuery.JS is working in Community edition mode! Please contact the vendor (https://korzh.com/support) to resolve this issue\");\r\n        }\r\n    };\r\n    if (typeof (keyOrInitCallback) === \"string\") {\r\n        func(keyOrInitCallback);\r\n    }\r\n    else if (typeof (keyOrInitCallback) === \"function\") {\r\n        var http = this.getServices().getHttpClient();\r\n        var url = licenseKeyEndpoint;\r\n        http.get(url)\r\n            .then(function (result) { func(result.split(\"\").reverse().join(\"\")); keyOrInitCallback(); })\r\n            .catch(function (error) { return console.error(error); });\r\n    }\r\n    else {\r\n        throw new Error(\"Wrong type of 'keyOrInitCallback' parameter. It must be a string with a license key or a callback function.\");\r\n    }\r\n};\r\nvar trialDiv;\r\nfunction createTrialWM() {\r\n    trialDiv = document.createElement(\"div\");\r\n    trialDiv.style.position = \"fixed\";\r\n    trialDiv.style.bottom = \"0\";\r\n    trialDiv.style.right = \"-400px\";\r\n    trialDiv.style.width = \"400px\";\r\n    trialDiv.style.height = \"100px\";\r\n    trialDiv.style.color = \"grey\";\r\n    trialDiv.style.textAlign = \"center\";\r\n    trialDiv.style.opacity = \"0.7\";\r\n    trialDiv.style.font = \"bold 1em Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif\";\r\n    trialDiv.style.transition = \"right 3s ease-out\";\r\n    var header = document.createElement(\"div\");\r\n    var eq = document.createElement(\"span\");\r\n    eq.innerText = \"EasyQuery\";\r\n    eq.style.color = \"#3A94D4\";\r\n    eq.style.lineHeight = \"50px\";\r\n    header.appendChild(eq);\r\n    var korzh = document.createElement(\"span\");\r\n    korzh.innerText = \"by Korzh.com\";\r\n    korzh.style.marginLeft = \"10px\";\r\n    header.appendChild(korzh);\r\n    trialDiv.appendChild(header);\r\n    var trialOnly = document.createElement(\"div\");\r\n    trialOnly.innerText = \"FOR TRIAL USE ONLY\";\r\n    trialOnly.style.fontSize = \"1.2em\";\r\n    trialOnly.style.fontWeight = \"1000\";\r\n    trialDiv.appendChild(trialOnly);\r\n    document.body.appendChild(trialDiv);\r\n}\r\nfunction showTrialWM() {\r\n    if (trialDiv) {\r\n        trialDiv.style.right = \"0\";\r\n    }\r\n}\r\nfunction hideTrialWM() {\r\n    if (trialDiv) {\r\n        trialDiv.style.right = \"-400px\";\r\n        setTimeout(function () {\r\n            trialDiv.parentNode.removeChild(trialDiv);\r\n        }, 5000);\r\n    }\r\n}\r\n//# sourceMappingURL=extensions.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Column } from \"@easyquery/core\";\r\nimport { lcv } from '../utils/lcv';\r\nvar ColumnEx = /** @class */ (function (_super) {\r\n    __extends(ColumnEx, _super);\r\n    function ColumnEx() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.readOnly = false;\r\n        return _this;\r\n    }\r\n    ColumnEx.prototype.isReadOnly = function () {\r\n        return this.readOnly;\r\n    };\r\n    ColumnEx.prototype.setReadOnly = function (value) {\r\n        this.readOnly = value;\r\n    };\r\n    /**\r\n     * Loads column from its JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param colData The JSON representation object.\r\n     */\r\n    ColumnEx.prototype.loadFromData = function (model, colData) {\r\n        _super.prototype.loadFromData.call(this, model, colData);\r\n        if (!lcv.__kt)\r\n            return;\r\n        if (colData) {\r\n            if (typeof colData.readOnly != 'undefined') {\r\n                this.readOnly = colData.readOnly;\r\n            }\r\n        }\r\n    };\r\n    ColumnEx.prototype.saveToData = function () {\r\n        var colData = _super.prototype.saveToData.call(this);\r\n        if (!lcv.__kt)\r\n            return colData;\r\n        if (this.isReadOnly()) {\r\n            colData.readOnly = this.isReadOnly();\r\n        }\r\n        return colData;\r\n    };\r\n    return ColumnEx;\r\n}(Column));\r\nexport { ColumnEx };\r\n//# sourceMappingURL=column_ex.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Query, CondTag, LinkType } from '@easyquery/core';\r\nimport { ConditionEx } from './condition_ex';\r\nimport { ColumnEx } from './column_ex';\r\nimport { lcv } from '../utils/lcv';\r\nvar QueryEx = /** @class */ (function (_super) {\r\n    __extends(QueryEx, _super);\r\n    function QueryEx(model) {\r\n        return _super.call(this, model) || this;\r\n    }\r\n    QueryEx.prototype.isEx = function () {\r\n        return lcv.__kt !== 0;\r\n    };\r\n    QueryEx.prototype.createCondition = function (tag) {\r\n        if (tag === void 0) { tag = CondTag.Simple; }\r\n        if (!lcv.__kt)\r\n            return _super.prototype.createCondition.call(this, tag);\r\n        return new ConditionEx(this, tag);\r\n    };\r\n    QueryEx.prototype.createColumn = function (justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        if (!lcv.__kt)\r\n            return _super.prototype.createColumn.call(this, justsorted);\r\n        return new ColumnEx(this, justsorted);\r\n    };\r\n    /**\r\n     * Adds a condition group - a group of simple conditions (predicates) linked by AND or OR\r\n     * @param descriptor The descriptor of the new condition group.\r\n     * @returns The new search condition.\r\n     */\r\n    QueryEx.prototype.addConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        if (!lcv.__kt)\r\n            return _super.prototype.addConditionGroup.call(this, descriptor, addChildCondition);\r\n        var parent = descriptor.parent || this.getRootCondition();\r\n        var lType = descriptor.linking || (parent.linkType === LinkType.All ? LinkType.Any : LinkType.All);\r\n        var group = this.createCondition(CondTag.Group);\r\n        group.linkType = lType;\r\n        if (addChildCondition) {\r\n            var model = this.getModel();\r\n            var attr = model.getFirstUICAttr();\r\n            var op = model.getDefaultOperatorForAttr(attr);\r\n            var cond = this.createSimpleConditionObject(attr, op, \"\");\r\n            group.addCondition(cond);\r\n        }\r\n        parent.addCondition(group);\r\n        return group;\r\n    };\r\n    QueryEx.prototype.addExtraConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        descriptor.parent = descriptor.parent || this.extraConditions;\r\n        if (!lcv.__kt)\r\n            return _super.prototype.addExtraConditionGroup.call(this, descriptor, addChildCondition);\r\n        return this.addConditionGroup(descriptor);\r\n    };\r\n    return QueryEx;\r\n}(Query));\r\nexport { QueryEx };\r\n//# sourceMappingURL=query_ex.js.map","var EqServerQueryStorage = /** @class */ (function () {\r\n    function EqServerQueryStorage(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerQueryStorage.prototype.init = function () {\r\n    };\r\n    EqServerQueryStorage.prototype.newQuery = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var model = this.context.getModel();\r\n        var modelId = options.modelId || (model ? model.getId() : \"\");\r\n        var requestData = {\r\n            'query': query.toJSONData()\r\n        };\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('NewQuery', { modelId: modelId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, requestData)\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.getQueryList = function (options) {\r\n        options = options || {};\r\n        var modelId = options.modelId || this.context.getModel().getId();\r\n        var url = this.context.resolveEndpoint('GetQueryList', { modelId: modelId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.get(url)\r\n            .then(function (responseData) {\r\n            if (!responseData.queries) {\r\n                return Promise.reject({\r\n                    message: 'Wrong response format'\r\n                });\r\n            }\r\n            return responseData.queries;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.loadQuery = function (options) {\r\n        options = options || {};\r\n        var model = this.context.getModel();\r\n        var query = this.context.getQuery();\r\n        var modelId = options.modelId || model.getId();\r\n        var queryId = options.queryId || query.getId();\r\n        var url = this.context.resolveEndpoint('GetQuery', { modelId: modelId, queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.get(url)\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.saveQuery = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var queryId = options.queryId || query.getId();\r\n        if (options.queryId) {\r\n            query.setId(options.queryId);\r\n        }\r\n        var modelId = options.modelId || query.getModel().getId();\r\n        var queryName = options.name || query.getName();\r\n        if (options.queryId) {\r\n            query.setId(options.queryId);\r\n        }\r\n        var requestData = {\r\n            'query': query.toJSONData(),\r\n            'name': queryName\r\n        };\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('SaveQuery', { modelId: modelId, queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.put(url, requestData)\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.removeQuery = function (options) {\r\n        options = options || {};\r\n        var context = this.context;\r\n        var query = context.getQuery();\r\n        var modelId = options.modelId || query.getModel().getId();\r\n        var queryId = options.queryId || query.getId();\r\n        var requestData = {\r\n            'modelId': modelId,\r\n            'queryId': queryId\r\n        };\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('RemoveQuery', { modelId: modelId, queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.delete(url, requestData).getPromise();\r\n    };\r\n    return EqServerQueryStorage;\r\n}());\r\nexport { EqServerQueryStorage };\r\n//# sourceMappingURL=eqs_query_storage.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DataModel, Tree } from \"@easyquery/core\";\r\nimport { QueryEx } from \"../query/query_ex\";\r\nimport { lcv } from \"../utils/lcv\";\r\nvar DataModelEx = /** @class */ (function (_super) {\r\n    __extends(DataModelEx, _super);\r\n    function DataModelEx() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DataModelEx.prototype.buildQueryPath = function (query) {\r\n        if (!lcv.__kt)\r\n            return _super.prototype.buildQueryPath.call(this, query);\r\n        if (this.mainEntity)\r\n            return _super.prototype.buildQueryPath.call(this, query);\r\n        var entities = this.getEntitiesInQuery(query);\r\n        if (entities.length == 0) {\r\n            throw Error(\"Cannon build path. Path is empty\");\r\n        }\r\n        var tree = new Tree(entities[0]);\r\n        for (var i = 1; i < entities.length; i++) {\r\n            var entity = entities[i];\r\n            if (tree.contains(entity)) {\r\n                continue;\r\n            }\r\n            var path = this.findPath(tree.value, entity);\r\n            if (path != null) {\r\n                //Add path to tree\r\n                tree = this.addPathToTree(tree, (path[0] === tree.value) ? path.slice(1) : path);\r\n            }\r\n            else {\r\n                throw Error(\"Unable to build query. Cannot build path.\");\r\n            }\r\n        }\r\n        tree.setParents();\r\n        return tree;\r\n    };\r\n    DataModelEx.prototype.addPathToTree = function (tree, path) {\r\n        if (path.length == 0) {\r\n            return;\r\n        }\r\n        var pathAdded = false;\r\n        for (var _i = 0, _a = tree.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            if (child.value === path[0]) {\r\n                pathAdded = true;\r\n                if (path.length > 1)\r\n                    child = this.addPathToTree(child, path.slice(1));\r\n                break;\r\n            }\r\n        }\r\n        if (!pathAdded) {\r\n            var link = this.findLink(tree.value, path[0]);\r\n            if (link) {\r\n                var newNode = new Tree(path[0]);\r\n                tree.addChild(newNode);\r\n                if (path.length > 1)\r\n                    newNode = this.addPathToTree(newNode, path.slice(1));\r\n            }\r\n            else if (!tree.parent) {\r\n                var node = new Tree(tree);\r\n                tree = new Tree(path[0]);\r\n                tree.addChild(node);\r\n                if (path.length > 1)\r\n                    tree = this.addPathToTree(tree, path.slice(1));\r\n            }\r\n            else {\r\n                throw Error(\"Unable to build query. Cannot build path.\");\r\n            }\r\n        }\r\n        return tree;\r\n    };\r\n    DataModelEx.prototype.findPath = function (entityFrom, entityTo) {\r\n        var curPath = [];\r\n        var curStep = [];\r\n        var nextStep = [];\r\n        var passedEntities = [];\r\n        var pathFound = false;\r\n        curPath.push(entityFrom);\r\n        curStep.push(curPath);\r\n        passedEntities.push(entityFrom);\r\n        while (!pathFound) {\r\n            nextStep = [];\r\n            for (var _i = 0, curStep_1 = curStep; _i < curStep_1.length; _i++) {\r\n                var path = curStep_1[_i];\r\n                pathFound = this.checkPath(path, entityTo, nextStep, passedEntities);\r\n                if (pathFound) {\r\n                    path.push(entityTo);\r\n                    curPath = path;\r\n                    break;\r\n                }\r\n            }\r\n            curStep = [];\r\n            if (!pathFound) {\r\n                if (nextStep.length == 0)\r\n                    return null;\r\n                //copy nextStep to curStep\r\n                for (var _a = 0, nextStep_1 = nextStep; _a < nextStep_1.length; _a++) {\r\n                    var path = nextStep_1[_a];\r\n                    curStep.push(path);\r\n                }\r\n            }\r\n        }\r\n        return curPath;\r\n    };\r\n    DataModelEx.prototype.checkPath = function (path, entityTo, nextStep, passedEntities) {\r\n        var endPoint = path[path.length - 1];\r\n        var entityLinks = this.getLinksByEntity(endPoint);\r\n        for (var _i = 0, entityLinks_1 = entityLinks; _i < entityLinks_1.length; _i++) {\r\n            var link = entityLinks_1[_i];\r\n            var entity2 = null;\r\n            if (link.entityFrom == endPoint) {\r\n                entity2 = link.entityTo;\r\n            }\r\n            else {\r\n                entity2 = link.entityFrom;\r\n            }\r\n            if (entity2 == entityTo) { //if reach the destination\r\n                nextStep = [];\r\n                return true;\r\n            }\r\n            //if destination is not reached yet we add current node (entity2) to the path and proceed\r\n            if (path.indexOf(entity2) < 0 && passedEntities.indexOf(entity2) < 0) { //to prevent cycling\r\n                passedEntities.push(entity2);\r\n                var newPath = new Array();\r\n                newPath = newPath.concat(path);\r\n                newPath.push(entity2);\r\n                nextStep.push(newPath);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    DataModelEx.prototype.createQuery = function () {\r\n        return new QueryEx(this);\r\n    };\r\n    return DataModelEx;\r\n}(DataModel));\r\nexport { DataModelEx };\r\n//# sourceMappingURL=model_ex.js.map","import { EasyDataTable } from '@easydata/core';\r\nimport { ExprTag, Query, EqTotalsContainer } from '@easyquery/core';\r\nvar EqTotalsCalculator = /** @class */ (function () {\r\n    function EqTotalsCalculator(context) {\r\n        this.context = context;\r\n        this.totals = null;\r\n    }\r\n    EqTotalsCalculator.prototype.getTotals = function () {\r\n        return this.totals;\r\n    };\r\n    EqTotalsCalculator.prototype.calculate = function (options) {\r\n        options = options || {};\r\n        options.maxLevel = options.maxLevel >= 0\r\n            ? options.maxLevel : 0;\r\n        this.totals = new EqTotalsContainer(this.context);\r\n        var levelPromises = [];\r\n        var query = new Query(this.context.getModel());\r\n        query.loadFromData(this.context.getQuery().toJSONData());\r\n        var columns = query.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag == ExprTag.EntityAttribute; });\r\n        // remove last no-aggr column\r\n        var col = columns.pop();\r\n        if (col)\r\n            query.removeColumn(col, null);\r\n        for (var i = 0; i < columns.length; i++) {\r\n            columns[i].enabled = false;\r\n        }\r\n        levelPromises.push(this.processLevel(0, query, options.resultsObtained));\r\n        //totals\r\n        var level = 1;\r\n        var colIdx = 0;\r\n        while (colIdx < columns.length && level <= options.maxLevel) {\r\n            columns[colIdx].enabled = true;\r\n            levelPromises.push(this.processLevel(level, query, options.resultsObtained));\r\n            colIdx++;\r\n            level++;\r\n        }\r\n        return Promise.all(levelPromises)\r\n            .then(function () { return; })\r\n            .catch(function (error) { console.error(error); });\r\n    };\r\n    EqTotalsCalculator.prototype.processLevel = function (level, query, resultsObtained) {\r\n        var _this = this;\r\n        var fetcher = this.context.getServices()\r\n            .getDataFetcher();\r\n        return fetcher.fetchData({\r\n            query: query\r\n        }).then(function (result) {\r\n            var dataTable = new EasyDataTable({\r\n                chunkSize: _this.context.resultTable.chunkSize\r\n            });\r\n            var resultSet = result.resultSet;\r\n            for (var _i = 0, _a = resultSet.cols; _i < _a.length; _i++) {\r\n                var col = _a[_i];\r\n                dataTable.columns.add(col);\r\n            }\r\n            dataTable.setTotal(result.meta.totalRecords);\r\n            for (var _b = 0, _c = resultSet.rows; _b < _c.length; _b++) {\r\n                var row = _c[_b];\r\n                dataTable.addRow(row);\r\n            }\r\n            var levelData = _this.buildLevelData(dataTable);\r\n            _this.totals.setTotals(level, levelData);\r\n            if (resultsObtained) {\r\n                resultsObtained(level);\r\n            }\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n    };\r\n    EqTotalsCalculator.prototype.buildLevelData = function (dataTable) {\r\n        var data = new Map();\r\n        var curQuery = this.context.getQuery();\r\n        var keyColumns = curQuery.getUsedInTotalsColumns();\r\n        var valueColumns = curQuery.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag == ExprTag.AggregateFunction; });\r\n        for (var _i = 0, _a = dataTable.getCachedRows(); _i < _a.length; _i++) {\r\n            var row = _a[_i];\r\n            var key = {};\r\n            var value = {};\r\n            for (var _b = 0, keyColumns_1 = keyColumns; _b < keyColumns_1.length; _b++) {\r\n                var keyCol = keyColumns_1[_b];\r\n                var colIdx = dataTable.columns.getIndex(keyCol.id);\r\n                if (colIdx >= 0)\r\n                    key[keyCol.id] = row.getValue(keyCol.id);\r\n            }\r\n            for (var _c = 0, valueColumns_1 = valueColumns; _c < valueColumns_1.length; _c++) {\r\n                var valueCol = valueColumns_1[_c];\r\n                value[valueCol.id] = row.getValue(valueCol.id);\r\n            }\r\n            data.set(JSON.stringify(key), value);\r\n        }\r\n        return data;\r\n    };\r\n    return EqTotalsCalculator;\r\n}());\r\nexport { EqTotalsCalculator };\r\n//# sourceMappingURL=eqs_totals_calculator.js.map","import './extensions';\r\nexport * from './data/eqs_totals_calculator';\r\nexport * from './query/query_ex';\r\nexport * from './query/column_ex';\r\nexport * from './query/condition_ex';\r\nexport * from './dm/model_ex';\r\nexport * from './main/eqs_query_storage';\r\n//# sourceMappingURL=public_api.js.map"],"sourceRoot":""}