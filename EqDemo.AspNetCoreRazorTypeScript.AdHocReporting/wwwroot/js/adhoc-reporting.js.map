{"version":3,"sources":["webpack://easyreport/webpack/bootstrap","webpack://easyreport/./node_modules/@easydata/core/dist/lib/types/data_type.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/types/entity_attr_kind.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/types/editor_tag.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_method.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_request.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/i18n/i18n.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/utils/utils.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/utils/string_utils.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_action_result.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/http/http_client.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/meta/meta_entity.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/meta/value_editor.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/meta/meta_data.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/data/data_column.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/data/data_row.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/data/easy_data_table.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/utils/easy_guid.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/event/event_emitter.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/i18n/load_default_locale_settings.js","webpack://easyreport/./node_modules/@easydata/core/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/ui-utils.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/dom_elem_builder.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/mask.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/drag_manager.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/grid/easy_grid_cell_renderer.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/grid/easy_grid_columns.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/grid/easy_grid.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/calendar.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/date_time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/default_calendar.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/default_time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/datetimepicker/default_date_time_picker.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/dialogs/default_dialog_service.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/i18n/text_resources.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/link_type.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/utils.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/constants.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/format_parser.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/aggr_function.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/value_editor.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/data_kind.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/operator.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/expr_tag.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/entity.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/eq_editor_tag.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/common/tree.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/query_events.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/column.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/dm/data_model.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/expression.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/cond_tag.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/cond_part.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/condition.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/types/widget_group.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/eq_actions.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/messages.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/query/query.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/query_storage.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/model_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_model_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_query_executor.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_query_synchronizer.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_value_list_resolver.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_query_file_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/data/eq_totals_container.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/common/eq_services.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/data/eq_data_loader.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/eqs/eqs_exporter.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/context.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/main/widget.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/utils/version_info.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/i18n/text_resources.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/browser_utils.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/utils.js","webpack://easyreport/./node_modules/css-loader/dist/runtime/api.js","webpack://easyreport/./node_modules/style-loader/lib/addStyles.js","webpack://easyreport/./node_modules/@easydata/ui/dist/lib/utils/browser_utils.js","webpack://easyreport/./node_modules/@easyquery/core/dist/lib/data/google_data_converter.js","webpack://easyreport/./ts/styles.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery.css?4782","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery.css","webpack://easyreport/./node_modules/style-loader/lib/urls.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-icons-default.css?af1a","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-icons-default.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery-mobile.css?97a4","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyquery-mobile.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eqview.css?3039","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eqview.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easychart.css?4c7e","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easychart.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid.css?b14a","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid-mobile.css?c32c","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/eq-grid-mobile.css","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyfacets.css?ebb7","webpack://easyreport/./node_modules/@easyquery/ui/dist/assets/css/easyfacets.css","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-grid.css?91c4","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-grid.css","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-dialog.css?386a","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-dialog.css","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-forms.css?7af2","webpack://easyreport/./node_modules/@easydata/ui/dist/assets/css/easy-forms.css","webpack://easyreport/./ts/adhoc-reporting.ts","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/entities_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/popup_menu.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/display_format_parser.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/types/qp_editable_part.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/simple_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/aggrfunc_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnspanel/customsql_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/columns_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnsbar/column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnsbar/simple_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/columnsbar/aggrfunc_column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/columns_bar.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/sortingbar/column_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/sorting_bar.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/text_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/condition_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/dropdown.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/condition_group_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/types/facet_type.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/base_element_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/input_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/list_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/attribute_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/dropdown_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/addrow_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/operator_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/datetime_expression_render.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/subquery_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/renderers/querypanel/bind_to_parent_column_expression_renderer.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/query_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/filter_bar.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/html_content_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/eq_result_html_grid.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/grid.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/easy_grid_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/statement_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/process_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/manage_drilldown_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/result_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_type.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/dialog/totals_dialog.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/datatable_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/pivot_table_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_widget_chartjs.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/charts/chart_widget_google.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/facets/chart_facet_tab.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/dialog/export_dialog.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/result_facets_panel.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/export_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/locale_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/widgets/queryname_widget.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/utils/options_converter.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/adv_search_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/data_filter_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/html_data_filter_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/views/report_view.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/i18n/text_resources.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/extensions.js","webpack://easyreport/./node_modules/@easyquery/ui/dist/lib/public_api.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/utils/lcv.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/query/condition_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/extensions.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/query/column_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/query/query_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/main/eqs_query_storage.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/dm/model_ex.js","webpack://easyreport/./node_modules/@easyquery/enterprise/dist/lib/data/eqs_totals_calculator.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","DataType","EntityAttrKind","HttpMethod","EditorTag","Unknown","Edit","DateTime","List","CustomList","HttpRequest","xhr","descriptor","this","method","url","headers","queryParams","data","setHeader","setQueryParam","getXMLHttpRequest","getResponseHeaders","readyState","HEADERS_RECEIVED","headerMap","_i","arr_1","getAllResponseHeaders","trim","split","length","parts","header","shift","join","open","_this","UNSENT","keys","encodeURI","map","param","setRequestHeader","abort","repeatString","str","times","result","i18n","currentLocale","defaultTexts","ButtonOK","ButtonCancel","englishUSLocaleSettings","shortDateFormat","longDateFormat","editDateFormat","shortTimeFormat","editTimeFormat","longTimeFormat","shortMonthNames","longMonthNames","shortWeekDayNames","longWeekDayNames","decimalSeparator","defaultLocale","localeId","englishName","displayName","texts","settings","allLocales","mappers","mapInfo","info","mappers_1","mapper","setCurrentLocale","newLocale","assignDeep","getLocaleSettings","updateLocaleSettings","settingsToUpdate","updateLocaleInfo","localeData","localeInfoToUpdate","loadBrowserLocaleSettings","now","dateStr","timeStr","dateFormat","timeFormat","lang","navigator","language","undefined","Date","toLocaleDateString","year","month","day","toLocaleTimeString","hour","minute","second","replace","addMapper","push","getLocales","locale","sort","a","b","getCurrentLocale","setLocale","console","warn","getText","args","arguments","textsObj","resText","argLength","getOneLocaleSetting","getShortMonthName","monthNum","getLongMonthName","getShortWeekDayName","dayNum","toString","getLongWeekDayName","updateLocaleTexts","error","updateDefaultTexts","addLocale","localeInfo","resetLocales","dateTimeToStr","dateTime","dataType","format","localeSettings","Time","numberToStr","number","utils","getAllDataTypes","values","getDateDataTypes","getStringDataTypes","String","Memo","_numericTypes","Byte","Word","Int32","Int64","Float","Currency","_intTypes","assignDeepCore","hashSet","target","sources","sources_1","source","sourceVal","has","Array","isArray","createArrayFrom","set","getPrototypeOf","collection","collection_1","item","assign","WeakMap","getIfDefined","defaultValue","IsDefinedAndNotNull","copyArrayTo","collection1","collection2","len1","len2","findItemById","array","id","arrLength","idx","findItemIndexById","indexOfArrayItem","arr","indexOf","len","moveArrayItem","index1","index2","splice","removeArrayItem","index","insertArrayItem","fillArray","start","end","relativeStart","k","Math","max","min","relativeEnd","final","shiftToFitWindow","absLeft","width","body","document","getElementsByTagName","winWidth","window","innerWidth","documentElement","clientWidth","absRight","isObject","val","isNumericType","dtype","isIntType","isNumeric","isNaN","parseFloat","isFinite","areCompatibleDataTypes","type1","type2","isPropSet","obj","propName","toLowerCase","toUpperCase","symbols","squeeze","maxlen","step","nextIndex","ch","replaceAtString","substr","getRandomInt","floor","random","safeParseInt","test","parseInt","generateId","prefix","prfx","pml","ptt","squeezeMoniker","randValue","maxSymbolIndex","buffer","rest","reverse","intToNum36","getTime","strToDateTime","normalized","formatItems","dateItems","monthIndex","dayIndex","yearIndex","hourIndex","minutesIndex","secondsIndex","today","getFullYear","getMonth","getDate","getDaysInMonth","_a","DT_FORMAT_RGEX","date","getHours","getMinutes","getSeconds","hour12","isPm","matches","yyyy","MMMM","MMM","MM","M","dd","HH","H","hh","h","tt","mm","ss","match","$1","extendStatics","HttpActionResult","request","promise","getPromise","getRequest","then","onfulfilled","onrejected","catch","finally","onfinally","__extends","setPrototypeOf","__proto__","__","constructor","__assign","apply","HttpResponseError","_super","status","message","Error","HttpClient","defaultHeaders","customPayload","options","send","Get","post","Post","put","Put","delete","Delete","contentType","XMLHttpRequest","desc","beforeEachRequest","onRequest","dataToSend","JSON","stringify","Promise","resolve","reject","onreadystatechange","responseObj","getResponseHeader","parse","responseText","MetaEntity","parent","caption","description","attributes","subEntities","loadFromData","model","dto","captionPlural","namePlur","ents","newEntity","createEntity","attrs","newAttr","createEntityAttr","scan","processAttribute","processEntity","opts","stop","internalProcessEntity","entity","attrCount","attr","subEntityCount","MetaEntityAttr","size","isPrimaryKey","isForeignKey","isNullable","showOnView","isEditable","showOnCreate","showOnEdit","showInLookup","lookupAttr","expr","kind","Data","cptn","ipk","ifk","lattr","lookupEntity","lent","dataAttr","dattr","lookupDataAttr","ldattr","nul","ied","ivis","sov","soc","soe","sil","udata","userData","edtr","defaultEditor","getEditorById","createValueEditor","ValueEditor","tag","resType","defValue","defval","rtype","subType","getValueText","text","_b","_c","substring","MetaData","mainEntity","rootEntity","getMainEntity","loadFromJSON","stringJson","version","vers","editors","newEditor","entroot","setData","isEmpty","getId","getName","getRootEntity","editorId","editor","getAttributeById","attrId","getEntityAttrById","checkAttrProperty","attribute","res","listByEntityWithFilter","filterFunc","ent","entIdx","newEnt","items","isEntity","attrIdx","listByEntity","resultEntities","resultAttributes","newOpts","includeRootData","sortCheck","sortEntities","attrPlacement","concat","clear","addDefaultValueEditors","addOrUpdateValueEditor","ve","getEntitiesTree","getEntitiesTreeWithFilter","getFullEntityPathByAttr","sep","getEntityPathByAttr","root","entityCaption","entityText","getAttributeText","attrText","entityPath","RegExp","runThroughEntities","getFirstAttributeByFilter","label","type","isAggr","DataColumnList","_dateColumnIdx","configurable","add","colOrDesc","col","updateDateColumnIdx","getItems","filter","move","newIndex","oldIndex","getIndex","getDateColumnIndexes","removeAt","removeDate","DataRow","columns","toArray","from","getValue","colIdOrIndex","RangeError","setValue","EasyDataTable","_chunkSize","chunkMap","total","loader","needTotal","chunkSize","_columns","colDesc","rows","rowData","row","createRow","addRow","getRows","params","fromIndex","count","pageSize","page","offset","limit","endIndex","lbChunk","trunc","upChunk","allChunksCached","resultArr","slice","loadChunk","chunks","table","getCachedChunks","chunks_1","chunk","getRow","getTotal","setTotal","getCachedCount","getCachedRows","dataOrRow","dateIdx","colId","forEach","column","rowOrValue","newRow","dateIdx_1","lastChunk","getLastChunk","createChunk","cachedTotal","getLastChunkIndex","reduce","acc","v","EasyGuid","newGuid","EventEmitter","silentMode","events","subscribe","eventType","callback","event","getEventRecByType","eventCallback","eventCallbacks","unsubscribe","callbackId","fire","postpone","force","eventRec","eqevent_1","emitAllFunc","setTimeout","enterSilentMode","exitSilentMode","isSilent","event_1","x","NaN","ceil","addElement","element","createElement","cssClass","className","appendChild","addCssClass","hideElement","style","display","showElement","toggleVisibility","first","duration","complete","isVisible","offsetWidth","offsetHeight","createBrowserEvent","eventName","Event","createEvent","initEvent","getViewportSize","height","clientHeight","innerHeight","getScrollPos","docElem","top","pageYOffset","scrollTop","left","pageXOffset","scrollLeft","getElementAbsolutePos","y","position","box","getBoundingClientRect","right","bottom","scollPos","clientTop","clientLeft","round","getWinSize","slideDown","removeProperty","getComputedStyle","overflow","paddingTop","paddingBottom","marginTop","marginBottom","boxSizing","transitionProperty","transitionDuration","slideUp","DomElementBuilder","parentElement","addChild","childBuilder","builder","domel","addChildElement","attrValue","setAttribute","title","dataId","dataValue","removeAttribute","show","removeStyle","hide","toHide","setStyle","visible","getClientRects","addClass","classNames","fullList","classList","removeClass","remove","toggleClass","toggle","on","listener","eventTypes","addEventListener","off","removeEventListener","styleId","styleValue","setProperty","innerText","html","innerHTML","oldElem","tagName","replaceWith","addText","textEl","createTextNode","addHtml","toDOM","appendTo","DomInputElementBuilder","valueAsDate","valueAsNumber","mask","maskPattern","input","9","inputHandler","e","mskd","startSelection","selectionStart","el","charAt","selectionEnd","keyCode","preventDefault","selection","onlyLodash","dispatchEvent","char","fromCharCode","charCode","mskd_1","selectionStart_1","selection_1","event_2","DomSelectElementBuilder","addOption","option","selected","HTMLDivElement","HTMLSpanElement","HTMLAnchorElement","HTMLButtonElement","HTMLImageElement","HTMLInputElement","HTMLSelectElement","DropEffect","touchEventIsDefined","TouchEvent","CellRendererType","EqDragEvent","dragImage","sourceEvent","dropEffect","Allow","pageX","pageY","MouseEvent","touches","Position","ev","eqDragManager","DragManager","delta","draggableItem","finishedSuccessfully","mouseDownPosition","containerDescriptors","containerDescriptorIndex","None","classPrefix","DRAG_DISABLED_ATTR","registerDraggableItem","ondragstart","detectDragging","hasAttribute","stopPropagation","cursorPosition","abs","startDragging","mouseMoveEventListener","mouseMoveDragListener","beforeDragStart","cloneNode","renderer","updateCusror","updateImageClass","scope","updateDragItemPosition","onDragStart","mouseDownListener","mouseUpListener","endDraggind","dropContDesc","container","scopes","onDrop","onDragLeave","onDragEnd","removeChild","registerDropContainer","removeDropContainer","descriptorOrSlot","descs","descs_1","detectDragEnterEvent","dragEnterEvent","detectDragLeaveEvent","dragLeaveEvent","event_3","onDragOver","setCursorStyle","Forbid","cursor","children","pos","event_4","onDragEnter","event_5","containerPos","GridColumnAlign","StringCellRendererDefault","cellElement","rowElement","cssPrefix","NumberCellRendererDefault","strValue","toLocaleString","align","NONE","DateTimeCellRendererDefault","isDate","timeOptions","BoolCellRendererDefault","GridCellRendererStore","renderers","defaultRenderers","registerRenderer","setDefaultRenderer","STRING","NUMBER","DATETIME","BOOL","getDefaultRenderer","columnType","cellType","getCellType","getDefaultRendererByType","rendererType","getRenderer","Autoinc","Bool","GridColumn","grid","isRowNum","_label","dataColumn","coltype","cellRendererStore","cellRenderer","onGetCellRenderer","GridColumnList","columnList","sync","hasRowNumCol","rowNumCol","onSyncGridColumn","EasyGrid","pagination","paginationOptions","maxButtonCount","useBootstrap","defaultDataGridOptions","slot","dataTable","fixHeightOnFirstRender","syncGridColumns","useRowNumeration","allowDragDrop","totals","calcGrandTotals","calculator","paging","enabled","addColumns","viewportRowsCount","showActiveRow","rowsOnPagePromise","containerInitialHeight","firstRender","prevRowTotals","landingIndex","landingSlot","_activeRowIndex","eventEmitter","setSlot","init","getElementById","getElementsByClassName","onInit","onRowClick","onRowDbClick","onAddColumnClick","onColumnChanged","onColumnDeleted","onColumnMoved","onPageChanged","onActiveRowChanged","activeRowIndex","_","eqCssPrefix","showLandingSlot","hideLandingSlot","refresh","fireEvent","columnId","getData","getColumns","destroy","clearDOM","render","hasData","rootDiv","renderHeader","headerDiv","renderBody","bodyDiv","renderFooter","footerDiv","gridContainer","updateHeight","firstRow","bodyCellContainerDiv","firstElementChild","bodyHeight_1","sbHeight","bodyViewportDiv","bodyHeight","headerViewportDiv","headerCellContainerDiv","headerRowDiv","hd","renderColumnHeader","renderAddColumnButton","containerWidth","sum","current","colBuilder","colDiv","attrLabel","showProgress","getRowsToRender","hideProgress","calcTotals_1","calcTotals","keyCols_1","getTotalsKeyCols","updateTotalsState","tr","renderRow","isLastPage","onVieportKeydown","calcSubTotalsCols","cols","calcSubTotals","prev","keyCols","pop","isLast","changeLevel","totalsOpts","renderTotalsRow","level","colIndex","getTotalsTitle","renderCell","getTotals","fillTotals","rowCount","querySelectorAll","newValue","ensureRowVisibility","rowOrIndex","getDataRow","rowRect","viewportRect","rowTop","rowBottom","viewportHeight","windowHeight","footerPaginateDiv","renderPageNavigator","pageInfoBlock","renderPageInfoBlock","pageInfoDiv","fistPageRecordNum","lastPageRecordNum","getLocalIndexByGlobal","getGlobalIndexByLocal","indexGlobal","rowBuilder","rowIndex","colindex","LEFT","RIGHT","CENTER","paginateDiv","pageIndex","pageCount","buttonClickHandler","getAttribute","focus","zeroBasedIndex","firstPageIndex","lastPageIndex","ul","li","newA","handler","handlerId","addColumnsTitle","colElems","rowElem","landingPos","newLandingIndex","cols_1","colPos","insertBefore","oldValue","updateActiveRow","activeRow","getActiveRow","Calendar","yearRange","setDate","currentDate","dateChanged","onDateChanged","DateTimePicker","calendar","timePicker","setDateTime","currentDateTime","setTime","getDateTime","showCalendar","createCalendar","showDateTimeInput","timePickerIsUsed","showTimePicker","oneClickDateSelection","dateTimeChanged","createTimePicker","onTimeChanged","time","setHours","setMinutes","anchor","beforeShow","onApply","cancel","onCancel","onDateTimeChanged","DefaultCalendar","daysOfWeek","months","calendarBody","isManualInputChanging","selectedMonth","selectedYear","rerenderMonth","renderManualDateInput","headerTextElem","renderCalendarButtons","getInputDateFormat","newDate","manualInputElem","jump","updateDisplayedDateValue","selectMonthElem","_loop_1","selectYearElem","next","rerenderSelectYear","exec","minusYear","plusYear","op","firstDay","getDay","daysInMonth","setFullYear","setMonth","dayOfWeek","cellsDrawnInLastRow","cellsToDraw","TimePicker","currentTime","timeChanged","DefaultTimePicker","updateDisplayedTime","hoursInput","minutesInput","timeText","slidersBuilder","timeToDraw","DefaultDateTimePicker","renderButtons","globalMouseDownHandler","srcElement","contains","nowButton","submitButton","calendarSlot","timePickerSlot","anchorPos","parentPos","DefaultDialogService","openConfirm","content","closable","submitable","cancelable","onSubmit","openPrompt","defVal","submitOnEnter","arrangeParents","beforeOpen","processInput","dlg","DefaultDialog","submitHandler","cancelHandler","keydownHandler","isActiveDialog","footer","getRootElement","windowDiv","querySelector","submit","close","disableButtons","button","disabled","enableButtons","showAlert","reason","alert","onDestroy","windowDivs","turnOn","GridPageInfo","ButtonApply","ButtonNow","LinkType","equtils","eqconsts","FormatParser","formatStr","exprNum","tokenText","skipSpaces","npos","token","npos1","npos2","getToken","combinePath","path1","path2","strToLinkType","All","NotAll","Any","linkTypeToStr","parseOperatorFormat","operator","displayFormat","convertValue","fromDataType","toDataType","resInt","resFloat","ConstLists","SpecDateValues","isDefault","SpecTimeValues","BooleanValues","constLists","predicateLinkTypeList","DataKind","AggrFunction","sqlExpr","appliedTypes","aggrFunction","fmt","dtypes","EqValueEditor","sql","statement","extraParams","ExprTag","Operator","constValueFormat","isRange","caseIns","paramCount","defaultOperand","operands","pcnt","defOperand","newOperand","Operand","Scalar","operand","defText","txt","copyFrom","src","Entity","useInConditions","useInResult","useInSorting","uic","uir","uis","EntityAttr","defaultOperator","operators","defOperator","ops","EqEditorTag","SqlList","SubQuery","BindToParentColumn","QueryChangePart","QueryChangeAction","SortDirection","Tree","childs","findNode","child","setParents","DataModel","aggrFunctions","dateMacros","timeMacros","links","newOperator","aggrfuncs","newAggrFunc","getObject","createQuery","_listByEntityWithFilter","_listByEntity","addUIC","addUIR","addUIS","addOrUpdateOperator","removeOperator","soft","getOperatorIdsByDataType","Guid","BCD","buildQueryPath","query","tree","createTreeNodeFromEntity","subEnentity","getEntitiesInQuery","entities","columns_1","addEntityByExpression","rootCond","getRootCondition","fillEntitiesByCondtionGroup","getConditions","condition","isGroup","expressions","_d","_e","arg","EntityAttribute","baseAttrId","findLink","entityFrom","entityTo","link","getLinksByEntity","getFirstUICAttr","getFirstUICAttrInEntity","findOperatorById","operatorId","opCount","getOperatorById","getDefaultOperatorIdForAttr","getAggrFunctionCaption","funcId","funcTexts","funcCaption","func","getAggrFunctionFormat","funcFormat","getDefaultOperatorForAttr","getOperand","Query","getAggrFunctions","getDateMacroValue","macro","isDateMacro","getDateOrMacroValue","macroValue","getTimeMacroValue","isTimeMacro","getTimeOrMacroValue","getAllDateMacros","getAllTimeMacros","Expression","Constant","_value","distinct","_isDefaultValue","getParent","getModel","getQuery","Attribute","ParentEntityAttribute","subQuery","loadFromDataOrJson","saveToData","toJSONData","getExpressionIndex","silent","setContent","expressionChanged","hasText","tryCopyValueFrom","CondTag","ConditionPart","Column","justsorted","_isHidden","_id","sorting","sortIndex","blockId","isReadOnly","isJustSorted","setReadOnly","isHidden","setHidden","colData","srt","srtidx","hidden","fireChangedEvent","part","SortingColumns","Columns","action","Modify","changee","WidgetGroup","EqAction","EqActionResult","Condition","linkType","justAdded","conditions","_enabled","cond","setParent","Group","getLevel","isParameterized","setParameterized","isInJoin","setInJoin","clearConditions","addCondition","removeConditionAt","Simple","exprs","newExpr","linking","condPart","Conditions","tuneOperatorForAttr","getOperatorId","setOperatorId","newOperatorId","oldOperatorId","tuneValueExpressions","oldAttrId","exprCount","oldOperator","oldOperand","valExpr","createValueExpr","oldExpr","areCompitableEditors","oldEditor","addExpressionByOperand","valueNotDefined","defAttr","InvalidQueryError","captureStackTrace","extraData","innerData","isNewbie","_isModified","parentQuery","drillDowns","extraConditions","regenerateId","setDefaultName","modelId","modelName","attributeExprTag","attrTag","clientListRequestHandler","serverListRequestHandler","timezoneOffset","getTimezoneOffset","isModified","resetModified","isEx","reset","clearQuery","hasEnabledAggrColumns","AggregateFunction","setName","validate","CustomSql","validateConditionGroup","getAggregatedColumns","tryValidate","curCond","checkExpressions","values_1","parsedVal","changeStatus","loadFromJson","json","clearDrillDowns","conds","condData","createCondition","justsortcols","newCol","createColumn","dds","addDrillDown","getDrillDowns","getParentQuery","findColumnById","setModel","loadModelData","toJSON","rootCondToData","condGroup","extraConds","isEmptyConditions","isEmptyColumns","clearColumns","clearExtraConditions","setId","getDescription","setDescription","getUsedInTotalsColumns","getJustSortedColumns","getSortedColumns","sortedCols","col1","col2","getColumnSortIndex","addColumn","author","newColumn","attributeId","aggrFuncId","cusomtSql","readonly","addColumnObj","changeColumnType","exprValue","sqlText","customSqlExpr","exprId","moveColumn","removeColumn","addConditionGroup","addChildCondition","addExtraConditionGroup","addSimpleCondition","createSimpleConditionObject","addSimpleExtraCondition","inputValues","attrExpr","valCount","valLength","removeColumns","columnsToRemove","justSortedColumns","removeFromArray","arrToRemove","ctrLen","fireProcessEvent","wasModified","eventData","fireColumnsChangedEvent","fireConditionsChangedEvent","runThroughConditions","processCondition","processGroup","predicate","getOneValueForAttr","opid","addProcessCallback","removeProcessCallback","addChangedCallback","removeChangedCallback","getConditionsText","getConditionGroupText","condText","conjKey","conjText","opId","plen","pi","BrowserQueryStorage","context","keyPrefix","queryListKey","queryKeyPrefix","getQueryList","itemsString","localStorage","getItem","err","newQuery","loadQuery","queryItem","queryId","saveQuery","queryList","setItem","removeQuery","queryId_1","removeItem","EqModelLoader","modelPromise","getContext","createModelLoadingPromise","modelLoadingResolveFunc","modelLoadingRejectFunc","getModelPromise","startModelLoading","sendLoadModelRequest","EqServerModelLoader","http","getServices","getHttpClient","resolveEndpoint","responseData","EqServerQueryExecutor","executeQuery","requestData","EqServerQuerySynchronizer","syncQuery","EqServerValueListResolver","loadValueList","listId","EqQueryFileLoader","getQueryFile","actionResult","blob","Blob","fileName","lastIndexOf","msSaveOrOpenBlob","href","URL","createObjectURL","download","click","revokeObjectURL","uploadQueryFile","EqTotalsContainer","levels","setTotals","getLevelDesc","recivedCallbacks","keyColumns","keyColumns_1","keyCol","processFunc","field","DefaultTotalCalculator","calculate","EqServiceProvider","modelLoader","queryStorage","querySynchronizer","queryExecutor","valueListResolver","queryFileLoader","totalCalculator","httpClient","modelResolver","queryResolver","modelLoaderResolver","queryStorageResolver","querySynchronizerResolver","vlrResolver","queryExecutorResolver","queryFileLoaderResolver","totalCalculatoResolver","createDataModel","getModelLoader","getQueryStorage","getQuerySynchronizer","getQueryExecutor","getValueListResolver","getQueryFileLoader","getTotalCalculator","registerDataModelResolver","resolver","registerQueryResolver","registerModelLoaderResolver","registerQueryStorageResolver","registerQueryExecutorResolver","registerQuerySyncronizerResolver","registerValueListResolver","registerQueryFileLoaderResolver","registerTotalCalculator","EasyQueryDataLoader","dataLoadPromise","fetchDataChunk","success","dataLoader","resultTable","resultSet","meta","totalRecords","hasNext","EqServerExporter","setFormat","export","filename","EqContext","internalListCache","loadModelOnStart","loadQueryOnStart","endpointVarsRegex","_predefinedListRequestHandlers","onResult","macroName","_listRequestHandler","listName","newParams","editorParams","procParams","attrPattern","prop","dynamicParam","paramValue","requestPrams","list","getListFromCache","processed","predefinedHandler","addListToCache","eqServices","widgets","exporters","Map","endpoints","registerExporter","getExporter","getExportFormats","addDefaultExporters","exporter","endpointKey","matches_1","opt","optVal","setEndpoint","setEnpointIfNotExist","setDefaultEndpoints","endpointBase","defaultQueryId","listCache","setExternalListCache","baseEndpoint","brokerOptions","broker","serviceUrl","endpoint","onLoadModel","beforeLoadModel","onLoadQuery","beforeLoadQuery","onSyncQuery","beforeSyncQuery","onExecuteQuery","beforeFetchData","onExportResult","beforeExportResult","handlers","onInitialModelLoad","onProcessStart","onProcessEnd","onError","msg","msgTitle","msgText","sourceError","listRequestHandler","beforeExecuteQuery","initialQuery","defaultModelId","useDefaultExporters","widget","widgetOptions","getWidgetType","loadDefaultModel","addWidget","getAllWidgetsByType","widgetType","getWidgetByType","refreshWidgets","groups","belongsToGroup","addQueryChangedCallback","removeQueryChangedCallback","dataModel","loadModelFromData","modelPlainData","setDefaultModelId","startProcess","endProcess","throwError","loadModel","Model","clearResult","resultStatement","resultContent","cache","externalListCache","getListCacheKey","resetListCache","getListRequestHandler","getBaseEndpoint","GetValueList","Result","Success","errorMessage","LoadModel","callWhenModelLoaded","callFunc","LoadQuery","Properties","loadQueryList","startQueryListLoading","LoadQueryList","queries","useStorage","onNewQuery","NewQuery","SaveQuery","RemoveQuery","SyncQuery","Statement","querySaved","q","QueryStatus","processQueryForTotals","Ascending","fetchData","GetQueryFile","UploadQueryFile","FetchData","maxLevel","fetchDrillDownData","exportResult","ExportResult","getDefaultTotalsSettings","prevEntity","getTotalsSettings","totalsSettings","wereTotalsColumnsChanged","setTotalsSettings","sCols","Widget","refreshCore","onProcessStartCore","onProcessEndCore","group","destroyCore","EqVersionInfo","major","minor","update","NewQueryName","Today","Yesterday","Tomorrow","FirstDayOfMonth","LastDayOfMonth","FirstDayOfWeek","FirstDayOfYear","FirstDayOfNextWeek","FirstDayOfNextMonth","FirstDayOfNextYear","Now","HourStart","Midnight","Noon","Entities","Attributes","Operators","AggreateFunctions","browserUtils","_isFirefox","_isIE","IsIE","eval","IsFirefox","ua","userAgent","_detectedIsMobileMode","_isMobileMode","detectIsMobileMode","isMobileMode","matchMedia","mobileModeChangeHandler","setIsMobileMode","onMobileModeChanged","getMobileCssClass","safeFocus","eqCssMobile","useSourceMap","cssMapping","btoa","sourceMapping","sourceMap","unescape","encodeURIComponent","sourceURLs","sourceRoot","cssWithMappingToString","mediaQuery","alreadyImportedModules","fn","memo","stylesInDom","isOldIE","all","atob","getTarget","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","addStyle","listToStyles","newStyles","base","css","media","insertStyleElement","insertInto","lastStyleElementInsertedAtTop","insertAt","nextSibling","firstChild","before","removeStyleElement","parentNode","createStyleElement","nonce","getNonce","addAttrs","transform","default","styleIndex","applyToSingletonTag","rel","createLinkElement","updateLink","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","replacement","Boolean","styleSheet","cssText","cssNode","childNodes","autoFixUrls","convertToAbsoluteUrls","oldSrc","IsEdge","GoogleDataConverter","tableObj","getNumberOfColumns","getNumberOfRows","getColumnObject","getColumnId","getColumnLabel","getColumnType","getColumnProperties","colType","googleDataTypeToDataType","includes","cell","convertTo","colCount","googleDataType","locals","location","baseUrl","protocol","host","currentDir","pathname","fullMatch","origUrl","newUrl","unquotedOrigUrl","ui_1","viewOptions","syncReportOnChange","showChart","enableExport","columnsBar","accentActiveColumn","allowAggrColumns","attrElementFormat","showColumnCaptions","adjustEntitiesMenuHeight","menuOptions","showSearchBoxAfter","activateOnMouseOver","queryPanel","alwaysShowButtonsInGroups","resultGrid","tableClass","formatGridCell","reportView","ReportView","setLicenseKeyEndpoint","useEnterprise","ColumnAction","EntitiesPanel","queryChangedCallbackId","panel","setOptions","renderProgressBlock","syncWithColumns","refreshCheckedStateByColumns","showIndicatorOnLoad","progressBlock","showToolbar","showSelectAllButton","showClearSelectionButton","showAddColumnButton","showAddConditionButton","showCheckboxes","showTooltips","draggableAttributes","showAttributes","showFilterBox","filterBoxMode","autoClearSelection","entityRenderedCallback","attributeRenderedCallback","edata","rootEntityBlock","entTree","entityTreeBlock","renderEntity","createFilterBox","createToolPanel","block","entityBlock","entityNode","entityChildren","nodeLabel","nodeInput","attrNode","attrInput","nodeToggleButton","currentOffset","divElem","itemsLength","this_1","checkbox","currentTarget","checked","Add","checkboxes","attrList_2","attrElems_1","attrList_1","filterBoxBlock","filterBoxInput","checkFilterAttribute","attrs_1","displayAttrCount","i_1","collapseAll","expandAll","defClass","toolPanelBlock","toolSelectAll","toolDeselectAll","toolAddColumns","toolAddCond","toolLeftBlock","toolRightBlock","selectAll","deselectAll","attrElements","attrList","self","attrElement","attrList_3","attrId_1","attrList_4","attrId_2","attrCaption","textContent","checkFilterText","filterText","exprColumns_1","entChildren","entElem","nodeButtons","inputs","MenuLevel","isFilteringMode","showSelected","parentMenu","menu","parentLevel","levelIndex","levelDiv","domWriteItemsId","menuId","itemRenderedCallback","applyItem","itemDiv","activeItem","selectedItem","initialized","updated","renderContent","setItems","itemBgColor","colors","bgON","itemFgColor","fgON","itemFontFamily","bgOVER","itemStyle","fontFamily","itemFontSize","fontSize","multiselect","isSubQuery","baseDivBuilder","useDefaultStyles","border","zIndex","baseDiv","applyDiv","applyBtn","borderBottom","padding","applyTextNode","buttons","cancelBtn","marginLeft","cancelText","hideMenu","searchBoxAlwaysShown","searchDivBuilder","searchEditBoxBuilder","deactivateItem","renderItems","searchBox","moveActiveItemUp","moveActiveItemDown","openSubLevel","searchDiv","scrollDiv","tabIndex","overflowX","overflowY","which","getRootLevel","closeDiv","filteredItems","activateItem","menuItem","showSubLevel","subLevel","focusScrollDiv","turnCheckboxes","itemCheckbox","isItemSelected","setItemSelected","submitItems","selectedItems","allSubitemsAreFiltered","filterCallback","isItemDiv","isLevelDiv","getMenuItem","renderItemsWithoutFilter","itemFilterCallback","getItemFilterCallback","color","paddingLeft","paddingRight","cb","defaultChecked","margin","verticalAlign","itemText","arrowSpan","arrowText","itemClickHandler","itemSelected","refreshCheckboxes","isCursorInside","renderItemsWithFilter","filterSections","pureFilterTexts","section","filterItems","renderItemWithFilter","matchesFilter","regexp","resultItems","restFilterSections","filterRegexp","groupItem","groupItemMatches","filterTexts","levelFilterText","highlightText","lowerText","lowerContent","indexInMas","itemOverBgColor","itemOverFgColor","fgOVER","itemClass","itemClassOver","backgroundColor","levelId","scroll","winSize","leftSpace","rightSpace","offsetParent","showAt","visibility","adjustTopPos","levelBottom","initLevelDiv","levelStyle","minItemWidth","maxItemWidth","maxHeight","newHeight","searchBoxAutoFocus","submitMenu","newItems","refreshItems","findItem","searchedText","PopupMenu","mouseIsOverBlock","mouseIsOverLink","toId","active","ancorFocused","adjustHeight","lastMenuID","updateProps","rootLevel","menuKeyUpHandler","stopImmediatePropagation","isOutside","menuLevel","shadow","commandTemplate","clearItemsMenuProps","clearItemMenuProps","setSelectedItems","selectedIds","showMenu","activeElement","itemSelectedCallback","menuClosedCallback","onMenuItemSelected","srcPos","anchorHeight","anchorWidth","scroll_1","knockMenuStyle","DisplayFormatParser","getTokenText","QPEditablePart","ColumnRendererCP","functionMenu","buttonMenu","isMouseOverBlock","keepShowingButtons","baseAttr","getButtonsToShow","sortingButton","renderSoringButton","replaceChild","hideButtons","createFunctionMenu","createButtonMenu","getClassesToAdd","renderCheckbox","renderExpressionBlock","showColumnTitles","renderCaptionBlock","renderEnabledButton","renderColumnTypeButton","renderDeleteButton","renderMenuButton","onMouseEnter","onMouseLeave","onMouseClick","alwaysShowButtons","showButtons","toggleColumnPicked","adjustButtonsVisibility","fireColumnChanged","getDefaultColumnCaption","inputEl","minWidth","isEndEvent","save","KeyboardEvent","FocusEvent","aEl","sortButtonDirectionCssClass","sortButtonCssClass","Descending","getUIS","sortMenu","moveMenu","Hidden","MoveTop","MoveDown","MoveUp","MoveBottom","SortingNone","SortingAsc","SortingDesc","buttonMenuHandler","leaveButtonBlock","evt","Menu","getDefaultTitleText","getAttributeCaption","titleElementFormat","changeTypeHandler","Enable","enterButtonBlock","isColumnActive","funcs","funcAllowed","funcs_1","toInclude","areCustomExpressionsAllowed","curQuery","colMenu","getButtonMenuSelectedItems","processExtraButtonMenuItems","common","allowHiddenColumns","sortItems","allowSorting","getSortMenuList","getMoveMenuList","extra","getExtraButtonMenuItems","arrSelected","SimpleColumnRendererCP","renderBaseExpression","showEntitiesMenu","baseExpressionItemSelectedCallback","attrid","changeTypeToCustomSql","newElement","changeTypeToAggr","AggrFuncColumnRendererCP","displayFormatParser","exprBlockBuilder","arrFormat","parseDisplayFormat","functionLink_1","changeTypeToSimple","parser","CustomSqlColumnRendererCP","exprBlock","getDefaultValue","ColumnsPanel","activeColumn","showAddRow","showHeader","allowDuplicates","allowCustomExpressions","menuSearchBoxAfter","columnRenderedCallback","customExpressionText","detachQueryObserver","attachQueryObserver","moveColumnCore","addNewColumn","renderBaseElements","minusHeight","headerBuilder","headerElement","columnsBlock","addRowElement","queryEventCallbackId","focusedBefore","isFocusInside","modifyColumn_1","colEl","getColumnRenderer","newEl","focusElem","agjustHeaderVisibility","addColumn_1","addColumnElement","deleteColumn_1","previousSibling","focusCond","rowElems","rowHeight","absPos","scrollIntoView","behavior","createEntitiesMenu","createColumnMenus","renderColumn","isActive","colToAdd","getColumnByAttrId","checkColumnsArray","checkColumn","newColBlock","scrollToBottom","scrollHeight","getColumnsBlock","entitiesMenu","createSortMenu","createMoveMenu","direction","colToMove","ColumnRendererCB","tapedTwice","bar","renderSortingImage","renderButtonsBlock","renderSortingButton","renderButtonsBlockMobile","renderCaptionEditorMobile","getDefaultCaption","isFocused","ctrlKey","metaKey","clickEvent","buttonSortingClickHandler","buttonDeleteClickHandler","buttonTypeClickHandler","onHideButtonsMobile","onShowButtonsMobile","SimpleColumnRendererCB","AggrFuncColumnRendererCB","ColumnsBar","customQuery","sortMenuList","moveMenuList","addRowButton","elements","columnSlots","colSlot","colWidth","colHeight","paddingWidth","renderAddRowButton","renderColumnButtonsBlockMobile","columnButtonsBlockMobileArrow","columnButtonsBlockMobile","buttonsBlockSortingButton","currentColumnRenderer","hideColumnButtonsMobile","buttonsBlockTypeButton","buttonsBlockDeleteButton","showColumnButtonsMobile","columnRenderer","columnElement","currentActiveColumn","rect","offsetTop","offsetLeft","elem","columnSlot_1","colJson","globalCounter","ColumnRendererSB","sd","getArrow","SortingBar","ConditionAction","TextRenderer","ConditionRenderer","autoAppear","coreRender","onConditionRendered","SimpleConditionRenderer","renderConjunction","mayAppear","getOperatorRenderer","toAppear","exprRenderer_1","getExpressionRenderer","adjustWidth","accentActiveCondition","toggleConditionPicked","buttonsBlock","setConditionParameterized","setConditionInJoin","getConditionMenu","isFirstConditionInGroup","showConjunctions","linkTypeStr","conjuctionText","isConditionActive","alwaysShowButtonsInConditions","conditionMenuHandler","AddCondition","entMenu","getEntitiesMenu","descr","AddGroup","parent_1","condMenu","getConditionMenuSelectedItems","Parameterized","InJoin","parent_2","editableParts","Removal","Addition","onButtonMouseEnter","onButtonMouseLeave","buttonsToShow","DomDropDownElementBuilder","appear","onGetMenu","_onGetMenu","onItemSelected","_onItemSelected","dropdown","FacetType","ConditionGroupRenderer","isRoot","renderGroupRow","renderConditions","showRootRow","getConditionRenderer","ConditionGroupRowRenderer","buildGroupElements","getGroupTitle","groupTitle","curType_1","getLinkTypeMenu","getConditionGroupMenu","BaseElementRenderer","isEditMode","labelElement","renderLabelElement","renderEditor","showEditor","displayedText","getLabelText","getEmptyText","ExpressionRenderer","expression","valueEditor","onExpressionRendered","emptyTextValue","Value","validateInput","showValidationError","isEmptyValue","InputExpressionRenderer","inputBuilder","dontProcessBlur","validationResult","inputElement","closeEditor","maxWidth","MIN_WIDTH","inputValue","validateListInput","validateScalarInput","inputValues_1","ListExpressionRenderer","menuItemsList","showWhenReady","adjustNewValue","emptyTextList","getListName","fillMenuItemsList","renderMenuBlock","showLoader","hideLoader","getValuesAsArray","selLength","multiSelect","menuContainer","dialogZIndex","onComplete","takeDefaultValue","itemLen","CustomListExpressionRenderer","isLoading","onClickTemp","loaderElement","SqlListExpressionRenderer","AttributeExpressionRenderer","attrObj","attrFormat","emptyTextAttribute","DropDownRenderer","getMenu","AddRowRenderer","OperatorRenderer","operId","related","isRelatedToSubQuery","emptyTextOperator","DateTimeExpressionRenderer","dtp","internalDateFormat","internalTimeFormat","pickerOptions","convertToInternalFormat","dateTimePickerResolver","convertFromInternalFormat","macroText","SubQueryExpressionRenderer","dialogBlockBody","renderColumnBlock","renderQueryPanelBlock","exprType","colEntitiesList","colEntitiesMenu","columnBlock","setResultAttributeId","parentEl","queryPanelBlock","qpId","getSubQuery","parentPanel","subOptions","entitiesListFilter","listItems","listOptions","subQueryPanelListOptions","rootCondEl","minHeight","getDialogService","subQueryDialogWidth","BindToParentColumnExpressionRenderer","ParentColumn","attrDataType","QueryPanel","activeCondition","entitiesPopupHandler","allowParameterization","allowInJoinConditions","showPoweredBy","activateRootOnStart","subQueryDialogHeight","numberListSeparators","autoEditNewCondition","onGetConditionRenderer","onGetExpressionRenderer","onGetOperatorRenderer","onOperatorRendered","onGetAddRowRenderer","defaultQuery","model_1","hideLangindSlot","conditionMenu","linkTypeMenu","rootGroupMenu","groupMenu","modifyCondition_1","autoEdit","autoEdit_1","addCondition_1","newCondContainer","lastChild","deleteCondition_1","dateFormatValue","dateFormatDisplay","createConditionMenus","createLinkTypeMenu","rootContainer","addrowRenderer","getAddRowRenderer","attributeMenu","FilterBar","applyOnClose","showApplyButton","showClearButton","headerClickListener","headerClickHandler","qpElement","applyBtnClick","applyFilter","clearBtnClick","clearFilter","showQueryPanel","qpBlock","updateHeader","hideQueryPanel","headerTextElement","headerLinkElement","headerArrowBlock","headerArrowElement","textResize","headerIconElement","headerTextBlock","applyFilterCallback","HtmlContentWidget","contentElement","EqHtmlGrid","pageNavigatorPlaceholder","buttonClick","pageNum","pageItemCssClass","Grid","useCustomLocaleSettings","beforeTableRendering","applyDisplayFormats","EasyGridWidget","hasCustomTotalsSettings","autoRefresh","gridOptions","addColumnClickHandler","columnMovedHandler","updateTotalsSettings","StatementPanel","statementText","ProcessWidget","ManageDrillDownWidget","clickHandler","openDialog","ddQuery","dialogService","dialogBody","renderColumnsBarBlock","opIdx","columnsBarSlot","queryPanelSlot","submitDialog","destroyDialog","ChartType","ResultFacetTab","dialogTitle","canDisplayFlag","downloadAllClickHandler","textDiv","progressDiv","chunksToLoad","getChunksForLoading","recordsToLoad","ds","loadedRecords","progress","chunksToLoad_1","contentDiv","displayMessageDiv","showSettingsDialog","renderDialogContent","submited","submitSettingsDialog","fieldsContainer","renderFormFields","form","cont","tabNameInput","canDisplay","showUnableDisplayMessage","hideUnableDisplayMessage","getType","cachedChunks","diffOffset","numbOfChunks","diff","TotalsDialog","renderFields","getSelectedSettings","inputs_1","isIE","fieldsClass","sCol","DataTableFacetTab","reinitGrid","gridResolver","DataGrid","dropSettings","AggrFunc","ChartWidget","chartType","Pie","supportedChartTypes","potentialLabelColumns","potentialDataColumns","labelColumn","dataColumns","showOnPaging","hideSettings","hasColumnsForChart","prepareChartData","getSupportedChartTypes","getChartTypeName","ct","Area","Bar","Candlestick","Combo","Donut","Gauge","Histogram","Line","updateSettings","updateChartColumns","colNum","colLabel","ids_1","initChart","hasChartTypes","getCurrentChartType","mainDiv","canDraw","chartTypeSelector","sopt","ctkey","settingsDiv","chartDiv","initSettingsDiv","chartSettingsBtn","toggleSettings","drawChart","addContentDiv","delay","drawCore","settingsHeader","labelDiv","labelColumnSelectorCaption","labelColumnSelector","dataDiv","dataColumnSelectorCaption","dataColumnSelector","getPotentialLabelColumns","getPotentialDataColumns","getLabelColumnIndex","getDataColumnIndex","ChartJsWidget","chartLabels","chartColumns","hasChartJs","Chart","config","generateConfig","chartContext","getChartCanvas","canvases","borderColor","dataColors","datasetName","displayLegend","fillValue","getChartType","datasets","fill","labels","legend","GoogleChartWidget","hasGoogleCharts","google","charts","googleDataView","visualization","DataView","convertToGoogleFormat","convertToGoogleType","convertToGoogleValue","googleTable","DataTable","addRows","setCell","chartOptions","chartArea","getChartAreaWidth","createChart","draw","setColumns","ColumnChart","BarChart","ComboChart","AreaChart","LineChart","PieChart","CandlestickChart","ChartFacetTab","chart","getCurrent","labelCol","dataCol","PivotTableFacetTab","pivotTable","defaultRenderer","rowEl","fontWeight","PivotTable","createAggrFuncSelectBuilder","aggrFunc","csb","aggrfunc","aggrfuncs_1","createColumnsSelectBuilder","allowedTypes","colName","getContextDataTable","_loop_2","colTypes","fieldTypes","horizClass","rowName","fieldName","totalsRow","totalsCol","Average","updatePivotData","colIdx","rowIdx","fieldIdx","columnCol","columnRow","rowLabel","rowType","colValues","rowValues","colValue","rowValue","null_columns","new_rows","calcAggrFunc","totalByRow","new_rows_1","total_row","totalByCol","rows_1","Sum","average","Min","Max","Count","Number","MAX_SAFE_INTEGER","fieldValue","MIN_SAFE_INTEGER","ExportDialog","defFormat","formats","ResultFacetsPanel","facets","activeFacetIndex","showExportButton","showRefreshButton","showMaximizeButton","showProcessIndicator","menuItems","renderProcessBlock","loadFacets","reloadFacets","createAddMenu","renderActiveFacet","updateTotalRecords","addMenu","recordsDiv","exportDiv","_processBlock","tabsDiv","tabsUl","facet","renderFacet","addClickHandler","manageDiv","bdb","exportHandler","refreshHandler","maximizeButton","maximizeHandler","renderFacetTab","renderFacetBody","settingsClickHandler","closeClickHandler","selectClickHandler","refreshFacetTabs","removeFacet","createFacetTab","facetSlot","saveFacets","setActiveFacet","confirmed","createDefaultFacetIfNotExist","f","ExtraData","items_1","fd","ExportWidget","LocaleWidget","changeLocale","selectEl","locales","locales_1","optionEl","displayLocaleName","QueryNameWidget","mobClass","nameSlot","asteriskSlot","tooltipSlot","queryName","View","domRoots","defaultViewOptions","disableConfirmationOnQueryChange","queryFileExtensions","clearResultOnQueryChange","resultOptions","resetContext","renderSpinner","defaultErrorHandler","registerDialogServiceResolver","shadowRoots","initOptions","initWidgets","initDone","columnsPanel","entitiesPanel","resultPanel","filterBar","processBar","statementPanel","queryNameLabel","facetsPanel","resultCount","exportButton","slots","resultCountSpan","exportButtons","epElement","resolveElement","entitiesPanelWidget","createEntitiesPanelWidget","cpElement","columnsPanelWidget","createColumnsPanelWidget","cbElement","columnsBarWidget","createColumnsBarWidget","queryPanelWidget","createQueryPanelWidget","resultPanelSlot","resultGridWidget","gridPanel","createResultGridWidget","chartWidget","chartPanel","createChartWidget","qnElement","queryNameWidget","createQueryNameWidget","fbElement","filterBarWidget","createFilterBarWidget","sbElement","sortingBarWidget","createSortingBarWidget","pbElement","processWidget","createProcessWidget","stElement","statementPanelWidget","createStatementPanelWidget","clElement","createLocaleWidget","fpElement","resultFacetPanelWidget","createResultFacetsPanel","ewElement","exportWidget","createExportWidget","resultCountSlot","elementOrId","resolveElementsByClassName","elemList","displayRecordsCount","defaultOptions","oldOptions","oldViewOptions","newOptions","newQueryUrl","saveQueryUrl","executeQueryUrl","removeQueryUrl","loadModelUrl","loadQueryUrl","loadQueryListUrl","syncQueryUrl","listRequestUrl","syncQueryOptions","easyGrid","setDialogService","log","showResultSpinner","hideResultSpinner","toggleExportButtons","enableExportButtons","disableExportButtons","_spinnerDiv","slotElement","chartWidgetResolver","resultGridResolver","detach","localeWidget","statementWidget","AdvancedSearchView","disabledClass","dropdownContainerClass","dropdownButtonClass","dropdownContentClass","dropdownShowClass","_querySaveTemplate","queryListMenu","fetchDataButtonClickHandler","fetchDataButtonClick","clearQueryButtonClickHandler","clearQueryButtonClick","newQueryButtonClickHandler","newQueryButtonClick","loadQueryButtonClickHandler","loadQueryButtonClick","saveQueryButtonClickHandler","saveQueryButtonClick","copyQueryButtonClickHandler","copyQueryButtonClick","removeQueryButtonClickHandler","removeQueryButtonClick","storageButtonClickHandler","storageDropButtonClick","saveQueryToFileButtonClickHandler","saveQueryToFileButtonClick","loadQueryFromFileButtonClickHandler","loadQueryFromFileButtonClick","exportButtonClickHandler","queryChangedHandler","syncQueryOnChange","fetchDataOnChange","outsideClickHandler","currentContent","dropdowns","openDropdown","refreshQueryList","queryListPanel","checkIfQueryModified","exportClass","queryContentInputId","clearQueryButtonId","newQueryButtonId","loadQueryButtonId","saveQueryButtonId","copyQueryButtonId","removeQueryButtonId","storageButtonId","fetchDataButtonId","loadQueryFromFileButtonId","saveQueryToFileButtonId","queryListPanelId","queryContentInput","fetchDataButton","clearQueryButton","newQueryButton","loadQueryButton","saveQueryButton","copyQueryButton","removeQueryButton","storageButton","loadQueryFromFileButton","saveQueryToFileButton","elems","hideExportButtons","storageDropButton","loadQueryFromFileInput","accept","loadQueryFromFileInputSelect","createNewQuery","saveCurrentQuery","copyQuery","showSaveQueryDialog","showQueryChangedDialog","removeCurrentQuery","showNewQueryDialog","header_1","processEl_1","newQueryName","header_2","processEl_2","showRemoveQueryDialog","showSaveQueryToFileDialog","renderSaveToFileDialogBody","fileNameInput","formatSelector","header_3","processEl_3","showLoadQueryFromFileDialog","file","files","FormData","append","fillLoadQueryButtonMenu","AdvancedSearchViewJQuery","DataFilterView","applyQueryFilter","DataFilterViewJQuery","HtmlDataFilterView","reports","reportCache","useReportCache","_reportSaveTemplate","clearReportButtonClickHandler","clearReportButtonClick","newReportButtonClickHandler","newReportButtonClick","loadReportButtonClickHandler","loadReportButtonClick","saveReportButtonClickHandler","saveReportButtonClick","removeReportButtonClickHandler","removeReportButtonClick","updateReportButtonClickHandler","updateReportButtonClick","reload","defaultReportId","changeType","noSync","syncReport","renderReportList","reportId","clearReportButton","newReportButton","loadReportButton","saveReportButton","removeReportButton","updateReportButton","exportButtonsContainer","reportListSlot","newReport","insertIntoReportList","loadReport","reportToLoad","findReportById","reportLoaded","renderReportProps","reportContent","getReportContentFromCache","saveReportContentInCache","setActiveReport","saveCurrentReportAs","removeCurrentReport","report","reportId_1","removeFromReportList","reportIndex","currentReport","lastUpdated","rlItems","renderReportPanels","renderReportItemInList","showExportButtons","reportName","rid","reportsContainer","noReportPanel","indexOfReportById","clearErrors","errorHandler","findReportCacheItem","ReportViewJQuery","AltMenuAttribute","AltMenuConstantExpression","ButtonClose","ButtonNext","ButtonPrev","MenuEnable","MenuParameterization","MenuJoinCond","CmdClear","CmdDelete","CmdToggleEnable","CmdAddCondition","CmdAddCondGroup","ButtonSelectAll","ButtonDeselectAll","ButtonAddColumns","ButtonAddConditions","CmdClickToAddCondition","CmdDeleteRow","ErrIncorrectGroupTitleFormat","ErrNotNumber","ErrIncorrectInteger","ErrIncorrectNumberList","False","LinkTypeAll","LinkTypeAny","LinkTypeNone","LinkTypeNotAll","ConjAll","ConjAny","ConjNotAll","ConjNone","MsgApplySelection","MsgAs","MsgEmptyList","MsgEmptyListValue","MsgEmptyScalarValue","MsgSubQueryValue","MsgEmptyAttrValue","MsgEmptyOperator","MsgEmptyCustomSql","MsgCustomSql","MsgNoResult","MsgResultCount","MsgOf","ConditionGroupTitle","RootConditionGroupTitle","StrAddConditions","SubQueryDialogTitle","SubQueryColumnTitle","SubQueryEmptyColumn","SubQueryQueryPanelCaption","True","ButtonSorting","ButtonToAggr","ButtonToSimple","CmdAscending","CmdClickToAddColumn","CmdDeleteColumn","CmdDeleteSorting","CmdDescending","CmdGroupSort","CmdNotSorted","ColTypeAggrFunc","ColTypeCompound","ColTypeGroup","ColTypeSimple","HeaderExpression","HeaderSorting","HeaderTitle","SortHeaderColumn","SortHeaderSorting","StrAddColumns","CustomExpression","CmdMoveToStart","CmdMoveRight","CmdMoveLeft","CmdMoveToEnd","CmdMoveUp","CmdMoveDown","ButtonMenu","CmdToSimple","CmdMoveToFirst","CmdMoveToPrev","CmdMoveToNext","CmdMoveToLast","CmdHiddenColumn","RowButtonTitle","StrNoFilterDefined","StrNoFilterClickToAdd","HintHours","HintMinutes","RemoveQueryTitle","RemoveQueryContent","NewQueryTitle","NewQueryContent","NewQueryDefName","SaveQueryTitle","SaveQueryContent","SaveQueryDefName","QueryChangedTitle","QueryChangedContent","UpdateQuerySelector","FileNameLabel","SaveQueryToFileDlgTitle","NewReportDefName","NewReportDlgTitle","SaveReportDlgTitle","SaveReportDlgLabel","RemoveReportContent","Facets","TotalRecordsLabel","AddMenuItems","Pivot","LoadDataDlgTitle","LoadDataDlgContent","RefreshBtnTitle","ExportBtnTitle","MaximizeBtnTitle","RestoreBtnTitle","RemoveFacetDlgTitle","RemoveFacetDlgContent","DefaultDlgTitle","DefaultFacetTitle","TabNameLabel","ErrQueryChanged","ErrNotEnoughData","FacetTitle","DlgTitle","DataColumnSelectorLabel","LabelColumnSelectorLabel","ChartTypeSelectorLabel","ColumnFieldSelectorLabel","RowFieldSelectorLabel","CellDataSelectorLabel","TotalsRowLabel","TotalsColLabel","TotalGridLabel","TotalsDlgLabel","GrandTotalsLabel","TotalsDlgTitle","ExportDlgTitle","ExportDlgFmtLabel","Element","msMatchesSelector","webkitMatchesSelector","lcv","__kt","ck","infoBytes","binary_string","urlatob","bytes","Uint8Array","charCodeAt","_bs","part2","ed","setCharAt","f36","encChar","majVer","chr","trialDiv","ConditionEx","readOnly","parameterized","inJoin","newCond","ColumnEx","QueryEx","lType","EqServerQueryStorage","DataModelEx","path","findPath","addPathToTree","pathAdded","newNode","node","curPath","curStep","nextStep","passedEntities","pathFound","curStep_1","checkPath","nextStep_1","endPoint","entityLinks_1","entity2","newPath","EqTotalsCalculator","levelPromises","processLevel","resultsObtained","levelData","buildLevelData","valueColumns","valueColumns_1","valueCol","licenseKeyEndpoint","hideTrialWM","keyOrInitCallback","services","textAlign","opacity","font","transition","eq","lineHeight","korzh","trialOnly","createTrialWM"],"mappings":"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","file":"adhoc-reporting.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","/** Represents the common types of the data. */\r\nexport var DataType;\r\n(function (DataType) {\r\n    /** Unknown type value*/\r\n    DataType[DataType[\"Unknown\"] = 0] = \"Unknown\";\r\n    /** String value*/\r\n    DataType[DataType[\"String\"] = 1] = \"String\";\r\n    /** 8-bit integer value */\r\n    DataType[DataType[\"Byte\"] = 2] = \"Byte\";\r\n    /** 16-bit integer value */\r\n    DataType[DataType[\"Word\"] = 3] = \"Word\";\r\n    /** 32-bit integer value */\r\n    DataType[DataType[\"Int32\"] = 4] = \"Int32\";\r\n    /** 64-bit integer value */\r\n    DataType[DataType[\"Int64\"] = 5] = \"Int64\";\r\n    /** Boolean value */\r\n    DataType[DataType[\"Bool\"] = 6] = \"Bool\";\r\n    /** Floating-point numeric value */\r\n    DataType[DataType[\"Float\"] = 7] = \"Float\";\r\n    /** Money value */\r\n    DataType[DataType[\"Currency\"] = 8] = \"Currency\";\r\n    /** Binary-coded decimal value */\r\n    DataType[DataType[\"BCD\"] = 9] = \"BCD\";\r\n    /** Date value */\r\n    DataType[DataType[\"Date\"] = 10] = \"Date\";\r\n    /** Time value */\r\n    DataType[DataType[\"Time\"] = 11] = \"Time\";\r\n    /** Date and time value */\r\n    DataType[DataType[\"DateTime\"] = 12] = \"DateTime\";\r\n    /** Autoincrement 32-bit integer value */\r\n    DataType[DataType[\"Autoinc\"] = 13] = \"Autoinc\";\r\n    /** MEMO value (text with unlimited length) */\r\n    DataType[DataType[\"Memo\"] = 14] = \"Memo\";\r\n    /** BLOB value (any data with unlimited length) */\r\n    DataType[DataType[\"Blob\"] = 15] = \"Blob\";\r\n    /** Fixed character value */\r\n    DataType[DataType[\"FixedChar\"] = 16] = \"FixedChar\";\r\n    /** The unique identifier */\r\n    DataType[DataType[\"Guid\"] = 17] = \"Guid\";\r\n    /*-------- Spatial data types ----------*/\r\n    /** Any geometry data */\r\n    DataType[DataType[\"Geometry\"] = 18] = \"Geometry\";\r\n    /** Any data that represents some geography objects</summary> */\r\n    DataType[DataType[\"Geography\"] = 19] = \"Geography\";\r\n})(DataType || (DataType = {}));\r\n//# sourceMappingURL=data_type.js.map","export var EntityAttrKind;\r\n(function (EntityAttrKind) {\r\n    EntityAttrKind[EntityAttrKind[\"Data\"] = 0] = \"Data\";\r\n    EntityAttrKind[EntityAttrKind[\"Virtual\"] = 1] = \"Virtual\";\r\n    EntityAttrKind[EntityAttrKind[\"Lookup\"] = 2] = \"Lookup\";\r\n})(EntityAttrKind || (EntityAttrKind = {}));\r\n//# sourceMappingURL=entity_attr_kind.js.map","export var EditorTag = {\r\n    /** Unknown tag value */\r\n    Unknown: \"Unknown\",\r\n    /** Edit tag value */\r\n    Edit: \"EDIT\",\r\n    /** DateTime tag value  */\r\n    DateTime: \"DATETIME\",\r\n    /** List tag value */\r\n    List: \"LIST\",\r\n    /** CustomList tag value */\r\n    CustomList: \"CUSTOMLIST\"\r\n};\r\n//# sourceMappingURL=editor_tag.js.map","export var HttpMethod;\r\n(function (HttpMethod) {\r\n    HttpMethod[\"Trace\"] = \"TRACE\";\r\n    HttpMethod[\"Options\"] = \"OPTIONS\";\r\n    HttpMethod[\"Get\"] = \"GET\";\r\n    HttpMethod[\"Put\"] = \"PUT\";\r\n    HttpMethod[\"Post\"] = \"POST\";\r\n    HttpMethod[\"Delete\"] = \"DELETE\";\r\n})(HttpMethod || (HttpMethod = {}));\r\n//# sourceMappingURL=http_method.js.map","var HttpRequest = /** @class */ (function () {\r\n    function HttpRequest(xhr, descriptor) {\r\n        this.xhr = xhr;\r\n        this.method = descriptor.method;\r\n        this.url = descriptor.url;\r\n        this.headers = descriptor.headers;\r\n        this.queryParams = descriptor.queryParams;\r\n        this.data = descriptor.data;\r\n    }\r\n    HttpRequest.prototype.setHeader = function (name, value) {\r\n        this.headers[name] = value;\r\n    };\r\n    HttpRequest.prototype.setQueryParam = function (name, value) {\r\n        this.queryParams[name] = value;\r\n    };\r\n    HttpRequest.prototype.getXMLHttpRequest = function () {\r\n        return this.xhr;\r\n    };\r\n    HttpRequest.prototype.getResponseHeaders = function () {\r\n        if (this.xhr.readyState == this.xhr.HEADERS_RECEIVED) {\r\n            var headers = this.xhr.getAllResponseHeaders();\r\n            var arr = headers.trim().split(/[\\r\\n]+/);\r\n            // Create a map of header names to values\r\n            var headerMap = {};\r\n            for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\r\n                var line = arr_1[_i];\r\n                var parts = line.split(': ');\r\n                var header = parts.shift();\r\n                var value = parts.join(': ');\r\n                headerMap[header] = value;\r\n            }\r\n            return headerMap;\r\n        }\r\n        return {};\r\n    };\r\n    HttpRequest.prototype.open = function () {\r\n        var _this = this;\r\n        if (this.xhr.readyState !== this.xhr.UNSENT)\r\n            return;\r\n        var url = this.url;\r\n        if (this.queryParams && Object.keys(this.queryParams)) {\r\n            url += encodeURI('?' + Object.keys(this.queryParams)\r\n                .map(function (param) { return param + '=' + _this.queryParams[param]; })\r\n                .join('&'));\r\n        }\r\n        this.xhr.open(this.method, url, true);\r\n        this.xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\r\n        for (var header in this.headers) {\r\n            this.xhr.setRequestHeader(header, this.headers[header]);\r\n        }\r\n    };\r\n    HttpRequest.prototype.abort = function () {\r\n        this.xhr.abort();\r\n    };\r\n    return HttpRequest;\r\n}());\r\nexport { HttpRequest };\r\n//# sourceMappingURL=http_request.js.map","import { DataType } from '../types/data_type';\r\nimport { utils } from '../utils/utils';\r\n/**\r\n * Contains internatialization functionality.\r\n */\r\nexport var i18n;\r\n(function (i18n) {\r\n    var defaultTexts = {\r\n        ButtonOK: 'OK',\r\n        ButtonCancel: 'Cancel'\r\n    };\r\n    var englishUSLocaleSettings = {\r\n        shortDateFormat: 'MM/dd/yyyy',\r\n        longDateFormat: 'dd MMM, yyyy',\r\n        editDateFormat: 'MM/dd/yyyy',\r\n        shortTimeFormat: 'HH:mm',\r\n        editTimeFormat: 'HH:mm',\r\n        longTimeFormat: 'HH:mm:ss',\r\n        shortMonthNames: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n        longMonthNames: ['January', 'February', 'March', 'April', 'May', 'June',\r\n            'July', 'August', 'September', 'October', 'November', 'December'],\r\n        shortWeekDayNames: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\r\n        longWeekDayNames: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\r\n        decimalSeparator: '.'\r\n    };\r\n    var defaultLocale = {\r\n        localeId: 'en-US',\r\n        englishName: 'English',\r\n        displayName: 'English',\r\n        texts: defaultTexts,\r\n        settings: englishUSLocaleSettings\r\n    };\r\n    var allLocales = {\r\n        'en-US': defaultLocale\r\n    };\r\n    var currentLocale;\r\n    var mappers = [];\r\n    function mapInfo(info) {\r\n        for (var _i = 0, mappers_1 = mappers; _i < mappers_1.length; _i++) {\r\n            var mapper = mappers_1[_i];\r\n            mapper(info);\r\n        }\r\n    }\r\n    function addMapper(mapper) {\r\n        mappers.push(mapper);\r\n    }\r\n    i18n.addMapper = addMapper;\r\n    /**\r\n     * Gets added locales with their names.\r\n     * @returns  The locales.\r\n     */\r\n    function getLocales() {\r\n        var result = [];\r\n        for (var locale in allLocales) {\r\n            result.push({\r\n                locale: locale,\r\n                englishName: allLocales[locale].englishName,\r\n                displayName: allLocales[locale].displayName\r\n            });\r\n        }\r\n        return result.sort(function (a, b) {\r\n            if (a.englishName > b.englishName) {\r\n                return 1;\r\n            }\r\n            else if (a.englishName === b.englishName) {\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n    }\r\n    i18n.getLocales = getLocales;\r\n    /**\r\n     * Gets the current locale ID.\r\n     * @returns The locale.\r\n     */\r\n    function getCurrentLocale() {\r\n        return currentLocale.localeId;\r\n    }\r\n    i18n.getCurrentLocale = getCurrentLocale;\r\n    /**\r\n    * Sets the curent locale.\r\n    * @deprecated Use setCurrentLocale instead\r\n    * @param l The locale.\r\n    */\r\n    function setLocale(l) {\r\n        console.warn(\"This method is deprecated. Use setCurrentLocale instead\");\r\n        setCurrentLocale(l);\r\n    }\r\n    i18n.setLocale = setLocale;\r\n    /**\r\n     * Sets the curent locale.\r\n     * @param localeId The locale.\r\n     */\r\n    function setCurrentLocale(localeId) {\r\n        var newLocale = allLocales[localeId];\r\n        if (newLocale) {\r\n            utils.assignDeep(currentLocale, newLocale);\r\n        }\r\n        else {\r\n            currentLocale = {\r\n                englishName: localeId,\r\n                displayName: localeId,\r\n                texts: defaultTexts\r\n            };\r\n        }\r\n        currentLocale.localeId = localeId;\r\n    }\r\n    i18n.setCurrentLocale = setCurrentLocale;\r\n    /**\r\n     * Returns localized text by the key defined in parameter.\r\n     * Here we get the text of the resource string assigned to CmdClickToAddCondition key:\r\n     *\r\n     ```\r\n       const text = i18n.getText('CmdClickToAddCondition')\r\n     ```\r\n     * @param args The keys of the resource string.\r\n     * @returns Text of the resource defined by key or null if the key is not found\r\n     *\r\n     */\r\n    function getText() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var textsObj = currentLocale.texts;\r\n        var resText = '';\r\n        if (args && args.length) {\r\n            var argLength = args.length;\r\n            for (var i = 0; i < argLength; i++) {\r\n                resText = textsObj[args[i]];\r\n                if (typeof resText === 'object') {\r\n                    textsObj = resText;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return resText;\r\n    }\r\n    i18n.getText = getText;\r\n    function getLocaleSettings() {\r\n        return currentLocale.settings;\r\n    }\r\n    i18n.getLocaleSettings = getLocaleSettings;\r\n    function getOneLocaleSetting(key) {\r\n        return currentLocale.settings[key];\r\n    }\r\n    i18n.getOneLocaleSetting = getOneLocaleSetting;\r\n    function getShortMonthName(monthNum) {\r\n        var settings = getLocaleSettings();\r\n        if (monthNum > 0 && monthNum < 13) {\r\n            return settings.shortMonthNames[monthNum - 1];\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + monthNum;\r\n        }\r\n    }\r\n    i18n.getShortMonthName = getShortMonthName;\r\n    function getLongMonthName(monthNum) {\r\n        var settings = getLocaleSettings();\r\n        if (monthNum > 0 && monthNum < 13) {\r\n            return settings.longMonthNames[monthNum - 1];\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + monthNum;\r\n        }\r\n    }\r\n    i18n.getLongMonthName = getLongMonthName;\r\n    function getShortWeekDayName(dayNum) {\r\n        var settings = getLocaleSettings();\r\n        if (dayNum > 0 && dayNum < 8) {\r\n            return settings.shortWeekDayNames.length >= dayNum\r\n                ? settings.shortWeekDayNames[dayNum - 1]\r\n                : dayNum.toString();\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + dayNum;\r\n        }\r\n    }\r\n    i18n.getShortWeekDayName = getShortWeekDayName;\r\n    function getLongWeekDayName(dayNum) {\r\n        var settings = getLocaleSettings();\r\n        if (dayNum > 0 && dayNum < 8) {\r\n            return settings.longWeekDayNames.length >= dayNum\r\n                ? settings.longWeekDayNames[dayNum - 1]\r\n                : dayNum.toString();\r\n        }\r\n        else {\r\n            throw 'Wrong month number: ' + dayNum;\r\n        }\r\n    }\r\n    i18n.getLongWeekDayName = getLongWeekDayName;\r\n    /**\r\n     * Updates the locale settings (date/time formats, separators, etc) for the specified locale.\r\n     * @param settingsToUpdate a LocaleSettings object\r\n     * @param locale The locale ID (like 'en', 'de', 'uk', etc).\r\n     * If not specified - the function will update the settings for the current locale\r\n     */\r\n    function updateLocaleSettings(settingsToUpdate) {\r\n        if (!currentLocale.settings) {\r\n            currentLocale.settings = utils.assignDeep({}, englishUSLocaleSettings);\r\n        }\r\n        currentLocale.settings = utils.assignDeep(currentLocale.settings, settingsToUpdate);\r\n    }\r\n    i18n.updateLocaleSettings = updateLocaleSettings;\r\n    /**\r\n     * Updates the texts for the current locale\r\n     * @param texts A plain JS object that contains textual resources\r\n     */\r\n    function updateLocaleTexts(texts) {\r\n        if (typeof texts !== 'object') {\r\n            console.error('Wrong parameter type in updateLocaleTexts function call.' +\r\n                'The first parameter (localeId) is not necessary. Use updateLocaleTexts(texts) instead');\r\n            return;\r\n        }\r\n        mapInfo({ localeId: currentLocale.localeId, texts: texts });\r\n        utils.assignDeep(currentLocale.texts, texts);\r\n    }\r\n    i18n.updateLocaleTexts = updateLocaleTexts;\r\n    function updateDefaultTexts(texts) {\r\n        for (var localeId in allLocales) {\r\n            var locale = allLocales[localeId];\r\n            locale.texts = utils.assignDeep({}, texts, locale.texts);\r\n        }\r\n        currentLocale.texts = utils.assignDeep({}, texts, currentLocale.texts);\r\n    }\r\n    i18n.updateDefaultTexts = updateDefaultTexts;\r\n    /**\r\n     * Updates the information for the specified locale.\r\n     * @param localeId The locale ID (like 'en', 'de', 'uk', etc).\r\n     * If the locale does exist yet - it will be added\r\n     * @param localeInfo  a LocaleInfo object that contains the locale settings and textual resources\r\n     */\r\n    function updateLocaleInfo(localeId, localeData) {\r\n        mapInfo(localeData);\r\n        var localeInfoToUpdate = currentLocale;\r\n        if (localeId) {\r\n            if (!localeData.localeId) {\r\n                localeData.localeId = localeId;\r\n            }\r\n            localeInfoToUpdate = allLocales[localeId];\r\n            if (!localeInfoToUpdate) {\r\n                localeInfoToUpdate = utils.assignDeep({}, defaultLocale);\r\n                allLocales[localeId] = localeInfoToUpdate;\r\n            }\r\n        }\r\n        utils.assignDeep(localeInfoToUpdate, localeData);\r\n    }\r\n    i18n.updateLocaleInfo = updateLocaleInfo;\r\n    /**\r\n     * Adds the locale.\r\n     * @param localeId The locale ID (like 'en', 'de', 'uk', etc).\r\n     * If the locale does exist yet - it will be created\r\n     * @param localeInfo - a LocaleInfo object that contains the locale settings and textual resources\r\n     */\r\n    function addLocale(localeId, localeInfo) {\r\n        updateLocaleInfo(localeId, localeInfo);\r\n    }\r\n    i18n.addLocale = addLocale;\r\n    /**\r\n     * Overwrites some locale settings (date/time formats) with the formats used in browser's current language\r\n     */\r\n    function determineSettingsByLocale(localeId) {\r\n        var now = new Date(2020, 5, 7, 19, 34, 56, 88);\r\n        var dateOptions = { year: 'numeric', month: 'numeric', day: 'numeric' };\r\n        var timeOptions = { hour: 'numeric', minute: 'numeric', second: 'numeric' };\r\n        var dateStr = now.toLocaleDateString(localeId, dateOptions);\r\n        var timeStr = now.toLocaleTimeString(localeId, timeOptions);\r\n        var dateFormat = dateStr\r\n            .replace('07', 'dd')\r\n            .replace('7', 'd')\r\n            .replace('06', 'MM')\r\n            .replace('6', 'M')\r\n            .replace('2020', 'yyyy')\r\n            .replace('20', 'yy');\r\n        var timeFormat = timeStr\r\n            .replace('19', 'HH')\r\n            .replace('07', 'hh')\r\n            .replace('7', 'h')\r\n            .replace('34', 'mm')\r\n            .replace('56', 'ss')\r\n            .replace('PM', 'tt');\r\n        if (!currentLocale.settings) {\r\n            currentLocale.settings = {};\r\n        }\r\n        var localeSettings = {\r\n            shortDateFormat: dateFormat,\r\n            editDateFormat: dateFormat,\r\n            shortTimeFormat: timeFormat\r\n        };\r\n        updateLocaleSettings(localeSettings);\r\n    }\r\n    function loadBrowserLocaleSettings() {\r\n        var lang = typeof navigator === 'object' ? navigator.language : undefined;\r\n        determineSettingsByLocale(lang);\r\n    }\r\n    function resetLocales() {\r\n        if (!currentLocale) {\r\n            currentLocale = utils.assignDeep({}, defaultLocale);\r\n            loadBrowserLocaleSettings();\r\n        }\r\n    }\r\n    i18n.resetLocales = resetLocales;\r\n    function dateTimeToStr(dateTime, dataType) {\r\n        var localeSettings = getLocaleSettings();\r\n        var format;\r\n        switch (dataType) {\r\n            case DataType.Date:\r\n                format = localeSettings.shortDateFormat;\r\n                break;\r\n            case DataType.Time:\r\n                format = localeSettings.shortTimeFormat;\r\n                break;\r\n            default:\r\n                format = localeSettings.shortDateFormat + ' ' + localeSettings.shortTimeFormat;\r\n                break;\r\n        }\r\n        return utils.dateTimeToStr(dateTime, format);\r\n    }\r\n    i18n.dateTimeToStr = dateTimeToStr;\r\n    function numberToStr(number) {\r\n        var localeSettings = getLocaleSettings();\r\n        return utils.numberToStr(number, localeSettings.decimalSeparator);\r\n    }\r\n    i18n.numberToStr = numberToStr;\r\n})(i18n || (i18n = {}));\r\n//# sourceMappingURL=i18n.js.map","import * as strf from './string_utils';\r\nimport { DataType } from '../types/data_type';\r\nimport { i18n } from '../i18n/i18n';\r\nexport var utils;\r\n(function (utils) {\r\n    function getAllDataTypes() {\r\n        return Object.values(DataType);\r\n    }\r\n    utils.getAllDataTypes = getAllDataTypes;\r\n    function getDateDataTypes() {\r\n        return [DataType.Time, DataType.Date, DataType.DateTime];\r\n    }\r\n    utils.getDateDataTypes = getDateDataTypes;\r\n    function getStringDataTypes() {\r\n        return [DataType.String, DataType.Memo];\r\n    }\r\n    utils.getStringDataTypes = getStringDataTypes;\r\n    var _numericTypes = [DataType.Byte, DataType.Word, DataType.Int32,\r\n        DataType.Int64, DataType.Float, DataType.Currency];\r\n    var _intTypes = [DataType.Byte, DataType.Word, DataType.Int32, DataType.Int64];\r\n    //-------------- object functions -------------------\r\n    /**\r\n     * Copy the content of all objests passed in `args` parameters into `target`\r\n     * and returns the result\r\n     * NB: This function copies only the first level properties.\r\n     * For a deep copy please use `assignDeep`\r\n     * @param target - the target object\r\n     * @param args  - an array of the source objects\r\n     */\r\n    function assign(target) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        for (var i = 0; i < args.length; i++) {\r\n            var source = args[i];\r\n            if (source) {\r\n                for (var key in source) {\r\n                    if (source.hasOwnProperty(key)) {\r\n                        target[key] = source[key];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n    utils.assign = assign;\r\n    /**\r\n     * Copy the content of all objests passed in `args` parameters into `target`\r\n     * and returns the result\r\n     * NB: This function make a deep copy -\r\n     * so `assignDeep` will be called recursively for all object properties\r\n     * on the first level.\r\n     * @param target - the target object\r\n     * @param sources  - an array of the source objects\r\n     */\r\n    function assignDeep(target) {\r\n        var sources = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            sources[_i - 1] = arguments[_i];\r\n        }\r\n        return assignDeepCore(new WeakMap(), target, sources);\r\n    }\r\n    utils.assignDeep = assignDeep;\r\n    function assignDeepCore(hashSet, target, sources) {\r\n        if (!target) {\r\n            target = {};\r\n        }\r\n        for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\r\n            var source = sources_1[_i];\r\n            if (source) {\r\n                for (var key in source) {\r\n                    if (source.hasOwnProperty(key)) {\r\n                        var sourceVal = source[key];\r\n                        if (sourceVal !== null && typeof sourceVal === 'object') {\r\n                            if (hashSet.has(sourceVal)) {\r\n                                target[key] = hashSet.get(sourceVal);\r\n                            }\r\n                            else {\r\n                                if (Array.isArray(sourceVal)) {\r\n                                    target[key] = createArrayFrom(sourceVal);\r\n                                    hashSet.set(sourceVal, target[key]);\r\n                                }\r\n                                else {\r\n                                    if (typeof target[key] == 'undefined') {\r\n                                        target[key] = Object.create(Object.getPrototypeOf(sourceVal));\r\n                                    }\r\n                                    hashSet.set(sourceVal, target[key]);\r\n                                    assignDeepCore(hashSet, target[key], [sourceVal]);\r\n                                }\r\n                            }\r\n                        }\r\n                        else {\r\n                            target[key] = sourceVal;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return target;\r\n    }\r\n    function getIfDefined(value, defaultValue) {\r\n        return (typeof value !== 'undefined') ? value : defaultValue;\r\n    }\r\n    utils.getIfDefined = getIfDefined;\r\n    function IsDefinedAndNotNull(value) {\r\n        return typeof value !== 'undefined' && value !== null;\r\n    }\r\n    utils.IsDefinedAndNotNull = IsDefinedAndNotNull;\r\n    function copyArrayTo(collection1, collection2) {\r\n        var len1 = collection1.length;\r\n        var len2 = collection2.length;\r\n        for (var i = 0; i < len1 && i < len2; i++) {\r\n            collection2[i] = collection1[i];\r\n        }\r\n    }\r\n    utils.copyArrayTo = copyArrayTo;\r\n    function createArrayFrom(collection) {\r\n        var result = [];\r\n        for (var _i = 0, collection_1 = collection; _i < collection_1.length; _i++) {\r\n            var item = collection_1[_i];\r\n            result.push(item);\r\n        }\r\n        return result;\r\n    }\r\n    utils.createArrayFrom = createArrayFrom;\r\n    /**\r\n     * Searches an array of the objects which implement ItemWithId by ID\r\n     * Returs the found object or null.\r\n     * @param array\r\n     * @param id\r\n     */\r\n    function findItemById(array, id) {\r\n        var arrLength = array.length;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            if (array[idx].id === id)\r\n                return array[idx];\r\n        }\r\n        return null;\r\n    }\r\n    utils.findItemById = findItemById;\r\n    function findItemIndexById(array, id) {\r\n        var arrLength = array.length;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            if (array[idx].id === id)\r\n                return idx;\r\n        }\r\n        return -1;\r\n    }\r\n    utils.findItemIndexById = findItemIndexById;\r\n    /**\r\n     * Searches an array of the objects which implement ItemWithId by ID\r\n     * Returs the index of the found element, or -1 if nothing was found.\r\n     * @param array\r\n     * @param id\r\n     */\r\n    function indexOfArrayItem(arr, item) {\r\n        if (arr.indexOf) {\r\n            return arr.indexOf(item);\r\n        }\r\n        else {\r\n            var len = arr.length;\r\n            for (var i = 0; i < len; i++) {\r\n                if (item == arr[i]) {\r\n                    return i;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n    utils.indexOfArrayItem = indexOfArrayItem;\r\n    /**\r\n     * Moves an item in some array to a new position\r\n     * @param array\r\n     * @param index1\r\n     * @param index2\r\n     */\r\n    function moveArrayItem(array, index1, index2) {\r\n        if (index1 >= array.length) {\r\n            throw 'Index out of bounds: ' + index1;\r\n        }\r\n        if (index2 >= array.length) {\r\n            index2 = array.length - 1;\r\n        }\r\n        var item = array.splice(index1, 1)[0];\r\n        array.splice(index2, 0, item);\r\n    }\r\n    utils.moveArrayItem = moveArrayItem;\r\n    /**\r\n     * Searches for a particular item in the array are removes that item if found.\r\n     * @param arr\r\n     * @param value\r\n     */\r\n    function removeArrayItem(arr, value) {\r\n        var index = arr.indexOf(value);\r\n        if (index != -1) {\r\n            return arr.splice(index, 1)[0];\r\n        }\r\n    }\r\n    utils.removeArrayItem = removeArrayItem;\r\n    function insertArrayItem(arr, index, value) {\r\n        arr.splice(index, 0, value);\r\n    }\r\n    utils.insertArrayItem = insertArrayItem;\r\n    function fillArray(arr, value, start, end) {\r\n        if (start === void 0) { start = 0; }\r\n        var len = arr.length >>> 0;\r\n        var relativeStart = start >> 0;\r\n        var k = relativeStart < 0 ?\r\n            Math.max(len + relativeStart, 0) :\r\n            Math.min(relativeStart, len);\r\n        var relativeEnd = end === undefined ?\r\n            len : end >> 0;\r\n        var final = relativeEnd < 0 ?\r\n            Math.max(len + relativeEnd, 0) :\r\n            Math.min(relativeEnd, len);\r\n        while (k < final) {\r\n            arr[k] = value;\r\n            k++;\r\n        }\r\n        return arr;\r\n    }\r\n    utils.fillArray = fillArray;\r\n    //------------ DOM utils ------------\r\n    /**\r\n     * Calculates the shift on which we need to move our element horizontally\r\n     * to find current window\r\n     * @param absLeft\r\n     * @param width\r\n     */\r\n    function shiftToFitWindow(absLeft, width) {\r\n        var body = document.getElementsByTagName('body')[0];\r\n        var winWidth = window.innerWidth || document.documentElement.clientWidth || body.clientWidth;\r\n        var absRight = absLeft + width;\r\n        var shift = 0;\r\n        if (absRight > winWidth) {\r\n            shift = winWidth - absRight - 10;\r\n            if (absLeft + shift < 0) {\r\n                shift = 10 - absLeft;\r\n            }\r\n        }\r\n        return shift;\r\n    }\r\n    utils.shiftToFitWindow = shiftToFitWindow;\r\n    /**\r\n     * Returns `true` if the value passed in the parameter is an object\r\n     * @param val\r\n     */\r\n    function isObject(val) {\r\n        if (val === null) {\r\n            return false;\r\n        }\r\n        return ((typeof val === 'function') || (typeof val === 'object'));\r\n    }\r\n    utils.isObject = isObject;\r\n    /**\r\n     * Returns `true` if the `DataType` value passed in the parameter\r\n     * represents some numeric type\r\n     * @param dtype\r\n     */\r\n    function isNumericType(dtype) {\r\n        var index = _numericTypes.indexOf(dtype);\r\n        return (index >= 0);\r\n    }\r\n    utils.isNumericType = isNumericType;\r\n    /**\r\n     * Returns `true` if the `DataType` value passed in the parameter\r\n     * represents some numeric type\r\n     * @param dtype\r\n     */\r\n    function isIntType(dtype) {\r\n        var index = _intTypes.indexOf(dtype);\r\n        return (index >= 0);\r\n    }\r\n    utils.isIntType = isIntType;\r\n    /**\r\n     * Returns `true` if the value passed in the parameter is an a numeric value\r\n     * @param val\r\n     */\r\n    function isNumeric(val) {\r\n        return !isNaN(parseFloat(val)) && isFinite(val);\r\n    }\r\n    utils.isNumeric = isNumeric;\r\n    /**\r\n     * Returns `true` if two data types  passed in parameters\r\n     * are compatible - so it's safe to copy the values between\r\n     * two expressions with these two types\r\n     * @param type1\r\n     * @param type2\r\n     */\r\n    function areCompatibleDataTypes(type1, type2) {\r\n        return typeof type1 == \"undefined\" || typeof type2 == \"undefined\" || type1 == DataType.Unknown || type2 == DataType.Unknown\r\n            || (type1 == type2) || (type1 == DataType.Date && type2 == DataType.DateTime)\r\n            || (type1 == DataType.DateTime && type2 == DataType.Date);\r\n    }\r\n    utils.areCompatibleDataTypes = areCompatibleDataTypes;\r\n    /**\r\n     * Returns `true` if the property with named `propName`\r\n     * in the object `obj` has some value\r\n     * @param obj\r\n     * @param propName\r\n     */\r\n    function isPropSet(obj, propName) {\r\n        return obj[propName] || obj[propName.toLowerCase()] || obj[propName.toUpperCase()];\r\n    }\r\n    utils.isPropSet = isPropSet;\r\n    //-------------- ID generator -----------\r\n    var prefixIdLen = 4;\r\n    var symbols = \"0123456789abcdefghijklmnopqrstuvwxyz\";\r\n    var magicTicks = 636712160627685350;\r\n    /**\r\n     * Generates an unique ID\r\n     */\r\n    function generateId(prefix) {\r\n        if (!prefix) {\r\n            prefix = 'easy';\r\n        }\r\n        var prfx = (prefix.length > prefixIdLen) ? squeezeMoniker(prefix, prefixIdLen) : prefix;\r\n        if (prfx && prfx.length > 0) {\r\n            prfx += \"-\";\r\n        }\r\n        //adding 2 random symbols\r\n        var randValue = strf.repeatString(\"\", 2);\r\n        ;\r\n        var maxSymbolIndex = symbols.length - 1;\r\n        randValue = replaceAtString(randValue, 0, symbols[getRandomInt(0, maxSymbolIndex)]);\r\n        randValue = replaceAtString(randValue, 1, symbols[getRandomInt(0, maxSymbolIndex)]);\r\n        //generating main ID part (64-base representation of the current value of the time ticks)\r\n        var ticksNum64 = intToNum36(getNowTicks() - magicTicks);\r\n        return prfx + randValue + ticksNum64;\r\n    }\r\n    utils.generateId = generateId;\r\n    function intToNum36(value) {\r\n        var targetBase = 36;\r\n        var i = 14;\r\n        var buffer = strf.repeatString(\"\", i);\r\n        var rest = value;\r\n        do {\r\n            buffer = replaceAtString(buffer, i--, symbols[rest % targetBase]);\r\n            rest = Math.floor(rest /= targetBase);\r\n        } while (rest > 0);\r\n        return strf.reverseString(buffer.trim());\r\n    }\r\n    function squeezeMoniker(str, maxlen) {\r\n        var parts = str.split('-');\r\n        var pml = 1;\r\n        var ptt = maxlen;\r\n        if (parts.length < maxlen) {\r\n            pml = maxlen / parts.length;\r\n            ptt = parts.length;\r\n        }\r\n        var result = \"\";\r\n        for (var i = 0; i < ptt; i++) {\r\n            result += squeeze(parts[i], pml);\r\n        }\r\n        return result;\r\n    }\r\n    function squeeze(str, maxlen) {\r\n        var len = str.length;\r\n        if (len > maxlen) {\r\n            var step = len / maxlen;\r\n            var result = \"\";\r\n            result += str[0];\r\n            var nextIndex = step;\r\n            var ch = void 0;\r\n            for (var i = 1; i < len; i++) {\r\n                ch = str[i];\r\n                if (i + 1 > nextIndex) {\r\n                    result += ch;\r\n                    nextIndex += step;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        else {\r\n            return str;\r\n        }\r\n    }\r\n    function replaceAtString(str, index, value) {\r\n        return str.substr(0, index) + value + str.substr(index + value.length);\r\n    }\r\n    function getRandomInt(min, max) {\r\n        return Math.floor(Math.random() * (max - min)) + min;\r\n    }\r\n    function getNowTicks() {\r\n        return (621355968e9 + (new Date()).getTime() * 1e4);\r\n    }\r\n    function safeParseInt(str) {\r\n        var isnum = /^\\d+$/.test(str);\r\n        if (!isnum)\r\n            throw \"Is not a valid number\";\r\n        return parseInt(str);\r\n    }\r\n    function getDaysInMonth(month, year) {\r\n        return new Date(year, month + 1, 0).getDate();\r\n    }\r\n    // ------------- date/time functions -------------------\r\n    // TO DO: improve to process all datetime cases\r\n    function strToDateTime(value, format) {\r\n        if (!value || value.length == 0)\r\n            return new Date();\r\n        var normalized = value.replace(/[^a-zA-Z0-9_]/g, '-');\r\n        var normalizedFormat = format.replace(/[^a-zA-Z0-9_]/g, '-');\r\n        var formatItems = normalizedFormat.split('-');\r\n        var dateItems = normalized.split('-');\r\n        var monthIndex = formatItems.indexOf(\"MM\");\r\n        var dayIndex = formatItems.indexOf(\"dd\");\r\n        var yearIndex = formatItems.indexOf(\"yyyy\");\r\n        var hourIndex = formatItems.indexOf(\"HH\");\r\n        var minutesIndex = formatItems.indexOf(\"mm\");\r\n        var secondsIndex = formatItems.indexOf(\"ss\");\r\n        var today = new Date();\r\n        try {\r\n            var year = yearIndex > -1 && yearIndex < dateItems.length ? safeParseInt(dateItems[yearIndex]) : today.getFullYear();\r\n            var month = monthIndex > -1 && monthIndex < dateItems.length ? safeParseInt(dateItems[monthIndex]) - 1 : today.getMonth() - 1;\r\n            if (month > 11)\r\n                throw '';\r\n            var day = dayIndex > -1 && dayIndex < dateItems.length ? safeParseInt(dateItems[dayIndex]) : today.getDate();\r\n            if (day > getDaysInMonth(month, year))\r\n                throw '';\r\n            var hour = hourIndex > -1 && hourIndex < dateItems.length ? safeParseInt(dateItems[hourIndex]) : 0;\r\n            if (hour > 23)\r\n                throw '';\r\n            var minute = minutesIndex > -1 && minutesIndex < dateItems.length ? safeParseInt(dateItems[minutesIndex]) : 0;\r\n            if (minute > 59)\r\n                throw '';\r\n            var second = secondsIndex > -1 && secondsIndex < dateItems.length ? safeParseInt(dateItems[secondsIndex]) : 0;\r\n            if (second > 59)\r\n                throw '';\r\n            return new Date(year, month, day, hour, minute, second);\r\n        }\r\n        catch (_a) {\r\n            throw \"Is not a valid date time.\";\r\n        }\r\n    }\r\n    utils.strToDateTime = strToDateTime;\r\n    var DT_FORMAT_RGEX = /\\[([^\\]]+)]|y{4}|M{1,4}|d{1,2}|H{1,2}|h{1,2}|m{2}|s{2}|t{2}/g;\r\n    /**\r\n     * Returns string representation of the date/time value according to the custom format (second parameter)\r\n     * The format is compatible with the one used in .NET: https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings\r\n     * @param date\r\n     * @param format\r\n     */\r\n    function dateTimeToStr(date, format) {\r\n        var year = date.getFullYear();\r\n        var month = date.getMonth() + 1;\r\n        var day = date.getDate();\r\n        var hour = date.getHours();\r\n        var minute = date.getMinutes();\r\n        var second = date.getSeconds();\r\n        var hour12 = hour % 12 || 12; //the remainder of the division by 12. Or 12 if it's 0\r\n        var isPm = hour > 11;\r\n        var matches = {\r\n            yyyy: year.toString(),\r\n            MMMM: i18n.getLongMonthName(month),\r\n            MMM: i18n.getShortMonthName(month),\r\n            MM: (month < 10) ? '0' + month : month.toString(),\r\n            M: month.toString(),\r\n            dd: (day < 10) ? '0' + day : day.toString(),\r\n            d: day.toString(),\r\n            HH: (hour < 10) ? '0' + hour : hour.toString(),\r\n            H: hour.toString(),\r\n            hh: (hour12 < 10) ? '0' + hour12 : hour12.toString(),\r\n            h: hour12.toString(),\r\n            tt: isPm ? 'PM' : 'AM',\r\n            mm: (minute < 10) ? '0' + minute : minute.toString(),\r\n            ss: (second < 10) ? '0' + second : second.toString()\r\n        };\r\n        return format.replace(DT_FORMAT_RGEX, function (match, $1) {\r\n            return $1 || matches[match];\r\n        });\r\n    }\r\n    utils.dateTimeToStr = dateTimeToStr;\r\n    /**\r\n    * Converts a numeric value to the string taking into the account the decimal separator\r\n    * @param value - the number to convert\r\n    * @param decimalSeparator - the symbol that represents decimal separator. If not specified the function gets the one from the current locale settings.\r\n    */\r\n    function numberToStr(number, decimalSeparator) {\r\n        decimalSeparator = decimalSeparator || i18n.getLocaleSettings().decimalSeparator;\r\n        return number.toString().replace('.', decimalSeparator);\r\n    }\r\n    utils.numberToStr = numberToStr;\r\n})(utils || (utils = {}));\r\n//# sourceMappingURL=utils.js.map","export function repeatString(str, times) {\r\n    var result = \"\";\r\n    for (var i = 0; i < times; i++) {\r\n        result += str;\r\n    }\r\n    return result;\r\n}\r\nexport function reverseString(str) {\r\n    return str.split(\"\").reverse().join(\"\");\r\n}\r\nexport function strEndsWith(str, symbol) {\r\n    return str && str.lastIndexOf(symbol) == (str.length - symbol.length);\r\n}\r\n/**\r\n * Adds two paths and returns the result\r\n * Correctly processes leading and trailing slashes\r\n * @param path1\r\n * @param path2\r\n */\r\nexport function combinePath(path1, path2) {\r\n    var result = path1;\r\n    if (result != null && result.length > 0) {\r\n        if (result.charAt(result.length - 1) != '/')\r\n            result += \"/\";\r\n        result += path2;\r\n    }\r\n    else {\r\n        result = path2;\r\n    }\r\n    return result;\r\n}\r\n//# sourceMappingURL=string_utils.js.map","var HttpActionResult = /** @class */ (function () {\r\n    function HttpActionResult(request, promise) {\r\n        this.request = request;\r\n        this.promise = promise;\r\n    }\r\n    HttpActionResult.prototype.getPromise = function () {\r\n        return this.promise;\r\n    };\r\n    HttpActionResult.prototype.getRequest = function () {\r\n        return this.request;\r\n    };\r\n    HttpActionResult.prototype.then = function (onfulfilled, onrejected) {\r\n        return this.promise.then(onfulfilled, onrejected);\r\n    };\r\n    HttpActionResult.prototype.catch = function (onrejected) {\r\n        return this.promise.catch(onrejected);\r\n    };\r\n    HttpActionResult.prototype.finally = function (onfinally) {\r\n        return this.promise.finally(onfinally);\r\n    };\r\n    return HttpActionResult;\r\n}());\r\nexport { HttpActionResult };\r\n//# sourceMappingURL=http_action_result.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { utils } from '../utils/utils';\r\nimport { HttpActionResult } from './http_action_result';\r\nimport { HttpMethod } from './http_method';\r\nimport { HttpRequest } from './http_request';\r\nvar HttpResponseError = /** @class */ (function (_super) {\r\n    __extends(HttpResponseError, _super);\r\n    function HttpResponseError(status, message) {\r\n        var _this = _super.call(this, message) || this;\r\n        _this.status = status;\r\n        return _this;\r\n    }\r\n    return HttpResponseError;\r\n}(Error));\r\nexport { HttpResponseError };\r\nvar HttpClient = /** @class */ (function () {\r\n    function HttpClient() {\r\n        this.defaultHeaders = {};\r\n        this.customPayload = undefined;\r\n    }\r\n    HttpClient.prototype.get = function (url, options) {\r\n        return this.send(HttpMethod.Get, url, null, options);\r\n    };\r\n    HttpClient.prototype.post = function (url, data, options) {\r\n        return this.send(HttpMethod.Post, url, data, options);\r\n    };\r\n    HttpClient.prototype.put = function (url, data, options) {\r\n        return this.send(HttpMethod.Put, url, data, options);\r\n    };\r\n    HttpClient.prototype.delete = function (url, data, options) {\r\n        return this.send(HttpMethod.Delete, url, data, options);\r\n    };\r\n    HttpClient.prototype.send = function (method, url, data, options) {\r\n        options = options || {};\r\n        var dataType = options.dataType || 'json';\r\n        var contentType = options.contentType || (dataType !== 'form-data')\r\n            ? 'application/json'\r\n            : null;\r\n        if (data && dataType != 'form-data' && this.customPayload) {\r\n            data.data = utils.assignDeep(data.data || {}, this.customPayload);\r\n        }\r\n        var XHR = ('onload' in new XMLHttpRequest())\r\n            ? XMLHttpRequest\r\n            : window[\"XDomainRequest\"]; //IE support\r\n        var xhr = new XHR();\r\n        var desc = {\r\n            method: method,\r\n            url: url,\r\n            headers: __assign({}, this.defaultHeaders, options.headers || {}),\r\n            queryParams: options.queryParams || {},\r\n            data: data\r\n        };\r\n        if (contentType)\r\n            desc.headers['Content-Type'] = contentType;\r\n        var request = new HttpRequest(xhr, desc);\r\n        if (this.beforeEachRequest) {\r\n            console.warn(\"HttpClient: 'beforeEachRequest' is deprecated and will be removed in future updates.\\n            Use 'onRequest' instead\");\r\n            this.beforeEachRequest(request);\r\n        }\r\n        if (this.onRequest) {\r\n            this.onRequest(request);\r\n        }\r\n        var dataToSend = (request.data && typeof request.data !== 'string'\r\n            && dataType == 'json')\r\n            ? JSON.stringify(request.data)\r\n            : request.data;\r\n        request.open();\r\n        return new HttpActionResult(request, new Promise(function (resolve, reject) {\r\n            xhr.onreadystatechange = function () {\r\n                if (xhr.readyState != 4) {\r\n                    return;\r\n                }\r\n                var responseContentType = xhr.getResponseHeader('Content-Type') || '';\r\n                var responseObj = (responseContentType.indexOf('application/json') == 0)\r\n                    ? JSON.parse(xhr.responseText)\r\n                    : xhr.responseText;\r\n                var status = xhr.status;\r\n                if (status >= 300 || status < 200) {\r\n                    var message = responseObj.message ||\r\n                        (status == 404\r\n                            ? \"No such endpoint: \" + url\r\n                            : responseObj);\r\n                    reject(new HttpResponseError(status, message));\r\n                    return;\r\n                }\r\n                resolve(responseObj);\r\n            };\r\n            xhr.send(dataToSend);\r\n        }));\r\n    };\r\n    return HttpClient;\r\n}());\r\nexport { HttpClient };\r\n//# sourceMappingURL=http_client.js.map","import { DataType } from '../types/data_type';\r\nimport { EntityAttrKind } from '../types/entity_attr_kind';\r\nimport { utils } from '../utils/utils';\r\n/**\r\n * Represents one entity.\r\n */\r\nvar MetaEntity = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function MetaEntity(parent) {\r\n        this.name = \"\";\r\n        this.caption = \"\";\r\n        this.description = \"\";\r\n        this.parent = parent;\r\n        this.attributes = new Array();\r\n        this.subEntities = new Array();\r\n    }\r\n    /**\r\n    * Loads entity from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param dto The JSON representation object.\r\n    */\r\n    MetaEntity.prototype.loadFromData = function (model, dto) {\r\n        if (dto) {\r\n            this.id = dto.id;\r\n            this.name = dto.name;\r\n            this.captionPlural = dto.namePlur;\r\n            this.caption = dto.name;\r\n            this.description = dto.desc;\r\n            this.subEntities = new Array();\r\n            if (dto.ents) {\r\n                for (var i = 0; i < dto.ents.length; i++) {\r\n                    var newEntity = model.createEntity(this);\r\n                    newEntity.loadFromData(model, dto.ents[i]);\r\n                    this.subEntities.push(newEntity);\r\n                }\r\n            }\r\n            this.attributes = new Array();\r\n            if (dto.attrs) {\r\n                for (var i = 0; i < dto.attrs.length; i++) {\r\n                    var newAttr = model.createEntityAttr(this);\r\n                    newAttr.loadFromData(model, dto.attrs[i]);\r\n                    this.attributes.push(newAttr);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MetaEntity.prototype.scan = function (processAttribute, processEntity) {\r\n        var opts = { stop: false };\r\n        var internalProcessEntity = function (entity) {\r\n            if (processEntity)\r\n                processEntity(entity, opts);\r\n            if (entity.attributes) {\r\n                var attrCount = entity.attributes.length;\r\n                for (var i = 0; (i < attrCount) && !opts.stop; i++) {\r\n                    var attr = entity.attributes[i];\r\n                    if (processAttribute) {\r\n                        processAttribute(attr, opts);\r\n                    }\r\n                    if (opts.stop)\r\n                        return;\r\n                }\r\n            }\r\n            if (entity.subEntities) {\r\n                var subEntityCount = entity.subEntities.length;\r\n                for (var i = 0; (i < subEntityCount) && !opts.stop; i++) {\r\n                    internalProcessEntity(entity.subEntities[i]);\r\n                }\r\n            }\r\n        };\r\n        internalProcessEntity(this);\r\n    };\r\n    return MetaEntity;\r\n}());\r\nexport { MetaEntity };\r\nvar MetaEntityAttr = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function MetaEntityAttr(entity) {\r\n        this.id = \"\";\r\n        this.caption = \"{Unrecognized attribute}\";\r\n        this.dataType = DataType.String;\r\n        this.size = 0;\r\n        this.isPrimaryKey = false;\r\n        this.isForeignKey = false;\r\n        this.isNullable = true;\r\n        this.showOnView = true;\r\n        this.isEditable = true;\r\n        this.showOnCreate = true;\r\n        this.showOnEdit = true;\r\n        this.showInLookup = false;\r\n        this.lookupAttr = \"\";\r\n        this.expr = \"\";\r\n        this.entity = entity;\r\n        this.kind = EntityAttrKind.Data;\r\n    }\r\n    /**\r\n     * Loads entity attribute from JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param dto The JSON representation object.\r\n     */\r\n    MetaEntityAttr.prototype.loadFromData = function (model, dto) {\r\n        if (dto) {\r\n            this.id = dto.id;\r\n            this.description = dto.desc;\r\n            this.caption = dto.cptn;\r\n            this.dataType = dto.dtype;\r\n            this.isPrimaryKey = dto.ipk;\r\n            this.isForeignKey = dto.ifk;\r\n            this.size = dto.size;\r\n            this.lookupAttr = dto.lattr;\r\n            this.lookupEntity = dto.lent;\r\n            this.dataAttr = dto.dattr;\r\n            this.lookupDataAttr = dto.ldattr;\r\n            this.isNullable = utils.getIfDefined(dto.nul, this.isNullable);\r\n            this.isEditable = utils.getIfDefined(dto.ied, this.isEditable);\r\n            this.showOnView = utils.getIfDefined(dto.ivis || dto.sov, this.showOnView);\r\n            this.showOnCreate = utils.getIfDefined(dto.soc, this.showOnCreate);\r\n            this.showOnEdit = utils.getIfDefined(dto.soe, this.showOnEdit);\r\n            this.showInLookup = utils.getIfDefined(dto.sil, this.showInLookup);\r\n            this.kind = dto.kind;\r\n            if (dto.udata)\r\n                this.userData = dto.udata;\r\n            if (dto.edtr) {\r\n                this.defaultEditor = model.getEditorById(dto.edtr) || model.createValueEditor();\r\n            }\r\n        }\r\n    };\r\n    return MetaEntityAttr;\r\n}());\r\nexport { MetaEntityAttr };\r\n//# sourceMappingURL=meta_entity.js.map","import { EditorTag } from '../types/editor_tag';\r\nimport { DataType } from '../types/data_type';\r\n/**\r\n * Represents a value editor.\r\n */\r\nvar ValueEditor = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function ValueEditor() {\r\n        this.id = \"\";\r\n        this.tag = EditorTag.Unknown;\r\n        this.resType = DataType.Unknown;\r\n        this.defValue = \"\";\r\n    }\r\n    /**\r\n     * Loads value editor from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    ValueEditor.prototype.loadFromData = function (data) {\r\n        if (data) {\r\n            this.id = data.id;\r\n            this.tag = data.tag;\r\n            this.defValue = data.defval;\r\n            this.resType = data.rtype;\r\n            if (data.subType) {\r\n                this.resType = data.subType;\r\n            }\r\n            if (data.name) {\r\n                this.name = data.name;\r\n            }\r\n            if (data.values) {\r\n                this.values = data.values;\r\n            }\r\n        }\r\n    };\r\n    ValueEditor.prototype.getValueText = function (value) {\r\n        var result = \"\";\r\n        if (!this.values)\r\n            return result;\r\n        if (Array.isArray(value)) {\r\n            for (var _i = 0, _a = this.values; _i < _a.length; _i++) {\r\n                var item = _a[_i];\r\n                if (value.indexOf(item.id) >= 0) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var _b = 0, _c = this.values; _b < _c.length; _b++) {\r\n                var item = _c[_b];\r\n                if (item.id === value) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        if (result) {\r\n            result = result.substring(0, result.length - 1);\r\n        }\r\n        return result;\r\n    };\r\n    return ValueEditor;\r\n}());\r\nexport { ValueEditor };\r\n//# sourceMappingURL=value_editor.js.map","import { i18n } from '../i18n/i18n';\r\nimport { utils } from '../utils/utils';\r\nimport { EditorTag } from '../types/editor_tag';\r\nimport { DataType } from '../types/data_type';\r\nimport { MetaEntity, MetaEntityAttr } from './meta_entity';\r\nimport { ValueEditor } from './value_editor';\r\n/**\r\n * Represents a data model\r\n */\r\nvar MetaData = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function MetaData() {\r\n        this.mainEntity = null;\r\n        this.id = '__none';\r\n        this.name = 'Empty model';\r\n        this.rootEntity = this.createEntity();\r\n    }\r\n    /**\r\n     * Gets the main entity of model\r\n     * @return The main entity.\r\n     */\r\n    MetaData.prototype.getMainEntity = function () {\r\n        return this.mainEntity;\r\n    };\r\n    MetaData.prototype.createEntity = function (parent) {\r\n        return new MetaEntity(parent);\r\n    };\r\n    MetaData.prototype.createEntityAttr = function (parent) {\r\n        return new MetaEntityAttr(parent);\r\n    };\r\n    MetaData.prototype.createValueEditor = function () {\r\n        return new ValueEditor();\r\n    };\r\n    /**\r\n     * Loads data model from JSON.\r\n     * @param stringJson The JSON string.\r\n     */\r\n    MetaData.prototype.loadFromJSON = function (stringJson) {\r\n        var model = JSON.parse(stringJson);\r\n        this.loadFromData(model);\r\n    };\r\n    /**\r\n     * Loads data model from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    MetaData.prototype.loadFromData = function (data) {\r\n        this.id = data.id;\r\n        this.name = data.name;\r\n        this.version = data.vers;\r\n        //Editors\r\n        this.editors = new Array();\r\n        if (data.editors) {\r\n            for (var i = 0; i < data.editors.length; i++) {\r\n                var newEditor = this.createValueEditor();\r\n                newEditor.loadFromData(data.editors[i]);\r\n                this.editors.push(newEditor);\r\n            }\r\n        }\r\n        //rootEntity\r\n        this.rootEntity.loadFromData(this, data.entroot);\r\n    };\r\n    /**\r\n     * Sets data to data model.\r\n     * @param model Its JSON representation object or JSON string.\r\n     */\r\n    MetaData.prototype.setData = function (model) {\r\n        if (typeof model === 'string') {\r\n            this.loadFromJSON(model);\r\n        }\r\n        else {\r\n            this.loadFromData(model);\r\n        }\r\n    };\r\n    /**\r\n     * Checks wether the data model is empty.\r\n     * @returns `true` if the data model is empty, otherwise `false`.\r\n     */\r\n    MetaData.prototype.isEmpty = function () {\r\n        return this.rootEntity.subEntities.length === 0 && this.rootEntity.attributes.length === 0;\r\n    };\r\n    /**\r\n     * Gets ID of the data model.\r\n     * @returns The ID.\r\n     */\r\n    MetaData.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    /**\r\n     * Gets name of the data model.\r\n     * @returns The name.\r\n     */\r\n    MetaData.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    /**\r\n     * Gets root entity of the data model.\r\n     * @returns The root entity.\r\n     */\r\n    MetaData.prototype.getRootEntity = function () {\r\n        return this.rootEntity;\r\n    };\r\n    /**\r\n     * Finds editor by its ID.\r\n     * @param editorId The editor ID.\r\n     * @returns The value editor or `null`.\r\n     */\r\n    MetaData.prototype.getEditorById = function (editorId) {\r\n        for (var _i = 0, _a = this.editors; _i < _a.length; _i++) {\r\n            var editor = _a[_i];\r\n            if (editor.id === editorId) {\r\n                return editor;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified model (it's root entity and all its sub-entities).\r\n     * @param attrId The attribute ID.\r\n     * @returns The attribute or `null`.\r\n     */\r\n    MetaData.prototype.getAttributeById = function (attrId) {\r\n        var attr = this.getEntityAttrById(this.getRootEntity(), attrId);\r\n        if (!attr) {\r\n            return null;\r\n        }\r\n        return attr;\r\n    };\r\n    /**\r\n     * Checks wether attribute contains such property.\r\n     * @param attrId The attribute ID.\r\n     * @param propName The property name.\r\n     * @returns `true` if the attribute contains the property, otherwise `false`.\r\n     */\r\n    MetaData.prototype.checkAttrProperty = function (attrId, propName) {\r\n        var attribute = this.getAttributeById(attrId);\r\n        if (attribute) {\r\n            if (typeof attribute[propName] === 'undefined') {\r\n                throw 'No such property: ' + propName;\r\n            }\r\n            if (attribute[propName]) {\r\n                return true;\r\n            }\r\n            else if (attribute.lookupAttr) {\r\n                attrId = attribute.lookupAttr;\r\n                attribute = this.getAttributeById(attrId);\r\n                return attribute && attribute[propName];\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        else\r\n            return false;\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified entity and all its sub-entities.\r\n     * @param entity\r\n     * @param attrId\r\n     * @returns The attribute or `null`.\r\n     */\r\n    MetaData.prototype.getEntityAttrById = function (entity, attrId) {\r\n        var idx;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (idx = 0; idx < attrCount; idx++) {\r\n                if (entity.attributes[idx].id == attrId) {\r\n                    return entity.attributes[idx];\r\n                }\r\n            }\r\n        }\r\n        var res;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (idx = 0; idx < subEntityCount; idx++) {\r\n                res = this.getEntityAttrById(entity.subEntities[idx], attrId);\r\n                if (res)\r\n                    return res;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    MetaData.prototype.listByEntityWithFilter = function (entity, filterFunc) {\r\n        var result = new Array();\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    caption = i18n.getText('Entities', ent.name);\r\n                    if (!caption) {\r\n                        caption = ent.caption;\r\n                    }\r\n                    var newEnt = utils.assign(this.createEntity(), { id: ent.name, text: caption, items: [], isEntity: true });\r\n                    newEnt.items = this.listByEntityWithFilter(ent, filterFunc);\r\n                    if (newEnt.items.length > 0)\r\n                        result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    caption = i18n.getText('Attributes', attr.id);\r\n                    if (!caption)\r\n                        caption = attr.caption;\r\n                    var newEnt = utils.assign(this.createEntity(), { id: attr.id, text: caption, dataType: attr.dataType });\r\n                    result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    MetaData.prototype.listByEntity = function (entity, opts, filterFunc) {\r\n        opts = opts || {};\r\n        var resultEntities = [];\r\n        var resultAttributes = [];\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    caption = i18n.getText('Entities', ent.name) || ent.caption;\r\n                    var newEnt = utils.assign(this.createEntity(), {\r\n                        id: ent.name,\r\n                        text: caption,\r\n                        items: [],\r\n                        isEntity: true,\r\n                        description: ent.description\r\n                    });\r\n                    var newOpts = utils.assign({}, opts);\r\n                    newOpts.includeRootData = false;\r\n                    newEnt.items = this.listByEntity(ent, newOpts, filterFunc);\r\n                    if (newEnt.items.length > 0) {\r\n                        resultEntities.push(newEnt);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    caption = i18n.getText('Attributes', attr.id) || attr.caption;\r\n                    resultAttributes.push(utils.assign(this.createEntityAttr(entity), {\r\n                        id: attr.id, text: caption,\r\n                        dataType: attr.dataType, lookupAttr: attr.lookupAttr,\r\n                        description: attr.description\r\n                    }));\r\n                }\r\n            }\r\n        }\r\n        var sortCheck = function (a, b) {\r\n            if (a.text.toLowerCase() == b.text.toLowerCase()) {\r\n                return 0;\r\n            }\r\n            if (a.text.toLowerCase() > b.text.toLowerCase()) {\r\n                return 1;\r\n            }\r\n            return -1;\r\n        };\r\n        if (opts.sortEntities) {\r\n            resultEntities.sort(sortCheck);\r\n            resultAttributes.sort(sortCheck);\r\n        }\r\n        var result;\r\n        if (!opts.attrPlacement || opts.attrPlacement == 0) {\r\n            result = resultEntities.concat(resultAttributes);\r\n        }\r\n        else {\r\n            result = resultAttributes.concat(resultEntities);\r\n        }\r\n        if (opts.attrPlacement == 2) {\r\n            result.sort(sortCheck);\r\n        }\r\n        if (opts.includeRootData) {\r\n            caption = i18n.getText('Entities', entity.name);\r\n            if (!caption)\r\n                caption = entity.caption;\r\n            return { id: entity.name, text: caption, items: result };\r\n        }\r\n        else {\r\n            return result;\r\n        }\r\n    };\r\n    /**\r\n     * Clears data model.\r\n     */\r\n    MetaData.prototype.clear = function () {\r\n        this.rootEntity = this.createEntity();\r\n        this.editors = [];\r\n        this.version = '';\r\n    };\r\n    /**\r\n     * Add default value editors.\r\n     */\r\n    MetaData.prototype.addDefaultValueEditors = function () {\r\n        var ve;\r\n        ve = this.addOrUpdateValueEditor('_DTE', EditorTag.Edit, DataType.String);\r\n        ve.defValue = '';\r\n        this.addOrUpdateValueEditor('_DPDE', EditorTag.DateTime, DataType.DateTime);\r\n        this.addOrUpdateValueEditor('_DPTE', EditorTag.DateTime, DataType.DateTime);\r\n    };\r\n    /**\r\n    * Add or update a value editor.\r\n    * @param id The id.\r\n    * @param tag The tag.\r\n    * @param resType The result type.\r\n    * @returns The value editor.\r\n    */\r\n    MetaData.prototype.addOrUpdateValueEditor = function (id, tag, resType) {\r\n        var ve = utils.findItemById(this.editors, id);\r\n        if (!ve) {\r\n            ve = this.createValueEditor();\r\n            ve.id = id;\r\n            this.editors.push(ve);\r\n        }\r\n        ve.tag = tag;\r\n        ve.resType = resType;\r\n        return ve;\r\n    };\r\n    /**\r\n     * Gets entities tree.\r\n     * @param opts The options.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to options and the filter function\r\n     */\r\n    MetaData.prototype.getEntitiesTree = function (opts, filterFunc) {\r\n        return this.listByEntity(this.getRootEntity(), opts, filterFunc);\r\n    };\r\n    /**\r\n     * Gets entities tree due to filter.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to the filter function\r\n     */\r\n    MetaData.prototype.getEntitiesTreeWithFilter = function (filterFunc) {\r\n        return this.listByEntityWithFilter(this.getRootEntity(), filterFunc);\r\n    };\r\n    /**\r\n     * Finds full entity path by attribute\r\n     * @param attrId The attribute id.\r\n     * @param sep The separator.\r\n     * @returns The path.\r\n     */\r\n    MetaData.prototype.getFullEntityPathByAttr = function (attrId, sep) {\r\n        sep = sep || ' ';\r\n        return this.getEntityPathByAttr(this.getRootEntity(), attrId, sep, true);\r\n    };\r\n    /**\r\n    * Finds entity path by attribute\r\n    * @param entity The entity.\r\n    * @param attrId The attribute id.\r\n    * @param sep The separator.\r\n    * @param root The root option.\r\n    * @returns The path.\r\n    */\r\n    MetaData.prototype.getEntityPathByAttr = function (entity, attrId, sep, root) {\r\n        if (!entity)\r\n            return '';\r\n        sep = sep || ' ';\r\n        var entityCaption = '';\r\n        if (entity.caption && !root) {\r\n            var entityText = i18n.getText('Entities', entity.caption);\r\n            entityCaption = entityText ? entityText : entity.caption;\r\n        }\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var i = 0; i < attrCount; i++) {\r\n                if (entity.attributes[i].id == attrId) {\r\n                    return entityCaption;\r\n                }\r\n            }\r\n        }\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var i = 0; i < subEntityCount; i++) {\r\n                var ent = entity.subEntities[i];\r\n                var res = this.getEntityPathByAttr(ent, attrId, sep, false);\r\n                if (res !== '') {\r\n                    if (entityCaption !== '')\r\n                        res = entityCaption + sep + res;\r\n                    return res;\r\n                }\r\n            }\r\n        }\r\n        return '';\r\n    };\r\n    /**\r\n     * Gets the attribute text.\r\n     * @param attr The attribute.\r\n     * @param format The format.\r\n     * @returns Formatted text.\r\n     */\r\n    MetaData.prototype.getAttributeText = function (attr, format) {\r\n        var attrText = i18n.getText('Attributes', attr.id);\r\n        if (!attrText) {\r\n            attrText = attr.caption;\r\n        }\r\n        if (!format) {\r\n            return attrText;\r\n        }\r\n        var result = '';\r\n        var entityPath = this.getFullEntityPathByAttr(attr.id, ' ');\r\n        if (entityPath) {\r\n            result = format.replace(new RegExp('{attr}', 'g'), attrText);\r\n            result = result.replace(new RegExp('{entity}', 'g'), entityPath);\r\n        }\r\n        else {\r\n            result = attrText;\r\n        }\r\n        return result.trim();\r\n    };\r\n    /**\r\n     * Scans model's entity tree and calls the callback functions for each attribute and entity.\r\n     * @param processAttribute The callback function which is called for each attribute in model's entity tree.\r\n     * The processed attribute is passed in the first function parameter.\r\n     * @param processEntity The callback function which is called for each entity in tree.\r\n     * The processed entity is passed in the first function parameter.\r\n     */\r\n    MetaData.prototype.runThroughEntities = function (processAttribute, processEntity) {\r\n        this.getRootEntity().scan(processAttribute, processEntity);\r\n    };\r\n    /**\r\n     * Finds first attribute by filter.\r\n     * @param filterFunc The filter function. Takes EntityAttr object in parameter and returns boolean\r\n     */\r\n    MetaData.prototype.getFirstAttributeByFilter = function (filterFunc) {\r\n        var res = null;\r\n        this.runThroughEntities(function (attr, opts) {\r\n            if (filterFunc(attr)) {\r\n                opts.stop = true;\r\n                res = attr;\r\n            }\r\n        }, null);\r\n        return res;\r\n    };\r\n    return MetaData;\r\n}());\r\nexport { MetaData };\r\n//# sourceMappingURL=meta_data.js.map","import { DataType } from \"../types/data_type\";\r\nimport { utils } from \"../utils/utils\";\r\nvar DataColumn = /** @class */ (function () {\r\n    function DataColumn(desc) {\r\n        if (!desc)\r\n            throw Error(\"Options are required\");\r\n        if (!desc.id)\r\n            throw Error(\"Field Id is required\");\r\n        if (!desc.label)\r\n            throw Error(\"Label is required\");\r\n        this.id = desc.id;\r\n        this.type = utils.getIfDefined(desc.type, DataType.String);\r\n        this.label = desc.label;\r\n        this.isAggr = desc.isAggr || false;\r\n    }\r\n    return DataColumn;\r\n}());\r\nexport { DataColumn };\r\nvar DataColumnList = /** @class */ (function () {\r\n    function DataColumnList() {\r\n        this.items = [];\r\n        this.mapper = {};\r\n        this._dateColumnIdx = [];\r\n    }\r\n    Object.defineProperty(DataColumnList.prototype, \"count\", {\r\n        get: function () {\r\n            return this.items.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DataColumnList.prototype.add = function (colOrDesc) {\r\n        var col;\r\n        if (colOrDesc instanceof DataColumn) {\r\n            col = colOrDesc;\r\n        }\r\n        else {\r\n            col = new DataColumn(colOrDesc);\r\n        }\r\n        var index = this.items.length;\r\n        this.items.push(col);\r\n        this.mapper[col.id] = index;\r\n        if ([DataType.Date, DataType.DateTime, DataType.Time].indexOf(col.type) >= 0) {\r\n            this._dateColumnIdx.push(index);\r\n        }\r\n        return index;\r\n    };\r\n    DataColumnList.prototype.updateDateColumnIdx = function () {\r\n        this._dateColumnIdx = this.getItems()\r\n            .filter(function (col) { return [DataType.Date, DataType.DateTime, DataType.Time].indexOf(col.type) >= 0; })\r\n            .map(function (col, index) { return index; });\r\n    };\r\n    DataColumnList.prototype.put = function (index, col) {\r\n        //!!!!!!!!!check on \"out of index\"\r\n        this.items[index] = col;\r\n        this.updateDateColumnIdx();\r\n    };\r\n    DataColumnList.prototype.move = function (col, newIndex) {\r\n        var oldIndex = this.items.indexOf(col);\r\n        if (oldIndex >= 0 && oldIndex != newIndex) {\r\n            utils.moveArrayItem(this.items, oldIndex, newIndex);\r\n            this.updateDateColumnIdx();\r\n        }\r\n    };\r\n    DataColumnList.prototype.get = function (index) {\r\n        //!!!!!!!!!check on \"out of index\"\r\n        return this.items[index];\r\n    };\r\n    DataColumnList.prototype.getIndex = function (id) {\r\n        return this.mapper[id];\r\n    };\r\n    DataColumnList.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    DataColumnList.prototype.getDateColumnIndexes = function () {\r\n        return this._dateColumnIdx;\r\n    };\r\n    DataColumnList.prototype.removeAt = function (index) {\r\n        var col = this.get(index);\r\n        this.items.splice(index, 1);\r\n        var removeDate = this._dateColumnIdx.indexOf(index);\r\n        if (removeDate >= 0) {\r\n            this._dateColumnIdx.splice(removeDate, 1);\r\n        }\r\n        delete this.mapper[col.id];\r\n    };\r\n    DataColumnList.prototype.clear = function () {\r\n        this.items = [];\r\n        this._dateColumnIdx = [];\r\n        this.mapper = {};\r\n    };\r\n    return DataColumnList;\r\n}());\r\nexport { DataColumnList };\r\n//# sourceMappingURL=data_column.js.map","var DataRow = /** @class */ (function () {\r\n    function DataRow(columns, values) {\r\n        this.columns = columns;\r\n        this.values = values;\r\n    }\r\n    DataRow.prototype.toArray = function () {\r\n        return Array.from(this.values);\r\n    };\r\n    DataRow.prototype.size = function () {\r\n        return this.values.length;\r\n    };\r\n    DataRow.prototype.getValue = function (colIdOrIndex) {\r\n        var index;\r\n        if (typeof colIdOrIndex === \"string\") {\r\n            index = this.columns.getIndex(colIdOrIndex);\r\n            if (index === undefined) {\r\n                throw new RangeError(\"No column with id '\" + colIdOrIndex + \"'\");\r\n            }\r\n        }\r\n        else {\r\n            index = colIdOrIndex;\r\n        }\r\n        if (index >= this.values.length)\r\n            throw new RangeError(\"Out of range: \" + index);\r\n        return this.values[index];\r\n    };\r\n    DataRow.prototype.setValue = function (colIdOrIndex, value) {\r\n        var index;\r\n        if (typeof colIdOrIndex === \"string\") {\r\n            index = this.columns.getIndex(colIdOrIndex);\r\n            if (index === undefined) {\r\n                throw new RangeError(\"No column with id '\" + colIdOrIndex + \"'\");\r\n            }\r\n        }\r\n        else {\r\n            index = colIdOrIndex;\r\n        }\r\n        if (index >= this.values.length)\r\n            throw new RangeError(\"Out of range: \" + index);\r\n        this.values[index] = value;\r\n    };\r\n    return DataRow;\r\n}());\r\nexport { DataRow };\r\n//# sourceMappingURL=data_row.js.map","import { DataColumnList } from \"./data_column\";\r\nimport { DataRow } from \"./data_row\";\r\nvar EasyDataTable = /** @class */ (function () {\r\n    function EasyDataTable(options) {\r\n        this._chunkSize = 1000;\r\n        // object keeps number keys sorted\r\n        this.chunkMap = {};\r\n        this.total = 0;\r\n        this.loader = null;\r\n        this.needTotal = true;\r\n        options = options || {};\r\n        this._chunkSize = options.chunkSize || this._chunkSize;\r\n        this.loader = options.loader;\r\n        this._columns = new DataColumnList();\r\n        if (options.columns) {\r\n            for (var _i = 0, _a = options.columns; _i < _a.length; _i++) {\r\n                var colDesc = _a[_i];\r\n                this._columns.add(colDesc);\r\n            }\r\n        }\r\n        if (options.rows) {\r\n            for (var _b = 0, _c = options.rows; _b < _c.length; _b++) {\r\n                var rowData = _c[_b];\r\n                var row = this.createRow(rowData);\r\n                this.addRow(row);\r\n            }\r\n        }\r\n    }\r\n    Object.defineProperty(EasyDataTable.prototype, \"columns\", {\r\n        get: function () {\r\n            return this._columns;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(EasyDataTable.prototype, \"chunkSize\", {\r\n        get: function () {\r\n            return this._chunkSize;\r\n        },\r\n        set: function (value) {\r\n            this._chunkSize = value;\r\n            this.total = 0;\r\n            this.needTotal = true;\r\n            this.chunkMap = {};\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EasyDataTable.prototype.getRows = function (params) {\r\n        var _this = this;\r\n        var fromIndex = 0, count = this._chunkSize;\r\n        if (params) {\r\n            if ('page' in params) {\r\n                fromIndex = params.pageSize * (params.page - 1);\r\n                count = params.pageSize;\r\n            }\r\n            else {\r\n                fromIndex = params.offset;\r\n                count = params.limit;\r\n            }\r\n        }\r\n        if (fromIndex >= this.total) {\r\n            return Promise.resolve([]);\r\n        }\r\n        var endIndex = fromIndex + count;\r\n        if (endIndex >= this.total) {\r\n            endIndex = this.total;\r\n        }\r\n        var lbChunk = Math.trunc(fromIndex / this._chunkSize);\r\n        var upChunk = Math.trunc(endIndex / this._chunkSize);\r\n        var allChunksCached = true;\r\n        for (var i = lbChunk; i <= upChunk; i++) {\r\n            if (!this.chunkMap[i]) {\r\n                allChunksCached = false;\r\n                break;\r\n            }\r\n        }\r\n        if (allChunksCached) {\r\n            var resultArr = [];\r\n            for (var i = lbChunk; i <= upChunk; i++) {\r\n                resultArr = resultArr.concat(this.chunkMap[i].rows);\r\n            }\r\n            return Promise.resolve(resultArr.slice(fromIndex - this.chunkMap[lbChunk].offset, endIndex - this.chunkMap[lbChunk].offset));\r\n        }\r\n        //if loader is not defined\r\n        if (!this.loader) {\r\n            throw \"Loader is not defined. Can't get the rows from \" + fromIndex + \" to \" + endIndex;\r\n        }\r\n        // we need total only fo first request\r\n        var needTotal = this.needTotal;\r\n        if (this.needTotal) {\r\n            this.needTotal = false;\r\n        }\r\n        return this.loader.loadChunk({\r\n            offset: lbChunk * this._chunkSize,\r\n            limit: this._chunkSize * (upChunk - lbChunk + 1),\r\n            needTotal: needTotal\r\n        })\r\n            .then(function (result) {\r\n            var chunks = result.table.getCachedChunks();\r\n            if (needTotal) {\r\n                _this.total = result.total;\r\n            }\r\n            var index = lbChunk;\r\n            for (var _i = 0, chunks_1 = chunks; _i < chunks_1.length; _i++) {\r\n                var chunk = chunks_1[_i];\r\n                _this.chunkMap[index] = {\r\n                    offset: index * _this._chunkSize,\r\n                    rows: chunk.rows\r\n                };\r\n                index++;\r\n            }\r\n            var resultArr = [];\r\n            for (var i = lbChunk; i <= upChunk; i++) {\r\n                resultArr = resultArr.concat(_this.chunkMap[i].rows);\r\n            }\r\n            return resultArr.slice(fromIndex - _this.chunkMap[lbChunk].offset, endIndex - _this.chunkMap[lbChunk].offset);\r\n        });\r\n    };\r\n    EasyDataTable.prototype.getRow = function (index) {\r\n        return this.getRows({ offset: index, limit: 1 })\r\n            .then(function (rows) { return rows.length > 0 ? rows[0] : null; });\r\n    };\r\n    EasyDataTable.prototype.getTotal = function () {\r\n        return this.total;\r\n    };\r\n    EasyDataTable.prototype.setTotal = function (total) {\r\n        this.total = total;\r\n        this.needTotal = false;\r\n        this.chunkMap = {};\r\n    };\r\n    EasyDataTable.prototype.getCachedCount = function () {\r\n        return this.getCachedRows().length;\r\n    };\r\n    EasyDataTable.prototype.clear = function () {\r\n        this.columns.clear();\r\n        this.chunkMap = {};\r\n        this.total = 0;\r\n        this.needTotal = true;\r\n    };\r\n    EasyDataTable.prototype.createRow = function (dataOrRow) {\r\n        var _this = this;\r\n        var dateIdx = this._columns.getDateColumnIndexes();\r\n        var values = new Array(this._columns.count);\r\n        var getValue = dataOrRow instanceof DataRow\r\n            ? function (colId) { return dataOrRow.getValue(colId); }\r\n            : function (colId) { return dataOrRow[colId]; };\r\n        if (dataOrRow) {\r\n            this.columns.getItems().forEach(function (column) {\r\n                var value = getValue(column.id);\r\n                var index = _this.columns.getIndex(column.id);\r\n                values[index] = (dateIdx.indexOf(index) >= 0)\r\n                    ? new Date(value)\r\n                    : value;\r\n            });\r\n        }\r\n        return new DataRow(this._columns, values);\r\n    };\r\n    EasyDataTable.prototype.addRow = function (rowOrValue) {\r\n        var newRow;\r\n        if (Array.isArray(rowOrValue)) {\r\n            var dateIdx = this._columns.getDateColumnIndexes();\r\n            if (dateIdx.length > 0) {\r\n                for (var _i = 0, dateIdx_1 = dateIdx; _i < dateIdx_1.length; _i++) {\r\n                    var idx = dateIdx_1[_i];\r\n                    rowOrValue[idx] = new Date(rowOrValue[idx]);\r\n                }\r\n            }\r\n            newRow = new DataRow(this._columns, rowOrValue);\r\n        }\r\n        else {\r\n            newRow = this.createRow(rowOrValue);\r\n        }\r\n        var lastChunk = this.getLastChunk();\r\n        if (!lastChunk || lastChunk.rows.length >= this._chunkSize) {\r\n            lastChunk = this.createChunk();\r\n        }\r\n        lastChunk.rows.push(newRow);\r\n        var cachedTotal = this.getCachedCount();\r\n        if (cachedTotal > this.total) {\r\n            this.total = cachedTotal;\r\n        }\r\n        return newRow;\r\n    };\r\n    EasyDataTable.prototype.createChunk = function (index) {\r\n        if (typeof index == 'undefined') {\r\n            index = this.getLastChunkIndex() + 1;\r\n        }\r\n        var chunk = { offset: index * this._chunkSize, rows: [] };\r\n        this.chunkMap[index] = chunk;\r\n        return chunk;\r\n    };\r\n    EasyDataTable.prototype.getLastChunkIndex = function () {\r\n        var keys = Object.keys(this.chunkMap);\r\n        return keys.length > 0\r\n            ? parseInt(keys[keys.length - 1])\r\n            : -1;\r\n    };\r\n    EasyDataTable.prototype.getLastChunk = function () {\r\n        var index = this.getLastChunkIndex();\r\n        return index > -1\r\n            ? this.chunkMap[index]\r\n            : null;\r\n    };\r\n    EasyDataTable.prototype.getCachedRows = function () {\r\n        return this.getCachedChunks()\r\n            .reduce(function (acc, v) { return acc.concat(v.rows); }, []);\r\n    };\r\n    EasyDataTable.prototype.getCachedChunks = function () {\r\n        return Object.values(this.chunkMap);\r\n    };\r\n    return EasyDataTable;\r\n}());\r\nexport { EasyDataTable };\r\n//# sourceMappingURL=easy_data_table.js.map","/**\r\n * EasyData representation of GUID.\r\n */\r\nvar EasyGuid = /** @class */ (function () {\r\n    function EasyGuid() {\r\n    }\r\n    /**\r\n     * Generates new GUID.\r\n     * @returns The string representation of GUID.\r\n     */\r\n    EasyGuid.newGuid = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    return EasyGuid;\r\n}());\r\nexport { EasyGuid };\r\n//# sourceMappingURL=easy_guid.js.map","import { EasyGuid } from '../utils/easy_guid';\r\n/**\r\n * The representation of event emitter.\r\n */\r\nvar EventEmitter = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param source The source.\r\n     */\r\n    function EventEmitter(source) {\r\n        this.silentMode = 0;\r\n        this.events = new Array();\r\n        this.source = source;\r\n    }\r\n    /**\r\n     * Subscries to the event.\r\n     * @param eventType The event type.\r\n     * @param callback The callback.\r\n     * @returns The subscribtion ID.\r\n     */\r\n    EventEmitter.prototype.subscribe = function (eventType, callback) {\r\n        var event = this.getEventRecByType(eventType);\r\n        var eventCallback = {\r\n            id: EasyGuid.newGuid(),\r\n            callback: callback\r\n        };\r\n        if (event) {\r\n            event.eventCallbacks.push(eventCallback);\r\n        }\r\n        else {\r\n            event = {\r\n                type: eventType,\r\n                eventCallbacks: new Array(eventCallback)\r\n            };\r\n            this.events.push(event);\r\n        }\r\n        return eventCallback.id;\r\n    };\r\n    /**\r\n     * Unsubsribes from the event.\r\n     * @param eventType The event type.\r\n     * @param callbackId The subscribtion ID.\r\n     */\r\n    EventEmitter.prototype.unsubscribe = function (eventType, callbackId) {\r\n        var event = this.getEventRecByType(eventType);\r\n        if (event) {\r\n            var index = -1;\r\n            for (index = 0; index < event.eventCallbacks.length; index++) {\r\n                if (event.eventCallbacks[index].id === callbackId) {\r\n                    break;\r\n                }\r\n            }\r\n            if (index >= 0) {\r\n                event.eventCallbacks.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Fires the event.\r\n     * @param eventType The event type.\r\n     * @param data The event data.\r\n     * @param postpone  The postpone.\r\n     * @param force To fire force. If value is `true`, ignores silent mode.\r\n     */\r\n    EventEmitter.prototype.fire = function (eventType, data, postpone, force) {\r\n        if (postpone === void 0) { postpone = 0; }\r\n        if (force === void 0) { force = false; }\r\n        if (this.silentMode && !force) {\r\n            return;\r\n        }\r\n        var eventRec = this.getEventRecByType(eventType);\r\n        if (eventRec) {\r\n            var eqevent_1 = {\r\n                type: eventType,\r\n                source: this.source,\r\n                data: data\r\n            };\r\n            var emitAllFunc = function () {\r\n                for (var _i = 0, _a = eventRec.eventCallbacks; _i < _a.length; _i++) {\r\n                    var callback = _a[_i];\r\n                    callback.callback(eqevent_1);\r\n                }\r\n            };\r\n            if (postpone > 0) {\r\n                setTimeout(emitAllFunc, postpone);\r\n            }\r\n            else {\r\n                emitAllFunc();\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Enters to silent mode.\r\n     */\r\n    EventEmitter.prototype.enterSilentMode = function () {\r\n        this.silentMode++;\r\n    };\r\n    /**\r\n     * Exits from silent mode.\r\n     */\r\n    EventEmitter.prototype.exitSilentMode = function () {\r\n        if (this.silentMode) {\r\n            this.silentMode--;\r\n        }\r\n    };\r\n    /**\r\n     * Checks if emitter is in silent mode.\r\n     * @return `true`, if silent mode is enable.\r\n     */\r\n    EventEmitter.prototype.isSilent = function () {\r\n        return this.silentMode > 0;\r\n    };\r\n    EventEmitter.prototype.getEventRecByType = function (eventType) {\r\n        for (var _i = 0, _a = this.events; _i < _a.length; _i++) {\r\n            var event_1 = _a[_i];\r\n            if (event_1.type == eventType) {\r\n                return event_1;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return EventEmitter;\r\n}());\r\nexport { EventEmitter };\r\n//# sourceMappingURL=event_emitter.js.map","import { i18n } from './i18n';\r\ni18n.resetLocales();\r\n//# sourceMappingURL=load_default_locale_settings.js.map","//types\r\nexport * from './types/data_type';\r\nexport * from './types/entity_attr_kind';\r\nexport * from './types/editor_tag';\r\n//http\r\nexport * from './http/http_method';\r\nexport * from './http/http_request';\r\nexport * from './http/http_client';\r\n//meta data\r\nexport * from './meta/meta_data';\r\nexport * from './meta/meta_entity';\r\nexport * from './meta/value_editor';\r\nexport * from './data/data_column';\r\nexport * from './data/data_row';\r\nexport * from './data/easy_data_table';\r\n//event\r\nexport * from './event/event_emitter';\r\n//i18n\r\nexport * from './i18n/i18n';\r\n//utils\r\nexport * from './utils/easy_guid';\r\nexport * from './utils/string_utils';\r\nexport * from './utils/utils';\r\nimport './i18n/load_default_locale_settings';\r\nif (typeof Object.values !== 'function') {\r\n    Object.values = function (obj) {\r\n        return Object.keys(obj).map(function (key) { return obj[key]; });\r\n    };\r\n}\r\nif (typeof Math.trunc !== 'function') {\r\n    Math.trunc = function (x) {\r\n        if (isNaN(x)) {\r\n            return NaN;\r\n        }\r\n        if (x > 0) {\r\n            return Math.floor(x);\r\n        }\r\n        return Math.ceil(x);\r\n    };\r\n}\r\n//# sourceMappingURL=public_api.js.map","import { browserUtils } from './browser_utils';\r\n/**\r\n * Wraps all the elements inside \"parent\" by \"wrapper\" element\r\n * @param parent The element to add wrapper to.\r\n * @param wrapper The element that will wrap child elements.\r\n */\r\nexport function wrapInner(parent, wrapper) {\r\n    parent.appendChild(wrapper);\r\n    while (parent.firstChild !== wrapper) {\r\n        wrapper.appendChild(parent.firstChild);\r\n    }\r\n}\r\n/**\r\n * Creates ands adds a new [[HTMLElement]] to \"parent\"\r\n * @param parent The element to add new element to.\r\n * @param tag Html tag of the new element.\r\n * @param options The options. In particular, options.cssClass sets the new element class.\r\n * @returns New element.\r\n */\r\nexport function addElement(parent, tag, options) {\r\n    var element = document.createElement(tag);\r\n    var opts = options || {};\r\n    if (opts.cssClass) {\r\n        element.className = opts.cssClass;\r\n    }\r\n    parent.appendChild(element);\r\n    return element;\r\n}\r\n/**\r\n * Adds css class to the html element.\r\n * @param element The element to add css class to.\r\n * @param className The name of the css class to be added.\r\n */\r\nexport function addCssClass(element, className) {\r\n    element.className = (element.className)\r\n        ? element.className + ' ' + className\r\n        : className;\r\n}\r\n/**\r\n * Hides the html element.\r\n * @param element The element to be hidden.\r\n */\r\nexport function hideElement(element) {\r\n    element.style.display = 'none';\r\n}\r\n/**\r\n * Shows the html element.\r\n * @param element The element to be shown.\r\n * @param display The value of \"display\" style to be set. Default value is \"block\".\r\n */\r\nexport function showElement(element, display) {\r\n    if (!display) {\r\n        display = '';\r\n    }\r\n    element.style.display = display;\r\n}\r\n/**\r\n * Hides the \"first\" element and shows the \"second\".\r\n * @param first The element to be hidden.\r\n * @param second The element to be shown.\r\n * @param options The options. The following options are applied:\r\n * - display - the value of \"display\" style to be set. Default value is \"block\"\r\n * - duration - the duration of fading in and out\r\n * - complete - the callback to be called when toggle is complete\r\n */\r\nexport function toggleVisibility(first, second, options) {\r\n    if (!options) {\r\n        options = {};\r\n    }\r\n    if (!options.display) {\r\n        options.display = '';\r\n    }\r\n    if (!options.duration) {\r\n        options.duration = 200;\r\n    }\r\n    //TODO: later we need to make it fading in and out\r\n    hideElement(first);\r\n    showElement(second, options.display);\r\n    if (options.complete) {\r\n        options.complete();\r\n    }\r\n}\r\n/**\r\n * Checks if element is visible\r\n * @param element The element to check.\r\n * @returns `true` if visible, otherwise - `false`.\r\n */\r\nexport function isVisible(element) {\r\n    return element.style.display != 'none'\r\n        && element.offsetWidth != 0\r\n        && element.offsetHeight != 0;\r\n}\r\nexport function createBrowserEvent(eventName) {\r\n    var event;\r\n    if (typeof (Event) === 'function') {\r\n        event = new Event(eventName);\r\n    }\r\n    else {\r\n        event = document.createEvent('Event');\r\n        event.initEvent(eventName, true, true);\r\n    }\r\n    return event;\r\n}\r\nexport function getViewportSize() {\r\n    var width = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n    var height = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\r\n    return {\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\nexport function getDocSize() {\r\n    if (browserUtils.IsIE())\r\n        return getWinSize();\r\n    var width = Math.max(document.documentElement.clientWidth, document.body.clientWidth || 0);\r\n    var height = Math.max(document.documentElement.clientHeight, document.body.clientHeight || 0);\r\n    return {\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\nexport function getScrollPos() {\r\n    var body = document.body;\r\n    var docElem = document.documentElement;\r\n    return {\r\n        top: window.pageYOffset || docElem.scrollTop || body.scrollTop,\r\n        left: window.pageXOffset || docElem.scrollLeft || body.scrollLeft\r\n    };\r\n}\r\nexport function getElementAbsolutePos(element) {\r\n    var res = { x: 0, y: 0 };\r\n    if (element !== null) {\r\n        var position = offset(element);\r\n        res = { x: position.left, y: position.top };\r\n    }\r\n    return res;\r\n}\r\nfunction offset(element) {\r\n    var defaultBoundingClientRect = { top: 0, right: 0, bottom: 0, left: 0, width: 0, height: 0 };\r\n    var box;\r\n    try {\r\n        box = element.getBoundingClientRect();\r\n    }\r\n    catch (_a) {\r\n        box = defaultBoundingClientRect;\r\n    }\r\n    var body = document.body;\r\n    var docElem = document.documentElement;\r\n    var scollPos = getScrollPos();\r\n    var scrollTop = scollPos.top;\r\n    var scrollLeft = scollPos.left;\r\n    var clientTop = docElem.clientTop || body.clientTop || 0;\r\n    var clientLeft = docElem.clientLeft || body.clientLeft || 0;\r\n    var top = box.top + scrollTop - clientTop;\r\n    var left = box.left + scrollLeft - clientLeft;\r\n    return { top: Math.round(top), left: Math.round(left) };\r\n}\r\nexport function getWinSize() {\r\n    return {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n    };\r\n}\r\nexport function slideDown(target, duration, callback) {\r\n    target.style.removeProperty('display');\r\n    var display = window.getComputedStyle(target).display;\r\n    if (display === 'none')\r\n        display = 'block';\r\n    target.style.display = display;\r\n    var height = target.offsetHeight;\r\n    target.style.overflow = 'hidden';\r\n    target.style.height = 0 + 'px';\r\n    target.style.paddingTop = 0 + 'px';\r\n    target.style.paddingBottom = 0 + 'px';\r\n    target.style.marginTop = 0 + 'px';\r\n    target.style.marginBottom = 0 + 'px';\r\n    target.offsetHeight;\r\n    target.style.boxSizing = 'border-box';\r\n    target.style.transitionProperty = \"height, margin, padding\";\r\n    target.style.transitionDuration = duration + 'ms';\r\n    target.style.height = height + 'px';\r\n    target.style.removeProperty('padding-top');\r\n    target.style.removeProperty('padding-bottom');\r\n    target.style.removeProperty('margin-top');\r\n    target.style.removeProperty('margin-bottom');\r\n    window.setTimeout(function () {\r\n        target.style.removeProperty('height');\r\n        target.style.removeProperty('overflow');\r\n        target.style.removeProperty('transition-duration');\r\n        target.style.removeProperty('transition-property');\r\n        target.style.removeProperty('box-sizing');\r\n        if (callback) {\r\n            callback();\r\n        }\r\n    }, duration);\r\n}\r\nexport function slideUp(target, duration, callback) {\r\n    target.style.transitionProperty = 'height, margin, padding';\r\n    target.style.transitionDuration = duration + 'ms';\r\n    target.style.boxSizing = 'border-box';\r\n    target.style.height = target.offsetHeight + 'px';\r\n    target.offsetHeight;\r\n    target.style.overflow = 'hidden';\r\n    target.style.height = 0 + 'px';\r\n    target.style.paddingTop = 0 + 'px';\r\n    target.style.paddingBottom = 0 + 'px';\r\n    target.style.marginTop = 0 + 'px';\r\n    target.style.marginBottom = 0 + 'px';\r\n    window.setTimeout(function () {\r\n        target.style.display = 'none';\r\n        target.style.removeProperty('height');\r\n        target.style.removeProperty('padding-top');\r\n        target.style.removeProperty('padding-bottom');\r\n        target.style.removeProperty('margin-top');\r\n        target.style.removeProperty('margin-bottom');\r\n        target.style.removeProperty('overflow');\r\n        target.style.removeProperty('transition-duration');\r\n        target.style.removeProperty('transition-property');\r\n        target.style.removeProperty('box-sizing');\r\n        if (callback) {\r\n            callback();\r\n        }\r\n    }, duration);\r\n}\r\nexport var eqCssPrefix = 'eqjs';\r\nexport var eqCssMobile = 'eqjs-mobile';\r\n//# sourceMappingURL=ui-utils.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { mask } from './mask';\r\nvar DomElementBuilder = /** @class */ (function () {\r\n    function DomElementBuilder(tag, parent) {\r\n        if (typeof tag === \"string\") {\r\n            this.element = document.createElement(tag);\r\n        }\r\n        else {\r\n            this.element = tag;\r\n        }\r\n        if (parent && this.element.parentElement !== parent) {\r\n            parent.appendChild(this.element);\r\n        }\r\n    }\r\n    DomElementBuilder.prototype.addChild = function (tag, childBuilder) {\r\n        var builder = domel(tag, this.element);\r\n        if (childBuilder) {\r\n            childBuilder(builder);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.addChildElement = function (element) {\r\n        if (element) {\r\n            this.element.appendChild(element);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.attr = function (attrId, attrValue) {\r\n        this.element.setAttribute(attrId, attrValue);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.id = function (value) {\r\n        return this.attr(\"id\", value);\r\n    };\r\n    DomElementBuilder.prototype.title = function (value) {\r\n        return this.attr('title', value);\r\n    };\r\n    DomElementBuilder.prototype.data = function (dataId, dataValue) {\r\n        if (dataValue === void 0) { dataValue = null; }\r\n        if (dataValue === null) {\r\n            this.element.removeAttribute('data-' + dataId);\r\n            return this;\r\n        }\r\n        else {\r\n            return this.attr('data-' + dataId, dataValue);\r\n        }\r\n    };\r\n    DomElementBuilder.prototype.show = function () {\r\n        return this.removeStyle('display');\r\n    };\r\n    DomElementBuilder.prototype.hide = function (toHide) {\r\n        if (toHide === void 0) { toHide = true; }\r\n        return (toHide) ? this.setStyle('display', 'none') : this;\r\n    };\r\n    DomElementBuilder.prototype.visible = function (isVisible) {\r\n        if (isVisible === void 0) { isVisible = true; }\r\n        return isVisible ? this.setStyle('visibility', 'visible') : this.setStyle('visibility', 'hidden');\r\n    };\r\n    DomElementBuilder.prototype.isVisible = function () {\r\n        return !!(this.element.offsetWidth || this.element.offsetHeight || this.element.getClientRects().length);\r\n    };\r\n    DomElementBuilder.prototype.addClass = function (className) {\r\n        var classNames = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            classNames[_i - 1] = arguments[_i];\r\n        }\r\n        if (className) {\r\n            var fullList = className.trim().split(\" \").concat(classNames);\r\n            for (var i = 0; i < fullList.length; i++)\r\n                this.element.classList.add(fullList[i]);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.removeClass = function (className) {\r\n        var classNames = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            classNames[_i - 1] = arguments[_i];\r\n        }\r\n        if (className) {\r\n            var fullList = className.trim().split(\" \").concat(classNames);\r\n            for (var i = 0; i < fullList.length; i++)\r\n                this.element.classList.remove(fullList[i]);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.toggleClass = function (className, force) {\r\n        if (force === void 0) { force = undefined; }\r\n        if (className) {\r\n            this.element.classList.toggle(className, force);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.on = function (eventType, listener) {\r\n        var eventTypes = eventType.split(' ');\r\n        for (var i = 0; i < eventTypes.length; i++) {\r\n            this.element.addEventListener(eventTypes[i], listener);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.off = function (eventType, listener) {\r\n        var eventTypes = eventType.split(' ');\r\n        for (var i = 0; i < eventTypes.length; i++) {\r\n            this.element.removeEventListener(eventTypes[i], listener);\r\n        }\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.setStyle = function (styleId, styleValue) {\r\n        this.element.style.setProperty(styleId, styleValue);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.removeStyle = function (styleId) {\r\n        this.element.style.removeProperty(styleId);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.text = function (text) {\r\n        this.element.innerText = text;\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.html = function (html) {\r\n        this.element.innerHTML = html;\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.clear = function () {\r\n        var oldElem = this.element;\r\n        this.element = document.createElement(this.element.tagName);\r\n        oldElem.replaceWith(this.element);\r\n    };\r\n    DomElementBuilder.prototype.addText = function (text) {\r\n        var textEl = document.createTextNode(text);\r\n        this.element.appendChild(textEl);\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.addHtml = function (html) {\r\n        this.element.innerHTML += html;\r\n        return this;\r\n    };\r\n    DomElementBuilder.prototype.toDOM = function () {\r\n        return this.element;\r\n    };\r\n    DomElementBuilder.prototype.appendTo = function (parent) {\r\n        if (parent) {\r\n            parent.appendChild(this.element);\r\n        }\r\n        return this;\r\n    };\r\n    return DomElementBuilder;\r\n}());\r\nexport { DomElementBuilder };\r\nvar DomInputElementBuilder = /** @class */ (function (_super) {\r\n    __extends(DomInputElementBuilder, _super);\r\n    function DomInputElementBuilder(element, parent) {\r\n        var _this = this;\r\n        if (element) {\r\n            _this = _super.call(this, element, parent) || this;\r\n        }\r\n        else {\r\n            _this = _super.call(this, \"input\", parent) || this;\r\n        }\r\n        return _this;\r\n    }\r\n    DomInputElementBuilder.prototype.name = function (value) {\r\n        this.element.name = value;\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.type = function (value) {\r\n        this.element.type = value;\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.size = function (value) {\r\n        this.element.size = value;\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.value = function (value) {\r\n        if (value instanceof Date) {\r\n            this.element.valueAsDate = value;\r\n        }\r\n        else if (typeof value === \"number\") {\r\n            this.element.valueAsNumber = value;\r\n        }\r\n        else {\r\n            this.element.value = value;\r\n        }\r\n        return this;\r\n    };\r\n    DomInputElementBuilder.prototype.mask = function (maskPattern) {\r\n        mask(this.element, maskPattern);\r\n        return this;\r\n    };\r\n    return DomInputElementBuilder;\r\n}(DomElementBuilder));\r\nexport { DomInputElementBuilder };\r\nvar DomSelectElementBuilder = /** @class */ (function (_super) {\r\n    __extends(DomSelectElementBuilder, _super);\r\n    function DomSelectElementBuilder(element, parent) {\r\n        var _this = this;\r\n        if (element) {\r\n            _this = _super.call(this, element, parent) || this;\r\n        }\r\n        else {\r\n            _this = _super.call(this, \"select\", parent) || this;\r\n        }\r\n        return _this;\r\n    }\r\n    DomSelectElementBuilder.prototype.addOption = function (value) {\r\n        var option = document.createElement('option');\r\n        if (typeof value === \"string\") {\r\n            option.value = value;\r\n            option.innerHTML = value;\r\n        }\r\n        else {\r\n            option.value = value.value;\r\n            option.innerHTML = value.title || value.value;\r\n            option.selected = value.selected || false;\r\n        }\r\n        this.element.appendChild(option);\r\n        return this;\r\n    };\r\n    return DomSelectElementBuilder;\r\n}(DomElementBuilder));\r\nexport { DomSelectElementBuilder };\r\nexport function domel(tag, parent) {\r\n    if (tag === \"div\" || tag instanceof HTMLDivElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    if (tag === \"span\" || tag instanceof HTMLSpanElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"a\" || tag instanceof HTMLAnchorElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"button\" || tag instanceof HTMLButtonElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"img\" || tag instanceof HTMLImageElement) {\r\n        return new DomElementBuilder(tag, parent);\r\n    }\r\n    else if (tag === \"input\" || tag instanceof HTMLInputElement) {\r\n        return new DomInputElementBuilder(tag instanceof HTMLInputElement ? tag : null, parent);\r\n    }\r\n    else if (tag === \"select\" || tag instanceof HTMLSelectElement) {\r\n        return new DomSelectElementBuilder(tag instanceof HTMLSelectElement ? tag : null, parent);\r\n    }\r\n    return new DomElementBuilder(tag, parent);\r\n}\r\n//# sourceMappingURL=dom_elem_builder.js.map","export function mask(input, maskPattern) {\r\n    var d = { 9: '[0-9]', a: '[a-z]' };\r\n    var mask = maskPattern.split('');\r\n    var keyDownHandler = function (e) {\r\n        // backspace key or delete key\r\n        if (e.keyCode === 8 || e.keyCode === 46) {\r\n            e.preventDefault();\r\n            var mskd = [];\r\n            var startSelection = input.selectionStart;\r\n            if (startSelection == 0)\r\n                return;\r\n            var selection = startSelection;\r\n            var onlyLodash = true;\r\n            for (var index = mask.length - 1; index >= 0; index--) {\r\n                var el = mask[index];\r\n                if (d[el]) {\r\n                    var t = new RegExp(d[el], 'i').test(input.value.charAt(index));\r\n                    if (t && index != startSelection - 1) {\r\n                        onlyLodash = false;\r\n                    }\r\n                    if (index === startSelection - 1)\r\n                        selection--;\r\n                    mskd.push(t && index != startSelection - 1\r\n                        ? input.value.charAt(index)\r\n                        : '_');\r\n                }\r\n                else {\r\n                    if (index === selection - 1)\r\n                        selection--;\r\n                    if (startSelection - 1 === index)\r\n                        startSelection--;\r\n                    mskd.push(el);\r\n                }\r\n            }\r\n            input.value = !onlyLodash ? mskd.reverse().join('') : '';\r\n            input.selectionStart = input.selectionEnd = selection < 0 ? 0 : selection;\r\n            var event_1 = document.createEvent('Event');\r\n            event_1.initEvent('input', true, true);\r\n            input.dispatchEvent(event_1);\r\n        }\r\n    };\r\n    var keyPressHandler = function (e) {\r\n        var char = String.fromCharCode(e.charCode);\r\n        if (char) {\r\n            e.preventDefault();\r\n            var mskd_1 = [];\r\n            var selectionStart_1 = input.selectionStart;\r\n            var selection_1 = selectionStart_1;\r\n            mask.forEach(function (el, index) {\r\n                if (d[el]) {\r\n                    var ch = (index != selectionStart_1)\r\n                        ? input.value.charAt(index)\r\n                        : char;\r\n                    var t = new RegExp(d[el], 'i').test(ch);\r\n                    mskd_1.push(t ? ch : '_');\r\n                    if (t && selectionStart_1 === index)\r\n                        selection_1++;\r\n                }\r\n                else {\r\n                    mskd_1.push(el);\r\n                    if (selection_1 === index)\r\n                        selection_1++;\r\n                    if (selectionStart_1 === index)\r\n                        selectionStart_1++;\r\n                }\r\n            });\r\n            input.value = mskd_1.join('');\r\n            input.selectionStart = input.selectionEnd = selection_1;\r\n            var event_2 = document.createEvent('Event');\r\n            event_2.initEvent('input', true, true);\r\n            input.dispatchEvent(event_2);\r\n        }\r\n    };\r\n    var inputHandler = function (e) {\r\n        if (e.type === 'focus' && input.value !== '')\r\n            return;\r\n        var mskd = [];\r\n        var startSelection = input.selectionStart;\r\n        mask.forEach(function (el, index) {\r\n            if (d[el]) {\r\n                var t = new RegExp(d[el], 'i').test(input.value.charAt(index));\r\n                mskd.push(t ? input.value.charAt(index) : '_');\r\n            }\r\n            else {\r\n                mskd.push(el);\r\n            }\r\n        });\r\n        input.value = mskd.join('');\r\n        input.selectionStart = input.selectionEnd = startSelection;\r\n    };\r\n    input.addEventListener('keydown', keyDownHandler);\r\n    input.addEventListener('keypress', keyPressHandler);\r\n    input.addEventListener('input', inputHandler);\r\n    input.addEventListener('focus', inputHandler);\r\n}\r\n//# sourceMappingURL=mask.js.map","import { utils } from '@easydata/core';\r\nimport { getElementAbsolutePos } from './ui-utils';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nvar touchEventIsDefined = typeof TouchEvent !== 'undefined';\r\nexport var DropEffect;\r\n(function (DropEffect) {\r\n    DropEffect[\"None\"] = \"none\";\r\n    DropEffect[\"Allow\"] = \"allow\";\r\n    DropEffect[\"Forbid\"] = \"forbid\";\r\n})(DropEffect || (DropEffect = {}));\r\nvar EqDragEvent = /** @class */ (function () {\r\n    function EqDragEvent(item, dragImage, sourceEvent) {\r\n        this.dropEffect = DropEffect.Allow;\r\n        this.pageX = 0;\r\n        this.pageY = 0;\r\n        this.item = item;\r\n        this.dragImage = dragImage;\r\n        this.data = item.data;\r\n        this.sourceEvent = sourceEvent;\r\n        if (sourceEvent && sourceEvent instanceof MouseEvent) {\r\n            this.pageX = sourceEvent.pageX,\r\n                this.pageY = sourceEvent.pageY;\r\n        }\r\n        if (sourceEvent && touchEventIsDefined && sourceEvent instanceof TouchEvent\r\n            && sourceEvent.touches[0]) {\r\n            this.pageX = sourceEvent.touches[0].pageX,\r\n                this.pageY = sourceEvent.touches[0].pageY;\r\n        }\r\n    }\r\n    return EqDragEvent;\r\n}());\r\nexport { EqDragEvent };\r\nvar Position = /** @class */ (function () {\r\n    function Position(ev) {\r\n        if (ev && ev instanceof MouseEvent) {\r\n            this.x = ev.pageX,\r\n                this.y = ev.pageY;\r\n        }\r\n        if (ev && touchEventIsDefined && ev instanceof TouchEvent && ev.touches[0]) {\r\n            this.x = ev.touches[0].pageX,\r\n                this.y = ev.touches[0].pageY;\r\n        }\r\n    }\r\n    return Position;\r\n}());\r\nvar DragManager = /** @class */ (function () {\r\n    function DragManager() {\r\n        this.delta = 5;\r\n        this.draggableItem = null;\r\n        this.dragImage = null;\r\n        this.finishedSuccessfully = false;\r\n        this.mouseDownPosition = null;\r\n        this.containerDescriptors = [];\r\n        this.containerDescriptorIndex = -1;\r\n        this.dropEffect = DropEffect.None;\r\n        this.classPrefix = 'eqjs-drop';\r\n        this.DRAG_DISABLED_ATTR = 'drag-disabled';\r\n    }\r\n    DragManager.prototype.registerDraggableItem = function (descriptor) {\r\n        var _this = this;\r\n        var element = descriptor.element;\r\n        if (!element) {\r\n            throw Error(\"Element in draggle item is null or undefined\");\r\n        }\r\n        element.ondragstart = function () {\r\n            return false;\r\n        };\r\n        var detectDragging = function (ev) {\r\n            if (element.hasAttribute(_this.DRAG_DISABLED_ATTR)) {\r\n                return;\r\n            }\r\n            ev.preventDefault();\r\n            if (ev instanceof MouseEvent) {\r\n                ev.stopPropagation();\r\n            }\r\n            var cursorPosition = new Position(ev);\r\n            if (Math.abs(cursorPosition.x - _this.mouseDownPosition.x) > _this.delta\r\n                || Math.abs(cursorPosition.y - _this.mouseDownPosition.y) > _this.delta) {\r\n                startDragging(ev);\r\n            }\r\n        };\r\n        var mouseMoveEventListener = function (ev) {\r\n            _this.mouseMoveDragListener(ev);\r\n        };\r\n        var startDragging = function (ev) {\r\n            ev.preventDefault();\r\n            ev.stopPropagation();\r\n            element.removeEventListener('mousemove', detectDragging);\r\n            element.removeEventListener('touchmove', detectDragging);\r\n            _this.finishedSuccessfully = false;\r\n            if (descriptor.beforeDragStart)\r\n                descriptor.beforeDragStart();\r\n            _this.dragImage = domel('div')\r\n                .setStyle('position', 'absolute')\r\n                .setStyle('z-index', '65530')\r\n                .toDOM();\r\n            document.body.appendChild(_this.dragImage);\r\n            _this.dragImage.appendChild(element.cloneNode(true));\r\n            if (descriptor.renderer) {\r\n                descriptor.renderer(_this.dragImage);\r\n            }\r\n            _this.dropEffect = DropEffect.None;\r\n            _this.updateCusror(_this.dropEffect);\r\n            _this.updateImageClass(_this.dropEffect);\r\n            _this.draggableItem = {\r\n                element: element,\r\n                scope: descriptor.scope,\r\n                data: descriptor.data\r\n            };\r\n            _this.updateDragItemPosition(ev);\r\n            var event = new EqDragEvent(_this.draggableItem, _this.dragImage, ev);\r\n            event.dropEffect = _this.dropEffect;\r\n            if (descriptor.onDragStart) {\r\n                descriptor.onDragStart(event);\r\n            }\r\n            if (_this.dropEffect !== event.dropEffect) {\r\n                _this.dropEffect = event.dropEffect;\r\n                _this.updateImageClass(_this.dropEffect);\r\n            }\r\n            document.addEventListener('mousemove', mouseMoveEventListener, true);\r\n            document.addEventListener('touchmove', mouseMoveEventListener, true);\r\n        };\r\n        var mouseDownListener = function (ev) {\r\n            if (touchEventIsDefined && ev instanceof TouchEvent) {\r\n                ev.preventDefault();\r\n            }\r\n            _this.mouseDownPosition = new Position(ev);\r\n            element.addEventListener('mousemove', detectDragging);\r\n            element.addEventListener('touchmove', detectDragging);\r\n            document.addEventListener('mouseup', mouseUpListener);\r\n            document.addEventListener('touchend', mouseUpListener);\r\n        };\r\n        element.addEventListener('mousedown', mouseDownListener);\r\n        element.addEventListener('touchstart', mouseDownListener);\r\n        var mouseUpListener = function (ev) {\r\n            _this.mouseDownPosition = null;\r\n            element.removeEventListener('mousemove', detectDragging);\r\n            element.removeEventListener('touchmove', detectDragging);\r\n            document.removeEventListener('mousemove', mouseMoveEventListener, true);\r\n            document.removeEventListener('touchmove', mouseMoveEventListener, true);\r\n            if (_this.draggableItem) {\r\n                endDraggind(ev);\r\n            }\r\n        };\r\n        var endDraggind = function (ev) {\r\n            try {\r\n                if (_this.containerDescriptorIndex >= 0) {\r\n                    var dropContDesc = _this.containerDescriptors[_this.containerDescriptorIndex];\r\n                    var container = {\r\n                        element: dropContDesc.element,\r\n                        scopes: dropContDesc.scopes,\r\n                        data: dropContDesc.data\r\n                    };\r\n                    var event_1 = new EqDragEvent(_this.draggableItem, _this.dragImage, ev);\r\n                    try {\r\n                        if (container.scopes.indexOf(_this.draggableItem.scope) >= 0\r\n                            && _this.dropEffect === DropEffect.Allow) {\r\n                            _this.finishedSuccessfully = true;\r\n                            if (dropContDesc.onDrop) {\r\n                                dropContDesc.onDrop(container, event_1);\r\n                            }\r\n                        }\r\n                    }\r\n                    finally {\r\n                        if (dropContDesc.onDragLeave) {\r\n                            dropContDesc.onDragLeave(container, event_1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            finally {\r\n                try {\r\n                    var event_2 = new EqDragEvent(_this.draggableItem, _this.dragImage, ev);\r\n                    event_2.data.finishedSuccessfully = _this.finishedSuccessfully;\r\n                    if (descriptor.onDragEnd) {\r\n                        descriptor.onDragEnd(event_2);\r\n                    }\r\n                }\r\n                finally {\r\n                    _this.draggableItem = null;\r\n                    if (_this.dragImage && _this.dragImage.parentElement) {\r\n                        _this.dragImage.parentElement.removeChild(_this.dragImage);\r\n                    }\r\n                    _this.dragImage = null;\r\n                    _this.finishedSuccessfully = false;\r\n                    document.removeEventListener('mouseup', mouseUpListener);\r\n                    document.removeEventListener('touchend', mouseUpListener);\r\n                }\r\n            }\r\n        };\r\n    };\r\n    DragManager.prototype.registerDropContainer = function (descriptor) {\r\n        var element = descriptor.element;\r\n        if (!element) {\r\n            throw Error(\"Element in drop container is null or undefined\");\r\n        }\r\n        this.containerDescriptors.push(descriptor);\r\n    };\r\n    DragManager.prototype.removeDropContainer = function (descriptorOrSlot) {\r\n        var descs = this.containerDescriptors\r\n            .filter(function (desc) { return desc === descriptorOrSlot\r\n            || desc.element == descriptorOrSlot; });\r\n        if (descs) {\r\n            for (var _i = 0, descs_1 = descs; _i < descs_1.length; _i++) {\r\n                var desc = descs_1[_i];\r\n                utils.removeArrayItem(this.containerDescriptors, desc);\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.mouseMoveDragListener = function (ev) {\r\n        if (ev instanceof MouseEvent) {\r\n            ev.preventDefault();\r\n        }\r\n        ev.stopPropagation();\r\n        this.updateDragItemPosition(ev);\r\n        if (this.containerDescriptorIndex == -1) {\r\n            for (var i = 0; i < this.containerDescriptors.length; i++) {\r\n                var descriptor = this.containerDescriptors[i];\r\n                if (this.detectDragEnterEvent(descriptor.element, ev)) {\r\n                    this.containerDescriptorIndex = i;\r\n                    break;\r\n                }\r\n            }\r\n            if (this.containerDescriptorIndex >= 0) {\r\n                this.dragEnterEvent(ev);\r\n            }\r\n        }\r\n        else {\r\n            var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n            if (this.detectDragLeaveEvent(descriptor.element, ev)) {\r\n                this.dragLeaveEvent(ev);\r\n                this.containerDescriptorIndex = -1;\r\n            }\r\n        }\r\n        if (this.containerDescriptorIndex >= 0) {\r\n            var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n            var container = {\r\n                element: descriptor.element,\r\n                scopes: descriptor.scopes,\r\n                data: descriptor.data\r\n            };\r\n            if (container.scopes.indexOf(this.draggableItem.scope) >= 0) {\r\n                var event_3 = new EqDragEvent(this.draggableItem, this.dragImage, ev);\r\n                event_3.dropEffect = this.dropEffect;\r\n                if (descriptor.onDragOver) {\r\n                    descriptor.onDragOver(container, event_3);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.updateCusror = function (dropEffect) {\r\n        switch (dropEffect) {\r\n            case DropEffect.Allow:\r\n                this.setCursorStyle(this.dragImage, 'grabbing');\r\n                break;\r\n            case DropEffect.Forbid:\r\n                this.setCursorStyle(this.dragImage, 'no-drop');\r\n                break;\r\n            default:\r\n                this.setCursorStyle(this.dragImage, 'grabbing');\r\n                break;\r\n        }\r\n    };\r\n    DragManager.prototype.updateImageClass = function (dropEffect) {\r\n        this.dragImage.classList.remove(this.classPrefix + \"-allow\");\r\n        this.dragImage.classList.remove(this.classPrefix + \"-forbid\");\r\n        this.dragImage.classList.remove(this.classPrefix + \"-none\");\r\n        switch (dropEffect) {\r\n            case DropEffect.Allow:\r\n                this.dragImage.classList.add(this.classPrefix + \"-allow\");\r\n                break;\r\n            case DropEffect.None:\r\n                this.dragImage.classList.add(this.classPrefix + \"-none\");\r\n                break;\r\n            case DropEffect.Forbid:\r\n                this.dragImage.classList.add(this.classPrefix + \"-forbid\");\r\n                break;\r\n            default:\r\n                this.dragImage.classList.add(this.classPrefix + \"-none\");\r\n                break;\r\n        }\r\n    };\r\n    DragManager.prototype.setCursorStyle = function (element, cursor) {\r\n        if (element) {\r\n            element.style.cursor = cursor;\r\n            for (var i = 0; i < element.children.length; i++) {\r\n                this.setCursorStyle(element.children[i], cursor);\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.updateDragItemPosition = function (ev) {\r\n        if (this.dragImage) {\r\n            var pos = new Position(ev);\r\n            this.dragImage.style.top = (pos.y - this.dragImage.offsetHeight / 2) + 'px';\r\n            this.dragImage.style.left = (pos.x - this.dragImage.offsetWidth / 2) + 'px';\r\n        }\r\n    };\r\n    DragManager.prototype.dragEnterEvent = function (ev) {\r\n        var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n        var container = {\r\n            element: descriptor.element,\r\n            scopes: descriptor.scopes,\r\n            data: descriptor.data\r\n        };\r\n        if (container.scopes.indexOf(this.draggableItem.scope) >= 0) {\r\n            var event_4 = new EqDragEvent(this.draggableItem, this.dragImage, ev);\r\n            event_4.dropEffect = DropEffect.Allow;\r\n            if (descriptor.onDragEnter) {\r\n                descriptor.onDragEnter(container, event_4);\r\n            }\r\n            this.dropEffect = event_4.dropEffect;\r\n            this.updateCusror(this.dropEffect);\r\n            this.updateImageClass(this.dropEffect);\r\n        }\r\n        else {\r\n            if (this.dropEffect !== DropEffect.Forbid) {\r\n                this.dropEffect = DropEffect.None;\r\n                this.updateCusror(this.dropEffect);\r\n                this.updateImageClass(this.dropEffect);\r\n            }\r\n        }\r\n    };\r\n    DragManager.prototype.dragLeaveEvent = function (ev) {\r\n        var descriptor = this.containerDescriptors[this.containerDescriptorIndex];\r\n        var container = {\r\n            element: descriptor.element,\r\n            scopes: descriptor.scopes,\r\n            data: descriptor.data\r\n        };\r\n        if (container.scopes.indexOf(this.draggableItem.scope) >= 0) {\r\n            var event_5 = new EqDragEvent(this.draggableItem, this.dragImage, ev);\r\n            event_5.dropEffect = DropEffect.None;\r\n            if (descriptor.onDragLeave) {\r\n                descriptor.onDragLeave(container, event_5);\r\n            }\r\n            this.dropEffect = event_5.dropEffect;\r\n            this.updateCusror(this.dropEffect);\r\n            this.updateImageClass(this.dropEffect);\r\n        }\r\n    };\r\n    DragManager.prototype.detectDragEnterEvent = function (container, ev) {\r\n        var containerPos = getElementAbsolutePos(container);\r\n        var pos = new Position(ev);\r\n        if (pos.y < containerPos.y || pos.y > containerPos.y + container.offsetHeight) {\r\n            return false;\r\n        }\r\n        if (pos.x < containerPos.x || pos.x > containerPos.x + container.offsetWidth) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    DragManager.prototype.detectDragLeaveEvent = function (container, ev) {\r\n        var containerPos = getElementAbsolutePos(container);\r\n        var pos = new Position(ev);\r\n        if (pos.y > containerPos.y && pos.y < containerPos.y + container.offsetHeight\r\n            && pos.x > containerPos.x && pos.x < containerPos.x + container.offsetWidth) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    return DragManager;\r\n}());\r\nexport { DragManager };\r\n//global variable\r\nexport var eqDragManager = new DragManager();\r\n//# sourceMappingURL=drag_manager.js.map","import { i18n } from '@easydata/core';\r\nimport { DataType } from '@easydata/core';\r\nimport { GridColumnAlign } from './easy_grid_columns';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nvar cssPrefix = \"keg\";\r\nexport var CellRendererType;\r\n(function (CellRendererType) {\r\n    CellRendererType[CellRendererType[\"STRING\"] = 1] = \"STRING\";\r\n    CellRendererType[CellRendererType[\"NUMBER\"] = 2] = \"NUMBER\";\r\n    CellRendererType[CellRendererType[\"DATETIME\"] = 3] = \"DATETIME\";\r\n    CellRendererType[CellRendererType[\"BOOL\"] = 4] = \"BOOL\";\r\n})(CellRendererType || (CellRendererType = {}));\r\nvar StringCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    var text = value ? value.toString().replace(/\\n/g, '\\u21B5 ') : '';\r\n    domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addHtml(text)\r\n        .title(value || '');\r\n};\r\nvar NumberCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    var strValue = (value || '').toString();\r\n    if (typeof value == 'number') {\r\n        strValue = value.toLocaleString();\r\n    }\r\n    var builder = domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addHtml(strValue)\r\n        .title(strValue);\r\n    if (column.align == GridColumnAlign.NONE) {\r\n        builder.addClass(cssPrefix + \"-cell-value-align-right\");\r\n    }\r\n};\r\nvar DateTimeCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    var isDate = Object.prototype.toString.call(value) === '[object Date]';\r\n    var strValue = (value || '').toString();\r\n    if (isDate) {\r\n        var locale = i18n.getCurrentLocale();\r\n        var timeOptions = { hour: 'numeric', minute: 'numeric', second: 'numeric' };\r\n        switch (column.type) {\r\n            case DataType.Date:\r\n                strValue = value.toLocaleDateString(locale);\r\n                break;\r\n            case DataType.Time:\r\n                strValue = value.toLocaleTimeString(locale, timeOptions);\r\n                break;\r\n            case DataType.DateTime:\r\n                strValue = value.toLocaleDateString(locale) + \" \" + value.toLocaleTimeString(locale, timeOptions);\r\n                break;\r\n        }\r\n    }\r\n    var builder = domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addHtml(strValue)\r\n        .title(strValue);\r\n    if (column.align == GridColumnAlign.NONE) {\r\n        builder.addClass(cssPrefix + \"-cell-value-align-right\");\r\n    }\r\n};\r\nvar BoolCellRendererDefault = function (value, column, cellElement, rowElement) {\r\n    domel('div', cellElement)\r\n        .addClass(cssPrefix + \"-cell-value\")\r\n        .addClass(cssPrefix + \"-cell-value-bool\")\r\n        .addClass(cssPrefix + \"-\" + (value ? 'cell-value-true' : 'cell-value-false'));\r\n};\r\nvar GridCellRendererStore = /** @class */ (function () {\r\n    function GridCellRendererStore(options) {\r\n        this.renderers = {};\r\n        this.defaultRenderers = {};\r\n        this.registerRenderer('StringDefault', StringCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.STRING, StringCellRendererDefault);\r\n        this.registerRenderer('NumberDefault', NumberCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.NUMBER, NumberCellRendererDefault);\r\n        this.registerRenderer('DateTimeDefault', DateTimeCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.DATETIME, DateTimeCellRendererDefault);\r\n        this.registerRenderer('BoolDefault', BoolCellRendererDefault);\r\n        this.setDefaultRenderer(CellRendererType.BOOL, BoolCellRendererDefault);\r\n    }\r\n    GridCellRendererStore.prototype.getDefaultRenderer = function (columnType) {\r\n        var cellType = this.getCellType(columnType);\r\n        return this.defaultRenderers[CellRendererType[cellType]];\r\n    };\r\n    GridCellRendererStore.prototype.getDefaultRendererByType = function (rendererType) {\r\n        return this.defaultRenderers[CellRendererType[rendererType]];\r\n    };\r\n    GridCellRendererStore.prototype.setDefaultRenderer = function (cellType, renderer) {\r\n        if (renderer) {\r\n            this.defaultRenderers[CellRendererType[cellType]] = renderer;\r\n        }\r\n    };\r\n    GridCellRendererStore.prototype.getRenderer = function (name) {\r\n        return this.renderers[name];\r\n    };\r\n    GridCellRendererStore.prototype.registerRenderer = function (name, renderer) {\r\n        this.renderers[name] = renderer;\r\n    };\r\n    GridCellRendererStore.prototype.getCellType = function (dataType) {\r\n        switch (dataType) {\r\n            case DataType.Autoinc:\r\n            case DataType.Byte:\r\n            case DataType.Word:\r\n            case DataType.Currency:\r\n            case DataType.Float:\r\n            case DataType.Int32:\r\n            case DataType.Int64:\r\n                return CellRendererType.NUMBER;\r\n            case DataType.Date:\r\n            case DataType.DateTime:\r\n            case DataType.Time:\r\n                return CellRendererType.DATETIME;\r\n            case DataType.Bool:\r\n                return CellRendererType.BOOL;\r\n            default:\r\n                return CellRendererType.STRING;\r\n        }\r\n    };\r\n    return GridCellRendererStore;\r\n}());\r\nexport { GridCellRendererStore };\r\n//# sourceMappingURL=easy_grid_cell_renderer.js.map","import { utils } from '@easydata/core';\r\nimport { CellRendererType } from \"./easy_grid_cell_renderer\";\r\nvar DEFAULT_WIDTH = 150;\r\nvar DEFAULT_WIDTH_NUMBER = 120;\r\nvar DEFAULT_WIDTH_DATE = 200;\r\nvar DEFAULT_WIDTH_BOOL = 80;\r\nvar DEFAULT_WIDTH_STRING = 250;\r\nvar MIN_WIDTH_STRING = 100;\r\nvar MAX_WIDTH_STRING = 500;\r\nvar ROW_NUM_WIDTH = 60;\r\nexport var GridColumnAlign;\r\n(function (GridColumnAlign) {\r\n    GridColumnAlign[GridColumnAlign[\"NONE\"] = 1] = \"NONE\";\r\n    GridColumnAlign[GridColumnAlign[\"LEFT\"] = 2] = \"LEFT\";\r\n    GridColumnAlign[GridColumnAlign[\"CENTER\"] = 3] = \"CENTER\";\r\n    GridColumnAlign[GridColumnAlign[\"RIGHT\"] = 4] = \"RIGHT\";\r\n})(GridColumnAlign || (GridColumnAlign = {}));\r\nvar GridColumn = /** @class */ (function () {\r\n    function GridColumn(column, grid, isRowNum) {\r\n        if (isRowNum === void 0) { isRowNum = false; }\r\n        this._label = null;\r\n        //public left: number;\r\n        this.align = GridColumnAlign.NONE;\r\n        this.isVisible = true;\r\n        this.isRowNum = false;\r\n        this.dataColumn = column;\r\n        this.grid = grid;\r\n        if (column) {\r\n            var coltype = column.type;\r\n            var cellType = this.grid.cellRendererStore.getCellType(coltype);\r\n            switch (cellType) {\r\n                case CellRendererType.NUMBER:\r\n                    this.width = DEFAULT_WIDTH_NUMBER;\r\n                    break;\r\n                case CellRendererType.DATETIME:\r\n                    this.width = DEFAULT_WIDTH_DATE;\r\n                    break;\r\n                case CellRendererType.BOOL:\r\n                    this.width = DEFAULT_WIDTH_BOOL;\r\n                    break;\r\n                default:\r\n                    this.width = DEFAULT_WIDTH_STRING;\r\n            }\r\n            this.cellRenderer = this.grid.cellRendererStore.getDefaultRenderer(column.type);\r\n        }\r\n        else if (isRowNum) {\r\n            this.isRowNum = true;\r\n            this.width = ROW_NUM_WIDTH;\r\n            this._label = '';\r\n            this.cellRenderer = this.grid.cellRendererStore.getDefaultRendererByType(CellRendererType.NUMBER);\r\n        }\r\n        if (grid && grid.options && grid.options.onGetCellRenderer) {\r\n            this.cellRenderer = grid.options.onGetCellRenderer(this, this.cellRenderer) || this.cellRenderer;\r\n        }\r\n    }\r\n    Object.defineProperty(GridColumn.prototype, \"label\", {\r\n        get: function () {\r\n            return this._label ? this._label : this.isRowNum ? '' : this.dataColumn.label;\r\n        },\r\n        set: function (value) {\r\n            this._label = this.label;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    Object.defineProperty(GridColumn.prototype, \"type\", {\r\n        get: function () {\r\n            return this.dataColumn ? this.dataColumn.type : null;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return GridColumn;\r\n}());\r\nexport { GridColumn };\r\nvar GridColumnList = /** @class */ (function () {\r\n    function GridColumnList(columnList, grid) {\r\n        this.items = [];\r\n        this.grid = grid;\r\n        this.sync(columnList);\r\n    }\r\n    GridColumnList.prototype.sync = function (columnList, hasRowNumCol) {\r\n        if (hasRowNumCol === void 0) { hasRowNumCol = true; }\r\n        this.clear();\r\n        if (hasRowNumCol) {\r\n            var rowNumCol = new GridColumn(null, this.grid, true);\r\n            this.add(rowNumCol);\r\n        }\r\n        if (columnList) {\r\n            for (var _i = 0, _a = columnList.getItems(); _i < _a.length; _i++) {\r\n                var column = _a[_i];\r\n                var col = new GridColumn(column, this.grid);\r\n                if (this.grid.options.onSyncGridColumn) {\r\n                    this.grid.options.onSyncGridColumn(col);\r\n                }\r\n                this.add(col);\r\n            }\r\n        }\r\n    };\r\n    Object.defineProperty(GridColumnList.prototype, \"count\", {\r\n        get: function () {\r\n            return this.items.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    GridColumnList.prototype.add = function (col) {\r\n        var index = this.items.length;\r\n        this.items.push(col);\r\n        return index;\r\n    };\r\n    GridColumnList.prototype.put = function (index, col) {\r\n        if (index >= 0 && index < this.items.length) {\r\n            this.items[index] = col;\r\n        }\r\n    };\r\n    GridColumnList.prototype.move = function (col, newIndex) {\r\n        var oldIndex = this.items.indexOf(col);\r\n        if (oldIndex >= 0 && oldIndex != newIndex)\r\n            utils.moveArrayItem(this.items, oldIndex, newIndex);\r\n    };\r\n    GridColumnList.prototype.get = function (index) {\r\n        if (index >= 0 && index < this.items.length) {\r\n            return this.items[index];\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    //    public getIndex(name: string) : number {\r\n    //        return this.mapper[name];\r\n    //    }\r\n    GridColumnList.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    GridColumnList.prototype.removeAt = function (index) {\r\n        var col = this.get(index);\r\n        this.items.splice(index, 1);\r\n        //delete this.mapper[col.name];\r\n    };\r\n    GridColumnList.prototype.clear = function () {\r\n        this.items = [];\r\n        //this.mapper = {};\r\n    };\r\n    return GridColumnList;\r\n}());\r\nexport { GridColumnList };\r\n//# sourceMappingURL=easy_grid_columns.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { EventEmitter, DataRow, utils, i18n } from '@easydata/core';\r\nimport { eqDragManager, DropEffect } from '../utils/drag_manager';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { getElementAbsolutePos, eqCssPrefix } from '../utils/ui-utils';\r\nimport { GridColumnList, GridColumnAlign } from './easy_grid_columns';\r\nimport { GridCellRendererStore } from './easy_grid_cell_renderer';\r\nvar DEFAULT_ROW_HEIGHT = 36;\r\nvar DEFAULT_ROW_COUNT = 15;\r\nvar EasyGrid = /** @class */ (function () {\r\n    function EasyGrid(options) {\r\n        this.cssPrefix = \"keg\";\r\n        this.pagination = { page: 1, pageSize: 30, total: 0 };\r\n        this.paginationOptions = {\r\n            maxButtonCount: 10,\r\n            useBootstrap: false //true\r\n        };\r\n        this.defaultDataGridOptions = {\r\n            slot: null,\r\n            dataTable: null,\r\n            fixHeightOnFirstRender: false,\r\n            syncGridColumns: true,\r\n            useRowNumeration: true,\r\n            allowDragDrop: false,\r\n            totals: {\r\n                calcGrandTotals: false,\r\n                calculator: null\r\n            },\r\n            paging: {\r\n                enabled: true,\r\n                pageSize: 30\r\n            },\r\n            addColumns: false,\r\n            viewportRowsCount: null,\r\n            showActiveRow: true\r\n        };\r\n        this.rowsOnPagePromise = null;\r\n        this.containerInitialHeight = 0;\r\n        this.firstRender = true;\r\n        this.prevRowTotals = null;\r\n        this.landingIndex = -1;\r\n        this.landingSlot = domel('div')\r\n            .addClass(this.cssPrefix + \"-col-landing-slot\")\r\n            .addChildElement(domel('div')\r\n            .toDOM())\r\n            .toDOM();\r\n        this._activeRowIndex = -1;\r\n        if (options && options.paging) {\r\n            options.paging = utils.assign(this.defaultDataGridOptions.paging, options.paging);\r\n        }\r\n        this.options = __assign({}, this.defaultDataGridOptions, options);\r\n        if (!this.options.slot)\r\n            throw Error('\"slot\" parameter is required to initialize EasyDataGrid');\r\n        if (!this.options.dataTable)\r\n            throw Error('\"dataTable\" parameter is required to initialize EasyDataGrid');\r\n        this.dataTable = options.dataTable;\r\n        this.eventEmitter = new EventEmitter(this);\r\n        this.cellRendererStore = new GridCellRendererStore(options);\r\n        this.columns = new GridColumnList(this.dataTable.columns, this);\r\n        this.setSlot(this.options.slot);\r\n        this.init(this.options);\r\n    }\r\n    EasyGrid.prototype.setSlot = function (slot) {\r\n        if (typeof slot === 'string') {\r\n            if (slot.length) {\r\n                if (slot[0] === '#') {\r\n                    this.slot = document.getElementById(slot.substring(1));\r\n                }\r\n                else if (slot[0] === '.') {\r\n                    var result = document.getElementsByClassName(slot.substring(1));\r\n                    if (result.length)\r\n                        this.slot = result[0];\r\n                }\r\n                else {\r\n                    throw Error('Unrecognized slot parameter ' +\r\n                        '(Must be id, class or HTMLElement): ' + slot);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.slot = slot;\r\n        }\r\n    };\r\n    EasyGrid.prototype.init = function (options) {\r\n        var _this = this;\r\n        if (options.onInit) {\r\n            this.addEventListener('init', options.onInit);\r\n        }\r\n        if (options.onRowClick) {\r\n            this.addEventListener('rowClick', options.onRowClick);\r\n        }\r\n        if (options.onRowDbClick) {\r\n            this.addEventListener('rowDbClick', options.onRowDbClick);\r\n        }\r\n        if (options.onAddColumnClick) {\r\n            this.addEventListener('addColumnClick', options.onAddColumnClick);\r\n        }\r\n        if (options.onColumnChanged) {\r\n            this.addEventListener('columnChanged', options.onColumnChanged);\r\n        }\r\n        if (options.onColumnDeleted) {\r\n            this.addEventListener('columnDeleted', options.onColumnDeleted);\r\n        }\r\n        if (options.onColumnMoved) {\r\n            this.addEventListener('columnMoved', options.onColumnMoved);\r\n        }\r\n        if (options.onPageChanged) {\r\n            this.addEventListener('pageChanged', options.onPageChanged);\r\n        }\r\n        if (options.onActiveRowChanged) {\r\n            this.addEventListener('activeRowChanged', options.onActiveRowChanged);\r\n        }\r\n        this.addEventListener('pageChanged', function (ev) { return _this.activeRowIndex = -1; });\r\n        utils.assignDeep(this.paginationOptions, options.pagination);\r\n        this.pagination.pageSize = this.options.paging.pageSize\r\n            || this.pagination.pageSize;\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"gridColumnMove\"],\r\n                onDragEnter: function (_, ev) {\r\n                    _this.slot.classList.add(eqCssPrefix + \"-drophover\");\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragOver: function (_, ev) {\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragLeave: function (_, ev) {\r\n                    ev.dropEffect = DropEffect.Forbid;\r\n                    _this.slot.classList.remove(eqCssPrefix + \"-drophover\");\r\n                    _this.hideLandingSlot();\r\n                },\r\n                onDrop: function (_, ev) {\r\n                    _this.dataTable.columns.move(ev.data.column, _this.landingIndex);\r\n                    _this.refresh();\r\n                    _this.fireEvent({\r\n                        type: 'columnMoved',\r\n                        columnId: ev.data.column.id,\r\n                        newIndex: _this.landingIndex\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        this.refresh();\r\n        this.fireEvent('init');\r\n    };\r\n    EasyGrid.prototype.fireEvent = function (event) {\r\n        if (typeof event === \"string\") {\r\n            this.eventEmitter.fire(event);\r\n        }\r\n        else {\r\n            this.eventEmitter.fire(event.type, event);\r\n        }\r\n    };\r\n    EasyGrid.prototype.setData = function (data) {\r\n        this.dataTable = data;\r\n        this.clear();\r\n        this.refresh();\r\n    };\r\n    EasyGrid.prototype.getData = function () {\r\n        return this.dataTable;\r\n    };\r\n    EasyGrid.prototype.getColumns = function () {\r\n        return this.columns;\r\n    };\r\n    EasyGrid.prototype.destroy = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    EasyGrid.prototype.refresh = function () {\r\n        this.clearDOM();\r\n        this.render();\r\n    };\r\n    EasyGrid.prototype.clearDOM = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    EasyGrid.prototype.clear = function () {\r\n        this.pagination.page = 1;\r\n        this.clearDOM();\r\n    };\r\n    EasyGrid.prototype.render = function () {\r\n        var _this = this;\r\n        if (!this.hasData() && !this.options.addColumns)\r\n            return;\r\n        this.containerInitialHeight = this.slot.clientHeight;\r\n        this.rootDiv = document.createElement('div');\r\n        this.rootDiv.style.width = '100%';\r\n        this.rootDiv.classList.add(this.cssPrefix + \"-root\");\r\n        this.columns.sync(this.dataTable.columns, this.options.useRowNumeration);\r\n        this.renderHeader();\r\n        this.rootDiv.appendChild(this.headerDiv);\r\n        this.renderBody();\r\n        this.rootDiv.appendChild(this.bodyDiv);\r\n        this.renderFooter();\r\n        this.rootDiv.appendChild(this.footerDiv);\r\n        var gridContainer = document.createElement('div');\r\n        gridContainer.classList.add(this.cssPrefix + \"-container\");\r\n        gridContainer.appendChild(this.rootDiv);\r\n        this.slot.appendChild(gridContainer);\r\n        if (this.rowsOnPagePromise) {\r\n            this.rowsOnPagePromise\r\n                .then(function () { return _this.updateHeight(); })\r\n                .then(function () {\r\n                _this.firstRender = false;\r\n                _this.rowsOnPagePromise = null;\r\n            });\r\n        }\r\n        else {\r\n            setTimeout(function () {\r\n                _this.updateHeight();\r\n                _this.firstRender = false;\r\n            }, 100);\r\n        }\r\n    };\r\n    EasyGrid.prototype.updateHeight = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            if (_this.options.viewportRowsCount) {\r\n                var firstRow = _this.bodyCellContainerDiv.firstElementChild;\r\n                var rowHeight = firstRow ? firstRow.offsetHeight : DEFAULT_ROW_HEIGHT;\r\n                var rowCount = _this.options.viewportRowsCount; // || DEFAULT_ROW_COUNT;\r\n                var bodyHeight_1 = rowHeight * rowCount;\r\n                domel(_this.bodyDiv)\r\n                    .setStyle('height', bodyHeight_1 + \"px\");\r\n                setTimeout(function () {\r\n                    var sbHeight = _this.bodyViewportDiv.offsetHeight - _this.bodyViewportDiv.clientHeight;\r\n                    bodyHeight_1 = bodyHeight_1 + sbHeight;\r\n                    domel(_this.bodyDiv)\r\n                        .setStyle('height', bodyHeight_1 + \"px\");\r\n                    resolve();\r\n                }, 100);\r\n                return;\r\n            }\r\n            else if (_this.containerInitialHeight > 0) {\r\n                var bodyHeight = _this.containerInitialHeight - _this.headerDiv.offsetHeight - _this.footerDiv.offsetHeight;\r\n                domel(_this.bodyDiv)\r\n                    .setStyle('height', bodyHeight + \"px\");\r\n            }\r\n            resolve();\r\n        })\r\n            .then(function () {\r\n            if (_this.options.fixHeightOnFirstRender && _this.firstRender) {\r\n                _this.slot.style.height = _this.slot.offsetHeight + \"px\";\r\n            }\r\n        });\r\n    };\r\n    EasyGrid.prototype.renderHeader = function () {\r\n        var _this = this;\r\n        this.headerDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-header\")\r\n            .toDOM();\r\n        this.headerViewportDiv = domel('div', this.headerDiv)\r\n            .addClass(this.cssPrefix + \"-header-viewport\")\r\n            .toDOM();\r\n        this.headerCellContainerDiv = domel('div', this.headerViewportDiv)\r\n            .addClass(this.cssPrefix + \"-header-cell-container\")\r\n            .toDOM();\r\n        this.headerRowDiv = domel('div', this.headerCellContainerDiv)\r\n            .addClass(this.cssPrefix + \"-header-row\")\r\n            .toDOM();\r\n        this.columns.getItems().forEach(function (column, index) {\r\n            if (!column.isVisible) {\r\n                return;\r\n            }\r\n            var hd = _this.renderColumnHeader(column, index);\r\n            _this.headerRowDiv.appendChild(hd);\r\n            if (column.isRowNum) {\r\n                domel(hd)\r\n                    .addChildElement(_this.renderAddColumnButton());\r\n            }\r\n        });\r\n        var containerWidth = this.columns.getItems().map(function (column) { return column.width; }).reduce(function (sum, current) { return sum + current; });\r\n        domel(this.headerCellContainerDiv)\r\n            .setStyle('width', containerWidth + \"px\");\r\n    };\r\n    EasyGrid.prototype.hasData = function () {\r\n        return this.dataTable.columns.count > 0;\r\n    };\r\n    EasyGrid.prototype.renderColumnHeader = function (column, index) {\r\n        var _this = this;\r\n        var colBuilder = domel('div')\r\n            .addClass(this.cssPrefix + \"-header-cell\")\r\n            .data('col-idx', \"\" + (index + 1))\r\n            .setStyle('width', column.width + \"px\");\r\n        if (column.dataColumn) {\r\n            colBuilder\r\n                .data('col-id', \"\" + column.dataColumn.id);\r\n        }\r\n        var colDiv = colBuilder.toDOM();\r\n        domel('div', colDiv)\r\n            .addClass(this.cssPrefix + \"-header-cell-resize\");\r\n        if (!column.isRowNum) {\r\n            domel('div', colDiv)\r\n                .addClass(this.cssPrefix + \"-header-cell-label\")\r\n                .text(column.label);\r\n        }\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDraggableItem({\r\n                element: colDiv,\r\n                scope: \"gridColumnMove\",\r\n                data: { column: column },\r\n                renderer: function (dragImage) {\r\n                    dragImage.innerHTML = '';\r\n                    var attrLabel = document.createElement('div');\r\n                    attrLabel.innerText = column.label;\r\n                    dragImage.classList.add(_this.cssPrefix + \"-sortable-helper\");\r\n                    dragImage.appendChild(attrLabel);\r\n                },\r\n                onDragStart: function (ev) {\r\n                    ev.dropEffect = DropEffect.Allow;\r\n                }\r\n            });\r\n        }\r\n        return colDiv;\r\n    };\r\n    EasyGrid.prototype.renderBody = function () {\r\n        var _this = this;\r\n        this.bodyDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-body\")\r\n            .toDOM();\r\n        this.bodyViewportDiv = domel('div', this.bodyDiv)\r\n            .addClass(this.cssPrefix + \"-body-viewport\")\r\n            .attr('tabIndex', '0')\r\n            .toDOM();\r\n        this.bodyCellContainerDiv = domel('div', this.bodyViewportDiv)\r\n            .addClass(this.cssPrefix + \"-cell-container\")\r\n            .toDOM();\r\n        if (this.dataTable) {\r\n            this.showProgress();\r\n            this.rowsOnPagePromise = this.getRowsToRender()\r\n                .then(function (rows) {\r\n                _this.hideProgress();\r\n                //prevent double rendering (bad solution, we have to figure out how to avoid this behavior properly)\r\n                _this.bodyCellContainerDiv.innerHTML = '';\r\n                _this.prevRowTotals = null;\r\n                if (rows.length) {\r\n                    var calcTotals_1 = _this.calcTotals();\r\n                    var keyCols_1 = _this.getTotalsKeyCols();\r\n                    rows.forEach(function (row, index) {\r\n                        if (calcTotals_1)\r\n                            _this.updateTotalsState(keyCols_1, row);\r\n                        var tr = _this.renderRow(row, index);\r\n                        _this.bodyCellContainerDiv.appendChild(tr);\r\n                    });\r\n                    if (calcTotals_1 && _this.isLastPage()) {\r\n                        var row = new DataRow(_this.dataTable.columns, new Array(_this.dataTable.columns.count));\r\n                        _this.updateTotalsState(keyCols_1, row, true);\r\n                    }\r\n                }\r\n                var containerWidth = _this.columns.getItems()\r\n                    .map(function (column) { return column.width; }).reduce(function (sum, current) { return sum + current; });\r\n                domel(_this.bodyCellContainerDiv)\r\n                    .setStyle('width', containerWidth + \"px\");\r\n                return rows.length;\r\n            })\r\n                .catch(function (error) { console.error(error); return 0; });\r\n        }\r\n        this.bodyViewportDiv.addEventListener('scroll', function (ev) {\r\n            domel(_this.headerViewportDiv)\r\n                .setStyle('margin-left', \"-\" + _this.bodyViewportDiv.scrollLeft + \"px\");\r\n        });\r\n        this.bodyViewportDiv.addEventListener('keydown', this.onVieportKeydown.bind(this));\r\n    };\r\n    EasyGrid.prototype.isLastPage = function () {\r\n        return this.pagination.page * this.pagination.pageSize >= this.pagination.total;\r\n    };\r\n    EasyGrid.prototype.calcTotals = function () {\r\n        return this.options.totals && (this.options.totals.calcGrandTotals\r\n            || this.calcSubTotalsCols())\r\n            && this.dataTable.columns.getItems()\r\n                .filter(function (col) { return col.isAggr; }).length > 0;\r\n    };\r\n    EasyGrid.prototype.calcSubTotalsCols = function () {\r\n        return this.options.totals.cols && Object.values(this.options.totals.cols)\r\n            .map(function (val) { return val.calcSubTotals; })\r\n            .reduce(function (prev, value) {\r\n            return prev || value;\r\n        }, false);\r\n    };\r\n    EasyGrid.prototype.getTotalsKeyCols = function () {\r\n        var keyCols = this.dataTable.columns.getItems()\r\n            .filter(function (col) { return !col.isAggr; });\r\n        keyCols.pop();\r\n        return keyCols;\r\n    };\r\n    EasyGrid.prototype.updateTotalsState = function (keyCols, newRow, isLast) {\r\n        if (isLast === void 0) { isLast = false; }\r\n        if (this.prevRowTotals && this.calcSubTotalsCols()) {\r\n            var changeLevel = -1;\r\n            for (var i = 0; i < keyCols.length; i++) {\r\n                var col = keyCols[i];\r\n                if (this.prevRowTotals.getValue(col.id) !== newRow.getValue(col.id)) {\r\n                    changeLevel = i;\r\n                    break;\r\n                }\r\n            }\r\n            if (changeLevel != -1) {\r\n                var totalsOpts = this.options.totals;\r\n                for (var i = keyCols.length; i > changeLevel; i--) {\r\n                    var col = keyCols[i - 1];\r\n                    if (totalsOpts.cols && totalsOpts.cols[col.id].calcSubTotals === false)\r\n                        continue;\r\n                    var row = new DataRow(this.dataTable.columns, this.prevRowTotals.toArray());\r\n                    var tr = this.renderTotalsRow(i, row);\r\n                    this.bodyCellContainerDiv.appendChild(tr);\r\n                }\r\n            }\r\n        }\r\n        if (isLast && this.options.totals.calcGrandTotals) {\r\n            var tr = this.renderTotalsRow(0, newRow);\r\n            this.bodyCellContainerDiv.appendChild(tr);\r\n        }\r\n        this.prevRowTotals = newRow;\r\n    };\r\n    EasyGrid.prototype.renderTotalsRow = function (level, row) {\r\n        var _this = this;\r\n        var rowBuilder = domel('div')\r\n            .addClass(this.cssPrefix + \"-row\")\r\n            .addClass(this.cssPrefix + \"-row-totals\")\r\n            .addClass(this.cssPrefix + \"-totals-lv\" + level)\r\n            .data('totals-level', \"\" + level)\r\n            .attr('tabindex', '-1');\r\n        var rowElement = rowBuilder.toDOM();\r\n        this.columns.getItems().forEach(function (column, index) {\r\n            if (!column.isVisible) {\r\n                return;\r\n            }\r\n            var colIndex = column.isRowNum ? -1 : _this.dataTable.columns.getIndex(column.dataColumn.id);\r\n            var val = (colIndex == level || level == 0 && colIndex == 0) ? _this.getTotalsTitle(level) : '';\r\n            if (colIndex == _this.dataTable.columns.count - 1) {\r\n                val = 'Calculating...';\r\n            }\r\n            rowElement.appendChild(_this.renderCell(column, colIndex, val, rowElement));\r\n        });\r\n        var totals = this.options.totals.calculator.getTotals();\r\n        totals.fillTotals(level, row)\r\n            .then(function () {\r\n            rowElement.innerHTML = '';\r\n            _this.columns.getItems().forEach(function (column, index) {\r\n                if (!column.isVisible) {\r\n                    return;\r\n                }\r\n                var colIndex = column.isRowNum ? -1 : _this.dataTable.columns.getIndex(column.dataColumn.id);\r\n                var val = (colIndex == level || level == 0 && colIndex == 0) ? _this.getTotalsTitle(level) : '';\r\n                if (!column.isRowNum && column.dataColumn.isAggr) {\r\n                    val = row.getValue(colIndex);\r\n                }\r\n                rowElement.appendChild(_this.renderCell(column, colIndex, val, rowElement));\r\n            });\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n        return rowElement;\r\n    };\r\n    EasyGrid.prototype.getTotalsTitle = function (level) {\r\n        return (level) ? 'Sub totals: ' : 'Grand totals: ';\r\n    };\r\n    EasyGrid.prototype.onVieportKeydown = function (ev) {\r\n        if (this.options.showActiveRow) {\r\n            var rowCount = this.bodyCellContainerDiv.querySelectorAll(\".\" + this.cssPrefix + \"-row\").length;\r\n            var newValue = void 0;\r\n            switch (ev.key) {\r\n                case 'ArrowLeft':\r\n                    break;\r\n                case 'ArrowRight':\r\n                    break;\r\n                case 'ArrowUp':\r\n                    ev.preventDefault();\r\n                    newValue = this.activeRowIndex < 0 || this.activeRowIndex >= rowCount ? rowCount - 1 : this.activeRowIndex - 1;\r\n                    this.activeRowIndex = newValue >= 0 ? newValue : 0;\r\n                    break;\r\n                case 'ArrowDown':\r\n                    ev.preventDefault();\r\n                    newValue = this.activeRowIndex < 0 || this.activeRowIndex >= rowCount ? 0 : this.activeRowIndex + 1;\r\n                    this.activeRowIndex = newValue < rowCount ? newValue : rowCount - 1;\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.ensureRowVisibility = function (rowOrIndex) {\r\n        var row = typeof rowOrIndex === 'number'\r\n            ? this.getDataRow(rowOrIndex)\r\n            : rowOrIndex;\r\n        if (row) {\r\n            var rowRect = row.getBoundingClientRect();\r\n            var viewportRect = this.bodyViewportDiv.getBoundingClientRect();\r\n            var rowTop = rowRect.top - viewportRect.top;\r\n            var rowBottom = rowRect.bottom - viewportRect.top;\r\n            var viewportHeight = this.bodyViewportDiv.clientHeight;\r\n            var windowHeight = window.innerHeight || document.documentElement.clientHeight;\r\n            if (rowTop > 0 &&\r\n                rowBottom <= viewportHeight &&\r\n                rowRect.top > 0 &&\r\n                rowRect.bottom < windowHeight) {\r\n                return;\r\n            }\r\n            if (rowTop < 0) {\r\n                this.bodyViewportDiv.scrollTop = this.bodyViewportDiv.scrollTop + rowTop;\r\n            }\r\n            else if (rowBottom > viewportHeight) {\r\n                this.bodyViewportDiv.scrollTop = this.bodyViewportDiv.scrollTop + rowBottom - viewportHeight;\r\n            }\r\n            rowRect = row.getBoundingClientRect();\r\n            if (rowRect.top < 0) {\r\n                document.documentElement.scrollTop = document.documentElement.scrollTop + rowRect.top;\r\n            }\r\n            else if (rowRect.bottom > windowHeight) {\r\n                document.documentElement.scrollTop = document.documentElement.scrollTop + rowRect.bottom - windowHeight;\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.getRowsToRender = function () {\r\n        if (this.options.paging.enabled === false) {\r\n            return Promise.resolve(this.dataTable.getCachedRows());\r\n        }\r\n        return this.dataTable.getRows({\r\n            page: this.pagination.page,\r\n            pageSize: this.pagination.pageSize\r\n        })\r\n            .catch(function (error) {\r\n            console.error(error);\r\n            return [];\r\n        });\r\n        ;\r\n    };\r\n    EasyGrid.prototype.renderFooter = function () {\r\n        this.footerDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-footer\")\r\n            .toDOM();\r\n        this.footerPaginateDiv = this.renderPageNavigator();\r\n        this.footerDiv.appendChild(this.footerPaginateDiv);\r\n        var pageInfoBlock = this.renderPageInfoBlock();\r\n        this.footerDiv.appendChild(pageInfoBlock);\r\n    };\r\n    EasyGrid.prototype.renderPageInfoBlock = function () {\r\n        var _this = this;\r\n        var pageInfoDiv = domel('div')\r\n            .addClass(this.cssPrefix + \"-page-info\")\r\n            .toDOM();\r\n        if (this.rowsOnPagePromise) {\r\n            this.rowsOnPagePromise.then(function (count) {\r\n                var fistPageRecordNum = count ? (_this.pagination.page - 1) * _this.pagination.pageSize + 1 : 0;\r\n                var lastPageRecordNum = count ? fistPageRecordNum + count - 1 : 0;\r\n                var total = _this.dataTable.getTotal();\r\n                pageInfoDiv.innerHTML = i18n.getText('GridPageInfo')\r\n                    .replace('{FirstPageRecordNum}', \"<span>\" + fistPageRecordNum.toString() + \"</span>\")\r\n                    .replace('{LastPageRecordNum}', \"<span>\" + lastPageRecordNum.toString() + \"</span>\")\r\n                    .replace('{Total}', \"<span>\" + total.toString() + \"</span>\");\r\n            });\r\n        }\r\n        return pageInfoDiv;\r\n    };\r\n    EasyGrid.prototype.showProgress = function () {\r\n    };\r\n    EasyGrid.prototype.hideProgress = function () {\r\n    };\r\n    EasyGrid.prototype.getLocalIndexByGlobal = function (index) {\r\n        if (this.pagination) {\r\n            return index % this.pagination.pageSize;\r\n        }\r\n        else {\r\n            return index;\r\n        }\r\n    };\r\n    EasyGrid.prototype.getGlobalIndexByLocal = function (index) {\r\n        if (this.pagination) {\r\n            return (this.pagination.page - 1) * this.pagination.pageSize + index;\r\n        }\r\n        else {\r\n            return index;\r\n        }\r\n    };\r\n    EasyGrid.prototype.renderRow = function (row, index) {\r\n        var _this = this;\r\n        var indexGlobal = this.getGlobalIndexByLocal(index);\r\n        var rowBuilder = domel('div')\r\n            .addClass(this.cssPrefix + \"-row\")\r\n            .addClass(this.cssPrefix + \"-row-\" + (index % 2 == 1 ? 'odd' : 'even'))\r\n            .data('row-idx', \"\" + indexGlobal)\r\n            .attr('tabindex', '-1')\r\n            .on('click', function (ev) {\r\n            _this.activeRowIndex = index;\r\n            _this.fireEvent({\r\n                type: 'rowClick',\r\n                row: row,\r\n                rowIndex: index,\r\n                sourceEvent: ev\r\n            });\r\n        })\r\n            .on('dblclick', function (ev) {\r\n            _this.fireEvent({\r\n                type: 'rowDbClick',\r\n                row: row,\r\n                rowIndex: index,\r\n                sourceEvent: ev\r\n            });\r\n        });\r\n        if (index == 0) {\r\n            rowBuilder.addClass(this.cssPrefix + \"-row-first\");\r\n        }\r\n        var rowElement = rowBuilder.toDOM();\r\n        if (this.options.showActiveRow && index == this.activeRowIndex) {\r\n            rowBuilder.addClass(this.cssPrefix + \"-row-active\");\r\n        }\r\n        this.columns.getItems().forEach(function (column) {\r\n            if (!column.isVisible) {\r\n                return;\r\n            }\r\n            var colindex = column.isRowNum ? -1 : _this.dataTable.columns.getIndex(column.dataColumn.id);\r\n            var val = column.isRowNum ? indexGlobal + 1 : row.getValue(colindex);\r\n            rowElement.appendChild(_this.renderCell(column, colindex, val, rowElement));\r\n        });\r\n        return rowElement;\r\n    };\r\n    EasyGrid.prototype.renderCell = function (column, colIndex, value, rowElement) {\r\n        var builder = domel('div')\r\n            .addClass(this.cssPrefix + \"-cell\")\r\n            .data('col-idx', \"\" + colIndex)\r\n            .attr('tabindex', '-1')\r\n            .setStyle('width', column.width + \"px\");\r\n        if (column.align == GridColumnAlign.LEFT) {\r\n            builder.addClass(this.cssPrefix + \"-cell-align-left\");\r\n        }\r\n        else if (column.align == GridColumnAlign.RIGHT) {\r\n            builder.addClass(this.cssPrefix + \"-cell-align-right\");\r\n        }\r\n        else if (column.align == GridColumnAlign.CENTER) {\r\n            builder.addClass(this.cssPrefix + \"-cell-align-center\");\r\n        }\r\n        if (column.cellRenderer) {\r\n            column.cellRenderer(value, column, builder.toDOM(), rowElement);\r\n        }\r\n        return builder.toDOM();\r\n    };\r\n    EasyGrid.prototype.renderPageNavigator = function () {\r\n        var _this = this;\r\n        var paginateDiv = document.createElement('div');\r\n        paginateDiv.className = this.cssPrefix + \"-pagination-wrapper\";\r\n        this.pagination.total = this.dataTable.getTotal();\r\n        if (this.options.paging && this.options.paging.enabled\r\n            && this.pagination.total > this.pagination.pageSize) {\r\n            var prefix = this.paginationOptions.useBootstrap ? '' : this.cssPrefix + \"-\";\r\n            paginateDiv.innerHTML = \"\";\r\n            var pageIndex = this.pagination.page || 1;\r\n            var pageCount = Math.ceil(this.pagination.total / this.pagination.pageSize) || 1;\r\n            var buttonClickHandler = function (ev) {\r\n                var element = ev.target;\r\n                if (element.hasAttribute('data-page')) {\r\n                    var page = parseInt(element.getAttribute('data-page'));\r\n                    _this.pagination.page = page;\r\n                    _this.fireEvent({ type: \"pageChanged\", page: page });\r\n                    _this.refresh();\r\n                    _this.bodyViewportDiv.focus();\r\n                }\r\n            };\r\n            var maxButtonCount = this.paginationOptions.maxButtonCount || 10;\r\n            var zeroBasedIndex = pageIndex - 1;\r\n            var firstPageIndex = zeroBasedIndex - (zeroBasedIndex % maxButtonCount) + 1;\r\n            var lastPageIndex = firstPageIndex + maxButtonCount - 1;\r\n            if (lastPageIndex > pageCount) {\r\n                lastPageIndex = pageCount;\r\n            }\r\n            var ul = document.createElement('ul');\r\n            ul.className = prefix + \"pagination\";\r\n            var li = document.createElement('li');\r\n            li.className = prefix + \"page-item\";\r\n            var a = document.createElement('span');\r\n            a.setAttribute(\"aria-hidden\", 'true');\r\n            a.className = prefix + \"page-link\";\r\n            if (firstPageIndex == 1) {\r\n                li.className += \" disabled\";\r\n            }\r\n            else {\r\n                if (this.paginationOptions.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                    a = newA;\r\n                }\r\n                a.className = prefix + \"page-link\";\r\n                a.addEventListener(\"click\", buttonClickHandler);\r\n            }\r\n            a.innerHTML = \"&laquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            for (var i = firstPageIndex; i <= lastPageIndex; i++) {\r\n                li = document.createElement('li');\r\n                li.className = prefix + \"page-item\";\r\n                if (i == pageIndex)\r\n                    li.className += \" active\";\r\n                a = document.createElement('a');\r\n                a.setAttribute('href', 'javascript:void(0)');\r\n                a.innerHTML = i.toString();\r\n                a.setAttribute('data-page', i.toString());\r\n                a.className = prefix + \"page-link\";\r\n                a.addEventListener(\"click\", buttonClickHandler);\r\n                li.appendChild(a);\r\n                ul.appendChild(li);\r\n            }\r\n            li = document.createElement('li');\r\n            li.className = prefix + \"page-item\";\r\n            a = document.createElement(\"span\");\r\n            a.setAttribute('aria-hidden', 'true');\r\n            a.className = prefix + \"page-link\";\r\n            if (lastPageIndex == pageCount) {\r\n                li.className += \" disabled\";\r\n            }\r\n            else {\r\n                if (this.paginationOptions.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                    a = newA;\r\n                }\r\n                a.className = prefix + \"page-link\";\r\n                a.addEventListener(\"click\", buttonClickHandler);\r\n            }\r\n            a.innerHTML = \"&raquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            paginateDiv.appendChild(ul);\r\n        }\r\n        return paginateDiv;\r\n    };\r\n    EasyGrid.prototype.addEventListener = function (eventType, handler) {\r\n        return this.eventEmitter.subscribe(eventType, function (event) { return handler(event.data); });\r\n    };\r\n    EasyGrid.prototype.removeEventListener = function (eventType, handlerId) {\r\n        this.eventEmitter.unsubscribe(eventType, handlerId);\r\n    };\r\n    EasyGrid.prototype.renderAddColumnButton = function () {\r\n        var _this = this;\r\n        if (this.options.addColumns) {\r\n            return domel('div')\r\n                .addClass(this.cssPrefix + \"-addrow\")\r\n                .title(this.options.addColumnsTitle || 'Add column')\r\n                .addChild('a', function (builder) { return builder\r\n                .attr('href', 'javascript:void(0)')\r\n                .on('click', function (e) {\r\n                e.preventDefault();\r\n                _this.fireEvent({\r\n                    type: 'addColumnClick',\r\n                    sourceEvent: e\r\n                });\r\n            }); })\r\n                .toDOM();\r\n        }\r\n        return domel('span')\r\n            .addText('#')\r\n            .toDOM();\r\n    };\r\n    EasyGrid.prototype.showLandingSlot = function (pageX, pageY) {\r\n        var colElems = this.headerRowDiv.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-table-col]\");\r\n        var cols = [];\r\n        for (var i = 1; i < colElems.length; i++) {\r\n            var rowElem = colElems[i];\r\n            if (rowElem.style.display === 'none')\r\n                continue;\r\n            cols.push(rowElem);\r\n        }\r\n        if (cols.length === 0) {\r\n            this.landingIndex = 0;\r\n            this.headerRowDiv.appendChild(this.landingSlot);\r\n            return;\r\n        }\r\n        var landingPos = getElementAbsolutePos(this.landingSlot);\r\n        if (pageX >= landingPos.x && pageX <= landingPos.x + this.landingSlot.offsetWidth) {\r\n            return;\r\n        }\r\n        var newLandingIndex = this.landingIndex;\r\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\r\n            var col = cols_1[_i];\r\n            var colPos = getElementAbsolutePos(col);\r\n            var width = col.offsetWidth;\r\n            if (pageX > colPos.x && pageX < colPos.x + width) {\r\n                // -1 as we don't need to count add button here\r\n                newLandingIndex = parseInt(col.getAttribute('data-col-idx')) - 1;\r\n            }\r\n        }\r\n        if (newLandingIndex != this.landingIndex) {\r\n            this.landingIndex = newLandingIndex;\r\n            if (this.landingIndex < cols.length) {\r\n                this.headerRowDiv.insertBefore(this.landingSlot, cols[this.landingIndex]);\r\n            }\r\n            else {\r\n                this.headerRowDiv.appendChild(this.landingSlot);\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.hideLandingSlot = function () {\r\n        var _this = this;\r\n        this.landingIndex = -1;\r\n        setTimeout(function () {\r\n            if (_this.landingSlot.parentElement) {\r\n                _this.landingSlot.parentElement.removeChild(_this.landingSlot);\r\n            }\r\n        }, 10);\r\n    };\r\n    Object.defineProperty(EasyGrid.prototype, \"activeRowIndex\", {\r\n        get: function () {\r\n            return this._activeRowIndex;\r\n        },\r\n        set: function (value) {\r\n            if (value !== this._activeRowIndex) {\r\n                var oldValue = this._activeRowIndex;\r\n                this._activeRowIndex = value;\r\n                this.updateActiveRow();\r\n                this.fireEvent({\r\n                    type: 'activeRowChanged',\r\n                    oldValue: oldValue,\r\n                    newValue: this.activeRowIndex,\r\n                    rowIndex: this.getGlobalIndexByLocal(this.activeRowIndex)\r\n                });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EasyGrid.prototype.updateActiveRow = function () {\r\n        var _this = this;\r\n        if (this.options.showActiveRow) {\r\n            var rows = this.bodyCellContainerDiv.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row-active]\");\r\n            rows.forEach(function (el) { el.classList.remove(_this.cssPrefix + \"-row-active\"); });\r\n            var activeRow = this.getActiveRow();\r\n            if (activeRow) {\r\n                activeRow.classList.add(this.cssPrefix + \"-row-active\");\r\n                this.ensureRowVisibility(this.activeRowIndex);\r\n            }\r\n        }\r\n    };\r\n    EasyGrid.prototype.getActiveRow = function () {\r\n        return this.getDataRow(this.activeRowIndex);\r\n    };\r\n    EasyGrid.prototype.getDataRow = function (index) {\r\n        var rows = Array.from(this.bodyCellContainerDiv.querySelectorAll(\".\" + this.cssPrefix + \"-row:not(.\" + this.cssPrefix + \"-row-totals)\"));\r\n        if (index >= 0 && index < rows.length)\r\n            return rows[index];\r\n        return null;\r\n    };\r\n    EasyGrid.prototype.focus = function () {\r\n        this.bodyViewportDiv.focus();\r\n    };\r\n    return EasyGrid;\r\n}());\r\nexport { EasyGrid };\r\n//# sourceMappingURL=easy_grid.js.map","var Calendar = /** @class */ (function () {\r\n    function Calendar(slot, options) {\r\n        this.slot = slot;\r\n        this.options = options || {};\r\n        if (!this.options.yearRange) {\r\n            this.options.yearRange = 'c-10:c+10';\r\n        }\r\n    }\r\n    Object.defineProperty(Calendar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'kdtp-cal';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Calendar.prototype.setDate = function (date) {\r\n        this.currentDate = new Date(date);\r\n    };\r\n    Calendar.prototype.getDate = function () {\r\n        return new Date(this.currentDate);\r\n    };\r\n    Calendar.prototype.dateChanged = function (apply) {\r\n        if (this.options.onDateChanged) {\r\n            this.options.onDateChanged(this.currentDate, apply);\r\n        }\r\n    };\r\n    return Calendar;\r\n}());\r\nexport { Calendar };\r\n//# sourceMappingURL=calendar.js.map","import { getElementAbsolutePos } from '../utils/ui-utils';\r\nvar DateTimePicker = /** @class */ (function () {\r\n    function DateTimePicker(options) {\r\n        this.calendar = null;\r\n        this.timePicker = null;\r\n        this.options = options;\r\n        this.render();\r\n    }\r\n    Object.defineProperty(DateTimePicker.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'kdtp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DateTimePicker.prototype.setDateTime = function (dateTime) {\r\n        this.currentDateTime = new Date(dateTime);\r\n        if (this.calendar) {\r\n            this.calendar.setDate(this.currentDateTime);\r\n        }\r\n        if (this.timePicker) {\r\n            this.timePicker.setTime(this.currentDateTime);\r\n        }\r\n    };\r\n    DateTimePicker.prototype.getDateTime = function () {\r\n        return new Date(this.currentDateTime);\r\n    };\r\n    DateTimePicker.prototype.render = function () {\r\n        var _this = this;\r\n        if (this.options.showCalendar) {\r\n            this.calendar = this.createCalendar({\r\n                yearRange: this.options.yearRange,\r\n                showDateTimeInput: this.options.showDateTimeInput,\r\n                timePickerIsUsed: this.options.showTimePicker,\r\n                oneClickDateSelection: this.options.oneClickDateSelection,\r\n                onDateChanged: function (date, apply) {\r\n                    _this.currentDateTime = date;\r\n                    if (_this.timePicker) {\r\n                        _this.timePicker.setTime(_this.currentDateTime);\r\n                    }\r\n                    if (_this.options.showTimePicker) {\r\n                        _this.dateTimeChanged();\r\n                    }\r\n                    if (apply) {\r\n                        _this.apply(_this.currentDateTime);\r\n                    }\r\n                }\r\n            });\r\n            if (this.calendar)\r\n                this.calendar.render();\r\n        }\r\n        if (this.options.showTimePicker) {\r\n            this.timePicker = this.createTimePicker({\r\n                onTimeChanged: function (time) {\r\n                    _this.currentDateTime.setHours(time.getHours());\r\n                    _this.currentDateTime.setMinutes(time.getMinutes());\r\n                    if (_this.calendar) {\r\n                        _this.calendar.setDate(_this.currentDateTime);\r\n                    }\r\n                    _this.dateTimeChanged();\r\n                }\r\n            });\r\n            if (this.timePicker)\r\n                this.timePicker.render();\r\n        }\r\n        this.setDateTime(new Date());\r\n    };\r\n    DateTimePicker.prototype.createCalendar = function (options) {\r\n        return null;\r\n    };\r\n    DateTimePicker.prototype.createTimePicker = function (options) {\r\n        return null;\r\n    };\r\n    DateTimePicker.prototype.show = function (anchor) {\r\n        if (this.options.beforeShow) {\r\n            this.options.beforeShow();\r\n        }\r\n        var pos = getElementAbsolutePos(anchor || document.body);\r\n        this.slot.style.top = pos.y + anchor.clientHeight + 'px';\r\n        this.slot.style.left = pos.x + 'px';\r\n    };\r\n    DateTimePicker.prototype.apply = function (date) {\r\n        if (this.options.onApply) {\r\n            this.options.onApply(date);\r\n        }\r\n        this.destroy();\r\n    };\r\n    DateTimePicker.prototype.cancel = function () {\r\n        if (this.options.onCancel) {\r\n            this.options.onCancel();\r\n        }\r\n        this.destroy();\r\n    };\r\n    DateTimePicker.prototype.destroy = function () {\r\n        if (this.slot && this.slot.parentElement) {\r\n            this.slot.parentElement.removeChild(this.slot);\r\n        }\r\n    };\r\n    DateTimePicker.prototype.dateTimeChanged = function () {\r\n        if (this.options.onDateTimeChanged) {\r\n            this.options.onDateTimeChanged(this.currentDateTime);\r\n        }\r\n    };\r\n    return DateTimePicker;\r\n}());\r\nexport { DateTimePicker };\r\n//# sourceMappingURL=date_time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { Calendar } from './calendar';\r\nvar DefaultCalendar = /** @class */ (function (_super) {\r\n    __extends(DefaultCalendar, _super);\r\n    function DefaultCalendar(slot, options) {\r\n        var _this = _super.call(this, slot, options) || this;\r\n        _this.daysOfWeek = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n        _this.months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n        _this.calendarBody = null;\r\n        _this.isManualInputChanging = false;\r\n        for (var i = 0; i < _this.daysOfWeek.length; i++) {\r\n            _this.daysOfWeek[i] = i18n.getShortWeekDayName(i + 1);\r\n        }\r\n        for (var i = 0; i < _this.months.length; i++) {\r\n            _this.months[i] = i18n.getLongMonthName(i + 1);\r\n        }\r\n        return _this;\r\n    }\r\n    DefaultCalendar.prototype.setDate = function (date) {\r\n        _super.prototype.setDate.call(this, date);\r\n        this.selectedMonth = this.currentDate.getMonth();\r\n        this.selectedYear = this.currentDate.getFullYear();\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.render = function () {\r\n        var _this = this;\r\n        var header = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-header\");\r\n        if (this.options.showDateTimeInput) {\r\n            header\r\n                .addChildElement(this.renderManualDateInput());\r\n        }\r\n        else {\r\n            header\r\n                .addChild('span', function (builder) { return _this.headerTextElem = builder.toDOM(); });\r\n        }\r\n        domel(this.slot)\r\n            .addChildElement(this.renderCalendarButtons());\r\n        this.calendarBody = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-body\")\r\n            .toDOM();\r\n    };\r\n    DefaultCalendar.prototype.getInputDateFormat = function () {\r\n        var settings = i18n.getLocaleSettings();\r\n        return (this.options.timePickerIsUsed)\r\n            ? settings.editDateFormat + \" \" + settings.editTimeFormat\r\n            : settings.editDateFormat;\r\n    };\r\n    DefaultCalendar.prototype.renderManualDateInput = function () {\r\n        var _this = this;\r\n        var format = this.getInputDateFormat();\r\n        var builder = domel('input')\r\n            .attr('placeholder', format)\r\n            .addClass(this.cssPrefix + \"-header-input\");\r\n        builder\r\n            .mask(format.replace('yyyy', '9999')\r\n            .replace('MM', '99')\r\n            .replace('dd', '99')\r\n            .replace('HH', '99')\r\n            .replace('mm', '99')\r\n            .replace('ss', '99'))\r\n            .on('input', function (ev) {\r\n            builder.removeClass('error');\r\n            try {\r\n                _this.isManualInputChanging = true;\r\n                var newDate = dataUtils.strToDateTime(_this.manualInputElem.value, format);\r\n                _this.currentDate = newDate;\r\n                _this.jump(_this.currentDate.getFullYear(), _this.currentDate.getMonth());\r\n                _this.dateChanged(false);\r\n            }\r\n            catch (e) {\r\n                builder.addClass('error');\r\n            }\r\n            finally {\r\n                _this.isManualInputChanging = false;\r\n            }\r\n        })\r\n            .on('keydown', function (ev) {\r\n            if (ev.keyCode === 13) {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n                if (_this.manualInputElem.className.indexOf('error') < 0\r\n                    && !_this.isManualInputChanging)\r\n                    _this.dateChanged(true);\r\n            }\r\n        })\r\n            .on('focus', function () {\r\n            setTimeout(function () {\r\n                _this.manualInputElem.selectionStart = 0;\r\n                _this.manualInputElem.selectionEnd = 0;\r\n            }, 50);\r\n        });\r\n        this.manualInputElem = builder.toDOM();\r\n        return this.manualInputElem;\r\n    };\r\n    DefaultCalendar.prototype.updateDisplayedDateValue = function () {\r\n        if (this.manualInputElem) {\r\n            if (!this.isManualInputChanging) {\r\n                var format = this.getInputDateFormat();\r\n                this.manualInputElem.value = dataUtils.dateTimeToStr(this.currentDate, format);\r\n                this.manualInputElem.focus();\r\n            }\r\n        }\r\n        else if (this.headerTextElem) {\r\n            var locale = i18n.getCurrentLocale();\r\n            this.headerTextElem.innerText = this.currentDate.toLocaleString(locale == 'en' ? undefined : locale, {\r\n                year: 'numeric',\r\n                month: 'long',\r\n                day: 'numeric',\r\n            });\r\n        }\r\n    };\r\n    DefaultCalendar.prototype.renderCalendarButtons = function () {\r\n        var _this = this;\r\n        var builder = domel('nav')\r\n            .addClass(this.cssPrefix + \"-nav\")\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-prev\")\r\n            .on('click', function () {\r\n            _this.prev();\r\n        })\r\n            .addChild('span', function (builder) { return builder.html('&lsaquo;'); }); })\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-selectors\")\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-month\")\r\n            .addChild('select', function (builder) {\r\n            builder\r\n                .on('change', function () {\r\n                _this.jump(_this.selectedYear, parseInt(_this.selectMonthElem.value));\r\n            });\r\n            var _loop_1 = function (i) {\r\n                builder.addChild('option', function (builder) { return builder\r\n                    .attr('value', i.toString())\r\n                    .text(_this.months[i]); });\r\n            };\r\n            for (var i = 0; i < _this.months.length; i++) {\r\n                _loop_1(i);\r\n            }\r\n            _this.selectMonthElem = builder.toDOM();\r\n        }); })\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-year\")\r\n            .addChild('select', function (builder) { return _this.selectYearElem = builder\r\n            .on('change', function () {\r\n            _this.jump(parseInt(_this.selectYearElem.value), _this.selectedMonth);\r\n        })\r\n            .toDOM(); }); }); })\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-nav-next\")\r\n            .on('click', function () {\r\n            _this.next();\r\n        })\r\n            .addChild('span', function (builder) { return builder.html('&rsaquo;'); }); });\r\n        return builder.toDOM();\r\n    };\r\n    DefaultCalendar.prototype.prev = function () {\r\n        this.selectedYear = (this.selectedMonth === 0) ? this.selectedYear - 1 : this.selectedYear;\r\n        this.selectedMonth = (this.selectedMonth === 0) ? 11 : this.selectedMonth - 1;\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.next = function () {\r\n        this.selectedYear = (this.selectedMonth === 11) ? this.selectedYear + 1 : this.selectedYear;\r\n        this.selectedMonth = (this.selectedMonth + 1) % 12;\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.rerenderSelectYear = function () {\r\n        var match = /c-(\\d*):c\\+(\\d*)/g.exec(this.options.yearRange);\r\n        var minusYear = 0;\r\n        var plusYear = 1;\r\n        if (match !== null) {\r\n            minusYear = parseInt(match[1]);\r\n            plusYear = parseInt(match[2]);\r\n        }\r\n        this.selectYearElem.innerHTML = '';\r\n        for (var i = 0; i <= minusYear + plusYear; i++) {\r\n            var op = document.createElement(\"option\");\r\n            var year = this.selectedYear - minusYear + i;\r\n            op.value = year.toString();\r\n            op.innerText = year.toString();\r\n            this.selectYearElem.appendChild(op);\r\n        }\r\n    };\r\n    DefaultCalendar.prototype.jump = function (year, month) {\r\n        this.selectedYear = year;\r\n        this.selectedMonth = month;\r\n        this.rerenderMonth();\r\n    };\r\n    DefaultCalendar.prototype.rerenderMonth = function () {\r\n        var _this = this;\r\n        //header text\r\n        this.updateDisplayedDateValue();\r\n        this.rerenderSelectYear();\r\n        var firstDay = (new Date(this.selectedYear, this.selectedMonth)).getDay();\r\n        var daysInMonth = new Date(this.selectedYear, this.selectedMonth + 1, 0).getDate();\r\n        this.calendarBody.innerHTML = \"\";\r\n        this.selectYearElem.value = this.selectedYear.toString();\r\n        this.selectMonthElem.value = this.selectedMonth.toString();\r\n        this.daysOfWeek.forEach(function (day, idx) {\r\n            domel('div', _this.calendarBody)\r\n                .addClass(_this.cssPrefix + \"-weekday\")\r\n                .addClass(idx == 0 || idx == 6 ? _this.cssPrefix + \"-weekend\" : '')\r\n                .text(day);\r\n        });\r\n        // Add empty cells before first day\r\n        for (var i = 0; i < firstDay; i++) {\r\n            domel('div', this.calendarBody)\r\n                .addClass(this.cssPrefix + \"-day-empty\");\r\n        }\r\n        // Add all month days\r\n        var today = new Date();\r\n        for (var day = 1; day <= daysInMonth; day++) {\r\n            var builder = domel('div', this.calendarBody)\r\n                .addClass(this.cssPrefix + \"-day\")\r\n                .attr('data-date', day.toString())\r\n                .text(day.toString())\r\n                .on('click', function (e) {\r\n                _this.currentDate.setFullYear(_this.selectedYear);\r\n                _this.currentDate.setMonth(_this.selectedMonth);\r\n                _this.currentDate.setDate(parseInt(e.target.getAttribute('data-date')));\r\n                _this.dateChanged(_this.options.oneClickDateSelection);\r\n            });\r\n            if (day === today.getDate() && this.selectedYear === today.getFullYear() && this.selectedMonth === today.getMonth()) {\r\n                builder.addClass(this.cssPrefix + \"-day-current\");\r\n            }\r\n            if (day === this.currentDate.getDate() && this.selectedYear === this.currentDate.getFullYear() && this.selectedMonth === this.currentDate.getMonth()) {\r\n                builder.addClass(this.cssPrefix + \"-day-selected\");\r\n            }\r\n            var dayOfWeek = (firstDay + day - 1) % 7;\r\n            if (dayOfWeek == 0 || dayOfWeek == 6) {\r\n                builder.addClass(this.cssPrefix + \"-weekend\");\r\n            }\r\n        }\r\n        // Add empty cells after last day\r\n        var cellsDrawnInLastRow = (firstDay + daysInMonth) % 7;\r\n        var cellsToDraw = cellsDrawnInLastRow == 0 ? 0 : 7 - cellsDrawnInLastRow;\r\n        for (var i = 0; i < cellsToDraw; i++) {\r\n            domel('div', this.calendarBody)\r\n                .addClass(this.cssPrefix + \"-day-empty\");\r\n        }\r\n    };\r\n    DefaultCalendar.prototype.dateChanged = function (apply) {\r\n        _super.prototype.dateChanged.call(this, apply);\r\n        this.rerenderMonth();\r\n    };\r\n    return DefaultCalendar;\r\n}(Calendar));\r\nexport { DefaultCalendar };\r\n//# sourceMappingURL=default_calendar.js.map","var TimePicker = /** @class */ (function () {\r\n    function TimePicker(slot, options) {\r\n        this.slot = slot;\r\n        this.options = options || {};\r\n    }\r\n    Object.defineProperty(TimePicker.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'kdtp-tp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TimePicker.prototype.setTime = function (time) {\r\n        this.currentTime = new Date(time);\r\n    };\r\n    TimePicker.prototype.getTime = function () {\r\n        return new Date(this.currentTime);\r\n    };\r\n    TimePicker.prototype.timeChanged = function () {\r\n        if (this.options.onTimeChanged) {\r\n            this.options.onTimeChanged(this.currentTime);\r\n        }\r\n    };\r\n    return TimePicker;\r\n}());\r\nexport { TimePicker };\r\n//# sourceMappingURL=time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { TimePicker } from './time_picker';\r\nvar DefaultTimePicker = /** @class */ (function (_super) {\r\n    __extends(DefaultTimePicker, _super);\r\n    function DefaultTimePicker() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefaultTimePicker.prototype.setTime = function (time) {\r\n        _super.prototype.setTime.call(this, time);\r\n        this.updateDisplayedTime();\r\n        this.hoursInput.valueAsNumber = time.getHours();\r\n        this.minutesInput.valueAsNumber = time.getMinutes();\r\n    };\r\n    DefaultTimePicker.prototype.render = function () {\r\n        var _this = this;\r\n        domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-time\")\r\n            .addChild('span', function (builder) { return _this.timeText = builder.toDOM(); })\r\n            .toDOM();\r\n        var slidersBuilder = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-sliders\");\r\n        slidersBuilder\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-time-row\")\r\n            .title('Hours')\r\n            .addChild('input', function (builder) { return _this.hoursInput = builder\r\n            .addClass(_this.cssPrefix + \"-input-hours\")\r\n            .type('range')\r\n            .attr('min', '0')\r\n            .attr('max', '23')\r\n            .attr('step', '1')\r\n            .on('input', function (e) {\r\n            _this.currentTime.setHours(_this.hoursInput.valueAsNumber);\r\n            _this.updateDisplayedTime();\r\n            _this.timeChanged();\r\n        })\r\n            .toDOM(); }); });\r\n        slidersBuilder\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-time-row\")\r\n            .title('Minutes')\r\n            .addChild('input', function (builder) { return _this.minutesInput = builder\r\n            .addClass(_this.cssPrefix + \"-input-minutes\")\r\n            .type('range')\r\n            .attr('min', '0')\r\n            .attr('max', '59')\r\n            .attr('step', '1')\r\n            .on('input', function (e) {\r\n            _this.currentTime.setMinutes(_this.minutesInput.valueAsNumber);\r\n            _this.updateDisplayedTime();\r\n            _this.timeChanged();\r\n        })\r\n            .toDOM(); }); });\r\n        return this.slot;\r\n    };\r\n    DefaultTimePicker.prototype.updateDisplayedTime = function () {\r\n        var locale = i18n.getCurrentLocale();\r\n        var timeToDraw = this.currentTime.toLocaleString(locale == 'en' ? undefined : locale, {\r\n            hour: \"numeric\",\r\n            minute: \"numeric\"\r\n        });\r\n        this.timeText.innerText = timeToDraw;\r\n    };\r\n    return DefaultTimePicker;\r\n}(TimePicker));\r\nexport { DefaultTimePicker };\r\n//# sourceMappingURL=default_time_picker.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nimport { DateTimePicker } from './date_time_picker';\r\nimport { DefaultCalendar } from './default_calendar';\r\nimport { DefaultTimePicker } from './default_time_picker';\r\nimport { getElementAbsolutePos } from '../utils/ui-utils';\r\nvar DefaultDateTimePicker = /** @class */ (function (_super) {\r\n    __extends(DefaultDateTimePicker, _super);\r\n    function DefaultDateTimePicker() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DefaultDateTimePicker.prototype.render = function () {\r\n        var _this = this;\r\n        this.slot = domel('div', document.body)\r\n            .addClass(\"\" + this.cssPrefix)\r\n            .attr('tabIndex', '0')\r\n            .setStyle('position', 'absolute')\r\n            .setStyle('top', '-1000px')\r\n            .setStyle('left', '-1000px')\r\n            .on('keydown', function (ev) {\r\n            if (ev.keyCode === 27) { // ESC is pressed\r\n                _this.cancel();\r\n            }\r\n            else if (ev.keyCode === 13) { // Enter is pressed\r\n                _this.apply(_this.getDateTime());\r\n            }\r\n            return false;\r\n        })\r\n            .toDOM();\r\n        _super.prototype.render.call(this);\r\n        this.renderButtons();\r\n        this.globalMouseDownHandler = function (e) {\r\n            var event = window.event || e;\r\n            var o = event.srcElement || event.target;\r\n            var isOutside = !_this.slot.contains(event.target);\r\n            if (isOutside) {\r\n                document.removeEventListener('mousedown', _this.globalMouseDownHandler, true);\r\n                _this.cancel();\r\n            }\r\n            return true;\r\n        };\r\n    };\r\n    DefaultDateTimePicker.prototype.renderButtons = function () {\r\n        var _this = this;\r\n        var builder = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-buttons\")\r\n            .addChild('button', function (b) { return _this.nowButton = b\r\n            .addClass(_this.cssPrefix + \"-button \" + _this.cssPrefix + \"-button-now\")\r\n            .text(i18n.getText('ButtonNow'))\r\n            .on('click', function () {\r\n            _this.setDateTime(new Date());\r\n            _this.dateTimeChanged();\r\n            return false;\r\n        })\r\n            .toDOM(); });\r\n        if (this.options.showTimePicker || !this.options.oneClickDateSelection) {\r\n            builder.addChild('button', function (b) { return _this.submitButton = b\r\n                .addClass(_this.cssPrefix + \"-button \" + _this.cssPrefix + \"-button-apply\")\r\n                .text(i18n.getText('ButtonApply'))\r\n                .on('click', function () {\r\n                _this.apply(_this.getDateTime());\r\n                return false;\r\n            })\r\n                .toDOM(); });\r\n        }\r\n        builder.addChild('button', function (b) { return _this.submitButton = b\r\n            .addClass(_this.cssPrefix + \"-button \" + _this.cssPrefix + \"-button-cancel\")\r\n            .text(i18n.getText('ButtonCancel'))\r\n            .on('click', function () {\r\n            _this.cancel();\r\n            return false;\r\n        })\r\n            .toDOM(); });\r\n    };\r\n    DefaultDateTimePicker.prototype.createCalendar = function (options) {\r\n        this.calendarSlot =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-cal\")\r\n                .toDOM();\r\n        return new DefaultCalendar(this.calendarSlot, options);\r\n    };\r\n    DefaultDateTimePicker.prototype.createTimePicker = function (options) {\r\n        this.timePickerSlot =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-tp\")\r\n                .toDOM();\r\n        return new DefaultTimePicker(this.timePickerSlot, options);\r\n    };\r\n    DefaultDateTimePicker.prototype.show = function (anchor) {\r\n        var _this = this;\r\n        if (this.options.showDateTimeInput) {\r\n            if (this.options.beforeShow) {\r\n                this.options.beforeShow();\r\n            }\r\n            var anchorPos = getElementAbsolutePos(anchor || document.body);\r\n            var parentPos = getElementAbsolutePos(anchor ? anchor.parentElement || anchor : document.body);\r\n            this.slot.style.top = parentPos.y + 'px';\r\n            this.slot.style.left = anchorPos.x + 'px';\r\n        }\r\n        else {\r\n            _super.prototype.show.call(this, anchor);\r\n            this.slot.focus();\r\n        }\r\n        setTimeout(function () {\r\n            document.addEventListener('mousedown', _this.globalMouseDownHandler, true);\r\n        }, 1);\r\n    };\r\n    return DefaultDateTimePicker;\r\n}(DateTimePicker));\r\nexport { DefaultDateTimePicker };\r\n//# sourceMappingURL=default_date_time_picker.js.map","import { i18n, utils } from '@easydata/core';\r\nimport { domel } from '../utils/dom_elem_builder';\r\nvar cssPrefix = \"kdlg\";\r\nvar DefaultDialogService = /** @class */ (function () {\r\n    function DefaultDialogService() {\r\n    }\r\n    DefaultDialogService.prototype.openConfirm = function (title, content, callback) {\r\n        var _this = this;\r\n        var template = \"<div id=\\\"\" + cssPrefix + \"-dialog-confirm\\\">\" + content + \"</div>\";\r\n        var options = {\r\n            title: title,\r\n            closable: false,\r\n            submitable: true,\r\n            cancelable: true,\r\n            body: template\r\n        };\r\n        if (callback) {\r\n            options.onSubmit = function () {\r\n                callback(true);\r\n            };\r\n            options.onCancel = function () {\r\n                callback(false);\r\n            };\r\n            this.open(options);\r\n            return;\r\n        }\r\n        return new Promise(function (resolve) {\r\n            options.onSubmit = function () {\r\n                resolve(true);\r\n            };\r\n            options.onCancel = function () {\r\n                resolve(false);\r\n            };\r\n            _this.open(options);\r\n        });\r\n    };\r\n    DefaultDialogService.prototype.openPrompt = function (title, content, defVal, callback) {\r\n        var _this = this;\r\n        var template = \"<div id=\\\"\" + cssPrefix + \"-dialog-form\\\" class=\\\"kfrm-form\\\">\\n            <div class=\\\"kfrm-fields label-above\\\">\\n                <label for=\\\"\" + cssPrefix + \"-dialog-form-input\\\" id=\\\"\" + cssPrefix + \"-dialog-form-content\\\">\" + content + \"</label>\\n                <input type=\\\"text\\\" name=\\\"\" + cssPrefix + \"-dialog-form-input\\\" id=\\\"\" + cssPrefix + \"-dialog-form-input\\\" />\\n            </div>\\n        </div>\";\r\n        var options = {\r\n            title: title,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            body: template,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(cssPrefix + \"-dialog-form-input\");\r\n                if (defVal) {\r\n                    input.value = defVal;\r\n                }\r\n                input.focus();\r\n            }\r\n        };\r\n        var processInput = function (callback) {\r\n            var input = document.getElementById(cssPrefix + \"-dialog-form-input\");\r\n            var result = input.value;\r\n            if (result && result.replace(/\\s/g, '').length > 0) {\r\n                callback(result);\r\n                return true;\r\n            }\r\n            input.classList.add('eqjs-invalid');\r\n            return false;\r\n        };\r\n        if (callback) {\r\n            options.onSubmit = function () {\r\n                return processInput(callback);\r\n            };\r\n            options.onCancel = function () {\r\n                callback(\"\");\r\n            };\r\n            this.open(options);\r\n            return;\r\n        }\r\n        return new Promise(function (resolve) {\r\n            options.onSubmit = function () {\r\n                return processInput(resolve);\r\n            };\r\n            options.onCancel = function () {\r\n                resolve(\"\");\r\n            };\r\n            _this.open(options);\r\n        });\r\n    };\r\n    DefaultDialogService.prototype.open = function (options) {\r\n        var dlg = new DefaultDialog(options);\r\n        dlg.open();\r\n        return dlg;\r\n    };\r\n    return DefaultDialogService;\r\n}());\r\nexport { DefaultDialogService };\r\nvar DefaultDialog = /** @class */ (function () {\r\n    function DefaultDialog(options) {\r\n        var _this = this;\r\n        this.options = options;\r\n        this.submitHandler = function () {\r\n            if (_this.options.onSubmit && _this.options.onSubmit() === false) {\r\n                return false;\r\n            }\r\n            _this.destroy();\r\n            return true;\r\n        };\r\n        this.cancelHandler = function () {\r\n            if (_this.options.onCancel) {\r\n                _this.options.onCancel();\r\n            }\r\n            _this.destroy();\r\n        };\r\n        this.keydownHandler = function (ev) {\r\n            if (ev.keyCode == 13 && _this.isActiveDialog()) {\r\n                ev.preventDefault();\r\n                ev.stopPropagation();\r\n                if (_this.submitHandler()) {\r\n                    window.removeEventListener('keydown', _this.keydownHandler, false);\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        };\r\n        var id = utils.generateId('dlg');\r\n        this.slot =\r\n            domel('div', document.body)\r\n                .attr('tab-index', '-1')\r\n                .data('dialog-id', id)\r\n                .addClass('kdlg-modal', 'is-active')\r\n                .addChild('div', function (b) { return b\r\n                .addClass('kdlg-modal-background'); })\r\n                .addChild('div', function (b) { return _this.window = b\r\n                .addClass('kdlg-modal-window')\r\n                .addChild('header', function (b) {\r\n                _this.header = b\r\n                    .addClass('kdlg-header')\r\n                    .addChild('p', function (b) { return b\r\n                    .addClass('kdlg-header-title')\r\n                    .addText(options.title); })\r\n                    .toDOM();\r\n                if (options.closable !== false)\r\n                    b.addChild('button', function (b) { return b\r\n                        .addClass('kdlg-modal-close')\r\n                        .on('click', function () {\r\n                        _this.cancelHandler();\r\n                    }); });\r\n            })\r\n                .addChild('section', function (b) {\r\n                _this.body = b\r\n                    .addClass('kdlg-body')\r\n                    .toDOM();\r\n                if (typeof options.body === 'string') {\r\n                    b.addHtml(options.body);\r\n                }\r\n                else {\r\n                    b.addChildElement(options.body);\r\n                }\r\n            })\r\n                .addChild('footer', function (b) {\r\n                _this.footer = b\r\n                    .addClass('kdlg-footer', 'align-right')\r\n                    .toDOM();\r\n                if (options.submitable === false)\r\n                    return;\r\n                b.addChild('button', function (b) { return b\r\n                    .addClass('kfrm-button', 'is-info')\r\n                    .addText(i18n.getText('ButtonOK'))\r\n                    .on('click', function (e) {\r\n                    _this.submitHandler();\r\n                }); });\r\n                if (options.cancelable !== false)\r\n                    b.addChild('button', function (builder) { return builder\r\n                        .addClass('kfrm-button')\r\n                        .addText(i18n.getText('ButtonCancel'))\r\n                        .on('click', function (e) {\r\n                        _this.cancelHandler();\r\n                    }); });\r\n            })\r\n                .toDOM(); })\r\n                .toDOM();\r\n    }\r\n    DefaultDialog.prototype.getRootElement = function () {\r\n        return this.slot;\r\n    };\r\n    DefaultDialog.prototype.open = function () {\r\n        if (this.options.beforeOpen) {\r\n            this.options.beforeOpen();\r\n        }\r\n        domel(this.slot).show();\r\n        if (this.options.arrangeParents) {\r\n            this.arrangeParents(true);\r\n        }\r\n        var windowDiv = this.slot\r\n            .querySelector('.kdlg-modal-window');\r\n        if (this.options.height) {\r\n            windowDiv.style.height = typeof this.options.height === 'string'\r\n                ? this.options.height\r\n                : this.options.height + \"px\";\r\n        }\r\n        if (this.options.width) {\r\n            windowDiv.style.width = typeof this.options.width === 'string'\r\n                ? this.options.width\r\n                : this.options.width + \"px\";\r\n        }\r\n        if (this.options.submitOnEnter) {\r\n            window.addEventListener('keydown', this.keydownHandler, false);\r\n        }\r\n    };\r\n    DefaultDialog.prototype.submit = function () {\r\n        this.submitHandler();\r\n    };\r\n    DefaultDialog.prototype.cancel = function () {\r\n        this.cancelHandler();\r\n    };\r\n    DefaultDialog.prototype.close = function () {\r\n        this.destroy();\r\n    };\r\n    DefaultDialog.prototype.disableButtons = function () {\r\n        var buttons = this.slot.querySelectorAll('button');\r\n        buttons.forEach(function (button) { return button.disabled = true; });\r\n    };\r\n    DefaultDialog.prototype.enableButtons = function () {\r\n        var buttons = this.slot.querySelectorAll('button');\r\n        buttons.forEach(function (button) { return button.disabled = false; });\r\n    };\r\n    DefaultDialog.prototype.showAlert = function (text, reason) {\r\n        if (reason === void 0) { reason = ''; }\r\n        var alert = domel('div')\r\n            .addClass(\"kdlg-alert \" + reason)\r\n            .addChild('span', function (b) { return b\r\n            .addClass('kdlg-alert-closebtn')\r\n            .text('')\r\n            .on('click', function (ev) {\r\n            var alert = ev.target.parentElement;\r\n            alert.parentElement.removeChild(alert);\r\n        }); })\r\n            .addText(text)\r\n            .toDOM();\r\n        this.window.insertBefore(alert, this.footer);\r\n    };\r\n    DefaultDialog.prototype.destroy = function () {\r\n        if (this.options.arrangeParents) {\r\n            this.arrangeParents(false);\r\n        }\r\n        document.body.removeChild(this.slot);\r\n        if (this.options.submitOnEnter) {\r\n            window.removeEventListener('keydown', this.keydownHandler, false);\r\n        }\r\n        if (this.options.onDestroy) {\r\n            this.options.onDestroy();\r\n        }\r\n    };\r\n    DefaultDialog.prototype.isActiveDialog = function () {\r\n        var windowDivs = document.documentElement.querySelectorAll('.kdlg-modal');\r\n        return windowDivs[windowDivs.length - 1] === this.slot;\r\n    };\r\n    DefaultDialog.prototype.arrangeParents = function (turnOn) {\r\n        var windowDivs = document.documentElement.querySelectorAll('.kdlg-modal-window');\r\n        for (var i = 0; i < windowDivs.length - 1; i++) {\r\n            if (turnOn) {\r\n                var offset = i == 0 ? 20 : i * 40 + 20;\r\n                domel(windowDivs[i])\r\n                    .setStyle('margin-top', offset + \"px\")\r\n                    .setStyle('margin-left', offset + \"px\");\r\n            }\r\n            else {\r\n                domel(windowDivs[i])\r\n                    .removeStyle('margin-top')\r\n                    .removeStyle('margin-left');\r\n            }\r\n        }\r\n    };\r\n    return DefaultDialog;\r\n}());\r\nexport { DefaultDialog };\r\n//# sourceMappingURL=default_dialog_service.js.map","import { i18n } from '@easydata/core';\r\nfunction addEasyDataUITexts() {\r\n    i18n.updateDefaultTexts({\r\n        GridPageInfo: '{FirstPageRecordNum} - {LastPageRecordNum} of {Total} records',\r\n        ButtonApply: 'Apply',\r\n        ButtonNow: 'Now'\r\n    });\r\n}\r\naddEasyDataUITexts();\r\n//# sourceMappingURL=text_resources.js.map","/** Represents type of linking of conditions in group (predicate).*/\r\nexport var LinkType;\r\n(function (LinkType) {\r\n    /**\r\n     * None of the conditions must be truth (all must be false).\r\n     * In SQL it will look like: `NOT (Condition1 OR Condition2 OR ...)`.\r\n     */\r\n    LinkType[LinkType[\"None\"] = 0] = \"None\";\r\n    /** At least one condition must be truth. In SQL they are connected by `OR` operator.*/\r\n    LinkType[LinkType[\"Any\"] = 1] = \"Any\";\r\n    /**\r\n     * Not all conditions must be truth (at least one must false).\r\n     * In SQL it will look like: `NOT(Condition1 AND Condition2 AND ...)`.\r\n     */\r\n    LinkType[LinkType[\"NotAll\"] = 2] = \"NotAll\";\r\n    /** All conditions must be truth, in result SQL they are connected by `AND` operator;*/\r\n    LinkType[LinkType[\"All\"] = 3] = \"All\";\r\n})(LinkType || (LinkType = {}));\r\n//# sourceMappingURL=link_type.js.map","import { DataType } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { FormatParser } from \"./format_parser\";\r\nimport { LinkType } from '../types/link_type';\r\nexport var equtils;\r\n(function (equtils) {\r\n    /**\r\n     * Adds two paths and returns the result\r\n     * Correctly processes leading and trailing slashes\r\n     * @param path1\r\n     * @param path2\r\n     */\r\n    function combinePath(path1, path2) {\r\n        var result = path1;\r\n        if (result != null && result.length > 0) {\r\n            if (result.charAt(result.length - 1) != '/')\r\n                result += \"/\";\r\n            result += path2;\r\n        }\r\n        else {\r\n            result = path2;\r\n        }\r\n        return result;\r\n    }\r\n    equtils.combinePath = combinePath;\r\n    /**\r\n     * Converts a string to a `LinkType` value\r\n     * @param str\r\n     */\r\n    function strToLinkType(str) {\r\n        if (str == \"All\") {\r\n            return LinkType.All;\r\n        }\r\n        else if (str == \"NotAll\") {\r\n            return LinkType.NotAll;\r\n        }\r\n        else if (str == \"Any\") {\r\n            return LinkType.Any;\r\n        }\r\n        else {\r\n            return LinkType.None;\r\n        }\r\n    }\r\n    equtils.strToLinkType = strToLinkType;\r\n    /**\r\n     * Converts a `LinkType` value to a string\r\n     * @param type\r\n     */\r\n    function linkTypeToStr(type) {\r\n        if (type === LinkType.All) {\r\n            return \"All\";\r\n        }\r\n        else if (type === LinkType.NotAll) {\r\n            return \"NotAll\";\r\n        }\r\n        else if (type == LinkType.Any) {\r\n            return \"Any\";\r\n        }\r\n        else {\r\n            return \"None\";\r\n        }\r\n    }\r\n    equtils.linkTypeToStr = linkTypeToStr;\r\n    /**\r\n     * Parses the operator's format string and returns a list of tokens\r\n     * @param operator\r\n     */\r\n    function parseOperatorFormat(operator) {\r\n        var format = i18n.getText('Operators', operator.id, 'format');\r\n        if (!format) {\r\n            format = i18n.getText('Operators', operator.id, 'displayFormat');\r\n        }\r\n        if (!format) {\r\n            format = operator.displayFormat;\r\n        }\r\n        var parser = new FormatParser(format);\r\n        return parser.parse();\r\n    }\r\n    equtils.parseOperatorFormat = parseOperatorFormat;\r\n    //----------- value converstion utils --------------\r\n    /**\r\n     * Converts a value from one DataType to another\r\n     * @param value\r\n     * @param fromDataType - the original data type\r\n     * @param toDataType - the data type we want to get\r\n     */\r\n    function convertValue(value, fromDataType, toDataType) {\r\n        switch (toDataType) {\r\n            case DataType.String:\r\n                return value;\r\n            case (DataType.Autoinc, DataType.Byte, DataType.Int32, DataType.Int64, DataType.Word):\r\n                var resInt = parseInt(value);\r\n                return isNaN(resInt) ? '' : resInt.toString();\r\n            case (DataType.Currency, DataType.Float):\r\n                var resFloat = parseFloat(value);\r\n                return isNaN(resFloat) ? '' : resFloat.toString();\r\n            default:\r\n                return '';\r\n        }\r\n    }\r\n    equtils.convertValue = convertValue;\r\n})(equtils || (equtils = {}));\r\n//# sourceMappingURL=utils.js.map","export var eqconsts;\r\n(function (eqconsts) {\r\n    /**\r\n     * Defines some commonly used constants\r\n     */\r\n    var ConstLists = /** @class */ (function () {\r\n        function ConstLists() {\r\n            /**\r\n             * Contains macros for the special dates (like Today, First day of the month, etc)\r\n             */\r\n            this.SpecDateValues = [\r\n                { id: '${Today}', key: 'Today', isDefault: true },\r\n                { id: '${Yesterday}', key: 'Yesterday' },\r\n                { id: '${Tomorrow}', key: 'Tomorrow' },\r\n                { id: '${FirstDayOfMonth}', key: 'FirstDayOfMonth' },\r\n                { id: '${FirstDayOfYear}', key: 'FirstDayOfYear' }\r\n            ];\r\n            /**\r\n             * Contains macros for the special times (like Now, Noon, etc)\r\n             */\r\n            this.SpecTimeValues = [\r\n                { id: '${Now}', key: 'Now', isDefault: true },\r\n                { id: '${HourStart}', key: 'HourStart' },\r\n                { id: '${Midnight}', key: 'Midnight' },\r\n                { id: '${Noon}', key: 'Noon' }\r\n            ];\r\n            /**\r\n             * Boolean values macros (true and false)\r\n             */\r\n            this.BooleanValues = [\r\n                { id: '${false}', key: 'False' },\r\n                { id: '${true}', key: 'True', isDefault: true }\r\n            ];\r\n        }\r\n        return ConstLists;\r\n    }());\r\n    /**\r\n     * Contains some constants (macros) with special date/time and boolean values.\r\n     */\r\n    eqconsts.constLists = new ConstLists();\r\n    /**\r\n     * Constants representing various types of relationships between conditions\r\n     */\r\n    eqconsts.predicateLinkTypeList = [\r\n        { id: 'All', key: 'LinkTypeAll' },\r\n        { id: 'Any', key: 'LinkTypeAny' },\r\n        { id: 'None', key: 'LinkTypeNone' },\r\n        { id: 'NotAll', key: 'LinkTypeNotAll' }\r\n    ];\r\n})(eqconsts || (eqconsts = {}));\r\n//# sourceMappingURL=constants.js.map","/**\r\n * Represents a parser for format expressions in operators\r\n */\r\nvar FormatParser = /** @class */ (function () {\r\n    function FormatParser(format) {\r\n        this.start(format);\r\n    }\r\n    /**\r\n     * Starts parsing of the format string passed in the parameter\r\n     * @param format\r\n     */\r\n    FormatParser.prototype.start = function (format) {\r\n        this.formatStr = format;\r\n        this.pos = 0;\r\n        this.exprNum = 0;\r\n        this.tokenText = '';\r\n    };\r\n    /**\r\n     * Skips all spcaes till the beginning of next token\r\n     */\r\n    FormatParser.prototype.skipSpaces = function () {\r\n        while (this.pos < this.formatStr.length && this.formatStr.charAt(this.pos) === ' ')\r\n            this.pos++;\r\n    };\r\n    /**\r\n     * Scans the source and gets the next token\r\n     */\r\n    FormatParser.prototype.next = function () {\r\n        this.skipSpaces();\r\n        if (this.pos >= this.formatStr.length)\r\n            return false;\r\n        var npos = 0;\r\n        if (this.formatStr.charAt(this.pos) === '{') {\r\n            npos = this.formatStr.indexOf('}', this.pos);\r\n            if (npos < 0)\r\n                return false;\r\n            this.tokenText = this.formatStr.substring(this.pos, npos + 1);\r\n            if (this.tokenText.indexOf('{expr') === 0) {\r\n                this.token = 'expression';\r\n                this.exprNum = parseInt(this.tokenText.substring(5, this.tokenText.length));\r\n            }\r\n            this.pos = npos + 1;\r\n        }\r\n        else if (this.formatStr.charAt(this.pos) === '[' && this.pos < this.formatStr.length - 1 && this.formatStr.charAt(this.pos + 1) === '[') {\r\n            this.pos += 2;\r\n            npos = this.formatStr.indexOf(']]', this.pos);\r\n            this.token = 'operator';\r\n            this.tokenText = this.formatStr.substring(this.pos, npos);\r\n            this.pos = npos + 2;\r\n        }\r\n        else {\r\n            this.token = 'text';\r\n            var npos1 = this.formatStr.indexOf('{', this.pos);\r\n            if (npos1 < 0)\r\n                npos1 = this.formatStr.length;\r\n            var npos2 = this.formatStr.indexOf('[[', this.pos);\r\n            if (npos2 < 0)\r\n                npos2 = this.formatStr.length;\r\n            npos = Math.min(npos1, npos2);\r\n            this.tokenText = this.formatStr.substring(this.pos, npos).trim();\r\n            this.pos = npos;\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Returns current token\r\n     */\r\n    FormatParser.prototype.getToken = function () {\r\n        return {\r\n            type: this.token,\r\n            text: this.tokenText,\r\n            index: this.exprNum - 1\r\n        };\r\n    };\r\n    /**\r\n     * Parses all source string passed in constructor and returns the list of tokens\r\n     */\r\n    FormatParser.prototype.parse = function () {\r\n        var result = [];\r\n        while (this.next()) {\r\n            result.push(this.getToken());\r\n        }\r\n        return result;\r\n    };\r\n    return FormatParser;\r\n}());\r\nexport { FormatParser };\r\n//# sourceMappingURL=format_parser.js.map","/**\r\n * Represents an aggregate function\r\n */\r\nvar AggrFunction = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function AggrFunction() {\r\n        this.id = \"\";\r\n        this.caption = \"\";\r\n        this.sqlExpr = \"\";\r\n        this.displayFormat = \"\";\r\n        this.appliedTypes = [];\r\n    }\r\n    /**\r\n     * Loads an aggregate function from its JSON representation object\r\n     * @param aggrFunction The JSON representation object\r\n     */\r\n    AggrFunction.prototype.loadFromData = function (aggrFunction) {\r\n        if (aggrFunction) {\r\n            this.id = aggrFunction.id;\r\n            this.caption = aggrFunction.cptn;\r\n            this.displayFormat = aggrFunction.fmt;\r\n            this.sqlExpr = aggrFunction.expr;\r\n            this.appliedTypes = aggrFunction.dtypes || this.appliedTypes;\r\n        }\r\n    };\r\n    return AggrFunction;\r\n}());\r\nexport { AggrFunction };\r\n//# sourceMappingURL=aggr_function.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ValueEditor } from '@easydata/core';\r\n/**\r\n * Represents a value editor.\r\n */\r\nvar EqValueEditor = /** @class */ (function (_super) {\r\n    __extends(EqValueEditor, _super);\r\n    /** The default constructor. */\r\n    function EqValueEditor() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n     * Loads value editor from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    EqValueEditor.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            if (data.sql) {\r\n                this.statement = data.sql;\r\n            }\r\n            if (data.extraParams) {\r\n                this.extraParams = data.extraParams;\r\n            }\r\n        }\r\n    };\r\n    return EqValueEditor;\r\n}(ValueEditor));\r\nexport { EqValueEditor };\r\n//# sourceMappingURL=value_editor.js.map","/** Represents expression kinds.*/\r\nexport var DataKind;\r\n(function (DataKind) {\r\n    /** Represents one value of some type: one constant or one attribute (field).*/\r\n    DataKind[DataKind[\"Scalar\"] = 0] = \"Scalar\";\r\n    /** The same as Scalar but represents only one constant value of some type.*/\r\n    DataKind[DataKind[\"Const\"] = 1] = \"Const\";\r\n    /** The same as Scalar but represents only one attribute.*/\r\n    DataKind[DataKind[\"Attribute\"] = 2] = \"Attribute\";\r\n    /** Represents a list of scalar values. */\r\n    DataKind[DataKind[\"List\"] = 4] = \"List\";\r\n    /** Special expression kind which represents a sub query.*/\r\n    DataKind[DataKind[\"Query\"] = 5] = \"Query\";\r\n    /** Special expression kind which represents a binding to parent column.*/\r\n    DataKind[DataKind[\"ParentColumn\"] = 6] = \"ParentColumn\";\r\n})(DataKind || (DataKind = {}));\r\n//# sourceMappingURL=data_kind.js.map","import { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { EqValueEditor } from './value_editor';\r\nimport { DataKind } from '../types/data_kind';\r\n/**\r\n * Represents a logical expression or predicate, like comparisions or `LIKE` predicate.\r\n */\r\nvar Operator = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function Operator() {\r\n        this.id = \"\";\r\n        this.expr = \"\";\r\n        this.constValueFormat = \"{const}\";\r\n        this.caption = \"{Unrecognized operator}\";\r\n        this.displayFormat = \"{expr1} [[{unrecognized operator}]] {expr2}\";\r\n        this.isRange = false;\r\n        this.caseIns = false;\r\n        this.paramCount = 2;\r\n        this.defaultOperand = new Operand();\r\n        this.appliedTypes = [];\r\n        this.operands = new Array();\r\n    }\r\n    /**\r\n    * Loads operator from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param data The JSON representation object.\r\n    */\r\n    Operator.prototype.loadFromData = function (model, data) {\r\n        if (data) {\r\n            this.id = data.id;\r\n            this.caption = data.cptn;\r\n            this.caseIns = data.caseIns;\r\n            this.isRange = data.isRange;\r\n            this.displayFormat = data.fmt;\r\n            this.paramCount = data.pcnt;\r\n            this.expr = data.expr;\r\n            this.appliedTypes = data.dtypes || this.appliedTypes;\r\n            if (data.defOperand) {\r\n                this.defaultOperand.loadFromData(model, data.defOperand);\r\n            }\r\n            if (data.editor) {\r\n                this.defaultOperand.editor = model.getEditorById(data.editor) || new EqValueEditor();\r\n            }\r\n            if (data.operands) {\r\n                for (var i = 0; i < data.operands.length; i++) {\r\n                    var newOperand = new Operand();\r\n                    newOperand.loadFromData(model, data.operands[i]);\r\n                    if (data.editor) {\r\n                        newOperand.editor = model.getEditorById(data.editor) || new EqValueEditor();\r\n                    }\r\n                    this.operands.push(newOperand);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return Operator;\r\n}());\r\nexport { Operator };\r\n/**\r\n * Represents one operand in some operator's expression\r\n */\r\nvar Operand = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function Operand() {\r\n        this.kind = DataKind.Scalar;\r\n        this.dataType = DataType.Unknown;\r\n        this.editor = new EqValueEditor();\r\n        this.defValue = \"\";\r\n    }\r\n    /**\r\n     * Loads operand from its JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param data The JSON representation object.\r\n     */\r\n    Operand.prototype.loadFromData = function (model, operand) {\r\n        this.kind = operand.kind;\r\n        this.dataType = operand.dtype;\r\n        this.defValue = operand.val;\r\n        this.defText = operand.txt;\r\n        ;\r\n        if (operand.editor) {\r\n            this.editor = model.getEditorById(operand.editor) || new EqValueEditor();\r\n        }\r\n    };\r\n    /**\r\n     * Copies operand from other operand.\r\n     * @param scr The operand.\r\n     */\r\n    Operand.prototype.copyFrom = function (src) {\r\n        dataUtils.assign(this, src);\r\n    };\r\n    return Operand;\r\n}());\r\nexport { Operand };\r\n//# sourceMappingURL=operator.js.map","/** Contains several constant definitions for expressions tag */\r\nexport var ExprTag;\r\n(function (ExprTag) {\r\n    /** Unknown expression */\r\n    ExprTag[ExprTag[\"Unknown\"] = 0] = \"Unknown\";\r\n    /** Constant expression */\r\n    ExprTag[ExprTag[\"Constant\"] = 1] = \"Constant\";\r\n    /** Entity attributre expression */\r\n    ExprTag[ExprTag[\"EntityAttribute\"] = 2] = \"EntityAttribute\";\r\n    /** Parent entity attribute expression */\r\n    ExprTag[ExprTag[\"ParentEntityAttribute\"] = 3] = \"ParentEntityAttribute\";\r\n    /** Agrregate function expression */\r\n    ExprTag[ExprTag[\"AggregateFunction\"] = 4] = \"AggregateFunction\";\r\n    /** Parent column expression */\r\n    ExprTag[ExprTag[\"ParentColumn\"] = 5] = \"ParentColumn\";\r\n    /** Query expression */\r\n    ExprTag[ExprTag[\"Query\"] = 11] = \"Query\";\r\n    /** Custom sql expression */\r\n    ExprTag[ExprTag[\"CustomSql\"] = 21] = \"CustomSql\";\r\n})(ExprTag || (ExprTag = {}));\r\n//# sourceMappingURL=expr_tag.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { MetaEntity, MetaEntityAttr } from '@easydata/core';\r\n/**\r\n * Represents one entity.\r\n */\r\nvar Entity = /** @class */ (function (_super) {\r\n    __extends(Entity, _super);\r\n    /** The default constructor. */\r\n    function Entity(parent) {\r\n        var _this = _super.call(this, parent) || this;\r\n        _this.useInConditions = false;\r\n        _this.useInResult = false;\r\n        _this.useInSorting = false;\r\n        return _this;\r\n    }\r\n    /**\r\n    * Loads entity from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param data The JSON representation object.\r\n    */\r\n    Entity.prototype.loadFromData = function (model, data) {\r\n        _super.prototype.loadFromData.call(this, model, data);\r\n        if (data) {\r\n            this.useInConditions = data.uic;\r\n            this.useInResult = data.uir;\r\n            this.useInSorting = data.uis;\r\n        }\r\n    };\r\n    Entity.prototype.scan = function (processAttribute, processEntity) {\r\n        _super.prototype.scan.call(this, function (attr, opts) { return processAttribute && processAttribute(attr, opts); }, function (entity, opts) { return processEntity && processEntity(entity, opts); });\r\n    };\r\n    return Entity;\r\n}(MetaEntity));\r\nexport { Entity };\r\n/**\r\n * Represents entity attribute.\r\n */\r\nvar EntityAttr = /** @class */ (function (_super) {\r\n    __extends(EntityAttr, _super);\r\n    /** The default constructor. */\r\n    function EntityAttr(entity) {\r\n        var _this = _super.call(this, entity) || this;\r\n        /**\r\n         * The parameters associated with this entity attribute\r\n         */\r\n        _this.params = [];\r\n        _this.useInConditions = true;\r\n        _this.useInResult = true;\r\n        _this.useInSorting = true;\r\n        _this.defaultOperator = \"\";\r\n        _this.operators = new Array();\r\n        _this.lookupAttr = \"\";\r\n        _this.expr = \"\";\r\n        return _this;\r\n    }\r\n    /**\r\n     * Loads entity attribute from JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param data The JSON representation object.\r\n     */\r\n    EntityAttr.prototype.loadFromData = function (model, data) {\r\n        _super.prototype.loadFromData.call(this, model, data);\r\n        if (data) {\r\n            this.useInConditions = data.uic;\r\n            this.useInResult = data.uir;\r\n            this.useInSorting = data.uis;\r\n            this.expr = data.sql;\r\n            this.defaultOperator = data.defOperator;\r\n            this.operators = data.ops;\r\n            if (data.udata)\r\n                this.userData = data.udata;\r\n        }\r\n    };\r\n    return EntityAttr;\r\n}(MetaEntityAttr));\r\nexport { EntityAttr };\r\n//# sourceMappingURL=entity.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { EditorTag } from \"@easydata/core\";\r\n/** Represents editor tags*/\r\nexport var EqEditorTag = __assign({}, EditorTag, { \r\n    /** SqlList tag value */\r\n    SqlList: \"SQLLIST\", \r\n    /** SubQuery tag value */\r\n    SubQuery: \"SUBQUERY\", \r\n    /** Bind to parent column tag value */\r\n    BindToParentColumn: \"BINDTOPARENTCOLUMN\" });\r\n//# sourceMappingURL=eq_editor_tag.js.map","var Tree = /** @class */ (function () {\r\n    function Tree(value) {\r\n        if (value === void 0) { value = null; }\r\n        this.childs = [];\r\n        this.value = null;\r\n        this.parent = null;\r\n        if (value) {\r\n            if (Array.isArray(value)) {\r\n                this.value = value[0];\r\n                if (value.length > 1) {\r\n                    this.addChild(new Tree(value.slice(1)));\r\n                }\r\n            }\r\n            else if (value instanceof Tree) {\r\n                this.value = value.value;\r\n                this.childs = value.childs;\r\n            }\r\n            else {\r\n                this.value = value;\r\n            }\r\n        }\r\n    }\r\n    Tree.prototype.contains = function (value) {\r\n        if (this.value === value)\r\n            return true;\r\n        for (var _i = 0, _a = this.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            if (child.contains(value))\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    Tree.prototype.findNode = function (value) {\r\n        if (this.value === value)\r\n            return this;\r\n        for (var _i = 0, _a = this.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            var result = child.findNode(value);\r\n            if (result)\r\n                return result;\r\n        }\r\n        return null;\r\n    };\r\n    Tree.prototype.addChild = function (child) {\r\n        child.parent = this;\r\n        this.childs.push(child);\r\n    };\r\n    Tree.prototype.setParents = function () {\r\n        for (var _i = 0, _a = this.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            child.parent = this;\r\n            child.setParents();\r\n        }\r\n    };\r\n    return Tree;\r\n}());\r\nexport { Tree };\r\n//# sourceMappingURL=tree.js.map","export var QueryChangePart;\r\n(function (QueryChangePart) {\r\n    QueryChangePart[QueryChangePart[\"Conditions\"] = 1] = \"Conditions\";\r\n    QueryChangePart[QueryChangePart[\"Columns\"] = 2] = \"Columns\";\r\n    QueryChangePart[QueryChangePart[\"SortingColumns\"] = 4] = \"SortingColumns\";\r\n    QueryChangePart[QueryChangePart[\"Properties\"] = 32] = \"Properties\";\r\n    QueryChangePart[QueryChangePart[\"ExtraData\"] = 64] = \"ExtraData\";\r\n    QueryChangePart[QueryChangePart[\"All\"] = 127] = \"All\";\r\n})(QueryChangePart || (QueryChangePart = {}));\r\nexport var QueryChangeAction;\r\n(function (QueryChangeAction) {\r\n    QueryChangeAction[QueryChangeAction[\"Add\"] = 1] = \"Add\";\r\n    QueryChangeAction[QueryChangeAction[\"Modify\"] = 2] = \"Modify\";\r\n    QueryChangeAction[QueryChangeAction[\"Delete\"] = 4] = \"Delete\";\r\n    QueryChangeAction[QueryChangeAction[\"All\"] = 127] = \"All\";\r\n})(QueryChangeAction || (QueryChangeAction = {}));\r\n//# sourceMappingURL=query_events.js.map","import { utils as dataUtils } from '@easydata/core';\r\nimport { Expression } from './expression';\r\nimport { QueryChangePart, QueryChangeAction } from './query_events';\r\n/** Represents sorting direction. */\r\nexport var SortDirection;\r\n(function (SortDirection) {\r\n    /** No sorting. */\r\n    SortDirection[SortDirection[\"None\"] = 0] = \"None\";\r\n    /** Ascending order. */\r\n    SortDirection[SortDirection[\"Ascending\"] = 1] = \"Ascending\";\r\n    /** Descending order. */\r\n    SortDirection[SortDirection[\"Descending\"] = 2] = \"Descending\";\r\n})(SortDirection || (SortDirection = {}));\r\n/**\r\n * Represents some column which will be queried\r\n */\r\nvar Column = /** @class */ (function () {\r\n    /** the default constructor. */\r\n    function Column(query, justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        this.query = query;\r\n        this.justsorted = justsorted;\r\n        /** Column is enabled */\r\n        this.enabled = true;\r\n        /** The parameters associated with this column */\r\n        this.params = [];\r\n        this._isHidden = false;\r\n        this._id = dataUtils.generateId('col');\r\n        this.caption = '';\r\n        this.sorting = SortDirection.None;\r\n        this.sortIndex = -1;\r\n        this.expr = new Expression(this);\r\n        this.blockId = '';\r\n    }\r\n    Object.defineProperty(Column.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Column.prototype.getModel = function () {\r\n        return this.query.getModel();\r\n    };\r\n    Column.prototype.getQuery = function () {\r\n        return this.query;\r\n    };\r\n    /** Indicates whether this column is read-only */\r\n    Column.prototype.isReadOnly = function () {\r\n        return false;\r\n    };\r\n    /** Indicates whether this column is just-sorted */\r\n    Column.prototype.isJustSorted = function () {\r\n        return this.justsorted;\r\n    };\r\n    Column.prototype.setReadOnly = function (value) {\r\n        //do nothing. Read-only columns are not supported here\r\n    };\r\n    /** Indicates whether this column is invisible */\r\n    Column.prototype.isHidden = function () {\r\n        return this._isHidden;\r\n    };\r\n    Column.prototype.setHidden = function (value) {\r\n        this._isHidden = value;\r\n    };\r\n    /**\r\n      * Loads column from its JSON representation object.\r\n      * @param model The Data Model.\r\n      * @param colData The JSON representation object.\r\n      */\r\n    Column.prototype.loadFromData = function (model, colData) {\r\n        if (colData) {\r\n            if (colData.id) {\r\n                this._id = colData.id;\r\n            }\r\n            this.caption = colData.cptn;\r\n            if (typeof colData.srt !== 'undefined') {\r\n                this.sorting = colData.srt;\r\n                this.sortIndex = colData.srtidx;\r\n            }\r\n            if (colData.enabled === false) {\r\n                this.enabled = colData.enabled;\r\n            }\r\n            this.expr.loadFromData(model, colData.expr);\r\n            this.blockId = colData.blockId;\r\n            if (colData.hidden) {\r\n                this.setHidden(true);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Saves the column to a data transfer object (ready for sending to the server-side) .\r\n     * @returns An plain object that represents the column.\r\n     */\r\n    Column.prototype.saveToData = function () {\r\n        var obj = {};\r\n        obj.id = this._id;\r\n        if (this.caption) {\r\n            obj.cptn = this.caption;\r\n        }\r\n        if (typeof this.sorting !== 'undefined') {\r\n            obj.srt = this.sorting;\r\n            obj.srtidx = this.sortIndex;\r\n        }\r\n        obj.expr = this.expr.saveToData();\r\n        if (this.blockId) {\r\n            obj.blockId = this.blockId;\r\n        }\r\n        if (this.enabled === false) {\r\n            obj.enabled = this.enabled;\r\n        }\r\n        if (this.isHidden()) {\r\n            obj.hidden = true;\r\n        }\r\n        return obj;\r\n    };\r\n    Column.prototype.fireChangedEvent = function () {\r\n        this.query.fireChangedEvent({\r\n            part: (this.justsorted)\r\n                ? QueryChangePart.SortingColumns\r\n                : QueryChangePart.Columns,\r\n            action: QueryChangeAction.Modify,\r\n            changee: this\r\n        });\r\n    };\r\n    Column.prototype.getExpressionIndex = function (expr) {\r\n        return 0;\r\n    };\r\n    Column.prototype.expressionChanged = function (expr, oldValue) {\r\n    };\r\n    return Column;\r\n}());\r\nexport { Column };\r\n//# sourceMappingURL=column.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DataType, MetaData, utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { AggrFunction } from './aggr_function';\r\nimport { Operator, Operand } from './operator';\r\nimport { Entity, EntityAttr } from './entity';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { EqEditorTag } from '../types/eq_editor_tag';\r\nimport { Query } from '../query/query';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { Tree } from '../common/tree';\r\n/**\r\n * Represents a data model\r\n */\r\nvar DataModel = /** @class */ (function (_super) {\r\n    __extends(DataModel, _super);\r\n    /** The default constructor. */\r\n    function DataModel() {\r\n        var _this = _super.call(this) || this;\r\n        _this.mainEntity = null;\r\n        _this.operators = new Array();\r\n        _this.rootEntity = new Entity();\r\n        _this.aggrFunctions = new Array();\r\n        _this.dateMacros = ['${{Today}}', '${{Yesterday}}',\r\n            '${{Tomorrow}}', '${{FirstDayOfMonth}}', '${{LastDayOfMonth}}',\r\n            '${{FirstDayOfWeek}}', '${{FirstDayOfYear}}', '${{FirstDayOfNextWeek}}', '${{FirstDayOfPrevMonth}}',\r\n            '${{FirstDayOfNextMonth}}', '${{FirstDayOfNextYear}}', '${{FirstDayOfPrevYear}}', '${{FirstDayOfPrevWeek}}'];\r\n        _this.timeMacros = ['${{Now}}', '${{HourStart}}', '${{Midnight}}', '${{Noon}}'];\r\n        _this.links = [];\r\n        return _this;\r\n    }\r\n    /**\r\n     * Gets the main entity of model\r\n     * @return The main entity.\r\n     */\r\n    DataModel.prototype.getMainEntity = function () {\r\n        return this.mainEntity;\r\n    };\r\n    /**\r\n     * Loads data model from JSON.\r\n     * @param stringJson The JSON string.\r\n     */\r\n    DataModel.prototype.loadFromJSON = function (stringJson) {\r\n        var model = JSON.parse(stringJson);\r\n        this.loadFromData(model);\r\n    };\r\n    /**\r\n     * Loads data model from its JSON representation object.\r\n     * @param data The JSON representation object.\r\n     */\r\n    DataModel.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        //Operators\r\n        this.operators = new Array();\r\n        if (data.operators) {\r\n            for (var i = 0; i < data.operators.length; i++) {\r\n                var newOperator = new Operator();\r\n                newOperator.loadFromData(this, data.operators[i]);\r\n                this.operators.push(newOperator);\r\n            }\r\n        }\r\n        //rootEntity\r\n        this.rootEntity.loadFromData(this, data.entroot);\r\n        //Aggr Functions\r\n        this.aggrFunctions = new Array();\r\n        if (data.aggrfuncs) {\r\n            for (var i = 0; i < data.aggrfuncs.length; i++) {\r\n                var newAggrFunc = new AggrFunction();\r\n                newAggrFunc.loadFromData(data.aggrfuncs[i]);\r\n                this.aggrFunctions.push(newAggrFunc);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Gets the data model object.\r\n     * @returns Tha data model.\r\n     */\r\n    DataModel.prototype.getObject = function () {\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets data to data model.\r\n     * @param model Its JSON representation object or JSON string.\r\n     */\r\n    DataModel.prototype.setData = function (model) {\r\n        if (typeof model === 'string') {\r\n            this.loadFromJSON(model);\r\n        }\r\n        else {\r\n            this.loadFromData(model);\r\n        }\r\n    };\r\n    /**\r\n     * Creates entity.\r\n     * @param parent The parent entity.\r\n     * @returns The Entity.\r\n     */\r\n    DataModel.prototype.createEntity = function (parent) {\r\n        return new Entity(parent);\r\n    };\r\n    /**\r\n     * Creates entity attribute.\r\n     * @param parent The parent entity.\r\n     * @returns The entity attribute.\r\n     */\r\n    DataModel.prototype.createEntityAttr = function (parent) {\r\n        return new EntityAttr(parent);\r\n    };\r\n    /**\r\n     * Creates query.\r\n     * @returns The Query.\r\n     */\r\n    DataModel.prototype.createQuery = function () {\r\n        return new Query(this);\r\n    };\r\n    /**\r\n     * Gets root entity of the data model.\r\n     * @returns The root entity.\r\n     */\r\n    DataModel.prototype.getRootEntity = function () {\r\n        return this.rootEntity;\r\n    };\r\n    /**\r\n     * Finds editor by its ID.\r\n     * @param editorId The editor ID.\r\n     * @returns The value editor or `null`.\r\n     */\r\n    DataModel.prototype.getEditorById = function (editorId) {\r\n        return _super.prototype.getEditorById.call(this, editorId);\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified model (it's root entity and all its sub-entities).\r\n     * @param attrId The attribute ID.\r\n     * @returns The attribute or `null`.\r\n     */\r\n    DataModel.prototype.getAttributeById = function (attrId) {\r\n        var attr = this.getEntityAttrById(this.getRootEntity(), attrId);\r\n        if (!attr) {\r\n            return null;\r\n        }\r\n        return attr;\r\n    };\r\n    /**\r\n     * Checks wether attribute contains such property.\r\n     * @param attrId The attribute ID.\r\n     * @param propName The property name.\r\n     * @returns `true` if the attribute contains the property, otherwise `false`.\r\n     */\r\n    DataModel.prototype.checkAttrProperty = function (attrId, propName) {\r\n        var attribute = this.getAttributeById(attrId);\r\n        if (attribute) {\r\n            if (typeof attribute[propName] === 'undefined') {\r\n                throw 'No such property: ' + propName;\r\n            }\r\n            if (attribute[propName]) {\r\n                return true;\r\n            }\r\n            else if (attribute.lookupAttr) {\r\n                attrId = attribute.lookupAttr;\r\n                attribute = this.getAttributeById(attrId);\r\n                return attribute && attribute[propName];\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        else\r\n            return false;\r\n    };\r\n    /**\r\n     * Gets entity attribute by its ID.\r\n     * This function runs through all attributes inside specified entity and all its sub-entities.\r\n     * @param entity\r\n     * @param attrId\r\n     * @returns The attribute or `null`.\r\n     */\r\n    DataModel.prototype.getEntityAttrById = function (entity, attrId) {\r\n        return _super.prototype.getEntityAttrById.call(this, entity, attrId);\r\n    };\r\n    DataModel.prototype._listByEntityWithFilter = function (entity, filterFunc) {\r\n        var result = new Array();\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    caption = i18n.getText('Entities', ent.name);\r\n                    if (!caption) {\r\n                        caption = ent.caption;\r\n                    }\r\n                    var newEnt = dataUtils.assign(new Entity(), { id: ent.name, text: caption, items: [], isEntity: true });\r\n                    newEnt.items = this._listByEntityWithFilter(ent, filterFunc);\r\n                    if (newEnt.items.length > 0)\r\n                        result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    caption = i18n.getText('Attributes', attr.id);\r\n                    if (!caption)\r\n                        caption = attr.caption;\r\n                    var newEnt = dataUtils.assign(new Entity(), { id: attr.id, text: caption, dataType: attr.dataType });\r\n                    result.push(newEnt);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    DataModel.prototype._listByEntity = function (entity, opts, filterFunc) {\r\n        opts = opts || {};\r\n        var resultEntities = [];\r\n        var resultAttributes = [];\r\n        var caption;\r\n        var ent = null;\r\n        if (entity.subEntities) {\r\n            var subEntityCount = entity.subEntities.length;\r\n            for (var entIdx = 0; entIdx < subEntityCount; entIdx++) {\r\n                ent = entity.subEntities[entIdx];\r\n                if (!filterFunc || filterFunc(ent, null)) {\r\n                    if (opts.addUIC !== false && ent.useInConditions !== false ||\r\n                        opts.addUIR !== false && ent.useInResult !== false ||\r\n                        opts.addUIS !== false && ent.useInSorting !== false) {\r\n                        caption = i18n.getText('Entities', ent.name) || ent.caption;\r\n                        var newEnt = dataUtils.assign(new Entity(), {\r\n                            id: ent.name,\r\n                            text: caption,\r\n                            items: [],\r\n                            isEntity: true,\r\n                            description: ent.description\r\n                        });\r\n                        var newOpts = dataUtils.assign({}, opts);\r\n                        newOpts.includeRootData = false;\r\n                        newEnt.items = this._listByEntity(ent, newOpts, filterFunc);\r\n                        if (newEnt.items.length > 0) {\r\n                            resultEntities.push(newEnt);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var attr = null;\r\n        if (entity.attributes) {\r\n            var attrCount = entity.attributes.length;\r\n            for (var attrIdx = 0; attrIdx < attrCount; attrIdx++) {\r\n                attr = entity.attributes[attrIdx];\r\n                if (!filterFunc || filterFunc(entity, attr)) {\r\n                    if (opts.addUIC !== false && attr.useInConditions !== false ||\r\n                        opts.addUIR !== false && attr.useInResult !== false ||\r\n                        opts.addUIS !== false && attr.useInSorting !== false) {\r\n                        caption = i18n.getText('Attributes', attr.id) || attr.caption;\r\n                        resultAttributes.push(dataUtils.assign(new EntityAttr(entity), { id: attr.id, text: caption, dataType: attr.dataType, lookupAttr: attr.lookupAttr, description: attr.description }));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var sortCheck = function (a, b) {\r\n            if (a.text.toLowerCase() == b.text.toLowerCase()) {\r\n                return 0;\r\n            }\r\n            if (a.text.toLowerCase() > b.text.toLowerCase()) {\r\n                return 1;\r\n            }\r\n            return -1;\r\n        };\r\n        if (opts.sortEntities) {\r\n            resultEntities.sort(sortCheck);\r\n            resultAttributes.sort(sortCheck);\r\n        }\r\n        var result;\r\n        if (!opts.attrPlacement || opts.attrPlacement == 0) {\r\n            result = resultEntities.concat(resultAttributes);\r\n        }\r\n        else {\r\n            result = resultAttributes.concat(resultEntities);\r\n        }\r\n        if (opts.attrPlacement == 2) {\r\n            result.sort(sortCheck);\r\n        }\r\n        if (opts.includeRootData) {\r\n            caption = i18n.getText('Entities', entity.name);\r\n            if (!caption)\r\n                caption = entity.caption;\r\n            return { id: entity.name, text: caption, items: result };\r\n        }\r\n        else {\r\n            return result;\r\n        }\r\n    };\r\n    /**\r\n     * Clears data model.\r\n     */\r\n    DataModel.prototype.clear = function () {\r\n        _super.prototype.clear.call(this);\r\n        this.operators = [];\r\n        this.aggrFunctions = [];\r\n    };\r\n    /**\r\n     * Add or update an operator.\r\n     * @param desc The operator descriptor.\r\n     * @returns The operator.\r\n     */\r\n    DataModel.prototype.addOrUpdateOperator = function (desc) {\r\n        var op = dataUtils.findItemById(this.operators, desc.id);\r\n        if (!op) {\r\n            op = new Operator();\r\n            op.id = desc.id;\r\n            this.operators.push(op);\r\n        }\r\n        op.caption = desc.caption;\r\n        op.expr = desc.expr || '';\r\n        op.displayFormat = desc.format;\r\n        op.defaultOperand = new Operand();\r\n        op.defaultOperand.kind = desc.kind || DataKind.Scalar;\r\n        if (desc.appliedTypes)\r\n            op.appliedTypes = desc.appliedTypes;\r\n        if (desc.paramCount > 0) {\r\n            op.paramCount = desc.paramCount;\r\n        }\r\n        this.runThroughEntities(function (attr, opts) {\r\n            if (attr.operators.indexOf(op.id) < 0 && op.appliedTypes.indexOf(attr.dataType) >= 0) {\r\n                attr.operators.push(op.id);\r\n            }\r\n        });\r\n        return op;\r\n    };\r\n    /**\r\n     * Removes an operator.\r\n     * @param id The id.\r\n     * @param soft If `false` - removes operators from model and attributes. Otherwise only\r\n     * from attributes.\r\n     */\r\n    DataModel.prototype.removeOperator = function (id, soft) {\r\n        if (soft === void 0) { soft = false; }\r\n        var op = dataUtils.findItemById(this.operators, id);\r\n        if (op) {\r\n            if (!soft)\r\n                dataUtils.removeArrayItem(this.operators, op);\r\n            this.runThroughEntities(function (attr, opts) {\r\n                dataUtils.removeArrayItem(attr.operators, op.id);\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Get operators for data type.\r\n     * @param type The data type\r\n     * @return The array of operator ids.\r\n     */\r\n    DataModel.prototype.getOperatorIdsByDataType = function (type) {\r\n        switch (type) {\r\n            case DataType.String:\r\n            case DataType.Memo:\r\n                return 'StartsWith,EndsWith,Contains,Equal,InList,NotStartsWith,NotEndsWith,NotContains,NotEqual,NotInList,IsNull,IsNotNull'.split(',');\r\n            case DataType.Guid:\r\n                return 'Equal,NotEqual'.split(',');\r\n            case DataType.Date:\r\n            case DataType.DateTime:\r\n                return 'DateWithinToday,DateWithinThisWeek,DateWithinPrevWeek,DateWithinThisMonth,DateWithinPrevMonth,DateWithinThisYear,DateWithinPrevYear,DateBeforePrecise,DateAfterPrecise,DatePeriodPrecise,IsNull,IsNotNull'.split(',');\r\n            case DataType.Time:\r\n                return 'TimeBeforePrecise,TimeAfterPrecise,TimePeriodPrecise,IsNull,IsNotNull'.split(',');\r\n            case DataType.Byte:\r\n            case DataType.Word:\r\n            case DataType.Int32:\r\n            case DataType.Int64:\r\n            case DataType.Float:\r\n            case DataType.Currency:\r\n            case DataType.BCD:\r\n            case DataType.Autoinc:\r\n            case DataType.Unknown:\r\n                return 'Equal,Between,LessThan,LessOrEqual,GreaterThan,GreaterOrEqual,InList,NotEqual,NotBetween,NotInList,IsNull,IsNotNull'.split(',');\r\n            case DataType.Bool:\r\n                return 'IsTrue,NotTrue'.split(',');\r\n            default:\r\n                var result = [];\r\n                for (var _i = 0, _a = this.operators; _i < _a.length; _i++) {\r\n                    var op = _a[_i];\r\n                    if (op.appliedTypes.indexOf(type) >= 0)\r\n                        result.push(op.id);\r\n                }\r\n                return result;\r\n        }\r\n    };\r\n    /**\r\n     * Builds entities tree used in query.\r\n     * @param query The query.\r\n     */\r\n    DataModel.prototype.buildQueryPath = function (query) {\r\n        var entity = this.mainEntity || this.rootEntity;\r\n        var tree = this.createTreeNodeFromEntity(entity);\r\n        tree.setParents();\r\n        return tree;\r\n    };\r\n    DataModel.prototype.createTreeNodeFromEntity = function (entity) {\r\n        var tree = new Tree(entity);\r\n        for (var _i = 0, _a = entity.subEntities; _i < _a.length; _i++) {\r\n            var subEnentity = _a[_i];\r\n            tree.addChild(this.createTreeNodeFromEntity(subEnentity));\r\n        }\r\n        return tree;\r\n    };\r\n    /**\r\n     * Get Entities used in query.\r\n     * @param query The query.\r\n     */\r\n    DataModel.prototype.getEntitiesInQuery = function (query) {\r\n        if (query.model.id !== this.id)\r\n            throw Error('Model mithmatch');\r\n        var entities = [];\r\n        var columns = query.getColumns();\r\n        for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\r\n            var column = columns_1[_i];\r\n            if (!column.enabled)\r\n                continue;\r\n            this.addEntityByExpression(entities, column.expr);\r\n        }\r\n        var rootCond = query.getRootCondition();\r\n        this.fillEntitiesByCondtionGroup(entities, rootCond);\r\n        return entities;\r\n    };\r\n    DataModel.prototype.fillEntitiesByCondtionGroup = function (entities, root) {\r\n        for (var _i = 0, _a = root.getConditions(); _i < _a.length; _i++) {\r\n            var condition = _a[_i];\r\n            if (!condition.isGroup()) {\r\n                for (var _b = 0, _c = condition.expressions; _b < _c.length; _b++) {\r\n                    var expr = _c[_b];\r\n                    this.addEntityByExpression(entities, expr);\r\n                    if (expr.args) {\r\n                        for (var _d = 0, _e = expr.args; _d < _e.length; _d++) {\r\n                            var arg = _e[_d];\r\n                            this.addEntityByExpression(entities, arg);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                this.fillEntitiesByCondtionGroup(entities, condition);\r\n            }\r\n        }\r\n    };\r\n    DataModel.prototype.addEntityByExpression = function (entities, expr) {\r\n        if (expr.tag !== ExprTag.EntityAttribute)\r\n            return;\r\n        var attrId = expr.baseAttrId || expr.value;\r\n        if (attrId) {\r\n            var attr = this.getAttributeById(attrId);\r\n            if (attr) {\r\n                if (attr.entity && dataUtils.indexOfArrayItem(entities, attr.entity) < 0) {\r\n                    entities.push(attr.entity);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Finds link between two entities.\r\n     * @param entityFrom The entity `from`.\r\n     * @param entityTo The entity `to`.\r\n     * @return The link.\r\n     */\r\n    DataModel.prototype.findLink = function (entityFrom, entityTo) {\r\n        for (var _i = 0, _a = this.links; _i < _a.length; _i++) {\r\n            var link = _a[_i];\r\n            if (link.entityFrom == entityFrom\r\n                && link.entityTo == entityTo)\r\n                return link;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Get links with the entity.\r\n     * @param entity The entity.\r\n     * @return The link.\r\n     */\r\n    DataModel.prototype.getLinksByEntity = function (entity) {\r\n        var result = [];\r\n        for (var _i = 0, _a = this.links; _i < _a.length; _i++) {\r\n            var link = _a[_i];\r\n            if (link.entityFrom == entity || link.entityTo == entity) {\r\n                result.push(link);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Gets entities tree.\r\n     * @param opts The options.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to options and the filter function\r\n     */\r\n    DataModel.prototype.getEntitiesTree = function (opts, filterFunc) {\r\n        return this._listByEntity(this.getRootEntity(), opts, filterFunc);\r\n    };\r\n    /**\r\n     * Gets entities tree due to filter.\r\n     * @param filterFunc The filter function.\r\n     * Takes two parameters, Entity and EntityAttr (second parameter will be null for entities), and returns boolean (true if the corresponding entity or attribute).\r\n     * @returns The tree of the entities and their attributes according to the filter function\r\n     */\r\n    DataModel.prototype.getEntitiesTreeWithFilter = function (filterFunc) {\r\n        return this._listByEntityWithFilter(this.getRootEntity(), filterFunc);\r\n    };\r\n    /**\r\n     * Finds full entity path by attribute\r\n     * @param attrId The attribute id.\r\n     * @param sep The separator.\r\n     * @returns The path.\r\n     */\r\n    DataModel.prototype.getFullEntityPathByAttr = function (attrId, sep) {\r\n        sep = sep || ' ';\r\n        return this.getEntityPathByAttr(this.getRootEntity(), attrId, sep, true);\r\n    };\r\n    /**\r\n    * Finds entity path by attribute\r\n    * @param entity The entity.\r\n    * @param attrId The attribute id.\r\n    * @param sep The separator.\r\n    * @param root The root option.\r\n    * @returns The path.\r\n    */\r\n    DataModel.prototype.getEntityPathByAttr = function (entity, attrId, sep, root) {\r\n        return _super.prototype.getEntityPathByAttr.call(this, entity, attrId, sep, root);\r\n    };\r\n    /**\r\n     * Gets the attribute text.\r\n     * @param attr The attribute.\r\n     * @param format The format.\r\n     * @returns Formatted text.\r\n     */\r\n    DataModel.prototype.getAttributeText = function (attr, format) {\r\n        return _super.prototype.getAttributeText.call(this, attr, format);\r\n    };\r\n    DataModel.prototype.getFirstUICAttr = function () {\r\n        return this.getFirstUICAttrInEntity(this.getRootEntity());\r\n    };\r\n    /**\r\n     * Gets first `UIC` attribute in specified entity\r\n     * (`UIC` stands for `use in conditions` - so such attribute can be used in conditions)\r\n     * @param entity Entity object to search our attribute in.\r\n     * @returns The entity attribute or `null`\r\n     */\r\n    DataModel.prototype.getFirstUICAttrInEntity = function (entity) {\r\n        if (entity.useInConditions !== false) {\r\n            if (entity.attributes) {\r\n                var attrCount = entity.attributes.length;\r\n                for (var i = 0; i < attrCount; i++) {\r\n                    if (entity.attributes[i].useInConditions) {\r\n                        return entity.attributes[i];\r\n                    }\r\n                }\r\n            }\r\n            if (entity.subEntities) {\r\n                var subEntityCount = entity.subEntities.length;\r\n                for (var i = 0; i < subEntityCount; i++) {\r\n                    var result = this.getFirstUICAttrInEntity(entity.subEntities[i]);\r\n                    if (result) {\r\n                        return result;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Scans model's entity tree and calls the callback functions for each attribute and entity.\r\n     * @param processAttribute The callback function which is called for each attribute in model's entity tree.\r\n     * The processed attribute is passed in the first function parameter.\r\n     * @param processEntity The callback function which is called for each entity in tree.\r\n     * The processed entity is passed in the first function parameter.\r\n     */\r\n    DataModel.prototype.runThroughEntities = function (processAttribute, processEntity) {\r\n        this.getRootEntity().scan(processAttribute, processEntity);\r\n    };\r\n    /**\r\n     * Finds first attribute by filter.\r\n     * @param filterFunc The filter function. Takes EntityAttr object in parameter and returns boolean\r\n     */\r\n    DataModel.prototype.getFirstAttributeByFilter = function (filterFunc) {\r\n        var res = null;\r\n        this.runThroughEntities(function (attr, opts) {\r\n            if (filterFunc(attr)) {\r\n                opts.stop = true;\r\n                res = attr;\r\n            }\r\n        }, null);\r\n        return res;\r\n    };\r\n    /**\r\n     * Finds operator in model by its ID.\r\n     * This function runs through all operators inside specified model and returns the one with specified ID.\r\n     * @param operatorId An operator ID.\r\n     * @returns The operator or `null`.\r\n     */\r\n    DataModel.prototype.findOperatorById = function (operatorId) {\r\n        if (this.operators.length > 0) {\r\n            var opCount = this.operators.length;\r\n            for (var idx = 0; idx < opCount; idx++) {\r\n                if (this.operators[idx].id == operatorId) {\r\n                    return this.operators[idx];\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Finds operator in model by its ID.\r\n     * his function runs through all operators inside specified model and returns the one with specified ID.\r\n     * @param operatorId Operator ID.\r\n     * @returns The operator or special `NullOperator` object if operator is not found.\r\n     */\r\n    DataModel.prototype.getOperatorById = function (operatorId) {\r\n        var op = this.findOperatorById(operatorId);\r\n        if (!op)\r\n            op = new Operator();\r\n        return op;\r\n    };\r\n    DataModel.prototype.getDefaultOperatorIdForAttr = function (attr) {\r\n        if (attr.defaultOperator) {\r\n            return attr.defaultOperator;\r\n        }\r\n        else if (attr.operators.length > 0) {\r\n            return attr.operators[0];\r\n        }\r\n        else {\r\n            return (new Operator()).id;\r\n        }\r\n    };\r\n    /**\r\n     * Gets caption of the aggregate function.\r\n     * @param funcId The function id.\r\n     * @returns The caption.\r\n     */\r\n    DataModel.prototype.getAggrFunctionCaption = function (funcId) {\r\n        var funcTexts = i18n.getText('AggregateFunctions', funcId);\r\n        var funcCaption = funcTexts ? funcTexts.caption : i18n.getText('Aggr' + funcId.replace(' ', '') + '_Caption');\r\n        if (funcCaption) {\r\n            return funcCaption;\r\n        }\r\n        var func = dataUtils.findItemById(this.aggrFunctions, funcId);\r\n        if (!func || !func.caption)\r\n            return funcId;\r\n        return func.caption;\r\n    };\r\n    /**\r\n     * Gets format of the aggregate function.\r\n     * @param funcId The function id.\r\n     * @returns The caption.\r\n     */\r\n    DataModel.prototype.getAggrFunctionFormat = function (funcId) {\r\n        var funcTexts = i18n.getText('AggregateFunctions', funcId);\r\n        var funcFormat = funcTexts ? funcTexts.displayFormat : i18n.getText('Aggr' + funcId.replace(' ', '') + '_Format');\r\n        if (funcFormat) {\r\n            return funcFormat;\r\n        }\r\n        var func = dataUtils.findItemById(this.aggrFunctions, funcId);\r\n        if (!func || !func.displayFormat)\r\n            return '';\r\n        return func.displayFormat;\r\n    };\r\n    /**\r\n     * Gets default operator for an attribute.\r\n     * @param attr The attribute.\r\n     * @returns The operator.\r\n     */\r\n    DataModel.prototype.getDefaultOperatorForAttr = function (attr) {\r\n        var operatorId = this.getDefaultOperatorIdForAttr(attr);\r\n        return this.getOperatorById(operatorId);\r\n    };\r\n    /**\r\n     * Gets operand.\r\n     * @param attr The attribute.\r\n     * @param operator The operator.\r\n     * @param index The index.\r\n     * @returns The operand.\r\n     */\r\n    DataModel.prototype.getOperand = function (attr, operator, index) {\r\n        var defOperand = new Operand();\r\n        if (operator && operator.defaultOperand) {\r\n            defOperand.copyFrom(operator.defaultOperand);\r\n            if (!defOperand.defValue) {\r\n                defOperand.defValue = '';\r\n            }\r\n            if (!defOperand.defText) {\r\n                defOperand.defText = '';\r\n            }\r\n        }\r\n        else {\r\n            defOperand.kind = DataKind.Scalar;\r\n            defOperand.dataType = attr.dataType;\r\n            defOperand.defValue = '';\r\n            defOperand.defText = '';\r\n            defOperand.editor = null;\r\n        }\r\n        var result = defOperand;\r\n        if (result.dataType === DataType.Unknown && attr) {\r\n            result.dataType = attr.dataType;\r\n        }\r\n        if (operator && (index >= 0)) {\r\n            if (operator.operands && operator.operands[index - 1]) {\r\n                result = dataUtils.assign(result, operator.operands[index - 1]);\r\n            }\r\n        }\r\n        ;\r\n        if (!result.editor) {\r\n            if (defOperand.editor) {\r\n                result.editor = defOperand.editor;\r\n            }\r\n            else if (defOperand.kind === DataKind.Query) {\r\n                result.editor.tag = EqEditorTag.SubQuery;\r\n            }\r\n            else if (attr && attr.defaultEditor) {\r\n                result.editor = attr.defaultEditor;\r\n            }\r\n            else if (result.dataType === DataType.Date || result.dataType === DataType.DateTime\r\n                || result.dataType === DataType.Time) {\r\n                result.editor.tag = EqEditorTag.DateTime;\r\n            }\r\n            else {\r\n                result.editor.tag = EqEditorTag.Edit;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Gets the list of aggegate functions.\r\n     * @returns AN array of aggregate functions.\r\n     */\r\n    DataModel.prototype.getAggrFunctions = function () {\r\n        return this.aggrFunctions;\r\n    };\r\n    /**\r\n     * Gets date by its macro value.\r\n     * @param macro The macro value.\r\n     * @returns The date or `null`\r\n     */\r\n    DataModel.prototype.getDateMacroValue = function (macro) {\r\n        if (this.isDateMacro(macro)) {\r\n            var d = new Date();\r\n            var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n            switch (macroName) {\r\n                case 'Today':\r\n                    break;\r\n                case 'Yesterday':\r\n                    d.setDate(d.getDate() - 1);\r\n                    break;\r\n                case 'Tomorrow':\r\n                    d.setDate(d.getDate() + 1);\r\n                    break;\r\n                case 'FirstDayOfMonth':\r\n                    d.setDate(1);\r\n                    break;\r\n                case 'LastDayOfMonth':\r\n                    d.setMonth(d.getMonth() + 1, 0);\r\n                    break;\r\n                case 'FirstDayOfPrevWeek':\r\n                    var day = d.getDay();\r\n                    day = (day == 0) ? 1 : 8 - day; //We start week from Monday, but js - from Sunday\r\n                    d.setDate(d.getDate() - day);\r\n                    break;\r\n                case 'FirstDayOfWeek':\r\n                    var day = d.getDay();\r\n                    day = (day == 0) ? 6 : day - 1; //We start week from Monday, but js - from Sunday\r\n                    d.setDate(d.getDate() - day);\r\n                    break;\r\n                case 'FirstDayOfYear':\r\n                    d.setMonth(0, 1);\r\n                    break;\r\n                case 'FirstDayOfNextWeek':\r\n                    var day = d.getDay();\r\n                    day = (day == 0) ? 1 : 8 - day; //We start week from Monday, but js - from Sunday\r\n                    d.setDate(d.getDate() + day);\r\n                    break;\r\n                case 'FirstDayOfNextMonth':\r\n                    d.setMonth(d.getMonth() + 1, 1);\r\n                    break;\r\n                case 'FirstDayOfPrevMonth':\r\n                    d.setMonth(d.getMonth() - 1, 1);\r\n                    break;\r\n                case 'FirstDayOfPrevYear':\r\n                    d.setFullYear(d.getFullYear() - 1, 0, 1);\r\n                    break;\r\n                case 'FirstDayOfNextYear':\r\n                    d.setFullYear(d.getFullYear() + 1, 0, 1);\r\n                    break;\r\n            }\r\n            ;\r\n            return d;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Checks wether macro value is date.\r\n     * @param macro The macro value.\r\n     * @retruns `true` if the macro value is date, otherwise `false`.\r\n     */\r\n    DataModel.prototype.isDateMacro = function (macro) {\r\n        return dataUtils.indexOfArrayItem(this.dateMacros, macro) >= 0;\r\n    };\r\n    /**\r\n    * Gets date  or macro by macro value.\r\n    * @param macroValue The macro value.\r\n    * @returns The date or macro valu.\r\n    */\r\n    DataModel.prototype.getDateOrMacroValue = function (macroValue) {\r\n        var d = this.getDateMacroValue(macroValue);\r\n        return d ? d : macroValue;\r\n    };\r\n    /**\r\n    * Gets time by its macro value.\r\n    * @param macro The macro value.\r\n    * @returns The date or `null`.\r\n    */\r\n    DataModel.prototype.getTimeMacroValue = function (macro) {\r\n        var d = new Date();\r\n        if (this.isTimeMacro(macro)) {\r\n            var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n            switch (macroName) {\r\n                case 'Now':\r\n                    break;\r\n                case 'HourStart':\r\n                    d.setMinutes(0, 0, 0);\r\n                    break;\r\n                case 'Midnight':\r\n                    d.setHours(0, 0, 0, 0);\r\n                    break;\r\n                case 'Noon':\r\n                    d.setHours(12, 0, 0, 0);\r\n                    break;\r\n            }\r\n            ;\r\n            return d;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n    * Checks wether macro value is time.\r\n    * @param macro The macro value.\r\n    * @retruns `true` if the macro value is time, otherwise `false`.\r\n    */\r\n    DataModel.prototype.isTimeMacro = function (macro) {\r\n        return dataUtils.indexOfArrayItem(this.timeMacros, macro) >= 0;\r\n    };\r\n    /**\r\n     * Gets time or macro by macro value.\r\n     * @param macroValue The macro value.\r\n     * @returns The time or macro valu.\r\n     */\r\n    DataModel.prototype.getTimeOrMacroValue = function (time) {\r\n        var t = this.getTimeMacroValue(time);\r\n        return t ? t : time;\r\n    };\r\n    /**\r\n     * Gets all date marcos.\r\n     * @returns The array of marcos\r\n     */\r\n    DataModel.prototype.getAllDateMacros = function () {\r\n        return this.dateMacros;\r\n    };\r\n    /**\r\n     * Gets all time marcos.\r\n     * @returns The array of marcos\r\n     */\r\n    DataModel.prototype.getAllTimeMacros = function () {\r\n        return this.timeMacros;\r\n    };\r\n    return DataModel;\r\n}(MetaData));\r\nexport { DataModel };\r\n//# sourceMappingURL=data_model.js.map","import { DataType } from '@easydata/core';\r\nimport { equtils } from '../utils/utils';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { Query } from './query';\r\n/**\r\n * Represents expression object.\r\n */\r\nvar Expression = /** @class */ (function () {\r\n    /** The default constructor. */\r\n    function Expression(parent) {\r\n        var _this = this;\r\n        this.parent = parent;\r\n        /** The tag. */\r\n        this.tag = ExprTag.Constant;\r\n        /** The data kind. */\r\n        this.kind = DataKind.Scalar;\r\n        /** The data type. */\r\n        this.dataType = DataType.String;\r\n        /** The value. */\r\n        this._value = ''; //DO NOT forget remove any\r\n        /**\r\n         * The distinct option. (e.g `SELECT DISTINCT`)\r\n         */\r\n        this.distinct = false;\r\n        this._isDefaultValue = false;\r\n        this.getText = function () { return _this.text || _this._value; };\r\n        this.args = new Array();\r\n    }\r\n    Expression.prototype.getParent = function () {\r\n        return this.parent;\r\n    };\r\n    Expression.prototype.getModel = function () {\r\n        return this.parent.getQuery().getModel();\r\n    };\r\n    /**\r\n     * Loads expression from its JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param data The JSON representation object.\r\n     */\r\n    Expression.prototype.loadFromData = function (model, data) {\r\n        if (data) {\r\n            this.tag = data.tag;\r\n            if (data.val) {\r\n                this._value = data.val;\r\n                this.text = data.txt;\r\n            }\r\n            else if (data.id) {\r\n                this.kind = DataKind.Attribute;\r\n                this._value = data.id;\r\n                this.text = data.txt;\r\n            }\r\n            if (typeof data.dtype !== 'undefined') {\r\n                this.dataType = data.dtype;\r\n            }\r\n            if (this.tag == ExprTag.EntityAttribute\r\n                || this.tag == ExprTag.ParentEntityAttribute) {\r\n                this.kind = DataKind.Attribute;\r\n                //Do not load other info for EntityAttr\r\n                return;\r\n            }\r\n            if (typeof data.kind !== 'undefined') {\r\n                this.kind = data.kind;\r\n            }\r\n            if (data.query) {\r\n                this.subQuery = new Query(model);\r\n                this.subQuery.loadFromDataOrJson(data.query);\r\n            }\r\n            if (typeof data.distinct !== 'undefined') {\r\n                this.distinct = data.distinct;\r\n            }\r\n            if (data.func) {\r\n                this.func = data.func;\r\n                if (data.args) {\r\n                    for (var i = 0; i < data.args.length; i++) {\r\n                        var arg = new Expression(this.parent);\r\n                        arg.loadFromData(model, data.args[i]);\r\n                        this.args.push(arg);\r\n                    }\r\n                }\r\n            }\r\n            if (data.sql) {\r\n                this.sql = data.sql;\r\n                this.baseAttrId = data.baseAttrId;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Saves expression from JSON representation object.\r\n    * @returns The JSON representation object.\r\n    */\r\n    Expression.prototype.saveToData = function () {\r\n        var obj = {\r\n            tag: this.tag\r\n        };\r\n        if (typeof this.dataType !== \"undefined\") {\r\n            obj.dtype = this.dataType;\r\n        }\r\n        //Do not save other info for EntityAttr\r\n        if (this.tag == ExprTag.EntityAttribute) {\r\n            if (this._value) {\r\n                obj.id = this._value;\r\n                obj.val = this._value;\r\n            }\r\n            if (this.text) {\r\n                obj.txt = this.text;\r\n            }\r\n            return obj;\r\n        }\r\n        if (this.subQuery) {\r\n            obj.query = this.subQuery.toJSONData();\r\n        }\r\n        if (typeof this.kind !== \"undefined\") {\r\n            obj.kind = this.kind;\r\n        }\r\n        if (this._value) {\r\n            obj.val = this._value;\r\n        }\r\n        if (this.text) {\r\n            obj.txt = this.text;\r\n        }\r\n        if (this.distinct) {\r\n            obj.distinct = this.distinct;\r\n        }\r\n        if (this.func) {\r\n            obj.func = this.func;\r\n            obj.args = [];\r\n            for (var i = 0; i < this.args.length; i++) {\r\n                obj.args.push(this.args[i].saveToData());\r\n            }\r\n        }\r\n        if (this.sql) {\r\n            obj.sql = this.sql;\r\n            obj.baseAttrId = this.baseAttrId;\r\n        }\r\n        return obj;\r\n    };\r\n    Expression.prototype.getIndex = function () {\r\n        return this.parent.getExpressionIndex(this);\r\n    };\r\n    Object.defineProperty(Expression.prototype, \"value\", {\r\n        get: function () {\r\n            return this._value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Expression.prototype.setValue = function (val, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        this.setContent(val, undefined, silent);\r\n    };\r\n    Expression.prototype.setContent = function (val, txt, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        var oldValue = this.value;\r\n        if (this.kind == DataKind.Attribute && val) {\r\n            var attr = this.getModel().getAttributeById(val);\r\n            if (!attr) {\r\n                throw \"No such entity attribute:\" + val;\r\n            }\r\n            this.dataType = attr.dataType;\r\n        }\r\n        this._value = val;\r\n        if (typeof txt !== 'undefined') {\r\n            this.text = txt;\r\n        }\r\n        else if (typeof this.text !== 'undefined') {\r\n            this.text = val;\r\n        }\r\n        this._isDefaultValue = false;\r\n        if (!silent) {\r\n            this.parent.expressionChanged(this, oldValue);\r\n        }\r\n    };\r\n    Expression.prototype.isEmpty = function () {\r\n        return !(this.text || this._value);\r\n    };\r\n    Expression.prototype.hasText = function () {\r\n        return this.text && this.text.length > 0;\r\n    };\r\n    Expression.prototype.tryCopyValueFrom = function (expr) {\r\n        if (this.kind == expr.kind) {\r\n            if (this.dataType == expr.dataType) {\r\n                this.setContent(expr.value.length ? expr.value : this._value, (expr.text && expr.text.length) ? expr.text : this.text, true);\r\n            }\r\n            else {\r\n                var val = equtils.convertValue(expr.value, expr.dataType, this.dataType);\r\n                this.setContent(val.length ? val : this._value, (expr.text && expr.text.length) ? expr.text : this.text, true);\r\n            }\r\n            this.subQuery = expr.subQuery;\r\n            this.sql = expr.sql;\r\n            this.baseAttrId = expr.baseAttrId;\r\n        }\r\n        else if (!this._isDefaultValue) {\r\n            this.setContent('', '', true);\r\n            this.subQuery = null;\r\n            this.sql = null;\r\n            this.baseAttrId = null;\r\n        }\r\n    };\r\n    return Expression;\r\n}());\r\nexport { Expression };\r\n//# sourceMappingURL=expression.js.map","/**\r\n * Represents a type of condition.\r\n * Current we have 2 possible types: a simple condition or a predicate - a group of conditions\r\n*/\r\nexport var CondTag;\r\n(function (CondTag) {\r\n    /** An unknown type of condition (just in case).*/\r\n    CondTag[CondTag[\"Unknown\"] = 0] = \"Unknown\";\r\n    /** A simple condition (e.g. SomeField > SomeValue).*/\r\n    CondTag[CondTag[\"Simple\"] = 1] = \"Simple\";\r\n    /** A predicate (a group of conditions).*/\r\n    CondTag[CondTag[\"Group\"] = 51] = \"Group\";\r\n})(CondTag || (CondTag = {}));\r\n//# sourceMappingURL=cond_tag.js.map","export var ConditionPart;\r\n(function (ConditionPart) {\r\n    ConditionPart[ConditionPart[\"EntityAttr\"] = 2] = \"EntityAttr\";\r\n    ConditionPart[ConditionPart[\"Operator\"] = 4] = \"Operator\";\r\n    ConditionPart[ConditionPart[\"Value\"] = 8] = \"Value\";\r\n    ConditionPart[ConditionPart[\"All\"] = 14] = \"All\";\r\n})(ConditionPart || (ConditionPart = {}));\r\n//# sourceMappingURL=cond_part.js.map","import { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { Expression } from './expression';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { LinkType } from '../types/link_type';\r\nimport { CondTag } from '../types/cond_tag';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { QueryChangePart, QueryChangeAction } from './query_events';\r\nimport { EqEditorTag } from '../types/eq_editor_tag';\r\nimport { ConditionPart } from '../types/cond_part';\r\n/**\r\n * Represents some condition.\r\n */\r\nvar Condition = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param tag The condition tag\r\n     */\r\n    function Condition(query, tag) {\r\n        this.query = query;\r\n        /**\r\n         *  The linking type.\r\n         */\r\n        this.linkType = LinkType.All; //only for predicates\r\n        this.parent = null;\r\n        this._id = dataUtils.generateId('cond');\r\n        this.justAdded = false;\r\n        this.tag = tag || CondTag.Unknown;\r\n        this.enabled = true;\r\n        this.operatorId = '';\r\n        this.blockId = '';\r\n        this.expressions = new Array();\r\n        this.conditions = new Array();\r\n    }\r\n    Object.defineProperty(Condition.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Condition.prototype, \"enabled\", {\r\n        get: function () {\r\n            return this._enabled && (!this.getParent() || this.getParent().enabled);\r\n        },\r\n        set: function (value) {\r\n            this._enabled = value && (!this.getParent() || this.getParent().enabled);\r\n            this.conditions && this.conditions.forEach(function (cond) {\r\n                cond.enabled = value;\r\n            });\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Condition.prototype.getQuery = function () {\r\n        return this.query;\r\n    };\r\n    Condition.prototype.getModel = function () {\r\n        return this.query.getModel();\r\n    };\r\n    Condition.prototype.getParent = function () {\r\n        return this.parent;\r\n    };\r\n    Condition.prototype.setParent = function (parent) {\r\n        this.parent = parent;\r\n    };\r\n    Condition.prototype.getConditions = function () {\r\n        return this.conditions;\r\n    };\r\n    Condition.prototype.isEmpty = function () {\r\n        return this.conditions.length === 0;\r\n    };\r\n    Condition.prototype.isGroup = function () {\r\n        return (this.tag == CondTag.Group) || (this.parent == null);\r\n    };\r\n    Condition.prototype.getLevel = function () {\r\n        var parent = this.getParent();\r\n        return parent ? parent.getLevel() + 1 : 0;\r\n    };\r\n    /**\r\n     * Indicates whether this condition is read-only.\r\n     */\r\n    Condition.prototype.isReadOnly = function () {\r\n        return false;\r\n    };\r\n    Condition.prototype.setReadOnly = function (value) {\r\n    };\r\n    /**\r\n     * The value indicating whether this condition is parameterized.\r\n     */\r\n    Condition.prototype.isParameterized = function () {\r\n        return false;\r\n    };\r\n    Condition.prototype.setParameterized = function (value) {\r\n    };\r\n    /**\r\n     * Indicates whether this condition must be placed into `JOIN` clause in result `SQL`.\r\n     */\r\n    Condition.prototype.isInJoin = function () {\r\n        return false;\r\n    };\r\n    Condition.prototype.setInJoin = function (value) {\r\n    };\r\n    Condition.prototype.clearConditions = function () {\r\n        this.conditions = [];\r\n    };\r\n    Condition.prototype.addCondition = function (cond) {\r\n        cond.setParent(this);\r\n        return this.conditions.push(cond);\r\n    };\r\n    Condition.prototype.removeConditionAt = function (index) {\r\n        this.conditions.splice(index, 1);\r\n    };\r\n    /**\r\n    * Loads condtion from its JSON representation object.\r\n    * @param model The Data Model.\r\n    * @param data The JSON representation object.\r\n    */\r\n    Condition.prototype.loadFromData = function (model, data) {\r\n        if (data) {\r\n            this.tag = data.tag;\r\n            if (!this.tag) {\r\n                this.tag = (!this.parent || this.conditions.length > 0) ? CondTag.Group : CondTag.Simple;\r\n            }\r\n            if (typeof data.enabled !== 'undefined') {\r\n                this.enabled = data.enabled;\r\n            }\r\n            if (typeof data.disabled !== 'undefined') {\r\n                this.enabled = !data.disabled;\r\n            }\r\n            if (this.tag == CondTag.Simple) {\r\n                this.operatorId = data.op;\r\n                if (data.exprs) {\r\n                    for (var i = 0; i < data.exprs.length; i++) {\r\n                        var newExpr = new Expression(this);\r\n                        newExpr.loadFromData(model, data.exprs[i]);\r\n                        this.expressions.push(newExpr);\r\n                    }\r\n                }\r\n            }\r\n            this.linkType = data.linking;\r\n        }\r\n    };\r\n    /**\r\n     * Saves condition to JSON representation object.\r\n     * @returns The JSON representation object.\r\n     */\r\n    Condition.prototype.saveToData = function () {\r\n        var obj = {};\r\n        obj.tag = this.tag;\r\n        if (!this.enabled) {\r\n            obj.enabled = this.enabled;\r\n        }\r\n        if (this.tag == CondTag.Simple) {\r\n            obj.op = this.operatorId;\r\n            obj.exprs = [];\r\n            for (var i = 0; i < this.expressions.length; i++) {\r\n                obj.exprs.push(this.expressions[i].saveToData());\r\n            }\r\n        }\r\n        if (this.tag == CondTag.Group) {\r\n            //if condition group\r\n            obj.linking = this.linkType;\r\n        }\r\n        return obj;\r\n    };\r\n    Condition.prototype.fireChangedEvent = function (condPart) {\r\n        if (condPart === void 0) { condPart = ConditionPart.All; }\r\n        this.query.fireChangedEvent({\r\n            part: QueryChangePart.Conditions,\r\n            action: QueryChangeAction.Modify,\r\n            changee: this,\r\n            condPart: condPart\r\n        });\r\n    };\r\n    Condition.prototype.getExpressionIndex = function (expr) {\r\n        return this.expressions.indexOf(expr, 0);\r\n    };\r\n    Condition.prototype.expressionChanged = function (expr, oldValue) {\r\n        if (expr.getIndex() == 0 && expr.tag == ExprTag.EntityAttribute) {\r\n            //this is a base entity attribute, we need to re-pack the whole condition\r\n            this.tuneOperatorForAttr(expr.value);\r\n        }\r\n    };\r\n    Condition.prototype.getOperatorId = function () {\r\n        return this.operatorId;\r\n    };\r\n    Condition.prototype.setOperatorId = function (newOperatorId, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        var oldOperatorId = this.operatorId;\r\n        this.operatorId = newOperatorId;\r\n        if (!silent) {\r\n            var model = this.getModel();\r\n            var operator = model.getOperatorById(newOperatorId);\r\n            var attrId = this.expressions[0].value;\r\n            var attr = model.getAttributeById(attrId);\r\n            this.tuneValueExpressions(attr, operator, attr.id, oldOperatorId);\r\n        }\r\n    };\r\n    Condition.prototype.tuneOperatorForAttr = function (oldAttrId) {\r\n        var model = this.getModel();\r\n        var attrId = this.expressions[0].value;\r\n        var attr = model.getAttributeById(attrId);\r\n        if (attr != null) {\r\n            var newOperator = this.getModel().getDefaultOperatorForAttr(attr);\r\n            var oldOperatorId = this.operatorId;\r\n            this.operatorId = newOperator.id;\r\n            this.tuneValueExpressions(attr, newOperator, oldAttrId, oldOperatorId);\r\n        }\r\n    };\r\n    Condition.prototype.tuneValueExpressions = function (attr, operator, oldAttrId, oldOperatorId) {\r\n        var model = this.getModel();\r\n        if (!operator)\r\n            return;\r\n        var exprCount = this.expressions.length;\r\n        var oldAttr = oldAttrId ? model.getAttributeById(oldAttrId) : null;\r\n        var oldOperator = null;\r\n        if (oldOperatorId) {\r\n            oldOperator = model.getOperatorById(oldOperatorId);\r\n        }\r\n        if (oldOperator && oldOperator.paramCount == operator.paramCount) {\r\n            //add  necessary expressions\r\n            var i = 1;\r\n            while (i < operator.paramCount) {\r\n                var oldOperand = model.getOperand(attr, oldOperator, i);\r\n                var operand = model.getOperand(attr, operator, i);\r\n                if (operand.dataType == DataType.Unknown) {\r\n                    operand.dataType = attr.dataType;\r\n                }\r\n                if (i >= exprCount) {\r\n                    var valExpr = this.createValueExpr(operand);\r\n                    this.expressions.push(valExpr);\r\n                }\r\n                else {\r\n                    var oldExpr = this.expressions[i];\r\n                    //create new value expression according to the corresponding operand\r\n                    var newExpr = this.createValueExpr(operand);\r\n                    if (this.areCompitableEditors(oldOperand.editor, operand.editor)) {\r\n                        newExpr.tryCopyValueFrom(oldExpr);\r\n                    }\r\n                    this.expressions[i] = newExpr;\r\n                }\r\n                i++;\r\n            }\r\n            if (exprCount > i) {\r\n                //remove all redundant expressions\r\n                this.expressions.splice(i, exprCount - i);\r\n            }\r\n        }\r\n        else {\r\n            this.expressions.splice(1, this.expressions.length - 1);\r\n            for (var i = 1; i < operator.paramCount; i++) {\r\n                var operand = model.getOperand(attr, operator, i);\r\n                if (operand.dataType == DataType.Unknown) {\r\n                    operand.dataType = attr.dataType;\r\n                }\r\n                var valExpr = this.createValueExpr(operand);\r\n                this.expressions.push(valExpr);\r\n            }\r\n        }\r\n    };\r\n    Condition.prototype.areCompitableEditors = function (oldEditor, newEditor) {\r\n        if (newEditor.tag == EqEditorTag.CustomList || newEditor.tag == EqEditorTag.List\r\n            || newEditor.tag == EqEditorTag.SqlList) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    Condition.prototype.addExpressionByOperand = function (operand, val) {\r\n        if (val === void 0) { val = null; }\r\n        var expr = this.createValueExpr(operand, val);\r\n        this.expressions.push(expr);\r\n        return expr;\r\n    };\r\n    Condition.prototype.createValueExpr = function (operand, val) {\r\n        if (val === void 0) { val = null; }\r\n        var valueNotDefined = val === null || typeof val === 'undefined';\r\n        var value = val ? val : operand.defValue;\r\n        var text = val ? val : operand.defText;\r\n        var result = new Expression(this);\r\n        if (operand.kind === DataKind.Query) {\r\n            result.tag = ExprTag.Query;\r\n            result.dataType = operand.dataType;\r\n            result.kind = operand.kind;\r\n            result.setContent(value, text, true);\r\n        }\r\n        else if (operand.kind === DataKind.Attribute) {\r\n            if (!valueNotDefined) {\r\n                var defAttr = this.getModel().getFirstAttributeByFilter(function (attr) {\r\n                    return attr.useInConditions == true && (!operand.dataType || attr.dataType == operand.dataType);\r\n                });\r\n                value = defAttr ? defAttr.id : null;\r\n            }\r\n            result.tag = ExprTag.EntityAttribute;\r\n            result.kind = operand.kind;\r\n            result.dataType = operand.dataType;\r\n            result.setContent(value, text, true);\r\n        }\r\n        else {\r\n            if (valueNotDefined) {\r\n                if (operand.defValue && operand.defValue != \"\") {\r\n                    value = operand.defValue;\r\n                }\r\n                else {\r\n                    if (operand.editor && operand.editor.defValue) {\r\n                        value = operand.editor.defValue;\r\n                    }\r\n                    else {\r\n                        value = '';\r\n                    }\r\n                }\r\n                if (operand.editor) {\r\n                    text = operand.editor.getValueText(value);\r\n                }\r\n            }\r\n            result.tag = ExprTag.Constant;\r\n            result.dataType = operand.dataType;\r\n            result.kind = operand.kind;\r\n            result.setContent(value, text, true);\r\n            result._isDefaultValue = valueNotDefined;\r\n        }\r\n        return result;\r\n    };\r\n    return Condition;\r\n}());\r\nexport { Condition };\r\n//# sourceMappingURL=condition.js.map","/** Represents groups of widgets. Used to identify widgets */\r\nexport var WidgetGroup;\r\n(function (WidgetGroup) {\r\n    /** None widget group. */\r\n    WidgetGroup[WidgetGroup[\"None\"] = 0] = \"None\";\r\n    /** The group of widgets responsible for the Model. */\r\n    WidgetGroup[WidgetGroup[\"Model\"] = 1] = \"Model\";\r\n    /** The group of widgets responsible for the Query. */\r\n    WidgetGroup[WidgetGroup[\"Query\"] = 2] = \"Query\";\r\n    /** The group of widgets responsible for the Result. */\r\n    WidgetGroup[WidgetGroup[\"Result\"] = 4] = \"Result\";\r\n    /** The group of widgets responsible for the statement. */\r\n    WidgetGroup[WidgetGroup[\"Statement\"] = 8] = \"Statement\";\r\n    /** The group of widgets responsible for tracking Query status. */\r\n    WidgetGroup[WidgetGroup[\"QueryStatus\"] = 16] = \"QueryStatus\";\r\n    /** All. */\r\n    WidgetGroup[WidgetGroup[\"All\"] = 65535] = \"All\";\r\n})(WidgetGroup || (WidgetGroup = {}));\r\n//# sourceMappingURL=widget_group.js.map","export var EqAction;\r\n(function (EqAction) {\r\n    EqAction[\"LoadModel\"] = \"LoadModel\";\r\n    EqAction[\"LoadQuery\"] = \"LoadQuery\";\r\n    EqAction[\"LoadQueryList\"] = \"LoadQueryList\";\r\n    EqAction[\"NewQuery\"] = \"NewQuery\";\r\n    EqAction[\"SaveQuery\"] = \"SaveQuery\";\r\n    EqAction[\"RemoveQuery\"] = \"RemoveQuery\";\r\n    EqAction[\"SyncQuery\"] = \"SyncQuery\";\r\n    EqAction[\"FetchData\"] = \"FetchData\";\r\n    EqAction[\"GetValueList\"] = \"GetValueList\";\r\n    EqAction[\"ExportResult\"] = \"ExportResult\";\r\n    EqAction[\"GetQueryFile\"] = \"GetQueryFile\";\r\n    EqAction[\"UploadQueryFile\"] = \"UploadQueryFile\";\r\n})(EqAction || (EqAction = {}));\r\n//# sourceMappingURL=eq_actions.js.map","export var EqActionResult;\r\n(function (EqActionResult) {\r\n    EqActionResult[EqActionResult[\"Error\"] = 0] = \"Error\";\r\n    EqActionResult[EqActionResult[\"Success\"] = 1] = \"Success\";\r\n})(EqActionResult || (EqActionResult = {}));\r\n//# sourceMappingURL=messages.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EventEmitter, utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { equtils } from '../utils/utils';\r\nimport { DataModel } from '../dm/data_model';\r\nimport { Expression } from './expression';\r\nimport { Column, SortDirection } from './column';\r\nimport { Condition } from './condition';\r\nimport { DataKind } from '../types/data_kind';\r\nimport { LinkType } from '../types/link_type';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { CondTag } from '../types/cond_tag';\r\nimport { QueryChangePart } from './query_events';\r\n/**\r\n * The error that appears when the query is not valid\r\n */\r\nvar InvalidQueryError = /** @class */ (function (_super) {\r\n    __extends(InvalidQueryError, _super);\r\n    /**\r\n     * Creates an instance of error type.\r\n     * @param message The error message\r\n     */\r\n    function InvalidQueryError(message) {\r\n        var _this = _super.call(this, message) || this;\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(_this, InvalidQueryError);\r\n        }\r\n        _this.name = 'InvalidQueryError';\r\n        return _this;\r\n    }\r\n    return InvalidQueryError;\r\n}(Error));\r\nexport { InvalidQueryError };\r\n/**\r\n * Represents Query.\r\n */\r\nvar Query = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param model The data model.\r\n     * @param data JSON representation object.\r\n     * @param options The options.\r\n     * @throws {InvalidQueryError} The error throws when query is not valid.\r\n     */\r\n    function Query(model, data, options) {\r\n        /**\r\n         * Contains user-defined extra data for current query.\r\n         */\r\n        this.extraData = {};\r\n        this.innerData = {};\r\n        this.isNewbie = true;\r\n        this._isModified = false;\r\n        this.parentQuery = null;\r\n        this.drillDowns = [];\r\n        this.eventEmitter = new EventEmitter(this);\r\n        this.root = new Condition(this, CondTag.Group);\r\n        this.extraConditions = new Condition(this, CondTag.Group);\r\n        this.columns = new Array();\r\n        this.justsorted = new Array();\r\n        if (!this.id) {\r\n            this.regenerateId();\r\n        }\r\n        this.setDefaultName();\r\n        this.description = \"\";\r\n        this.modelId = \"\";\r\n        this.modelName = \"\";\r\n        this.model = (model) ? model : new DataModel();\r\n        if (data) {\r\n            this.loadFromData(data);\r\n        }\r\n        this.attributeExprTag = (options) ? options.attrTag || ExprTag.EntityAttribute : ExprTag.EntityAttribute;\r\n        this.clientListRequestHandler = (options) ? options.clientListRequestHandler : new Array();\r\n        this.serverListRequestHandler = (options) ? options.serverListRequestHandler : new Array();\r\n        this.timezoneOffset = (new Date()).getTimezoneOffset();\r\n        if (options) {\r\n            this.parentQuery = options.parent;\r\n        }\r\n    }\r\n    Query.prototype.isModified = function () {\r\n        return this._isModified;\r\n    };\r\n    Query.prototype.resetModified = function () {\r\n        this._isModified = false;\r\n    };\r\n    Query.prototype.isEx = function () {\r\n        return false;\r\n    };\r\n    /**\r\n     * Resets the query: clears all its conditions and columns, regenerate the ID and sets the default name.\r\n     * @param silent Indicates whether we need to avoid firing the QueryChanged event.\r\n     */\r\n    Query.prototype.reset = function (clearQuery) {\r\n        if (clearQuery === void 0) { clearQuery = true; }\r\n        if (clearQuery) {\r\n            this.clear();\r\n        }\r\n        this.regenerateId();\r\n        this.setDefaultName();\r\n        this._isModified = false;\r\n        this.isNewbie = true;\r\n    };\r\n    Query.prototype.hasEnabledAggrColumns = function () {\r\n        return this.columns.filter(function (col) { return col.enabled\r\n            && col.expr.tag === ExprTag.AggregateFunction; }).length > 0;\r\n    };\r\n    Query.prototype.setDefaultName = function () {\r\n        this.setName(i18n.getText('NewQueryName'));\r\n        return this.getName();\r\n    };\r\n    /**\r\n     * Validates wether the query corresponds to the model.\r\n     * @param options Validate options.\r\n     * @throws {InvalidQueryError} If query is not valid.\r\n     */\r\n    Query.prototype.validate = function (options) {\r\n        options = options || {};\r\n        var entityAttrNotExistError = \"EntityAttribute isn't declared in the model: \";\r\n        var wrongExprTag = \"The expression has wrond tag: \";\r\n        if (!this.model) {\r\n            throw new InvalidQueryError(\"Model is not declared\");\r\n        }\r\n        if (this.columns) {\r\n            for (var _i = 0, _a = this.columns; _i < _a.length; _i++) {\r\n                var column = _a[_i];\r\n                if (column.expr.tag == ExprTag.EntityAttribute\r\n                    || column.expr.tag === ExprTag.ParentEntityAttribute) {\r\n                    var attr = this.model.getAttributeById(column.expr.value);\r\n                    if (!attr) {\r\n                        throw new InvalidQueryError(entityAttrNotExistError + column.expr.value);\r\n                    }\r\n                }\r\n                else if (column.expr.tag === ExprTag.AggregateFunction) {\r\n                    var attr = this.model.getAttributeById(column.expr.args[0].value);\r\n                    if (!attr) {\r\n                        throw new InvalidQueryError(entityAttrNotExistError + column.expr.args[0].value);\r\n                    }\r\n                }\r\n                else if (column.expr.tag !== ExprTag.CustomSql) {\r\n                    throw new InvalidQueryError(wrongExprTag + column.expr.tag);\r\n                }\r\n            }\r\n        }\r\n        if (this.root && this.root.getConditions()) {\r\n            this.validateConditionGroup(this.root, options);\r\n        }\r\n    };\r\n    Query.prototype.getAggregatedColumns = function () {\r\n        return this.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag === ExprTag.AggregateFunction; });\r\n    };\r\n    /**\r\n     * Validates wether the query corresponds to the model.\r\n     * @param options Validate options.\r\n     * @returns `true` if it is valid, otherwise `false`\r\n     */\r\n    Query.prototype.tryValidate = function (options) {\r\n        try {\r\n            this.validate(options);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            if (e.name == 'InvalidQueryError') {\r\n                return false;\r\n            }\r\n            else {\r\n                throw e;\r\n            }\r\n        }\r\n    };\r\n    Query.prototype.validateConditionGroup = function (curCond, options) {\r\n        if (curCond.isGroup()) {\r\n            for (var _i = 0, _a = curCond.getConditions(); _i < _a.length; _i++) {\r\n                var condition = _a[_i];\r\n                if (!condition.enabled)\r\n                    continue;\r\n                this.validateConditionGroup(condition, options);\r\n            }\r\n        }\r\n        else if (curCond.expressions[0].tag === ExprTag.EntityAttribute) {\r\n            var attrId = curCond.expressions[0].value;\r\n            var attr = this.model.getAttributeById(attrId);\r\n            if (!attr) {\r\n                throw new InvalidQueryError(\"EntityAttribute isn't declared in the model: \" + attrId);\r\n            }\r\n            if (!options.checkExpressions)\r\n                return;\r\n            for (var i = 1; i < curCond.expressions.length; i++) {\r\n                var expr = curCond.expressions[i];\r\n                if (expr.tag !== ExprTag.Constant)\r\n                    continue;\r\n                //validate number exprs\r\n                if (dataUtils.isNumericType(expr.dataType)) {\r\n                    if (!expr.value.length) {\r\n                        throw new InvalidQueryError(\"Expression constant is empty in condition: \" + curCond.id);\r\n                    }\r\n                    var values = [];\r\n                    if (expr.kind === DataKind.List) {\r\n                        values = expr.value.split(/\\s*,\\s*/);\r\n                    }\r\n                    else {\r\n                        values = [expr.value];\r\n                    }\r\n                    for (var _b = 0, values_1 = values; _b < values_1.length; _b++) {\r\n                        var value = values_1[_b];\r\n                        var parsedVal = +value;\r\n                        if (isNaN(parsedVal)) {\r\n                            throw new InvalidQueryError(\"Expression constant is NaN in condition:\" + curCond.id);\r\n                        }\r\n                        if (dataUtils.isIntType(expr.dataType) && parsedVal != parseInt(value, 10)) {\r\n                            throw new InvalidQueryError(\"Expression constant is wrong interger in condition: \" + curCond.id);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets data to the query.\r\n     * @param data JSON representation object or JSON string\r\n     * @param changeStatus Indicate whether we should change the \"isModified\" status (by default == `true`)\r\n     */\r\n    Query.prototype.loadFromDataOrJson = function (data, changeStatus) {\r\n        if (changeStatus === void 0) { changeStatus = true; }\r\n        if (data) {\r\n            if (typeof data === \"string\") {\r\n                this.loadFromJson(data, changeStatus);\r\n            }\r\n            else {\r\n                this.loadFromData(data, changeStatus);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Loads query from JSON.\r\n     * @param json The JSON string.\r\n     * @throws {InvalidQueryError} The error throws when query is not valid.\r\n     */\r\n    Query.prototype.loadFromJson = function (json, changeStatus) {\r\n        if (changeStatus === void 0) { changeStatus = true; }\r\n        var data = JSON.parse(json);\r\n        this.loadFromData(data, changeStatus);\r\n    };\r\n    /**\r\n     * Loads query from data representation.\r\n     * @param data\r\n     * @param changeStatus\r\n     * @throws {InvalidQueryError} The error throws when query is not valid.\r\n     */\r\n    Query.prototype.loadFromData = function (data, changeStatus) {\r\n        if (changeStatus === void 0) { changeStatus = true; }\r\n        var noErrors = false;\r\n        this.clear();\r\n        this.clearDrillDowns();\r\n        if (data) {\r\n            this.id = data.id;\r\n            this.root.loadFromData(this.model, data.root);\r\n            if (data.root && data.root.conds) {\r\n                for (var i = 0; i < data.root.conds.length; i++) {\r\n                    var condData = data.root.conds[i];\r\n                    if (condData.conds && !this.isEx()) {\r\n                        console.error(\"Community version doesn't support working with groups.\");\r\n                        continue;\r\n                    }\r\n                    var cond = this.createCondition();\r\n                    cond.loadFromData(this.model, condData);\r\n                    this.root.addCondition(cond);\r\n                }\r\n            }\r\n            this.name = data.name;\r\n            this.description = data.desc;\r\n            this.justsorted = [];\r\n            if (data.justsortcols) {\r\n                for (var i = 0; i < data.justsortcols.length; i++) {\r\n                    var newCol = this.createColumn(true);\r\n                    newCol.loadFromData(this.model, data.justsortcols[i]);\r\n                    this.justsorted.push(newCol);\r\n                }\r\n            }\r\n            if (data.cols) {\r\n                for (var i = 0; i < data.cols.length; i++) {\r\n                    var newCol = this.createColumn();\r\n                    newCol.loadFromData(this.model, data.cols[i]);\r\n                    this.columns.push(newCol);\r\n                }\r\n            }\r\n            if (data.extraData) {\r\n                this.extraData = data.extraData;\r\n            }\r\n            this.innerData = data.innerData || this.innerData;\r\n            if (data.dds && data.dds.length) {\r\n                for (var _i = 0, _a = data.dds; _i < _a.length; _i++) {\r\n                    var dd = _a[_i];\r\n                    var query = this.addDrillDown();\r\n                    query.loadFromData(dd);\r\n                }\r\n            }\r\n        }\r\n        noErrors = true;\r\n        if (noErrors) {\r\n            if (changeStatus) {\r\n                this.isNewbie = false;\r\n                this._isModified = false;\r\n            }\r\n        }\r\n        this.validate();\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    Query.prototype.addDrillDown = function () {\r\n        var query = this.model.createQuery();\r\n        query.parentQuery = this;\r\n        this.drillDowns.push(query);\r\n        return query;\r\n    };\r\n    Query.prototype.getDrillDowns = function () {\r\n        return this.drillDowns;\r\n    };\r\n    Query.prototype.getParentQuery = function () {\r\n        return this.parentQuery;\r\n    };\r\n    /**\r\n     *\r\n     */\r\n    Query.prototype.findColumnById = function (colId) {\r\n        for (var _i = 0, _a = this.columns; _i < _a.length; _i++) {\r\n            var col = _a[_i];\r\n            if (col.id === colId)\r\n                return col;\r\n        }\r\n        return null;\r\n    };\r\n    /**\r\n     * Gets DataModel object associated with this query.\r\n     * @retruns The data model.\r\n     */\r\n    Query.prototype.getModel = function () {\r\n        return this.model;\r\n    };\r\n    /**\r\n     * Sets DataModel object associated with this query.\r\n     * @param model The data model.\r\n     */\r\n    Query.prototype.setModel = function (model) {\r\n        this.model = model;\r\n    };\r\n    /**\r\n     * Loads data model.\r\n     * @param model JSON representation object or JSON string.\r\n     */\r\n    Query.prototype.loadModelData = function (model) {\r\n        this.model.setData(model);\r\n    };\r\n    /**\r\n     * Returns JSON representation of this query.\r\n     * @retruns JSON string.\r\n     */\r\n    Query.prototype.toJSON = function () {\r\n        return JSON.stringify(this.toJSONData());\r\n    };\r\n    /**\r\n     * Returns JSON representation of this query.\r\n     * @retruns JSON representation object.\r\n     */\r\n    Query.prototype.toJSONData = function () {\r\n        var _this = this;\r\n        var obj = {\r\n            modelId: this.model ? this.model.getId() : null,\r\n            modelName: this.model ? this.model.getName() : null\r\n        };\r\n        obj.id = this.id;\r\n        obj.name = this.name;\r\n        if (this.description) {\r\n            obj.desc = this.description;\r\n        }\r\n        obj.cols = [];\r\n        for (var i = 0; i < this.columns.length; i++) {\r\n            obj.cols.push(this.columns[i].saveToData());\r\n        }\r\n        obj.justsortcols = [];\r\n        for (var i = 0; i < this.justsorted.length; i++) {\r\n            obj.justsortcols.push(this.justsorted[i].saveToData());\r\n        }\r\n        if (this.extraData) {\r\n            obj.extraData = this.extraData;\r\n        }\r\n        if (this.innerData) {\r\n            obj.innerData = this.innerData;\r\n        }\r\n        var rootCondToData = function (condGroup) {\r\n            var result = condGroup.saveToData();\r\n            result.conds = [];\r\n            var conditions = condGroup.getConditions();\r\n            for (var i = 0; i < conditions.length; i++) {\r\n                if (conditions[i].isGroup() && !_this.isEx()) {\r\n                    console.error(\"Community version doesn't support working with groups.\");\r\n                    continue;\r\n                }\r\n                result.conds.push(conditions[i].saveToData());\r\n            }\r\n            return result;\r\n        };\r\n        obj.root = rootCondToData(this.root);\r\n        obj.extraConds = rootCondToData(this.extraConditions);\r\n        if (this.drillDowns.length > 0) {\r\n            obj.dds = [];\r\n            for (var _i = 0, _a = this.drillDowns; _i < _a.length; _i++) {\r\n                var dd = _a[_i];\r\n                obj.dds.push(dd.toJSONData());\r\n            }\r\n        }\r\n        obj.timezoneOffset = this.timezoneOffset;\r\n        return obj;\r\n    };\r\n    /**\r\n     * Checks wether query does not contains any condtion.\r\n     * @retruns `true` if query does not contain any condition, otherwise `false`.\r\n     */\r\n    Query.prototype.isEmptyConditions = function () {\r\n        return this.root.isEmpty();\r\n    };\r\n    /**\r\n     * Checks wether query does not contains any column.\r\n     * @retruns `true` if query does not contain any column, otherwise `false`.\r\n     */\r\n    Query.prototype.isEmptyColumns = function () {\r\n        return !this.columns || this.columns.length === 0;\r\n    };\r\n    /**\r\n     * Checks wether query does not contains any column and any condition.\r\n     * @retruns `true` if query does not contain any column and any condition, otherwise `false`.\r\n     */\r\n    Query.prototype.isEmpty = function () {\r\n        return this.isEmptyColumns() && this.isEmptyConditions();\r\n    };\r\n    /**\r\n     * Clears the query (all conditions, columns, extraData, etc).\r\n     */\r\n    Query.prototype.clear = function () {\r\n        this.clearColumns();\r\n        this.clearConditions();\r\n        this.clearExtraConditions();\r\n        this.innerData = {};\r\n        this.extraData = {};\r\n    };\r\n    /**\r\n     * Clears all columns in query\r\n     */\r\n    Query.prototype.clearColumns = function () {\r\n        this.columns = [];\r\n        this.justsorted = [];\r\n    };\r\n    /**\r\n     * Clears all conditions in query.\r\n     */\r\n    Query.prototype.clearConditions = function () {\r\n        this.root.clearConditions();\r\n        this.root.linkType = LinkType.All;\r\n        this.root.enabled = true;\r\n    };\r\n    /**\r\n     * Clears all extra conditions in query\r\n     */\r\n    Query.prototype.clearExtraConditions = function () {\r\n        this.extraConditions.clearConditions();\r\n    };\r\n    /**\r\n     * Clears all drill downs\r\n     */\r\n    Query.prototype.clearDrillDowns = function () {\r\n        this.drillDowns = [];\r\n    };\r\n    /**\r\n     * Gets query ID.\r\n     * @returns The ID>\r\n     */\r\n    Query.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    /**\r\n     * Sets query ID.\r\n     * @param id New Query ID.\r\n     */\r\n    Query.prototype.setId = function (id) {\r\n        this.id = id;\r\n    };\r\n    /**\r\n     * Regenerates current query ID.\r\n     * @param id New Query ID.\r\n     */\r\n    Query.prototype.regenerateId = function () {\r\n        this.id = dataUtils.generateId(\"quer\");\r\n    };\r\n    /**\r\n     * Gets name of the query.\r\n     * @retruns The name.\r\n     */\r\n    Query.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    /**\r\n     * Sets name of the query\r\n     * @param name New name.\r\n     */\r\n    Query.prototype.setName = function (name) {\r\n        this.name = name;\r\n    };\r\n    /**\r\n     * Gets description of the query.\r\n     * @retruns The description.\r\n     */\r\n    Query.prototype.getDescription = function () {\r\n        return this.description;\r\n    };\r\n    /**\r\n     * Sets description of the query\r\n     * @param description New description.\r\n     */\r\n    Query.prototype.setDescription = function (description) {\r\n        this.description = description;\r\n    };\r\n    /**\r\n     * Get array of columns.\r\n     * @retruns Columns.\r\n     */\r\n    Query.prototype.getColumns = function () {\r\n        return this.columns;\r\n    };\r\n    /**\r\n     * Gets array of columns that are used as keys\r\n     * for totals.\r\n     */\r\n    Query.prototype.getUsedInTotalsColumns = function () {\r\n        var cols = this.getColumns()\r\n            .filter(function (col) { return col.enabled && col.expr.tag === ExprTag.EntityAttribute; });\r\n        if (cols.length)\r\n            cols.pop();\r\n        return cols;\r\n    };\r\n    /**\r\n     * Get array of columns used only in sorting.\r\n     * @retruns Columns.\r\n     */\r\n    Query.prototype.getJustSortedColumns = function () {\r\n        return this.justsorted;\r\n    };\r\n    /**\r\n     * Gets array of columns used in sorting\r\n     * @retruns Columns\r\n     */\r\n    Query.prototype.getSortedColumns = function () {\r\n        var sortedCols = new Array();\r\n        var cols = this.getColumns()\r\n            .concat(this.getJustSortedColumns());\r\n        for (var i = 0; i < cols.length; i++) {\r\n            var col = cols[i];\r\n            if (col.sortIndex >= 0) {\r\n                sortedCols.push(col);\r\n            }\r\n        }\r\n        sortedCols.sort(function (col1, col2) {\r\n            return col1.sortIndex - col2.sortIndex;\r\n        });\r\n        return sortedCols;\r\n    };\r\n    /**\r\n     * Gets Colummn sorting index.\r\n     * @param col The column.\r\n     * @retruns The index.\r\n     */\r\n    Query.prototype.getColumnSortIndex = function (col) {\r\n        if (col.sorting != SortDirection.None) {\r\n            if (col.sortIndex < 0) {\r\n                var cols = this.getColumns()\r\n                    .concat(this.getJustSortedColumns());\r\n                return dataUtils.indexOfArrayItem(cols, col);\r\n            }\r\n            else {\r\n                return col.sortIndex;\r\n            }\r\n        }\r\n        return -1;\r\n    };\r\n    Query.prototype.createColumn = function (justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        return new Column(this, justsorted);\r\n    };\r\n    /**\r\n     * Adds a new column with specified parameters\r\n     * @param desriptor The descriptor of the new column. Can contain different parameters like:\r\n     * `attribute` - a reference to a EntityAttr object,\r\n     * `attributeId` - an ID of the entity attribute we need (if we don't indicate `attribute`),\r\n     * `index`, sorting`, 'sortIndex` and other\r\n     *\r\n     * @param author The author of this operation. This parameter is used in EasyQuery widgets only to indicate which of the initiates the change.\r\n     * @retruns The column.\r\n     * @example\r\n     * query.addColumn({\r\n     *     attributeId: 'Customers.CompanyName',\r\n     *     sortIndex: SortDirection.Ascending\r\n     * }});\r\n     */\r\n    Query.prototype.addColumn = function (descriptor, author) {\r\n        var columns = (descriptor.justsorted)\r\n            ? this.justsorted\r\n            : this.columns;\r\n        var newColumn;\r\n        if (descriptor.column) {\r\n            newColumn = descriptor.column;\r\n        }\r\n        else {\r\n            newColumn = this.createColumn(descriptor.justsorted);\r\n            var attr = void 0;\r\n            if (descriptor.attribute) {\r\n                attr = descriptor.attribute;\r\n            }\r\n            else if (descriptor.attributeId) {\r\n                attr = this.model.getAttributeById(descriptor.attributeId);\r\n                if (!attr) {\r\n                    throw new Error(\"Incorrect attribute id (\" + descriptor.attributeId + \"): addColumn\");\r\n                }\r\n            }\r\n            else {\r\n                throw new Error(\"Not enought data: addColumn\");\r\n            }\r\n            if (descriptor.aggrFuncId && descriptor.cusomtSql) {\r\n                console.warn(\"Column cannot be created using aggrFuncId and customSql at the same time. \" +\r\n                    \"cusomSql will be used.\");\r\n            }\r\n            if (descriptor.cusomtSql) {\r\n                newColumn.caption = 'Custom SQL Column';\r\n                newColumn.expr.tag = ExprTag.CustomSql;\r\n                newColumn.expr.baseAttrId = attr.id;\r\n                newColumn.expr.sql = descriptor.cusomtSql;\r\n            }\r\n            else if (descriptor.aggrFuncId) {\r\n                newColumn.caption = attr.caption + ' '\r\n                    + this.model.getAggrFunctionCaption(descriptor.aggrFuncId);\r\n                newColumn.expr.tag = ExprTag.AggregateFunction;\r\n                newColumn.expr.func = descriptor.aggrFuncId;\r\n                newColumn.expr.distinct = false;\r\n                var arg = new Expression(newColumn);\r\n                arg.setValue(attr.id, true);\r\n                arg.tag = ExprTag.EntityAttribute;\r\n                newColumn.expr.args.push(arg);\r\n                ;\r\n            }\r\n            else {\r\n                newColumn.caption = attr.caption;\r\n                newColumn.expr.setValue(attr.id, true);\r\n                newColumn.expr.tag = ExprTag.EntityAttribute;\r\n            }\r\n            newColumn.caption = descriptor.caption || newColumn.caption;\r\n            newColumn.sorting = descriptor.sorting || SortDirection.None;\r\n            newColumn.sortIndex = descriptor.sortIndex || -1;\r\n            newColumn.enabled = dataUtils.getIfDefined(descriptor.enabled, true);\r\n            newColumn.setReadOnly(dataUtils.getIfDefined(descriptor.readonly, false));\r\n        }\r\n        if (descriptor.index && descriptor.index >= 0 && descriptor.index < columns.length) {\r\n            columns.splice(descriptor.index, 0, newColumn);\r\n        }\r\n        else {\r\n            columns.push(newColumn);\r\n        }\r\n        return newColumn;\r\n    };\r\n    /**\r\n     * Adds a new column with specified index.\r\n     * @param column The column or array of columns\r\n     * @param index The index of new column\r\n     * @param author The author.\r\n     * @example\r\n     * const column = new Column();\r\n     * column.caption = \"Company name\";\r\n     *\r\n     * query.addColumn(column, 1)\r\n     */\r\n    Query.prototype.addColumnObj = function (column, index, author) {\r\n        var columns = this.columns;\r\n        if (typeof column.length == \"undefined\") {\r\n            if (typeof index == \"number\") {\r\n                columns.splice(index, 0, column);\r\n            }\r\n            else {\r\n                columns.push(column);\r\n            }\r\n        }\r\n        else {\r\n            if (typeof index == \"number\") {\r\n                columns.push.apply(columns, [index, 0].concat(column));\r\n            }\r\n            else {\r\n                columns.push.apply(columns, [].concat(column));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Changes column to Aggregate function, custom expression or simple column.\r\n     * @param column The column to change.\r\n     * @param tag New column expression tag.\r\n     * @param args The arguments (Contains aggregate function id)\r\n     */\r\n    Query.prototype.changeColumnType = function (column, tag, args) {\r\n        if (column.isJustSorted())\r\n            return;\r\n        args = args || {};\r\n        if (tag === ExprTag.AggregateFunction) {\r\n            if (!args.funcId)\r\n                throw Error(\"'funcId' argument is not defined\");\r\n            if (column.expr.tag == ExprTag.AggregateFunction) {\r\n                column.expr.func = args.funcId;\r\n                return;\r\n            }\r\n            var exprValue = column.expr.value;\r\n            column.caption = '';\r\n            var expr = new Expression(column);\r\n            expr.tag = ExprTag.AggregateFunction;\r\n            expr.func = args.funcId;\r\n            expr.distinct = false;\r\n            var arg = new Expression(column);\r\n            //arg.id = exprValue;\r\n            arg.setValue(exprValue, true);\r\n            arg.tag = ExprTag.EntityAttribute;\r\n            expr.args.push(arg);\r\n            column.expr = expr;\r\n        }\r\n        else if (tag === ExprTag.CustomSql) {\r\n            var attrId = (column.expr.tag == ExprTag.AggregateFunction)\r\n                ? column.expr.args[0].value\r\n                : column.expr.value;\r\n            column.caption = '';\r\n            var sqlText = '';\r\n            if (this.model) {\r\n                sqlText = this.model.getAttributeById(attrId).expr;\r\n            }\r\n            var customSqlExpr = new Expression(column);\r\n            customSqlExpr.tag = ExprTag.CustomSql;\r\n            customSqlExpr.sql = sqlText;\r\n            customSqlExpr.baseAttrId = attrId;\r\n            column.expr = customSqlExpr;\r\n        }\r\n        else if (tag === ExprTag.EntityAttribute) {\r\n            if (column.expr.tag === ExprTag.EntityAttribute\r\n                || column.expr.tag === ExprTag.ParentEntityAttribute) {\r\n                return;\r\n            }\r\n            var exprId = (column.expr.tag === ExprTag.CustomSql)\r\n                ? column.expr.baseAttrId\r\n                : column.expr.args[0].value;\r\n            column.caption = '';\r\n            var expr = new Expression(column);\r\n            expr.tag = ExprTag.EntityAttribute;\r\n            //expr.id = exprId;\r\n            expr.setValue(exprId, true);\r\n            column.expr = expr;\r\n        }\r\n    };\r\n    /**\r\n     * Moves the column with specified index to another position.\r\n     * @param index1 The index of the column that should be moved.\r\n     * @param index2 The index of the position the column should be moved to\r\n     * @param author The author\r\n     */\r\n    Query.prototype.moveColumn = function (index1, index2) {\r\n        var columns = this.getColumns();\r\n        dataUtils.moveArrayItem(columns, index1, index2);\r\n    };\r\n    /**\r\n     * Removes the column.\r\n     * @param column The column to be removed.\r\n     * @param author The author\r\n     */\r\n    Query.prototype.removeColumn = function (column, author) {\r\n        var columns = (column.isJustSorted())\r\n            ? this.getJustSortedColumns()\r\n            : this.getColumns();\r\n        dataUtils.removeArrayItem(columns, column);\r\n    };\r\n    /**\r\n     * Adds a condition group - a group of simple conditions (predicates) linked by AND or OR\r\n     * @param descriptor The descriptor of the new condition group.\r\n     * @returns The new search condition.\r\n     */\r\n    Query.prototype.addConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        console.error(\"Community version doesn't support working with groups.\");\r\n        return null;\r\n    };\r\n    Query.prototype.addExtraConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        console.error(\"Community version doesn't support working with groups.\");\r\n        return null;\r\n    };\r\n    Query.prototype.createCondition = function (tag) {\r\n        if (tag === void 0) { tag = CondTag.Simple; }\r\n        return new Condition(this, tag);\r\n    };\r\n    /**\r\n     *  Adds a new simple condition (a predicate)\r\n     * @param descriptor The descriptor which defines different parameters of the new condition\r\n     * @returns The new condition.\r\n     */\r\n    Query.prototype.addSimpleCondition = function (descriptor) {\r\n        var parent = descriptor.parent || this.getRootCondition();\r\n        var model = this.getModel();\r\n        if (!model)\r\n            return null;\r\n        if (!descriptor.attribute && !descriptor.attributeId) {\r\n            throw new Error(\"Either `attribute` or `attributeId` parameter must have a value\");\r\n        }\r\n        if (!descriptor.attribute) {\r\n            descriptor.attribute = model.getAttributeById(descriptor.attributeId);\r\n            if (!descriptor.attribute) {\r\n                throw new Error(\"Could not find this attribute: \" + descriptor.attributeId);\r\n            }\r\n        }\r\n        if (!descriptor.operator && descriptor.operatorId) {\r\n            descriptor.operator = model.getOperatorById(descriptor.operatorId);\r\n        }\r\n        if (!descriptor.operator) {\r\n            descriptor.operator = model.getDefaultOperatorForAttr(descriptor.attribute);\r\n        }\r\n        var cond = this.createSimpleConditionObject(descriptor.attribute, descriptor.operator, descriptor.value);\r\n        parent.addCondition(cond);\r\n        cond.enabled = dataUtils.getIfDefined(descriptor.enabled, true);\r\n        cond.setReadOnly(dataUtils.getIfDefined(descriptor.readonly, false));\r\n        return cond;\r\n    };\r\n    Query.prototype.addSimpleExtraCondition = function (descriptor) {\r\n        descriptor.parent = descriptor.parent || this.extraConditions;\r\n        return this.addSimpleCondition(descriptor);\r\n    };\r\n    Query.prototype.createSimpleConditionObject = function (attr, operator, inputValues) {\r\n        if (!attr || !attr.useInConditions) {\r\n            var attrCaption = attr ? attr.caption : 'NULL';\r\n            throw \"Can't add a condition with such attribute: \" + attrCaption;\r\n        }\r\n        var cond = this.createCondition(CondTag.Simple);\r\n        cond.setOperatorId(operator.id, true);\r\n        var attrExpr = new Expression(cond);\r\n        attrExpr.setValue(attr.id, true);\r\n        attrExpr.tag = this.attributeExprTag;\r\n        attrExpr.kind = DataKind.Attribute;\r\n        attrExpr.dataType = attr.dataType;\r\n        cond.expressions.push(attrExpr);\r\n        var model = this.getModel();\r\n        var valCount = operator.paramCount;\r\n        var values = dataUtils.fillArray(new Array(valCount - 1), null);\r\n        if (inputValues !== null && typeof inputValues !== \"undefined\") {\r\n            if (Array.isArray(inputValues)) {\r\n                dataUtils.copyArrayTo(inputValues, values);\r\n            }\r\n            else if (valCount > 0) {\r\n                values[0] = inputValues;\r\n            }\r\n        }\r\n        var valLength = values.length;\r\n        for (var i = 0; i < valLength; i++) {\r\n            var operand = model.getOperand(attr, operator, i + 1);\r\n            cond.addExpressionByOperand(operand, values[i]);\r\n        }\r\n        return cond;\r\n    };\r\n    /**\r\n     * Removes several columns passed as array.\r\n     * @param columnsToRemove The list of columns to be removed.\r\n     * @param author The author.\r\n     */\r\n    Query.prototype.removeColumns = function (columnsToRemove, author) {\r\n        var justSortedColumns = columnsToRemove.filter(function (c) { return c.isJustSorted(); });\r\n        var columns = columnsToRemove.filter(function (c) { return !c.isJustSorted(); });\r\n        function removeFromArray(arr, arrToRemove) {\r\n            var ctrLen = arrToRemove.length;\r\n            for (var i = 0; i < ctrLen; i++) {\r\n                var index = arr.indexOf(arrToRemove[i]);\r\n                if (index >= 0) {\r\n                    arr.splice(index, 1);\r\n                }\r\n            }\r\n        }\r\n        if (columns.length > 0) {\r\n            removeFromArray(this.getColumns(), columns);\r\n        }\r\n        if (justSortedColumns.length > 0) {\r\n            removeFromArray(this.getJustSortedColumns(), justSortedColumns);\r\n        }\r\n    };\r\n    /**\r\n     * Fires process event.\r\n     * @param data The data.\r\n     */\r\n    Query.prototype.fireProcessEvent = function (data) {\r\n        this.eventEmitter.fire('query.process', data);\r\n    };\r\n    Query.prototype.fireChangedEvent = function (params, postpone, wasModified) {\r\n        if (typeof (postpone) != 'undefined' || typeof (wasModified) != 'undefined') {\r\n            params.postpone = postpone || 0;\r\n            params.wasModified = wasModified;\r\n            console.warn('Method with \\'postpone\\' and \\'wasModified\\' args is deprecated. Pass params in data object');\r\n        }\r\n        this._isModified = typeof (params.wasModified) != 'undefined'\r\n            ? params.wasModified\r\n            : true;\r\n        var eventData = params || {\r\n            part: QueryChangePart.All\r\n        };\r\n        this.eventEmitter.fire('query.change', eventData, params.postpone || 0);\r\n    };\r\n    Query.prototype.fireColumnsChangedEvent = function (action, column, justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        this.fireChangedEvent({\r\n            part: (justsorted)\r\n                ? QueryChangePart.SortingColumns\r\n                : QueryChangePart.Columns,\r\n            action: action,\r\n            changee: column\r\n        });\r\n    };\r\n    Query.prototype.fireConditionsChangedEvent = function (action, condition) {\r\n        this.fireChangedEvent({\r\n            part: QueryChangePart.Conditions,\r\n            action: action,\r\n            changee: condition\r\n        });\r\n    };\r\n    /**\r\n     * Runs through condition with this callback.\r\n     * @param processCondition The function to process condition.\r\n     */\r\n    Query.prototype.runThroughConditions = function (processCondition) {\r\n        var processGroup = function (predicate) {\r\n            for (var i = 0; i < predicate.getConditions().length; i++) {\r\n                var cond = predicate.getConditions()[i];\r\n                if (cond.isGroup()) {\r\n                    processGroup(cond);\r\n                }\r\n                else {\r\n                    if (processCondition)\r\n                        processCondition(cond);\r\n                }\r\n            }\r\n        };\r\n        processGroup(this.getRootCondition());\r\n    };\r\n    /**\r\n     * Gets one value for the attribute\r\n     * @param attrId The attribute ID.\r\n     * @retruns The value.\r\n     */\r\n    Query.prototype.getOneValueForAttr = function (attrId) {\r\n        var res = null;\r\n        this.runThroughConditions(function (cond) {\r\n            if (cond.enabled) {\r\n                var expr = cond.expressions[0];\r\n                var opid = cond.getOperatorId();\r\n                if (expr.value == attrId && cond.expressions[1] &&\r\n                    (opid == \"Equal\" || opid == \"InList\" || opid == \"StartsWith\")) {\r\n                    res = cond.expressions[1].value;\r\n                }\r\n            }\r\n        });\r\n        return res;\r\n    };\r\n    /**\r\n     * Gets root predicate\r\n     * @retruns The condition.\r\n     */\r\n    Query.prototype.getRootCondition = function () {\r\n        return this.root;\r\n    };\r\n    /**\r\n     * Add process callback\r\n     * @param callback The callback.\r\n     * @retruns The callback ID.\r\n     */\r\n    Query.prototype.addProcessCallback = function (callback) {\r\n        return this.eventEmitter.subscribe('query.process', callback);\r\n    };\r\n    /**\r\n     * Remove process callback\r\n     * @param callbackId The callback ID.\r\n     */\r\n    Query.prototype.removeProcessCallback = function (callbackId) {\r\n        this.eventEmitter.unsubscribe('query.process', callbackId);\r\n    };\r\n    /**\r\n     * Add changed callback\r\n     * @param callback The callback ID.\r\n     */\r\n    Query.prototype.addChangedCallback = function (callback) {\r\n        return this.eventEmitter.subscribe('query.change', callback);\r\n    };\r\n    /**\r\n     * Remove changed callback\r\n     * @param callbackId The callback ID.\r\n     */\r\n    Query.prototype.removeChangedCallback = function (callbackId) {\r\n        this.eventEmitter.unsubscribe('query.change', callbackId);\r\n    };\r\n    /**\r\n     * Retruns conditions text\r\n     */\r\n    Query.prototype.getConditionsText = function () {\r\n        var model = this.getModel();\r\n        if (!model)\r\n            return '';\r\n        var getConditionGroupText = function (predicate) {\r\n            var result = '', conjKey = \"Conj\" + equtils.linkTypeToStr(predicate.linkType), conjText = i18n.getText(conjKey), condText, i;\r\n            for (i = 0; i < predicate.getConditions().length; i++) {\r\n                condText = \"\";\r\n                var cond = predicate.getConditions()[i];\r\n                if (cond.enabled || typeof (cond.enabled) === \"undefined\") {\r\n                    if (cond.isGroup()) {\r\n                        condText = getConditionGroupText(cond);\r\n                        if (condText) {\r\n                            condText = \"(\" + condText + \")\";\r\n                        }\r\n                    }\r\n                    else {\r\n                        var opId = cond.getOperatorId();\r\n                        var operator = model.getOperatorById(opId);\r\n                        var parts = equtils.parseOperatorFormat(operator);\r\n                        var plen = parts.length;\r\n                        for (var pi = 0; pi < plen; pi++) {\r\n                            var part = parts[pi];\r\n                            var txt = part.text;\r\n                            if (part.type == \"expression\") {\r\n                                var expr = cond.expressions[part.index];\r\n                                if (expr.kind == DataKind.Attribute || expr.tag == ExprTag.EntityAttribute) {\r\n                                    var attr = model.getAttributeById(expr.value);\r\n                                    txt = model.getAttributeText(attr, \"{entity} {attr}\");\r\n                                }\r\n                                else {\r\n                                    txt = expr.getText();\r\n                                }\r\n                            }\r\n                            if (pi > 0)\r\n                                condText += \" \";\r\n                            condText += txt;\r\n                        }\r\n                    }\r\n                }\r\n                if (condText) {\r\n                    if (i > 0 && result) {\r\n                        result += \" \" + conjText + \" \";\r\n                    }\r\n                    result += condText;\r\n                }\r\n            }\r\n            if (predicate.linkType == LinkType.None || predicate.linkType == LinkType.NotAll) {\r\n                result = \"not ( \" + result + \" )\";\r\n            }\r\n            return result;\r\n        };\r\n        return getConditionGroupText(this.getRootCondition());\r\n    };\r\n    return Query;\r\n}());\r\nexport { Query };\r\n//# sourceMappingURL=query.js.map","import { utils as dataUtils } from '@easydata/core';\r\nimport { Query } from '../query/query';\r\nvar BrowserQueryStorage = /** @class */ (function () {\r\n    function BrowserQueryStorage(context) {\r\n        this.context = context;\r\n    }\r\n    BrowserQueryStorage.prototype.init = function (options) {\r\n        var keyPrefix = 'eq';\r\n        if (options && options.keyPrefix) {\r\n            keyPrefix = options.keyPrefix;\r\n        }\r\n        this.queryListKey = keyPrefix + '-querylist';\r\n        this.queryKeyPrefix = keyPrefix;\r\n    };\r\n    BrowserQueryStorage.prototype.getQueryList = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var itemsString = localStorage.getItem(_this.queryListKey);\r\n                if (itemsString) {\r\n                    resolve(JSON.parse(itemsString));\r\n                }\r\n                resolve([]);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n            ;\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.newQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            var query = new Query(_this.context.getModel());\r\n            query.reset();\r\n            if (options && options.name) {\r\n                query.setName(options.name);\r\n            }\r\n            else {\r\n                query.setDefaultName();\r\n            }\r\n            resolve(query.toJSONData());\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.loadQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var queryItem = localStorage.getItem(_this.queryKeyPrefix + '-' + options.queryId);\r\n                if (queryItem) {\r\n                    resolve(JSON.parse(queryItem));\r\n                }\r\n                reject(new Error('Query is not found: ' + options.queryId));\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.saveQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var modelId = options.modelId || _this.context.getModel().getId();\r\n                var query = options.query || _this.context.getQuery();\r\n                var queryList = [];\r\n                var itemsString = localStorage.getItem(_this.queryListKey);\r\n                if (itemsString) {\r\n                    queryList = JSON.parse(itemsString);\r\n                }\r\n                var item = dataUtils.findItemById(queryList, query.getId());\r\n                if (!item) {\r\n                    queryList.push({ id: query.getId(), name: query.getName(), text: query.getDescription() });\r\n                }\r\n                item.name = query.getName();\r\n                item.text = query.getDescription();\r\n                localStorage.setItem(_this.queryListKey, JSON.stringify(queryList));\r\n                localStorage.setItem(_this.queryKeyPrefix + '-' + query.getId(), query.toJSON());\r\n                resolve(null);\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    BrowserQueryStorage.prototype.removeQuery = function (options) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                var modelId = options.modelId || _this.context.getModel().getId();\r\n                var queryId_1 = options.queryId || _this.context.getQuery().getId();\r\n                var queryList = [];\r\n                var itemsString = localStorage.getItem(_this.queryListKey);\r\n                if (itemsString) {\r\n                    queryList = JSON.parse(itemsString);\r\n                }\r\n                queryList = queryList.filter(function (item) { return item.id != queryId_1; });\r\n                localStorage.setItem(_this.queryListKey, JSON.stringify(queryList));\r\n                localStorage.removeItem(_this.queryKeyPrefix + '-' + queryId_1);\r\n                resolve();\r\n            }\r\n            catch (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n    };\r\n    return BrowserQueryStorage;\r\n}());\r\nexport { BrowserQueryStorage };\r\n//# sourceMappingURL=query_storage.js.map","var EqModelLoader = /** @class */ (function () {\r\n    function EqModelLoader(context) {\r\n        this.context = context;\r\n        this.modelPromise = null;\r\n    }\r\n    EqModelLoader.prototype.init = function (options) {\r\n    };\r\n    EqModelLoader.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    EqModelLoader.prototype.createModelLoadingPromise = function () {\r\n        var _this = this;\r\n        this.modelPromise = new Promise(function (resolve, reject) {\r\n            _this.modelLoadingResolveFunc = resolve;\r\n            _this.modelLoadingRejectFunc = reject;\r\n        });\r\n    };\r\n    /**\r\n     * Returns the `Promise` of the model loading process\r\n     */\r\n    EqModelLoader.prototype.getModelPromise = function () {\r\n        return this.modelPromise\r\n            || Promise.reject(new Error(\"Model has been never loaded.\"));\r\n    };\r\n    EqModelLoader.prototype.startModelLoading = function (options) {\r\n        this.createModelLoadingPromise();\r\n        this.sendLoadModelRequest(options);\r\n        return this.modelPromise;\r\n    };\r\n    return EqModelLoader;\r\n}());\r\nexport { EqModelLoader };\r\n//# sourceMappingURL=model_loader.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EqModelLoader } from '../main/model_loader';\r\nvar EqServerModelLoader = /** @class */ (function (_super) {\r\n    __extends(EqServerModelLoader, _super);\r\n    function EqServerModelLoader(context) {\r\n        return _super.call(this, context) || this;\r\n    }\r\n    EqServerModelLoader.prototype.init = function () {\r\n    };\r\n    EqServerModelLoader.prototype.sendLoadModelRequest = function (options) {\r\n        var _this = this;\r\n        var context = this.getContext();\r\n        var http = context.getServices().getHttpClient();\r\n        var url = context.resolveEndpoint('GetModel', { modelId: options.modelId });\r\n        http.get(url)\r\n            .then(function (responseData) {\r\n            if (!responseData.model) {\r\n                _this.modelLoadingRejectFunc(new Error('Wrong response format for \"GetModel\" request'));\r\n            }\r\n            _this.modelLoadingResolveFunc(responseData.model);\r\n        })\r\n            .catch(function (error) {\r\n            _this.modelLoadingRejectFunc(error);\r\n        });\r\n    };\r\n    return EqServerModelLoader;\r\n}(EqModelLoader));\r\nexport { EqServerModelLoader };\r\n//# sourceMappingURL=eqs_model_loader.js.map","var EqServerQueryExecutor = /** @class */ (function () {\r\n    function EqServerQueryExecutor(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerQueryExecutor.prototype.executeQuery = function (options) {\r\n        var query = options.query || this.context.getQuery();\r\n        var queryId = query.getId();\r\n        var requestData = {\r\n            'query': query.toJSONData(),\r\n            'options': options.options\r\n        };\r\n        if (options.chunk) {\r\n            requestData['chunk'] = options.chunk;\r\n        }\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('FetchData', { modelId: query.getModel().getId(), queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, requestData)\r\n            .then(function (data) { return data; });\r\n    };\r\n    return EqServerQueryExecutor;\r\n}());\r\nexport { EqServerQueryExecutor };\r\n//# sourceMappingURL=eqs_query_executor.js.map","var EqServerQuerySynchronizer = /** @class */ (function () {\r\n    function EqServerQuerySynchronizer(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerQuerySynchronizer.prototype.syncQuery = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var ops = options.options || {};\r\n        var requestData = {\r\n            'query': query.toJSONData(),\r\n            'options': ops,\r\n        };\r\n        if (options.data) {\r\n            requestData.data = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('SyncQuery', { modelId: query.getModel().getId(), queryId: query.getId() });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, requestData)\r\n            .then(function (responseData) { return responseData; });\r\n    };\r\n    return EqServerQuerySynchronizer;\r\n}());\r\nexport { EqServerQuerySynchronizer };\r\n//# sourceMappingURL=eqs_query_synchronizer.js.map","import { utils as dataUtils } from '@easydata/core';\r\nvar EqServerValueListResolver = /** @class */ (function () {\r\n    function EqServerValueListResolver(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerValueListResolver.prototype.loadValueList = function (options) {\r\n        var modelId = options.modelId || this.context.getModel().getId();\r\n        var requestData = dataUtils.assign({ modelId: modelId }, options.params);\r\n        var editorId = requestData.editorId;\r\n        var http = this.context.getServices().getHttpClient();\r\n        var url = this.context.resolveEndpoint('GetValueList', { modelId: modelId, listId: editorId });\r\n        var queryParams = {};\r\n        if (options && options.params && options.params.queryParams) {\r\n            queryParams = options.params.queryParams;\r\n        }\r\n        return http.get(url, { queryParams: queryParams })\r\n            .then(function (responseData) {\r\n            if (responseData && responseData.values) {\r\n                return responseData.values;\r\n            }\r\n            else {\r\n                throw new Error('Wrong response format. No \"values\" property');\r\n            }\r\n        });\r\n    };\r\n    return EqServerValueListResolver;\r\n}());\r\nexport { EqServerValueListResolver };\r\n//# sourceMappingURL=eqs_value_list_resolver.js.map","var EqQueryFileLoader = /** @class */ (function () {\r\n    function EqQueryFileLoader(context) {\r\n        this.context = context;\r\n    }\r\n    EqQueryFileLoader.prototype.getQueryFile = function (options) {\r\n        var query = options.query || this.context.getQuery();\r\n        var url = this.context.resolveEndpoint('GetQueryFile', { modelId: query.getModel().getId(),\r\n            format: options.format || 'xml' });\r\n        var http = this.context.getServices().getHttpClient();\r\n        var actionResult = http.post(url, {\r\n            query: query.toJSONData()\r\n        });\r\n        var request = actionResult.getRequest();\r\n        return actionResult.then(function (responseData) {\r\n            var blob = new Blob([responseData]);\r\n            var fileName = request.getXMLHttpRequest()\r\n                .getResponseHeader(\"Content-Disposition\").match(/filename=\"(.*)\"/)[1];\r\n            if (options.fileName) {\r\n                fileName = options.fileName\r\n                    + fileName.substring(fileName.lastIndexOf('.'));\r\n            }\r\n            if (window.navigator.msSaveOrOpenBlob) {\r\n                // Internet Explorer\r\n                window.navigator.msSaveOrOpenBlob(blob, fileName);\r\n            }\r\n            else {\r\n                var a = document.createElement(\"a\");\r\n                document.body.appendChild(a);\r\n                a.style.display = \"none\";\r\n                a.href = window.URL.createObjectURL(blob);\r\n                a.download = fileName;\r\n                a.click();\r\n                window.URL.revokeObjectURL(a.href);\r\n                document.body.removeChild(a);\r\n            }\r\n        });\r\n    };\r\n    EqQueryFileLoader.prototype.uploadQueryFile = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var url = this.context.resolveEndpoint('UploadQueryFile', { modelId: query.getModel().getId() });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, options.data, {\r\n            dataType: 'form-data'\r\n        })\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    return EqQueryFileLoader;\r\n}());\r\nexport { EqQueryFileLoader };\r\n//# sourceMappingURL=eqs_query_file_loader.js.map","var EqTotalsContainer = /** @class */ (function () {\r\n    function EqTotalsContainer(context) {\r\n        this.context = context;\r\n        this.levels = {};\r\n    }\r\n    EqTotalsContainer.prototype.setTotals = function (level, data) {\r\n        var desc = this.getLevelDesc(level);\r\n        desc.data = data;\r\n        if (desc.recivedCallbacks) {\r\n            for (var _i = 0, _a = desc.recivedCallbacks; _i < _a.length; _i++) {\r\n                var callback = _a[_i];\r\n                callback(desc.data);\r\n            }\r\n        }\r\n        desc.recivedCallbacks = [];\r\n    };\r\n    EqTotalsContainer.prototype.fillTotals = function (level, row) {\r\n        var _this = this;\r\n        var curQuery = this.context.getQuery();\r\n        // get key columns for the level\r\n        var cols = curQuery.getUsedInTotalsColumns();\r\n        var keyColumns = cols.slice(0, level);\r\n        // compose key\r\n        var key = {};\r\n        for (var _i = 0, keyColumns_1 = keyColumns; _i < keyColumns_1.length; _i++) {\r\n            var keyCol = keyColumns_1[_i];\r\n            key[keyCol.id] = row.getValue(keyCol.id);\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            var desc = _this.getLevelDesc(level);\r\n            var processFunc = function (data) {\r\n                // map values\r\n                var value = data.get(JSON.stringify(key));\r\n                if (value) {\r\n                    for (var field in value) {\r\n                        row.setValue(field, value[field]);\r\n                    }\r\n                    resolve();\r\n                }\r\n                else {\r\n                    reject();\r\n                }\r\n            };\r\n            if (desc.data) {\r\n                processFunc(desc.data);\r\n            }\r\n            else {\r\n                desc.recivedCallbacks.push(processFunc);\r\n            }\r\n        });\r\n    };\r\n    EqTotalsContainer.prototype.getLevelDesc = function (level) {\r\n        var desc = this.levels[level];\r\n        if (!desc) {\r\n            desc = {\r\n                recivedCallbacks: []\r\n            };\r\n        }\r\n        this.levels[level] = desc;\r\n        return desc;\r\n    };\r\n    return EqTotalsContainer;\r\n}());\r\nexport { EqTotalsContainer };\r\nvar DefaultTotalCalculator = /** @class */ (function () {\r\n    function DefaultTotalCalculator(context) {\r\n        this.context = context;\r\n    }\r\n    DefaultTotalCalculator.prototype.getTotals = function () {\r\n        return new EqTotalsContainer(this.context);\r\n    };\r\n    DefaultTotalCalculator.prototype.calculate = function (options) {\r\n        console.warn(\"Grand totals and sub totals calculation can be used in Enterprise version only\");\r\n        return Promise.resolve();\r\n    };\r\n    return DefaultTotalCalculator;\r\n}());\r\nexport { DefaultTotalCalculator };\r\n//# sourceMappingURL=eq_totals_container.js.map","import { HttpClient } from '@easydata/core';\r\nimport { Query } from '../query/query';\r\nimport { DataModel } from '../dm/data_model';\r\nimport { BrowserQueryStorage } from '../main/query_storage';\r\nimport { EqServerModelLoader } from '../eqs/eqs_model_loader';\r\nimport { EqServerQueryExecutor } from '../eqs/eqs_query_executor';\r\nimport { EqServerQuerySynchronizer } from '../eqs/eqs_query_synchronizer';\r\nimport { EqServerValueListResolver } from '../eqs/eqs_value_list_resolver';\r\nimport { EqQueryFileLoader } from '../eqs/eqs_query_file_loader';\r\nimport { DefaultTotalCalculator } from '../data/eq_totals_container';\r\nvar EqServiceProvider = /** @class */ (function () {\r\n    function EqServiceProvider(context) {\r\n        this.context = context;\r\n        this.modelLoader = null;\r\n        this.queryStorage = null;\r\n        this.querySynchronizer = null;\r\n        this.queryExecutor = null;\r\n        this.valueListResolver = null;\r\n        this.queryFileLoader = null;\r\n        this.totalCalculator = null;\r\n        this.httpClient = new HttpClient();\r\n        this.httpClient.defaultHeaders['x-eqjs-version'] = '7.0.0';\r\n        this.modelResolver = function (_) { return new DataModel(); };\r\n        this.queryResolver = function (context) { return new Query(context.getModel()); };\r\n        this.modelLoaderResolver = function (context) { return new EqServerModelLoader(context); };\r\n        this.queryStorageResolver = function (context) { return new BrowserQueryStorage(context); };\r\n        this.querySynchronizerResolver = function (context) { return new EqServerQuerySynchronizer(context); };\r\n        this.vlrResolver = function (context) { return new EqServerValueListResolver(context); };\r\n        this.queryExecutorResolver = function (context) { return new EqServerQueryExecutor(context); };\r\n        this.queryFileLoaderResolver = function (context) { return new EqQueryFileLoader(context); };\r\n        this.totalCalculatoResolver = function (context) { return new DefaultTotalCalculator(context); };\r\n    }\r\n    EqServiceProvider.prototype.reset = function () {\r\n        this.modelLoader = null;\r\n        this.queryStorage = null;\r\n        this.querySynchronizer = null;\r\n    };\r\n    EqServiceProvider.prototype.getHttpClient = function () {\r\n        return this.httpClient;\r\n    };\r\n    EqServiceProvider.prototype.createDataModel = function () {\r\n        if (!this.modelResolver) {\r\n            throw 'Model resolver is not defined';\r\n        }\r\n        return this.modelResolver(this.context);\r\n    };\r\n    EqServiceProvider.prototype.createQuery = function () {\r\n        if (!this.queryResolver) {\r\n            throw 'Query resolver is not defined';\r\n        }\r\n        return this.queryResolver(this.context);\r\n    };\r\n    EqServiceProvider.prototype.getModelLoader = function () {\r\n        if (!this.modelLoader) {\r\n            if (!this.modelLoaderResolver) {\r\n                throw 'ModelLoaderResolver is not defined';\r\n            }\r\n            this.modelLoader = this.modelLoaderResolver(this.context);\r\n        }\r\n        return this.modelLoader;\r\n    };\r\n    EqServiceProvider.prototype.getQueryStorage = function () {\r\n        if (!this.queryStorage) {\r\n            if (!this.queryStorageResolver) {\r\n                throw 'QueryStorageResolver is not defined';\r\n            }\r\n            this.queryStorage = this.queryStorageResolver(this.context);\r\n        }\r\n        return this.queryStorage;\r\n    };\r\n    EqServiceProvider.prototype.getQuerySynchronizer = function () {\r\n        if (!this.querySynchronizer) {\r\n            if (!this.querySynchronizerResolver) {\r\n                throw 'QuerySynchronizerResolver is not defined';\r\n            }\r\n            this.querySynchronizer = this.querySynchronizerResolver(this.context);\r\n        }\r\n        return this.querySynchronizer;\r\n    };\r\n    EqServiceProvider.prototype.getQueryExecutor = function () {\r\n        if (!this.queryExecutor) {\r\n            if (!this.queryExecutorResolver) {\r\n                throw 'QueryExecutorResolver is not defined';\r\n            }\r\n            this.queryExecutor = this.queryExecutorResolver(this.context);\r\n        }\r\n        return this.queryExecutor;\r\n    };\r\n    EqServiceProvider.prototype.getValueListResolver = function () {\r\n        if (!this.valueListResolver) {\r\n            if (!this.vlrResolver) {\r\n                throw 'Resolver for ValueListResolver is not defined';\r\n            }\r\n            this.valueListResolver = this.vlrResolver(this.context);\r\n        }\r\n        return this.valueListResolver;\r\n    };\r\n    EqServiceProvider.prototype.getQueryFileLoader = function () {\r\n        if (!this.queryFileLoader) {\r\n            if (!this.queryFileLoaderResolver) {\r\n                throw 'Resolver for QueryFileLoader is not defined';\r\n            }\r\n            this.queryFileLoader = this.queryFileLoaderResolver(this.context);\r\n        }\r\n        return this.queryFileLoader;\r\n    };\r\n    EqServiceProvider.prototype.getTotalCalculator = function () {\r\n        if (!this.totalCalculator) {\r\n            if (!this.totalCalculatoResolver) {\r\n                throw 'Resolver for TotalCalculator is not defined';\r\n            }\r\n            this.totalCalculator = this.totalCalculatoResolver(this.context);\r\n        }\r\n        return this.totalCalculator;\r\n    };\r\n    EqServiceProvider.prototype.registerDataModelResolver = function (resolver) {\r\n        this.modelResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryResolver = function (resolver) {\r\n        this.queryResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerModelLoaderResolver = function (resolver) {\r\n        this.modelLoaderResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryStorageResolver = function (resolver) {\r\n        this.queryStorageResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryExecutorResolver = function (resolver) {\r\n        this.queryExecutorResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQuerySyncronizerResolver = function (resolver) {\r\n        this.querySynchronizerResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerValueListResolver = function (resolver) {\r\n        this.vlrResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerQueryFileLoaderResolver = function (resolver) {\r\n        this.queryFileLoaderResolver = resolver;\r\n    };\r\n    EqServiceProvider.prototype.registerTotalCalculator = function (resolver) {\r\n        this.totalCalculatoResolver = resolver;\r\n    };\r\n    return EqServiceProvider;\r\n}());\r\nexport { EqServiceProvider };\r\n//# sourceMappingURL=eq_services.js.map","import { EasyDataTable } from '@easydata/core';\r\nvar EasyQueryDataLoader = /** @class */ (function () {\r\n    function EasyQueryDataLoader(context) {\r\n        this.context = context;\r\n    }\r\n    EasyQueryDataLoader.prototype.loadChunk = function (params) {\r\n        var _this = this;\r\n        // We have to refactor page logic in view to make it simplier to integrate \r\n        // different grids\r\n        this.dataLoadPromise = new Promise(function (resolve, reject) {\r\n            _this.context.fetchDataChunk({\r\n                chunk: params,\r\n                success: function (result) {\r\n                    var dataTable = new EasyDataTable({\r\n                        loader: _this.context.dataLoader,\r\n                        chunkSize: _this.context.resultTable.chunkSize\r\n                    });\r\n                    var resultSet = result.resultSet;\r\n                    for (var _i = 0, _a = resultSet.cols; _i < _a.length; _i++) {\r\n                        var col = _a[_i];\r\n                        dataTable.columns.add(col);\r\n                    }\r\n                    dataTable.setTotal(result.meta.totalRecords);\r\n                    for (var _b = 0, _c = resultSet.rows; _b < _c.length; _b++) {\r\n                        var row = _c[_b];\r\n                        dataTable.addRow(row);\r\n                    }\r\n                    var totalRecords = 0;\r\n                    if (result.meta && result.meta.totalRecords) {\r\n                        totalRecords = result.meta.totalRecords;\r\n                    }\r\n                    resolve({\r\n                        table: dataTable,\r\n                        total: totalRecords,\r\n                        hasNext: !params.needTotal || params.offset + params.limit < totalRecords\r\n                    });\r\n                },\r\n                error: function (error) { return reject(error); }\r\n            });\r\n        });\r\n        return this.dataLoadPromise;\r\n    };\r\n    return EasyQueryDataLoader;\r\n}());\r\nexport { EasyQueryDataLoader };\r\n//# sourceMappingURL=eq_data_loader.js.map","var EqServerExporter = /** @class */ (function () {\r\n    function EqServerExporter(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerExporter.prototype.setFormat = function (format) {\r\n        this.format = format;\r\n    };\r\n    EqServerExporter.prototype.export = function (options) {\r\n        options = options || {};\r\n        var http = this.context.getServices().getHttpClient();\r\n        var format = this.format || \"csv\";\r\n        var query = options.query || this.context.getQuery();\r\n        var queryId = query.getId();\r\n        var modelId = query.getModel().getId();\r\n        var data = {\r\n            'query': query.toJSONData(),\r\n            'settings': options.settings\r\n        };\r\n        var url = this.context.resolveEndpoint('ExportResult', { modelId: modelId, queryId: queryId, format: format });\r\n        var actionResult = http.post(url, data);\r\n        var request = actionResult.getRequest();\r\n        return actionResult.then(function (responseData) {\r\n            var blob = new Blob([responseData]);\r\n            var filename = request.getXMLHttpRequest()\r\n                .getResponseHeader(\"Content-Disposition\").match(/filename=\"(.*)\"/)[1];\r\n            if (window.navigator.msSaveOrOpenBlob) {\r\n                // Internet Explorer\r\n                window.navigator.msSaveOrOpenBlob(blob, filename);\r\n            }\r\n            else {\r\n                var a = document.createElement(\"a\");\r\n                document.body.appendChild(a);\r\n                a.style.display = \"none\";\r\n                a.href = window.URL.createObjectURL(blob);\r\n                a.download = filename;\r\n                a.click();\r\n                window.URL.revokeObjectURL(a.href);\r\n                document.body.removeChild(a);\r\n            }\r\n        });\r\n    };\r\n    return EqServerExporter;\r\n}());\r\nexport { EqServerExporter };\r\n//# sourceMappingURL=eqs_exporter.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { EasyDataTable, EventEmitter, utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easydata/core';\r\nimport { EqServiceProvider } from '../common/eq_services';\r\nimport { QueryChangePart } from '../query/query_events';\r\nimport { EqActionResult } from './messages';\r\nimport { WidgetGroup } from '../types/widget_group';\r\nimport { equtils } from '../utils/utils';\r\nimport { EqAction } from './eq_actions';\r\nimport { EqServerExporter } from '../eqs/eqs_exporter';\r\nimport { EasyQueryDataLoader } from '../data/eq_data_loader';\r\nimport { ExprTag } from '../types/expr_tag';\r\nimport { SortDirection } from '../query/column';\r\n/**\r\n * Encapsulates all information about EasyQuery components on some webpage\r\n * and provides some basic operation over those components\r\n * Each context includes the following main components:\r\n *  - one data model,\r\n *  - one query,\r\n *  - one result set\r\n *  - several UI widgets.\r\n */\r\nvar EqContext = /** @class */ (function () {\r\n    function EqContext() {\r\n        var _this = this;\r\n        this.internalListCache = {};\r\n        this.useBootstrap = false;\r\n        this.loadModelOnStart = true;\r\n        this.loadQueryOnStart = false;\r\n        this.calcTotals = false;\r\n        //----------- endpoint processing functions --------------\r\n        this.endpointVarsRegex = /\\{.*?\\}/g;\r\n        this._predefinedListRequestHandlers = {\r\n            '_DSDE': function (params, onResult) {\r\n                var data = _this.getModel().getAllDateMacros()\r\n                    .map(function (macro) {\r\n                    var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n                    return { id: macro, text: i18n.getText(macroName) };\r\n                });\r\n                onResult(data);\r\n                return true;\r\n            },\r\n            '_DSTE': function (params, onResult) {\r\n                var data = _this.getModel().getAllTimeMacros()\r\n                    .map(function (macro) {\r\n                    var macroName = macro.match(/\\${{(.*?)}}/)[1];\r\n                    return { id: macro, text: i18n.getText(macroName) };\r\n                });\r\n                onResult(data);\r\n                return true;\r\n            }\r\n        };\r\n        this._listRequestHandler = function (params, onResult) {\r\n            if (params == null || !params.listName)\r\n                return;\r\n            var query = _this.getQuery();\r\n            var newParams = dataUtils.assign({ listName: params.listName }, params.editorParams);\r\n            var procParams = {};\r\n            var attrPattern = /@{{(.+?)}}/;\r\n            for (var prop in newParams) {\r\n                if (!procParams[prop])\r\n                    continue;\r\n                var dynamicParam = newParams[prop].match(attrPattern);\r\n                if (dynamicParam) {\r\n                    var paramValue = query.getOneValueForAttr(dynamicParam[1]);\r\n                    if (!paramValue) {\r\n                        paramValue = '';\r\n                    }\r\n                    procParams[prop] = newParams[prop].replace(attrPattern, paramValue);\r\n                }\r\n            }\r\n            var requestPrams = {\r\n                listName: procParams.listName,\r\n                editorId: params.editorId,\r\n                queryParams: procParams\r\n            };\r\n            var list = _this.getListFromCache(params);\r\n            if (list && list.length > 0) {\r\n                onResult(list);\r\n                return;\r\n            }\r\n            var processed = false;\r\n            var predefinedHandler = _this._predefinedListRequestHandlers[params.editorId];\r\n            if (predefinedHandler) {\r\n                processed = predefinedHandler(params, onResult);\r\n            }\r\n            if (!processed && _this.clientListRequestHandler) {\r\n                processed = _this.clientListRequestHandler(params, onResult);\r\n            }\r\n            if (!processed) {\r\n                _this.loadValueList({\r\n                    params: requestPrams,\r\n                    success: function (data) {\r\n                        if (data) {\r\n                            _this.addListToCache(params, data);\r\n                        }\r\n                        onResult(data);\r\n                    },\r\n                    error: function (message) {\r\n                        onResult(null);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        this.eqServices = new EqServiceProvider(this);\r\n        this.widgets = new Array();\r\n        this.eventEmitter = new EventEmitter(this);\r\n        this.exporters = new Map();\r\n        this.endpoints = new Map();\r\n        this.dataLoader = new EasyQueryDataLoader(this);\r\n        this.resultTable = new EasyDataTable({\r\n            loader: this.dataLoader\r\n        });\r\n        this.resultTable.id = 'ResultTable';\r\n    }\r\n    EqContext.prototype.getServices = function () {\r\n        return this.eqServices;\r\n    };\r\n    EqContext.prototype.registerExporter = function (format, resolver) {\r\n        this.exporters.set(format, resolver);\r\n    };\r\n    EqContext.prototype.getExporter = function (format) {\r\n        var resolver = this.exporters.get(format);\r\n        if (resolver) {\r\n            return resolver(this);\r\n        }\r\n        return null;\r\n    };\r\n    EqContext.prototype.getExportFormats = function () {\r\n        return Array.from(this.exporters.keys());\r\n    };\r\n    EqContext.prototype.addDefaultExporters = function () {\r\n        this.registerExporter('csv', function (context) {\r\n            var exporter = new EqServerExporter(context);\r\n            exporter.setFormat('csv');\r\n            return exporter;\r\n        });\r\n        this.registerExporter('excel-html', function (context) {\r\n            var exporter = new EqServerExporter(context);\r\n            exporter.setFormat('excel-html');\r\n            return exporter;\r\n        });\r\n    };\r\n    EqContext.prototype.resolveEndpoint = function (endpointKey, options) {\r\n        options = options || {};\r\n        var result = this.endpoints.get(endpointKey);\r\n        if (!result) {\r\n            throw endpointKey + ' endpoint is not defined';\r\n        }\r\n        var matches = result.match(this.endpointVarsRegex);\r\n        if (matches) {\r\n            for (var _i = 0, matches_1 = matches; _i < matches_1.length; _i++) {\r\n                var match = matches_1[_i];\r\n                var opt = match.substring(1, match.length - 1);\r\n                var optVal = options[opt];\r\n                if (!optVal) {\r\n                    if (opt == 'modelId') {\r\n                        optVal = this.getModel().getId();\r\n                    }\r\n                    else if (opt == 'queryId') {\r\n                        optVal = this.getQuery().getId();\r\n                    }\r\n                    else {\r\n                        throw \"Parameter [\" + opt + \"] is not defined\";\r\n                    }\r\n                }\r\n                result = result.replace(match, optVal);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    EqContext.prototype.setEndpoint = function (key, value) {\r\n        this.endpoints.set(key, value);\r\n    };\r\n    EqContext.prototype.setEnpointIfNotExist = function (key, value) {\r\n        if (!this.endpoints.has(key))\r\n            this.endpoints.set(key, value);\r\n    };\r\n    EqContext.prototype.setDefaultEndpoints = function (endpointBase) {\r\n        this.setEnpointIfNotExist('GetModel', equtils.combinePath(endpointBase, 'models/{modelId}'));\r\n        this.setEnpointIfNotExist('GetQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}'));\r\n        this.setEnpointIfNotExist('SaveQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}'));\r\n        this.setEnpointIfNotExist('SyncQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}/sync'));\r\n        this.setEnpointIfNotExist('NewQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries'));\r\n        this.setEnpointIfNotExist('RemoveQuery', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}'));\r\n        this.setEnpointIfNotExist('GetQueryList', equtils.combinePath(endpointBase, 'models/{modelId}/queries'));\r\n        this.setEnpointIfNotExist('FetchData', equtils.combinePath(endpointBase, 'models/{modelId}/fetch'));\r\n        this.setEnpointIfNotExist('GetValueList', equtils.combinePath(endpointBase, 'models/{modelId}/valuelists/{listId}'));\r\n        this.setEnpointIfNotExist('ExportResult', equtils.combinePath(endpointBase, 'models/{modelId}/queries/{queryId}/export/{format}'));\r\n        this.setEnpointIfNotExist('GetQueryFile', equtils.combinePath(endpointBase, 'models/{modelId}/getqueryfile/{format}'));\r\n        this.setEnpointIfNotExist('UploadQueryFile', equtils.combinePath(endpointBase, 'models/{modelId}/uploadqueryfile'));\r\n    };\r\n    /**\r\n     * Initializes the context\r\n     * @param options\r\n     */\r\n    EqContext.prototype.init = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        if (typeof (options.chunkSize) !== 'undefined') {\r\n            this.resultTable.chunkSize = options.chunkSize;\r\n        }\r\n        var query = this.getQuery();\r\n        if (options.defaultQueryId) {\r\n            query.setId(options.defaultQueryId);\r\n        }\r\n        if (options.listCache) {\r\n            this.setExternalListCache(options.listCache);\r\n        }\r\n        if (options.locale) {\r\n            i18n.setCurrentLocale(options.locale);\r\n        }\r\n        if (options.localeSettings) {\r\n            i18n.updateLocaleSettings(options.localeSettings);\r\n        }\r\n        this.baseEndpoint = 'api/easyquery';\r\n        //for backward compatibility with version 5.x\r\n        var brokerOptions = options.broker;\r\n        if (brokerOptions) {\r\n            if (brokerOptions.serviceUrl) {\r\n                this.baseEndpoint = brokerOptions.serviceUrl;\r\n            }\r\n            if (brokerOptions.endpoint) {\r\n                this.baseEndpoint = brokerOptions.endpoint;\r\n            }\r\n            if (brokerOptions.onLoadModel) {\r\n                this.beforeLoadModel = brokerOptions.onLoadModel;\r\n            }\r\n            if (brokerOptions.onLoadQuery) {\r\n                this.beforeLoadQuery = brokerOptions.onLoadQuery;\r\n            }\r\n            if (brokerOptions.onSyncQuery) {\r\n                this.beforeSyncQuery = brokerOptions.onSyncQuery;\r\n            }\r\n            if (brokerOptions.onExecuteQuery) {\r\n                this.beforeFetchData = brokerOptions.onExecuteQuery;\r\n            }\r\n            if (brokerOptions.onExportResult) {\r\n                this.beforeExportResult = brokerOptions.onExportResult;\r\n            }\r\n            if (brokerOptions.onRequest) {\r\n                var http = this.getServices().getHttpClient();\r\n                http.beforeEachRequest = function (request) { return brokerOptions.onRequest(request.getXMLHttpRequest()); };\r\n            }\r\n        }\r\n        ;\r\n        if (options.endpoint) {\r\n            this.baseEndpoint = options.endpoint;\r\n        }\r\n        this.setDefaultEndpoints(this.baseEndpoint);\r\n        this.loadQueryOnStart = false;\r\n        if (options.loadQueryOnStart) {\r\n            this.loadQueryOnStart = options.loadQueryOnStart;\r\n        }\r\n        this.loadModelOnStart = true;\r\n        if (typeof options.loadModelOnStart !== 'undefined') {\r\n            this.loadModelOnStart = options.loadModelOnStart;\r\n        }\r\n        if (options.handlers) {\r\n            if (options.handlers.onInit) {\r\n                this.addEventListener('ready', function () { return options.handlers.onInit(_this); });\r\n            }\r\n            if (options.handlers.onLoadModel) {\r\n                this.addEventListener('loadModel', options.handlers.onLoadModel);\r\n            }\r\n            if (options.handlers.onLoadQuery) {\r\n                this.addEventListener('loadQuery', options.handlers.onLoadQuery);\r\n            }\r\n            if (options.handlers.onInitialModelLoad) {\r\n                this.addEventListener('initialModelLoad', options.handlers.onInitialModelLoad);\r\n            }\r\n            if (options.handlers.onProcessStart) {\r\n                this.addEventListener('processStart', options.handlers.onProcessStart);\r\n            }\r\n            if (options.handlers.onProcessEnd) {\r\n                this.addEventListener('processEnd', options.handlers.onProcessEnd);\r\n            }\r\n            if (options.handlers.onError) {\r\n                this.addEventListener('error', options.handlers.onError);\r\n            }\r\n            else {\r\n                this.addEventListener('error', function (msg) {\r\n                    msg.result = EqActionResult.Error;\r\n                    var msgTitle = msg && msg ? msg.action + ' error' : 'Error';\r\n                    var msgText = msg && msg.text ? msg.text : '';\r\n                    if (msg.sourceError.message !== msgText) {\r\n                        msgText += '\\n' + msg.sourceError;\r\n                    }\r\n                    console.error(msgTitle + ': ' + msgText);\r\n                });\r\n            }\r\n            if (options.handlers.listRequestHandler) {\r\n                this.clientListRequestHandler = options.handlers.listRequestHandler;\r\n            }\r\n            if (options.handlers.beforeLoadModel) {\r\n                this.beforeLoadModel = options.handlers.beforeLoadModel;\r\n            }\r\n            if (options.handlers.beforeLoadQuery) {\r\n                this.beforeLoadQuery = options.handlers.beforeLoadQuery;\r\n            }\r\n            if (options.handlers.beforeSyncQuery) {\r\n                this.beforeSyncQuery = options.handlers.beforeSyncQuery;\r\n            }\r\n            if (options.handlers.beforeExecuteQuery) {\r\n                console.warn('\"beforeExecuteQuery\" handler is deprecated! Use \"beforeFetchData\" instead.');\r\n                this.beforeFetchData = options.handlers.beforeExecuteQuery;\r\n            }\r\n            if (options.handlers.beforeFetchData) {\r\n                this.beforeFetchData = options.handlers.beforeFetchData;\r\n            }\r\n            if (options.handlers.beforeExportResult) {\r\n                this.beforeExportResult = options.handlers.beforeExportResult;\r\n            }\r\n        }\r\n        this.calcTotals = options.calcTotals || false;\r\n        this.initialQuery = options.initialQuery;\r\n        this.defaultQueryId = options.defaultQueryId || '';\r\n        this.defaultModelId = options.defaultModelId || '__default';\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        modelLoader.init(options);\r\n        var queryStorage = this.eqServices.getQueryStorage();\r\n        queryStorage.init(options);\r\n        if (options.useDefaultExporters !== false) {\r\n            this.addDefaultExporters();\r\n        }\r\n        //init widgets\r\n        this.widgets.forEach(function (widget) {\r\n            var widgetOptions = {};\r\n            if (options.widgets && options.widgets[widget.getWidgetType()]) {\r\n                widgetOptions = options.widgets[widget.getWidgetType()];\r\n            }\r\n            widget.init(_this, widgetOptions);\r\n        });\r\n        if (this.loadModelOnStart) {\r\n            this.loadDefaultModel();\r\n        }\r\n        else {\r\n            this.fireEvent('ready');\r\n        }\r\n    };\r\n    /**\r\n     * Add a new widget to the context.\r\n     * After that the widget will start to receive messages from other context components.\r\n     * @param widget\r\n     */\r\n    EqContext.prototype.addWidget = function (widget) {\r\n        this.widgets.push(widget);\r\n    };\r\n    /**\r\n     * Returns all widgets with current type.\r\n     * @param widgetType The widget type\r\n     */\r\n    EqContext.prototype.getAllWidgetsByType = function (widgetType) {\r\n        return this.widgets\r\n            .filter(function (widget) { return widget.getWidgetType() === widgetType; });\r\n    };\r\n    /**\r\n     * Returns first registerd widget with current type\r\n     * @param widgetType The widget type\r\n     */\r\n    EqContext.prototype.getWidgetByType = function (widgetType) {\r\n        var widgets = this.getAllWidgetsByType(widgetType);\r\n        return widgets.length > 0 ? widgets[0] : null;\r\n    };\r\n    /**\r\n     * This method is called automatically when some change was made either in context's data model or query\r\n     * @param groups\r\n     */\r\n    EqContext.prototype.refreshWidgets = function (groups) {\r\n        if (groups === void 0) { groups = WidgetGroup.All; }\r\n        this.widgets.forEach(function (widget) {\r\n            if (widget.belongsToGroup(groups)) {\r\n                widget.refresh();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Register a new handler for 'query changed' event\r\n     * @param callback\r\n     */\r\n    EqContext.prototype.addQueryChangedCallback = function (callback) {\r\n        this.getQuery().addChangedCallback(callback);\r\n    };\r\n    /**\r\n     * Removes the function from the list of registerd handlers for 'query changed' event\r\n     * @param callback\r\n     */\r\n    EqContext.prototype.removeQueryChangedCallback = function (callback) {\r\n        this.getQuery().removeChangedCallback(callback);\r\n    };\r\n    /**\r\n     * Creates a new query object using the current instance of EqServices\r\n     */\r\n    EqContext.prototype.createQuery = function () {\r\n        return this.eqServices.createQuery();\r\n    };\r\n    /**\r\n     * Gets the current query\r\n     */\r\n    EqContext.prototype.getQuery = function () {\r\n        if (!this.query) {\r\n            this.query = this.createQuery();\r\n        }\r\n        return this.query;\r\n    };\r\n    /**\r\n     * Gets the current data model\r\n     */\r\n    EqContext.prototype.getModel = function () {\r\n        if (!this.dataModel) {\r\n            this.dataModel = this.eqServices.createDataModel();\r\n        }\r\n        return this.dataModel;\r\n    };\r\n    /**\r\n     * Sets the content of the current data model\r\n    */\r\n    EqContext.prototype.loadModelFromData = function (modelPlainData) {\r\n        this.getQuery().loadModelData(modelPlainData);\r\n        this.dataModel = this.getQuery().getModel();\r\n    };\r\n    /**\r\n     * Sets the ID of the default model\r\n     * @param modelId\r\n     */\r\n    EqContext.prototype.setDefaultModelId = function (modelId) {\r\n        this.defaultModelId = modelId;\r\n    };\r\n    /**\r\n     * Notifies context components about starting of some long process (e.g. model loading)\r\n     * This method raises onProcessStart event in the context and all its widgets\r\n     * @param message\r\n     * @param groups\r\n     */\r\n    EqContext.prototype.startProcess = function (message, groups) {\r\n        this.eventEmitter.fire('processStart', message);\r\n        this.widgets.forEach(function (widget) {\r\n            if (widget.belongsToGroup(groups)) {\r\n                widget.onProcessStart();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Notifies all context components about the finishing of some long process\r\n     * @param message\r\n     * @param groups\r\n     */\r\n    EqContext.prototype.endProcess = function (message, groups) {\r\n        this.eventEmitter.fire('processEnd', message);\r\n        if (message.result === EqActionResult.Error) {\r\n            this.throwError(message);\r\n        }\r\n        this.widgets.forEach(function (widget) {\r\n            if (widget.belongsToGroup(groups)) {\r\n                widget.onProcessEnd();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Throws the error passed in the function parameter.\r\n     * If onError event handler is defined - we call that method.\r\n     * Otherwise - just place the error message to the browser console.\r\n     * @param error\r\n     */\r\n    EqContext.prototype.throwError = function (msg) {\r\n        msg.result = EqActionResult.Error;\r\n        this.eventEmitter.fire('error', msg);\r\n    };\r\n    /**\r\n     * If `defaultModelId` property is define - this method calls `loadModel` function in the broker\r\n     * to load the model with such ID.\r\n     *\r\n     */\r\n    EqContext.prototype.loadDefaultModel = function () {\r\n        var _this = this;\r\n        this.loadModel({\r\n            modelId: this.defaultModelId,\r\n            silent: true,\r\n            success: function () {\r\n                _this.refreshWidgets(WidgetGroup.Model);\r\n                var query = _this.getQuery();\r\n                _this.fireEvent('initialModelLoad', query.getModel());\r\n                if (_this.initialQuery) {\r\n                    query.loadFromData(_this.initialQuery, false);\r\n                }\r\n                if (_this.loadQueryOnStart) {\r\n                    _this.loadQuery({\r\n                        queryId: _this.defaultQueryId,\r\n                        modelId: _this.defaultModelId,\r\n                        success: function () {\r\n                            _this.refreshWidgets(WidgetGroup.Query);\r\n                            //if we load query on start - then we should call 'ready' event only after its successful loading\r\n                            _this.fireEvent('ready');\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    _this.refreshWidgets(WidgetGroup.Query);\r\n                    _this.fireEvent('ready');\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Clears the content of the current query\r\n     */\r\n    EqContext.prototype.clearQuery = function () {\r\n        var query = this.getQuery();\r\n        query.clear();\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.All\r\n        });\r\n    };\r\n    /**\r\n     * Clears all query results (the data set and the statement, if any)\r\n     */\r\n    EqContext.prototype.clearResult = function () {\r\n        this.resultTable.clear(); // do not set resultTable to null. Just clear\r\n        this.resultStatement = null;\r\n        this.resultContent = null;\r\n    };\r\n    /**\r\n     * Sets the external 'list cache' provider - an object which implements `ExternalListCache` inteface\r\n     * @param cache\r\n     */\r\n    EqContext.prototype.setExternalListCache = function (cache) {\r\n        this.externalListCache = cache;\r\n    };\r\n    EqContext.prototype.getListFromCache = function (params) {\r\n        var key = this.getListCacheKey(params);\r\n        if (this.externalListCache) {\r\n            return this.externalListCache.get(key);\r\n        }\r\n        else {\r\n            return this.internalListCache[key];\r\n        }\r\n    };\r\n    EqContext.prototype.getListCacheKey = function (params) {\r\n        var key = params.listName == 'SQL' ? 'SQL_' + params.editorId : params.listName;\r\n        if (params.queryParams) {\r\n            key += '_' + Object.keys(params.queryParams).filter(function (k) { return k != 'listName'; })\r\n                .map(function (k) { return params.queryParams[k]; })\r\n                .join('_');\r\n        }\r\n        return key;\r\n    };\r\n    EqContext.prototype.addListToCache = function (params, list) {\r\n        var key = this.getListCacheKey(params);\r\n        if (this.externalListCache) {\r\n            this.externalListCache.set(key, list);\r\n        }\r\n        else {\r\n            this.internalListCache[key] = list;\r\n        }\r\n    };\r\n    /**\r\n     * Clears the current list cache.\r\n     */\r\n    EqContext.prototype.resetListCache = function () {\r\n        if (this.externalListCache) {\r\n            this.externalListCache.clear();\r\n        }\r\n        else {\r\n            this.internalListCache = {};\r\n        }\r\n    };\r\n    /**\r\n     * Gets the handler for 'GetList' requests\r\n     */\r\n    EqContext.prototype.getListRequestHandler = function () {\r\n        return this._listRequestHandler;\r\n    };\r\n    /**\r\n     * Adds the translations of the EasyQuery messages for some locale\r\n     * @param locale - the ISO code of the locale (like `en` or `uk`)\r\n     * @param localeInfo - Locale settings and translations of EasyQuery texts and messages.\r\n     * We expected an object with the struture of LocaleInfo interface here.\r\n     */\r\n    EqContext.prototype.addLocale = function (locale, localeInfo) {\r\n        i18n.addLocale(locale, localeInfo);\r\n    };\r\n    EqContext.prototype.addEventListener = function (eventType, handler) {\r\n        return this.eventEmitter.subscribe(eventType, function (event) { return handler(event.data); });\r\n    };\r\n    /**\r\n     * Remove event handler for event type .\r\n     * @param eventType The event type.\r\n     * @param handlerId The handler id.\r\n     */\r\n    EqContext.prototype.removeEventListener = function (eventType, handlerId) {\r\n        this.eventEmitter.unsubscribe(eventType, handlerId);\r\n    };\r\n    EqContext.prototype.fireEvent = function (eventType, data) {\r\n        this.eventEmitter.fire(eventType, data);\r\n    };\r\n    EqContext.prototype.getBaseEndpoint = function () {\r\n        return this.baseEndpoint;\r\n    };\r\n    /**\r\n     * Sends a `loadValueList` requesthe server and processes the response.\r\n     * @param options A map of options to pass to `loadValueList` function.\r\n     */\r\n    EqContext.prototype.loadValueList = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        this.startProcess({\r\n            action: EqAction.GetValueList,\r\n            text: 'Loading values'\r\n        }, WidgetGroup.Result);\r\n        var valueListResolver = this.eqServices.getValueListResolver();\r\n        valueListResolver.loadValueList(options)\r\n            .then(function (values) {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.GetValueList,\r\n                text: 'Values loaded'\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success(values);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var editorId = options && options.params ? options.params.editorId : 'undefined';\r\n            var errorMessage = \"Can't load the value list for editor \" + editorId + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.GetValueList,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Result);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'GetValueList');\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Starts the process of the model loading.\r\n     * This method can initiate a request to EasyQueryServer backend or get the model from OData or GraphQL endpoint\r\n     * The content of the `options` parameter depends on concrete loader implementation.\r\n     * @param options A map of options to pass to `loadModel` function (can be ommited)\r\n     * @example\r\n     * context.loadModel()\r\n     *    .then(model => {\r\n     *       alert(\"Model loaded!\");\r\n     *    });\r\n     */\r\n    EqContext.prototype.loadModel = function (options) {\r\n        var _this = this;\r\n        if (this.beforeLoadModel) {\r\n            this.beforeLoadModel(this, options);\r\n        }\r\n        var modelId = options.modelId || '__default';\r\n        var silent = options.silent || false;\r\n        this.startProcess({\r\n            action: EqAction.LoadModel,\r\n            text: 'Loading model: ' + modelId\r\n        }, WidgetGroup.Model);\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        return modelLoader.startModelLoading(options)\r\n            .then(function (value) {\r\n            if (value) {\r\n                _this.loadModelFromData(value);\r\n            }\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.LoadModel,\r\n                text: 'Model loaded: ' + modelId\r\n            }, WidgetGroup.Model);\r\n            if (!silent) {\r\n                _this.clearQuery();\r\n                _this.clearResult();\r\n                _this.refreshWidgets();\r\n            }\r\n            if (options.success) {\r\n                options.success(_this.getModel());\r\n            }\r\n            _this.fireEvent('loadModel', _this.getModel());\r\n            return _this.getModel();\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't load model \" + modelId + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.LoadModel,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Model);\r\n            if (options.error) {\r\n                options.error(errorMessage, \"LoadModel\");\r\n            }\r\n            return _this.getModel();\r\n        });\r\n    };\r\n    EqContext.prototype.callWhenModelLoaded = function (callFunc) {\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        modelLoader.getModelPromise().then(function () {\r\n            callFunc();\r\n        });\r\n    };\r\n    /**\r\n     * Loads the query\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success`, `error` callbacks and `id` option of query to load.\r\n     * @example\r\n     * context.loadQuery({\r\n     *      id: \"query-id\"\r\n     * });\r\n     */\r\n    EqContext.prototype.loadQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        this.clearResult();\r\n        modelLoader.getModelPromise()\r\n            .then(function () {\r\n            options = options || {};\r\n            var queryId = options.queryId;\r\n            var silent = options.silent || false;\r\n            if (_this.beforeLoadQuery) {\r\n                _this.beforeLoadQuery(_this, options);\r\n            }\r\n            _this.startProcess({\r\n                action: EqAction.LoadQuery,\r\n                text: \"Query loading: \" + queryId\r\n            }, WidgetGroup.Query);\r\n            var queryStorage = _this.eqServices.getQueryStorage();\r\n            queryStorage.loadQuery(options)\r\n                .then(function (data) {\r\n                _this.endProcess({\r\n                    result: EqActionResult.Success,\r\n                    action: EqAction.LoadQuery,\r\n                    text: 'Query loaded: ' + queryId\r\n                }, WidgetGroup.Query);\r\n                if (data)\r\n                    _this.query.loadFromData(data);\r\n                _this.query.resetModified();\r\n                if (!silent) {\r\n                    _this.query.fireChangedEvent({\r\n                        part: QueryChangePart.Properties,\r\n                        wasModified: _this.query.isModified()\r\n                    });\r\n                    _this.refreshWidgets();\r\n                }\r\n                _this.fireEvent('loadQuery', _this.query);\r\n                if (options.success) {\r\n                    options.success(_this.query);\r\n                }\r\n            })\r\n                .catch(function (error) {\r\n                var query = _this.getQuery();\r\n                error.message = \"Can't sync query [\" + query.getId() + \"]\\n\" + (error.message || \"\");\r\n                _this.endProcess({\r\n                    result: EqActionResult.Error,\r\n                    action: EqAction.LoadQuery,\r\n                    text: error.message,\r\n                    sourceError: error\r\n                }, WidgetGroup.Query);\r\n            });\r\n        })\r\n            .catch(function (error) {\r\n            console.error(error);\r\n        });\r\n    };\r\n    /**\r\n     * Loads the list of queries available for the current user.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success`, `error` callbacks\r\n     */\r\n    EqContext.prototype.loadQueryList = function (options) {\r\n        var _this = this;\r\n        var modelLoader = this.eqServices.getModelLoader();\r\n        modelLoader.getModelPromise()\r\n            .then(function () {\r\n            _this.startQueryListLoading(options);\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't load the list of available queries.\\n \" + error.message;\r\n            _this.throwError({\r\n                action: EqAction.LoadQueryList,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            });\r\n        });\r\n    };\r\n    EqContext.prototype.startQueryListLoading = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var queryStorage = this.eqServices.getQueryStorage();\r\n        var queryListLoadingPromise = queryStorage.getQueryList(options);\r\n        queryListLoadingPromise\r\n            .then(function (queries) {\r\n            if (options.success) {\r\n                options.success(queries);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't load the list of available queries.\\n \" + error.message;\r\n            if (options.error) {\r\n                options.error(errorMessage, 'LoadQueryList');\r\n            }\r\n            else {\r\n                _this.throwError({\r\n                    action: EqAction.LoadQueryList,\r\n                    text: errorMessage,\r\n                    sourceError: error\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Creates a new query and returns its content back to the client-side.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success`, `error` callbacks and `silent` option\r\n     * @example\r\n     * context.newQuery({\r\n     *    silent: true\r\n     * });\r\n     */\r\n    EqContext.prototype.newQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var clearQuery = typeof options.clearQuery !== 'undefined' ? options.clearQuery : true;\r\n        this.query.reset(clearQuery);\r\n        if (options.queryId) {\r\n            this.query.setId(options.queryId);\r\n        }\r\n        if (options.name) {\r\n            this.query.setName(options.name);\r\n        }\r\n        var silent = options.silent || false;\r\n        var useStorage = true;\r\n        if (typeof options.useStorage !== 'undefined') {\r\n            useStorage = options.useStorage;\r\n        }\r\n        var onNewQuery = function () {\r\n            var query = _this.getQuery();\r\n            query.isNewbie = true;\r\n            if (!silent) {\r\n                query.fireChangedEvent({\r\n                    part: QueryChangePart.All,\r\n                    wasModified: query.isModified()\r\n                });\r\n            }\r\n        };\r\n        if (useStorage) {\r\n            this.startProcess({\r\n                action: EqAction.NewQuery,\r\n                text: 'New query creation...'\r\n            }, WidgetGroup.Query);\r\n            var queryStorage = this.eqServices.getQueryStorage();\r\n            queryStorage.newQuery(options)\r\n                .then(function () {\r\n                _this.endProcess({\r\n                    result: EqActionResult.Success,\r\n                    action: EqAction.NewQuery,\r\n                    text: 'A new query has been created'\r\n                }, WidgetGroup.Query);\r\n                onNewQuery();\r\n                if (options.success) {\r\n                    options.success();\r\n                }\r\n            })\r\n                .catch(function (error) {\r\n                var errorMessage = \"Can't create a new query.\\n\" + error.message;\r\n                _this.endProcess({\r\n                    result: EqActionResult.Error,\r\n                    action: EqAction.NewQuery,\r\n                    text: errorMessage,\r\n                    sourceError: error\r\n                }, WidgetGroup.Query);\r\n                if (options.error) {\r\n                    options.error(errorMessage, \"NewQuery\");\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            onNewQuery();\r\n        }\r\n        return this.query;\r\n    };\r\n    /**\r\n     * Saves the current query to some storage on the server-side.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     */\r\n    EqContext.prototype.saveQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.SaveQuery,\r\n            text: 'Query saving: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryStorage = this.eqServices.getQueryStorage();\r\n        queryStorage.saveQuery(options)\r\n            .then(function (data) {\r\n            _this.endProcess({\r\n                action: EqAction.SaveQuery,\r\n                result: EqActionResult.Success,\r\n                text: \"Query saved: \" + query.getId()\r\n            }, WidgetGroup.Query);\r\n            if (data) {\r\n                query.loadFromData(data);\r\n            }\r\n            query.resetModified();\r\n            query.isNewbie = false;\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't save query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                action: EqAction.SaveQuery,\r\n                result: EqActionResult.Error,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, \"SaveQuery\");\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Removes the current query from some storage on the server-side.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QueryStorage` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     */\r\n    EqContext.prototype.removeQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.RemoveQuery,\r\n            text: 'Query deleting: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryStorage = this.eqServices.getQueryStorage();\r\n        queryStorage.removeQuery(options)\r\n            .then(function () {\r\n            query.reset();\r\n            _this.endProcess({\r\n                action: EqAction.RemoveQuery,\r\n                result: EqActionResult.Success,\r\n                text: \"Query deleted: \" + query.getId()\r\n            }, WidgetGroup.Query);\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't remove query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                action: EqAction.RemoveQuery,\r\n                result: EqActionResult.Error,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'RemoveQuery');\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Syncronizes the current query.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `QuerySyncronizer` implementation.\r\n     * Usually it contains `success` and `error` callbacks\r\n     */\r\n    EqContext.prototype.syncQuery = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        var query = this.getQuery();\r\n        if (this.beforeSyncQuery) {\r\n            this.beforeSyncQuery(this, options);\r\n        }\r\n        this.startProcess({\r\n            action: EqAction.SyncQuery,\r\n            text: 'Query syncing: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var querySyncrhonizer = this.eqServices.getQuerySynchronizer();\r\n        querySyncrhonizer.syncQuery(options)\r\n            .then(function (result) {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.SyncQuery,\r\n                text: 'Query synced: ' + query.getId()\r\n            }, WidgetGroup.Query);\r\n            _this.resultStatement = result && result.statement\r\n                ? result.statement\r\n                : '';\r\n            _this.refreshWidgets(WidgetGroup.Statement);\r\n            if (result) {\r\n                if (result.querySaved) {\r\n                    var q = result.query;\r\n                    if (q) {\r\n                        query.setId(q.id);\r\n                        query.setName(q.name);\r\n                        query.setDescription(q.desc);\r\n                        query.extraData = q.extraData;\r\n                    }\r\n                    query.resetModified();\r\n                    _this.refreshWidgets(WidgetGroup.QueryStatus);\r\n                }\r\n                if (options.success) {\r\n                    options.success(result);\r\n                }\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't synchronize query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.SyncQuery,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'SyncQuery');\r\n            }\r\n        });\r\n    };\r\n    EqContext.prototype.processQueryForTotals = function () {\r\n        var cols = this.query.getUsedInTotalsColumns();\r\n        cols.forEach(function (col) {\r\n            if (col.sorting == SortDirection.None) {\r\n                col.sorting = SortDirection.Ascending;\r\n            }\r\n        });\r\n        cols = this.query.getColumns();\r\n        SortDirection;\r\n        cols.forEach(function (col, index) {\r\n            col.sortIndex = index;\r\n        });\r\n        this.query.fireChangedEvent({\r\n            part: QueryChangePart.Columns,\r\n            wasModified: false\r\n        });\r\n    };\r\n    /**\r\n     * Fetches the data (usuall by executing current query) and processes the result.\r\n     * @param options\r\n     * The `options` parameter in addition to the options defined in ExecuteQueryOptions structure may also contain `success` and `error` callbacks.\r\n     * @example\r\n     * context.fetchData({ success: function(result) {\r\n     *   //do whatever you want with the result\r\n     * }})\r\n     *\r\n     */\r\n    EqContext.prototype.fetchData = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        options.chunk = options.chunk ||\r\n            {\r\n                offset: 0,\r\n                limit: this.resultTable.chunkSize,\r\n                needTotal: true\r\n            };\r\n        if (!this.query.tryValidate({\r\n            checkExpressions: true\r\n        })) {\r\n            return;\r\n        }\r\n        if (this.calcTotals && this.query.hasEnabledAggrColumns()) {\r\n            this.processQueryForTotals();\r\n        }\r\n        this.fetchDataChunk(__assign({}, options, { success: function (result) {\r\n                if (result.statement) {\r\n                    _this.resultStatement = result.statement;\r\n                    _this.refreshWidgets(WidgetGroup.Statement);\r\n                }\r\n                _this.resultContent = result;\r\n                if (result.resultSet) {\r\n                    _this.resultTable.clear();\r\n                    var resultSet = result.resultSet;\r\n                    for (var _i = 0, _a = resultSet.cols; _i < _a.length; _i++) {\r\n                        var col = _a[_i];\r\n                        _this.resultTable.columns.add(col);\r\n                    }\r\n                    _this.resultTable.setTotal(result.meta.totalRecords);\r\n                    for (var _b = 0, _c = resultSet.rows; _b < _c.length; _b++) {\r\n                        var row = _c[_b];\r\n                        _this.resultTable.addRow(row);\r\n                    }\r\n                }\r\n                if (options.success) {\r\n                    options.success(result);\r\n                }\r\n            } }));\r\n    };\r\n    EqContext.prototype.getQueryFile = function (options) {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.GetQueryFile,\r\n            text: 'Getting query file: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryFileLoader = this.getServices().getQueryFileLoader();\r\n        queryFileLoader.getQueryFile(options)\r\n            .then(function () {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.GetQueryFile,\r\n                text: 'Getting query file: ' + query.getId()\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't get file for query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.GetQueryFile,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'GetQueryFile');\r\n            }\r\n        });\r\n    };\r\n    EqContext.prototype.uploadQueryFile = function (options) {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.startProcess({\r\n            action: EqAction.UploadQueryFile,\r\n            text: 'Uploading query file: ' + query.getId()\r\n        }, WidgetGroup.Query);\r\n        var queryFileLoader = this.getServices().getQueryFileLoader();\r\n        queryFileLoader.uploadQueryFile(options)\r\n            .then(function (data) {\r\n            query.loadFromData(data);\r\n            _this.refreshWidgets();\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.UploadQueryFile,\r\n                text: 'Uploading query file: ' + query.getId()\r\n            }, WidgetGroup.Result);\r\n            _this.fireEvent('loadQuery', query);\r\n            if (options.success) {\r\n                options.success();\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Can't upload a file for query \" + query.getId() + \".\\n \" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.UploadQueryFile,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Query);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'UploadQueryFile');\r\n            }\r\n        });\r\n    };\r\n    EqContext.prototype.fetchDataChunk = function (options) {\r\n        var _this = this;\r\n        if (this.beforeFetchData) {\r\n            this.beforeFetchData(this, options);\r\n        }\r\n        var queryId = this.getQuery().getId();\r\n        this.startProcess({\r\n            action: EqAction.FetchData,\r\n            text: 'Fetching data for query: ' + queryId\r\n        }, WidgetGroup.Result);\r\n        var queryExecutor = this.eqServices.getQueryExecutor();\r\n        queryExecutor.executeQuery(options)\r\n            .then(function (result) {\r\n            if (result.statement) {\r\n                _this.resultStatement = result.statement;\r\n            }\r\n            _this.resultContent = result;\r\n            if (_this.calcTotals && _this.query.hasEnabledAggrColumns()) {\r\n                var calculator = _this.getServices().getTotalCalculator();\r\n                calculator.calculate({\r\n                    maxLevel: _this.query.getColumns()\r\n                        .filter(function (col) { return col.expr.tag == ExprTag.EntityAttribute\r\n                        && col.enabled; }).length\r\n                });\r\n            }\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.FetchData,\r\n                text: 'Data fetching finished for query: ' + queryId\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success(result);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Data fetching error for query \" + queryId + \". \\n\" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.FetchData,\r\n                text: errorMessage,\r\n                sourceError: error\r\n            }, WidgetGroup.Result);\r\n            if (options.error) {\r\n                options.error(errorMessage, EqAction.FetchData);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Fetches the data for a drill-down query (if defined) and processes the result.\r\n     * @param options\r\n     */\r\n    EqContext.prototype.fetchDrillDownData = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        options.chunk = options.chunk ||\r\n            {\r\n                offset: 0,\r\n                limit: this.resultTable.chunkSize,\r\n                needTotal: true\r\n            };\r\n        var query = options.query;\r\n        var queryId = query.getId();\r\n        this.startProcess({\r\n            action: EqAction.FetchData,\r\n            text: 'DrillDown executing: ' + queryId\r\n        }, WidgetGroup.Result);\r\n        var queryExecutor = this.eqServices.getQueryExecutor();\r\n        queryExecutor.executeQuery(options)\r\n            .then(function (result) {\r\n            _this.endProcess({\r\n                result: EqActionResult.Success,\r\n                action: EqAction.FetchData,\r\n                text: 'DrillDown execution error: ' + queryId\r\n            }, WidgetGroup.Result);\r\n            if (options.success) {\r\n                options.success(result);\r\n            }\r\n        })\r\n            .catch(function (error) {\r\n            var errorMessage = \"Drill-down data fetching error for query \" + queryId + \". \\n\" + error.message;\r\n            _this.endProcess({\r\n                result: EqActionResult.Error,\r\n                action: EqAction.FetchData,\r\n                text: errorMessage,\r\n            }, WidgetGroup.Result);\r\n            if (options.error) {\r\n                options.error(errorMessage, 'DrillDown');\r\n            }\r\n            else {\r\n                _this.throwError({\r\n                    action: EqAction.FetchData,\r\n                    text: errorMessage\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Fetches the data for defined by this context and exports them to the specified format.\r\n     * @param options\r\n     * The content of the `options` parameter depends on `EqExporter` implementation.\r\n     * Usually it contains `format` property which defines the format of the exported data (e.g. `csv`),\r\n     * and `success` and `error` callbacks\r\n     * @example\r\n     * context.exportResult({\r\n     *      format: csv\r\n     * });\r\n     *\r\n     */\r\n    EqContext.prototype.exportResult = function (options) {\r\n        var _this = this;\r\n        options = options || {};\r\n        if (this.beforeExportResult) {\r\n            this.beforeExportResult(this, options);\r\n        }\r\n        var format = options.format;\r\n        if (format) {\r\n            var exporter = this.getExporter(format);\r\n            if (exporter) {\r\n                var queryId_1 = this.getQuery().getId();\r\n                this.startProcess({\r\n                    action: EqAction.ExportResult,\r\n                    text: 'Exporting result for query: ' + queryId_1\r\n                }, WidgetGroup.Result);\r\n                var localeSettings = i18n.getLocaleSettings();\r\n                options.settings = {\r\n                    dateFormat: localeSettings.shortDateFormat,\r\n                    timeFormat: localeSettings.shortTimeFormat\r\n                };\r\n                exporter.export(options)\r\n                    .then(function (result) {\r\n                    _this.endProcess({\r\n                        result: EqActionResult.Success,\r\n                        action: EqAction.ExportResult,\r\n                        text: \"The result set for query [\" + queryId_1 + \"] has been successfully exported\"\r\n                    }, WidgetGroup.Result);\r\n                    if (options.success) {\r\n                        options.success();\r\n                    }\r\n                })\r\n                    .catch(function (error) {\r\n                    var errorMessage = \"Error on exporting data for query  \" + queryId_1 + \". \\n\" + error.message;\r\n                    _this.endProcess({\r\n                        result: EqActionResult.Error,\r\n                        action: EqAction.ExportResult,\r\n                        text: errorMessage,\r\n                        sourceError: error\r\n                    }, WidgetGroup.Result);\r\n                    if (options.error) {\r\n                        options.error(errorMessage, 'ExportResult');\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n    EqContext.prototype.getDefaultTotalsSettings = function () {\r\n        var model = this.getModel();\r\n        var settings = {\r\n            calcGrandTotals: true,\r\n            cols: {}\r\n        };\r\n        var cols = this.getQuery().getUsedInTotalsColumns();\r\n        var prevEntity;\r\n        cols.forEach(function (col, index) {\r\n            settings.cols[col.id] = {};\r\n            var attr = model.getAttributeById(col.expr.value);\r\n            var entity = attr.entity;\r\n            if (prevEntity === entity) {\r\n                settings.cols[cols[index - 1].id].calcSubTotals = false;\r\n            }\r\n            settings.cols[col.id].calcSubTotals = true;\r\n            prevEntity = entity;\r\n        });\r\n        return settings;\r\n    };\r\n    EqContext.prototype.getTotalsSettings = function () {\r\n        var settings = dataUtils.assign(this.getDefaultTotalsSettings(), this.query.innerData.totalsSettings);\r\n        if (this.wereTotalsColumnsChanged(settings)) {\r\n            settings.cols = this.getDefaultTotalsSettings().cols;\r\n        }\r\n        return settings;\r\n    };\r\n    EqContext.prototype.setTotalsSettings = function (settings, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        this.query.innerData.totalsSettings = settings;\r\n        if (!silent) {\r\n            this.query.fireChangedEvent({\r\n                part: QueryChangePart.Properties,\r\n                wasModified: true\r\n            });\r\n        }\r\n    };\r\n    EqContext.prototype.wereTotalsColumnsChanged = function (settings) {\r\n        settings = settings || this.query.innerData.totalsSettings;\r\n        var cols = this.query.getUsedInTotalsColumns();\r\n        var sCols = settings.cols || {};\r\n        if (cols.length != Object.keys(sCols).length)\r\n            return true;\r\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\r\n            var col = cols_1[_i];\r\n            if (typeof sCols[col.id] === 'undefined')\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    return EqContext;\r\n}());\r\nexport { EqContext };\r\n//# sourceMappingURL=context.js.map","import { utils } from '@easydata/core';\r\n/**\r\n * Represents a widget - a visual element with \"knows\" how to render itself.\r\n * Some widgets just display some information from the context (like the generated SQL or the result set).\r\n * Others - allow user to interact with them to define query conditions or columns.\r\n */\r\nvar Widget = /** @class */ (function () {\r\n    /**\r\n     Initializes a new instance of the `Widget` class\r\n     * @param slot - an HTML element in which we should place our widget.\r\n     */\r\n    function Widget(slot) {\r\n        this.slot = slot;\r\n        this._id = utils.generateId(this.getWidgetType());\r\n    }\r\n    Object.defineProperty(Widget.prototype, \"id\", {\r\n        get: function () {\r\n            return this._id;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Initializes the widget and assign it to some context\r\n     * @param context\r\n     * @param options\r\n     */\r\n    Widget.prototype.init = function (context, options) {\r\n        this.context = context;\r\n    };\r\n    /**\r\n     * Returns current context (the one this widget belongs to)\r\n     */\r\n    Widget.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    /**\r\n     * Refreshes the widget's content\r\n     */\r\n    Widget.prototype.refresh = function () {\r\n        this.refreshCore();\r\n    };\r\n    /**\r\n     * This function is called from `refresh` function.\r\n     * It does nothing in the base `Widget` class\r\n     * but can be overridden in derived classes\r\n     * to implement the functionality specific for a particular widget\r\n     */\r\n    Widget.prototype.refreshCore = function () {\r\n    };\r\n    /**\r\n     * This function is called on the start of some process this widget participates in.\r\n     * For example, some widgets can show a spinner or a progress bar\r\n     * at the beginning of some long process (e.g. model loading).\r\n     */\r\n    Widget.prototype.onProcessStart = function () {\r\n        this.onProcessStartCore();\r\n    };\r\n    /**\r\n     * This function is called from `onProcessStart` function.\r\n     * It does nothing in the base `Widget` class\r\n     * but can be overridden in derived classes\r\n     * to implement the functionality specific for a particular widget.\r\n     */\r\n    Widget.prototype.onProcessStartCore = function () {\r\n    };\r\n    /**\r\n     * This function is called on the end of some process this widget participates in.\r\n     * For example, some widgets should be updated on model loading\r\n     * or after the execution of the current query\r\n     */\r\n    Widget.prototype.onProcessEnd = function () {\r\n        this.onProcessEndCore();\r\n    };\r\n    /**\r\n     * This function is called from `onProcessEnd` function.\r\n     * It does nothing in the base `Widget` class\r\n     * but can be overridden in derived classes\r\n     * to implement the functionality specific for a particular widget.\r\n     */\r\n    Widget.prototype.onProcessEndCore = function () {\r\n    };\r\n    /**\r\n     * Returns `true` if the widget belongs to one of the groups specified in the parameter\r\n     * @param groups\r\n     */\r\n    Widget.prototype.belongsToGroup = function (groups) {\r\n        if (typeof groups != 'undefined' && groups != null) {\r\n            if ((groups & this.group) === 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    Widget.prototype.destroy = function () {\r\n        this.destroyCore();\r\n    };\r\n    Widget.prototype.destroyCore = function () {\r\n    };\r\n    return Widget;\r\n}());\r\nexport { Widget };\r\n//# sourceMappingURL=widget.js.map","var EqVersionInfo = /** @class */ (function () {\r\n    function EqVersionInfo(major, minor, update) {\r\n        this.major = major;\r\n        this.minor = minor;\r\n        this.update = update;\r\n    }\r\n    EqVersionInfo.prototype.toString = function () {\r\n        return this.major + \".\" + this.minor + \".\" + this.update;\r\n    };\r\n    return EqVersionInfo;\r\n}());\r\nexport var versionInfo = new EqVersionInfo(6, 2, 0);\r\n//# sourceMappingURL=version_info.js.map","import { i18n } from '@easydata/core';\r\nfunction addEasyQueryCoreTexts() {\r\n    i18n.updateDefaultTexts({\r\n        NewQueryName: '[New query]',\r\n        //DateTime macroses\r\n        Today: 'Today',\r\n        Yesterday: 'Yesterday',\r\n        Tomorrow: 'Tomorrow',\r\n        FirstDayOfMonth: 'First day of the month',\r\n        LastDayOfMonth: 'Last day of the month',\r\n        FirstDayOfWeek: 'First day of the week',\r\n        FirstDayOfYear: 'First day of the year',\r\n        FirstDayOfNextWeek: 'First day of the next week',\r\n        FirstDayOfNextMonth: 'First day of the next month',\r\n        FirstDayOfNextYear: 'First day of the next year',\r\n        Now: 'Now',\r\n        HourStart: 'This hour start',\r\n        Midnight: 'Midnight',\r\n        Noon: 'Noon',\r\n        Entities: {},\r\n        Attributes: {},\r\n        Operators: {},\r\n        AggreateFunctions: {}\r\n    });\r\n}\r\naddEasyQueryCoreTexts();\r\n//# sourceMappingURL=text_resources.js.map","import { eqCssMobile } from './utils';\r\nexport var browserUtils;\r\n(function (browserUtils) {\r\n    var _isFirefox = null;\r\n    var _isIE = null;\r\n    function IsIE() {\r\n        return eval('/*@cc_on!@*/false || !!document.documentMode');\r\n        // if (_isIE === null) {\r\n        //     const ua = navigator.userAgent;\r\n        //     /* MSIE used to detect old browsers and Trident used to newer ones*/\r\n        //     _isIE = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n        // }\r\n        // return _isIE;\r\n    }\r\n    browserUtils.IsIE = IsIE;\r\n    function IsFirefox() {\r\n        if (_isFirefox === null) {\r\n            var ua = navigator.userAgent;\r\n            _isFirefox = ua.toLowerCase().indexOf('firefox') > -1;\r\n        }\r\n        return _isFirefox;\r\n    }\r\n    browserUtils.IsFirefox = IsFirefox;\r\n    var _detectedIsMobileMode = false;\r\n    var _isMobileMode = undefined;\r\n    var detectIsMobileMode = function () {\r\n        var oldValue = isMobileMode();\r\n        _detectedIsMobileMode = window.matchMedia('only screen and (max-width: 840px)').matches\r\n            || window.matchMedia('only screen and (max-height: 420px)').matches;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    };\r\n    detectIsMobileMode();\r\n    window.addEventListener('resize', function () { return detectIsMobileMode(); });\r\n    function isMobileMode() {\r\n        if (_isMobileMode !== undefined) {\r\n            return _isMobileMode;\r\n        }\r\n        else {\r\n            return _detectedIsMobileMode;\r\n        }\r\n    }\r\n    browserUtils.isMobileMode = isMobileMode;\r\n    function setIsMobileMode(value) {\r\n        var oldValue = isMobileMode();\r\n        _isMobileMode = value;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    }\r\n    browserUtils.setIsMobileMode = setIsMobileMode;\r\n    var mobileModeChangeHandler;\r\n    function onMobileModeChanged(callback) {\r\n        mobileModeChangeHandler = callback;\r\n    }\r\n    browserUtils.onMobileModeChanged = onMobileModeChanged;\r\n    function getMobileCssClass() {\r\n        return isMobileMode() ? eqCssMobile : null;\r\n    }\r\n    browserUtils.getMobileCssClass = getMobileCssClass;\r\n})(browserUtils || (browserUtils = {}));\r\n//# sourceMappingURL=browser_utils.js.map","import { domel } from '@easydata/ui';\r\nexport function getViewportSize() {\r\n    var width = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n    var height = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\r\n    return {\r\n        width: width,\r\n        height: height\r\n    };\r\n}\r\n// simetimes setting focus in the main thread doesn't work correctly (in Firefox). So we need to 'hack' it.\r\nexport function safeFocus(element) {\r\n    setTimeout(function (_) {\r\n        if (element) {\r\n            element.focus();\r\n        }\r\n    }, 100);\r\n}\r\nexport var eqCssPrefix = 'eqjs';\r\nexport var eqCssMobile = 'eqjs-mobile';\r\nexport function makeElementMaximizable(element) {\r\n    domel(element)\r\n        .addClass(eqCssPrefix + \"-maximizable\")\r\n        .addChild('div', function (b) {\r\n        b.addClass(eqCssPrefix + \"-max-button\")\r\n            .on('click', function (e) {\r\n            e.preventDefault();\r\n            domel(element)\r\n                .toggleClass(eqCssPrefix + \"-maximized\");\r\n        });\r\n    });\r\n}\r\n//# sourceMappingURL=utils.js.map","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return '@media ' + item[2] + '{' + content + '}';\n      } else {\n        return content;\n      }\n    }).join('');\n  }; // import a list of modules into the list\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (i = 0; i < modules.length; i++) {\n      var item = modules[i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || '';\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n  return '/*# ' + data + ' */';\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","export var browserUtils;\r\n(function (browserUtils) {\r\n    var _isFirefox = null;\r\n    var _isIE = null;\r\n    function IsIE() {\r\n        // return eval('/*@cc_on!@*/false || !!document.documentMode');\r\n        if (_isIE === null) {\r\n            var ua = navigator.userAgent;\r\n            /* MSIE used to detect old browsers and Trident used to newer ones*/\r\n            _isIE = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n        }\r\n        return _isIE;\r\n    }\r\n    browserUtils.IsIE = IsIE;\r\n    function IsEdge() {\r\n        return !IsIE() && eval('!!window.StyleMedia');\r\n    }\r\n    browserUtils.IsEdge = IsEdge;\r\n    function IsFirefox() {\r\n        if (_isFirefox === null) {\r\n            var ua = navigator.userAgent;\r\n            _isFirefox = ua.toLowerCase().indexOf('firefox') > -1;\r\n        }\r\n        return _isFirefox;\r\n    }\r\n    browserUtils.IsFirefox = IsFirefox;\r\n    var _detectedIsMobileMode = false;\r\n    var _isMobileMode = undefined;\r\n    var detectIsMobileMode = function () {\r\n        var oldValue = isMobileMode();\r\n        _detectedIsMobileMode = window.matchMedia('only screen and (max-width: 840px)').matches\r\n            || window.matchMedia('only screen and (max-height: 420px)').matches;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    };\r\n    detectIsMobileMode();\r\n    window.addEventListener('resize', function () { return detectIsMobileMode(); });\r\n    function isMobileMode() {\r\n        if (_isMobileMode !== undefined) {\r\n            return _isMobileMode;\r\n        }\r\n        else {\r\n            return _detectedIsMobileMode;\r\n        }\r\n    }\r\n    browserUtils.isMobileMode = isMobileMode;\r\n    function setIsMobileMode(value) {\r\n        var oldValue = isMobileMode();\r\n        _isMobileMode = value;\r\n        var newValue = isMobileMode();\r\n        if (newValue !== oldValue && mobileModeChangeHandler) {\r\n            mobileModeChangeHandler(newValue);\r\n        }\r\n    }\r\n    browserUtils.setIsMobileMode = setIsMobileMode;\r\n    var mobileModeChangeHandler;\r\n    function onMobileModeChanged(callback) {\r\n        mobileModeChangeHandler = callback;\r\n    }\r\n    browserUtils.onMobileModeChanged = onMobileModeChanged;\r\n    function getMobileCssClass() {\r\n        return isMobileMode() ? 'k-mobile' : null;\r\n    }\r\n    browserUtils.getMobileCssClass = getMobileCssClass;\r\n})(browserUtils || (browserUtils = {}));\r\n//# sourceMappingURL=browser_utils.js.map","import { DataType } from \"@easydata/core\";\r\n/**\r\n * Represents Google data table class\r\n */\r\nvar GoogleDataConverter = /** @class */ (function () {\r\n    /**\r\n     * The default constructor.\r\n     * @param data The table instance or its JSON representation.\r\n     */\r\n    function GoogleDataConverter(data) {\r\n        if (!data) {\r\n            data = {\r\n                cols: [],\r\n                rows: []\r\n            };\r\n        }\r\n        if (typeof data === \"string\") {\r\n            this.loadFromJSON(data);\r\n        }\r\n        else {\r\n            this.tableObj = data;\r\n        }\r\n    }\r\n    /**\r\n     * Loads data table from JSON.\r\n     * @param json The JSON representation.\r\n     */\r\n    GoogleDataConverter.prototype.loadFromJSON = function (json) {\r\n        this.tableObj = JSON.parse(json);\r\n    };\r\n    /**\r\n     * Saves data table to JSON.\r\n     * @returns The JSON representation.\r\n     */\r\n    GoogleDataConverter.prototype.toJSON = function () {\r\n        return JSON.stringify(this.tableObj);\r\n    };\r\n    /**\r\n     * Gets the google data table object.\r\n     * @returns The data table.\r\n     */\r\n    GoogleDataConverter.prototype.getObject = function () {\r\n        return this.tableObj;\r\n    };\r\n    /**\r\n     * Cheks wether the table is empty\r\n     * @returns `true` if the table is empty, `false` if it is not.\r\n     */\r\n    GoogleDataConverter.prototype.isEmpty = function () {\r\n        return this.getNumberOfColumns() == 0 || this.getNumberOfRows() == 0;\r\n    };\r\n    /**\r\n     * Gets the number of columns\r\n     * @returns The number.\r\n     */\r\n    GoogleDataConverter.prototype.getNumberOfColumns = function () {\r\n        return this.tableObj.cols.length;\r\n    };\r\n    /**\r\n     * Gets the column object.\r\n     * @param colIndex The column index.\r\n     * @returns The column object.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnObject = function (colIndex) {\r\n        return colIndex < this.tableObj.cols.length ? this.tableObj.cols[colIndex] : null;\r\n    };\r\n    /**\r\n     * Gets the column ID.\r\n     * @param colIndex The column index.\r\n     * @returns The column ID.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnId = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.id : null;\r\n    };\r\n    /**\r\n     * Gets the column LABEL.\r\n     * @param colIndex The column index.\r\n     * @returns The column ID.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnLabel = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.label : null;\r\n    };\r\n    /**\r\n     *  Gets the column type.\r\n     * @param colIndex The column index.\r\n     * @returns The column type.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnType = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.type : null;\r\n    };\r\n    /**\r\n     * Gets the column properties.\r\n     * @param colIndex The column index.\r\n     * @returns The column properties.\r\n     */\r\n    GoogleDataConverter.prototype.getColumnProperties = function (colIndex) {\r\n        var col = this.getColumnObject(colIndex);\r\n        return col ? col.p : null;\r\n    };\r\n    /**\r\n     * Gets the number of rows.\r\n     * @returns The number.\r\n     */\r\n    GoogleDataConverter.prototype.getNumberOfRows = function () {\r\n        return this.tableObj.rows.length;\r\n    };\r\n    GoogleDataConverter.prototype.convertValue = function (value, colIndex) {\r\n        var colType = this.googleDataTypeToDataType(this.getColumnType(colIndex));\r\n        if ([DataType.Date, DataType.DateTime, DataType.Time].includes(colType)) {\r\n            return eval(\"new \" + value);\r\n        }\r\n        return value;\r\n    };\r\n    /**\r\n     *  Gets the value.\r\n     * @param rowIndex\r\n     * @param colIndex\r\n     */\r\n    GoogleDataConverter.prototype.getValue = function (rowIndex, colIndex) {\r\n        var row = rowIndex < this.tableObj.rows.length ? this.tableObj.rows[rowIndex] : null;\r\n        if (row) {\r\n            var cell = colIndex < this.tableObj.cols.length ? row.c[colIndex] : null;\r\n            if (cell) {\r\n                return this.convertValue(cell.v, colIndex);\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    GoogleDataConverter.prototype.getRow = function (rowIndex) {\r\n        var _this = this;\r\n        var googleRow = rowIndex < this.tableObj.rows.length ? this.tableObj.rows[rowIndex] : null;\r\n        var googleCells = googleRow.c;\r\n        var row = googleCells.map(function (obj, idx) { return _this.convertValue(obj.v, idx); }, this);\r\n        return row;\r\n    };\r\n    GoogleDataConverter.prototype.convertTo = function (dataTable) {\r\n        var colCount = this.getNumberOfColumns();\r\n        for (var i = 0; i < colCount; i++) {\r\n            dataTable.columns.add({\r\n                id: this.getColumnId(i),\r\n                label: this.getColumnLabel(i),\r\n                type: this.googleDataTypeToDataType(this.getColumnType(i))\r\n            });\r\n        }\r\n        var rowCount = this.getNumberOfRows();\r\n        for (var i = 0; i < rowCount; i++) {\r\n            dataTable.addRow(this.getRow(i));\r\n        }\r\n    };\r\n    GoogleDataConverter.prototype.googleDataTypeToDataType = function (googleDataType) {\r\n        switch (googleDataType) {\r\n            case 'string':\r\n                return DataType.String;\r\n            case 'number':\r\n                return DataType.Float;\r\n            case 'boolean':\r\n                return DataType.Bool;\r\n            case 'date':\r\n                return DataType.Date;\r\n            case 'datetime':\r\n                return DataType.DateTime;\r\n            case 'timeofday':\r\n                return DataType.Time;\r\n            default:\r\n                return DataType.String;\r\n        }\r\n    };\r\n    return GoogleDataConverter;\r\n}());\r\nexport { GoogleDataConverter };\r\n//# sourceMappingURL=google_data_converter.js.map","require('../node_modules/@easyquery/ui/dist/assets/css/easyquery.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eq-icons-default.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/easyquery-mobile.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eqview.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/easychart.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eq-grid.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/eq-grid-mobile.css');\r\nrequire('../node_modules/@easyquery/ui/dist/assets/css/easyfacets.css');\r\nrequire('../node_modules/@easydata/ui/dist/assets/css/easy-grid.css');\r\nrequire('../node_modules/@easydata/ui/dist/assets/css/easy-dialog.css');\r\nrequire('../node_modules/@easydata/ui/dist/assets/css/easy-forms.css');","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"* {\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv hr {\\r\\n    margin:0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-panel {\\r\\n    background: #f9f9f9;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-panel *, .eqjs-qc-panel *, .eqjs-ep-panel *, .eqjs-cb-panel * {\\r\\n    outline: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-panel *:focus, .eqjs-qc-panel *:focus, .eqjs-ep-panel *:focus, .eqjs-cb-panel *:focus {\\r\\n    border: 1px dotted #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-ep-panel input[type=checkbox]:focus {\\r\\n    outline: 1px dotted #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row-column-entattr.active a:focus {\\r\\n    border-color: white;    \\r\\n}\\r\\n\\r\\n.eqjs-addrow {\\r\\n    padding: 10px 0 0 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-addrow, .eqjs-qc-addrow {\\r\\n\\tflex-grow: 1;\\r\\n}\\r\\n\\r\\n.eqjs-addrow a {\\r\\n    margin: 0 10px;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-addrow-empty {\\r\\n    padding: 5px 0 0 0;\\r\\n}\\r\\n\\r\\n.eqjs-addrow a {\\r\\n    font-weight: bold;\\r\\n    font-size: 13px;\\r\\n    color: #333333;\\r\\n    text-decoration: none;\\r\\n    border-bottom: 1px dashed;\\r\\n}\\r\\n\\r\\n.eqjs-addrow > a:hover{\\r\\n    border-bottom: 1px solid;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-qc-panel {\\r\\n    background: #f9f9f9;\\r\\n    height: 100%;\\r\\n    position: relative;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qc-header {\\r\\n    font: normal 15px Calibri;\\r\\n    border-bottom: 1px solid silver;\\r\\n    padding: 0 0 2px 0;\\r\\n    overflow: hidden;\\r\\n    white-space: nowrap;\\r\\n    flex: 0 0 auto;\\r\\n}\\r\\n\\r\\n.eqjs-qc-header div {\\r\\n    font: bold 15px Calibri;\\r\\n    color: #666;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.eqjs-qc-header-expression {\\r\\n    margin-left: 28px;\\r\\n    min-width: 300px;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row {\\r\\n    min-height: 28px;\\r\\n    position:relative;\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-offset {\\r\\n    display: inline-block;\\r\\n    width: 20px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row{\\r\\n    padding-left: 10px;\\r\\n    min-height: 27px;\\r\\n    cursor: pointer;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-qc-col-landing-slot, .eqjs-qp-cond-landing-slot {\\r\\n    border-left: 2px solid #fb9c2f;\\r\\n    border-right: 2px solid #fb9c2f;\\r\\n    height: 18px;\\r\\n    padding: 8px 0;\\r\\n    margin: 0 2px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-col-landing-slot > div, .eqjs-qp-cond-landing-slot > div {\\r\\n    height: 2px;\\r\\n    width: 100%;\\r\\n    background-color: #fb9c2f;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row:hover, .eqjs-qc-row:hover, .eqjs-cb-row:hover, .eqjs-sb-row:hover {\\r\\n    background: #ece9e9;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row.active, .eqjs-qc-row.active, .eqjs-cb-row.active, .eqjs-sb-row.active .eqjs-sortable-helper {\\r\\n    background: #ece9e9;\\r\\n}\\r\\n\\r\\n.eqjs-sortable-helper {\\r\\n    background-color: white;\\r\\n    padding: 3px 20px;\\r\\n    border: 2px solid #fb9c2f;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-group {\\r\\n    margin-left:0px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-group-root {\\r\\n    font-weight: bold;\\r\\n    font-size: 13px;\\r\\n    padding: 0 0 0 10px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-group-root .eqjs-qp-grvalueelement a {\\r\\n    font-size: 13px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-qp-group-root {\\r\\n\\toverflow: auto;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-conditions-root {\\r\\n\\tmax-height: none;\\r\\n}\\r\\n\\r\\n.eqjs-qp-group-root > .eqjs-qp-conditions{\\r\\n    overflow-y: auto;\\r\\n    padding: 0 0 6px 0;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-qp-group {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-condition.eqjs-qp-condition-injoin {\\r\\n    margin-left: 1px;\\r\\n    box-shadow: inset 3px 0px 0px 0px #3abb1b;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-condition.eqjs-qp-condition-parameterized {\\r\\n    margin-left: 1px;\\r\\n    box-shadow: inset 3px 0px 0px 0px #a74cf1;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row-condition.eqjs-qp-condition-parameterized.eqjs-qp-condition-injoin {\\r\\n    margin-left: 1px;\\r\\n    box-shadow: inset 3px 0px 0px 0px #a74cf1, inset 4px 0px 0px 0px white, inset 7px 0px 0px 0px #3abb1b;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement {\\r\\n    margin: 5px 8px 0 0;\\r\\n    padding: 1px;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n\\tflex: 0 0 auto;\\r\\n\\toverflow: hidden;\\r\\n\\ttext-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement.eqjs-qp-attrelement-wide {\\r\\n    flex-shrink: 1;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement.eqjs-qp-valueelement {\\r\\n    flex-shrink: 2;\\r\\n}\\r\\n\\r\\n.eqjs-qc-colelement {\\r\\n    display : inline-block;\\r\\n    margin: 3px 8px 0 0;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.eqjs-qc-hidden .eqjs-qc-colelement {\\r\\n    opacity: 0.5;\\r\\n}\\r\\n\\r\\n.eqjs-qc-expr-block{\\r\\n    display:inline-block;\\r\\n    min-width:300px;\\r\\n    margin-left: 28px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block, .eqjs-qc-params-block span {\\r\\n    display:inline-block;\\r\\n    vertical-align: middle;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block {\\r\\n    margin-right: 8px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block .eqjs-qp-valueelement {\\r\\n    margin-right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qc-params-block .eqjs-qp-valueelement input[type=\\\"text\\\"] {\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-qc-column-checkbox{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-checkbox.enabled{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-grelement {\\r\\n    margin: 5px 8px 0 0;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    height: fit-content;\\r\\n\\tflex: 0 0 auto;\\r\\n\\twidth: auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement > a, a.eqjs-qp-condelement, .eqjs-qp-grelement > a, a.eqjs-qp-grelement {\\r\\n    border-bottom: 1px dotted #AEAEAE;\\r\\n    color: #0099CC;\\r\\n    text-decoration: none;\\r\\n    white-space: nowrap;\\r\\n\\theight: fit-content;\\r\\n}\\r\\n\\r\\n.eqjs-qc-colelement > a, a.eqjs-qc-colelement {\\r\\n    border-bottom: 1px dotted #AEAEAE;\\r\\n    color: #0099CC;\\r\\n    display: inline-block;\\r\\n    overflow: hidden;\\r\\n    text-decoration: none;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement > a:hover, a.eqjs-qp-condelement:hover, .eqjs-qp-grelement > a:hover, a.eqjs-qp-grelement:hover, .eqjs-qc-colelement > a:hover, a.eqjs-qc-colelement:hover {\\r\\n    border-bottom: 1px solid #aeaeae;\\r\\n}\\r\\n\\r\\n.eqjs-qp-valueelement {\\r\\n\\tflex: 0 1 auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-valueelement a, a.eqjs-qp-valueelement {\\r\\n    color: #074B7A;\\r\\n}\\r\\n\\r\\n.eqjs-qc-attrelement > a, a.eqjs-qc-attrelement {\\r\\n    max-width: 285px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-captionelement > a, a.eqjs-qc-captionelement {\\r\\n    max-width: 285px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-disabled .eqjs-qp-valueelement span, .eqjs-qp-readonly .eqjs-qp-valueelement span{\\r\\n    max-width: 167px;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.eqjs-qp-valueelement input[type=\\\"text\\\"]{\\r\\n    font-size: 15px;\\r\\n    padding: 2px 5px;\\r\\n    border: 1px solid silver;\\r\\n    outline: none;\\r\\n    background: #fff;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    bottom: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-disabled span, .eqjs-qc-disabled span  {\\r\\n    color: #9E9E9E;\\r\\n    font-weight: normal;\\r\\n    margin-bottom: 2px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-readonly span {\\r\\n    color: #333333;\\r\\n}\\r\\n\\r\\n.eqjs-qp-error {\\r\\n    color: red;\\r\\n    font-weight:bold;\\r\\n}\\r\\n\\r\\n.eqjs-qp-ve-loader {\\r\\n    width:16px;\\r\\n    height:11px;\\r\\n}\\r\\n\\r\\n/* levels */\\r\\n.eqjs-qp-level-1 {\\r\\n    padding-left: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-2 {\\r\\n    padding-left: 20px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-3 {\\r\\n    padding-left: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-4 {\\r\\n    padding-left: 40px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-5 {\\r\\n    padding-left: 50px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-6 {\\r\\n    padding-left: 60px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-7 {\\r\\n    padding-left: 70px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-8 {\\r\\n    padding-left: 80px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-9 {\\r\\n    padding-left: 90px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-10 {\\r\\n    padding-left: 100px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-11 {\\r\\n    padding-left: 110px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-12 {\\r\\n    padding-left: 120px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-13 {\\r\\n    padding-left: 130px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-14 {\\r\\n    padding-left: 140px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-level-15 {\\r\\n    padding-left: 150px;\\r\\n}\\r\\n\\r\\n/* levels end */\\r\\n\\r\\n/* dialog */\\r\\n.eqjs-dialog{\\r\\n    overflow: visible !important;    \\r\\n}\\r\\n\\r\\n.eqjs-qp-ve-subquery{\\r\\n    overflow: visible !important;\\r\\n    overflow: visible !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-buttonsBlock {\\r\\n    width: auto;\\r\\n    display: none;\\r\\n\\tmargin-left: auto;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row[data-show-buttons] > .eqjs-qp-condition-buttonsBlock {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-column-buttonsBlock{\\r\\n    max-width: 100px;\\r\\n    position: absolute;\\r\\n    right: 3px;\\r\\n    top: 0;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.eqjs-button-placeholder, .eqjs-qp-button-placeholder {\\r\\n\\tmargin: 3px 2px 0 2px;\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n}\\r\\n\\r\\n.eqjs-gp-column-button {\\r\\n    width: 23px;\\r\\n    height: 23px;\\r\\n}\\r\\n\\r\\n.eqjs-gp-column-button-menu {\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.eqjs-gp-col-landing-slot {\\r\\n    width: 2px;\\r\\n    background-color: #fb9c2f !important;\\r\\n}\\r\\n\\r\\n.eqjs-qc-sortbutton-placeholder {\\r\\n    float: none;\\r\\n    position: absolute;\\r\\n}\\r\\n\\r\\n.eqjs-button {\\r\\n    cursor: pointer;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button, .eqjs-qc-column-button, .eqjs-qc-sortbutton {\\r\\n    cursor: pointer;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row  .eqjs-qc-buttonsBlock {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row  .eqjs-column-sortbutton {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row[data-show-buttons]  .eqjs-qc-buttonsBlock {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row[data-show-buttons]  .eqjs-column-sortbutton {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox.enabled{\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-panel {\\r\\n    background: #f9f9f9;\\r\\n    height: 100%;\\r\\n    min-height: 200px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity{\\r\\n    clear: both;    \\r\\n}\\r\\n\\r\\n.eqjs-ep-panel > div.eqjs-ep-entity{\\r\\n    bottom: 41px;\\r\\n    left: 0;\\r\\n    overflow-x: auto;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-filter-box{\\r\\n    left: 0;\\r\\n    padding: 4px;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n    height: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-filter-box-input{\\r\\n\\twidth: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-block{\\r\\n    display: block;\\r\\n    color: black;\\r\\n    font: normal 12px Arial;\\r\\n    margin: 0 10px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node{\\r\\n    border-bottom: 1px solid #E4E4E4;\\r\\n    padding: 3px 0;\\r\\n\\twhite-space:nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-label{\\r\\n    display: inline-block;\\r\\n    cursor: pointer;\\r\\n    font: bold 15px Calibri;\\r\\n    white-space:nowrap;\\r\\n\\tmargin: 0;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-label input{\\r\\n    margin: 0 5px 0 0;\\r\\n\\tvertical-align: bottom;\\r\\n\\tposition: relative;\\r\\n\\ttop: -3px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-block input{\\r\\n    margin: 0 5px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-offset{\\r\\n    display: inline-block;\\r\\n    width: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-attr-label{\\r\\n    color: #333;\\r\\n    font-size: 14px;\\r\\n    font-weight:normal;\\r\\n    padding: 5px 0 0 5px;\\r\\n    display: inline-block;\\r\\n    cursor: pointer;\\r\\n    white-space:nowrap;\\r\\n\\tmargin: 0;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-attr-label.draggable {\\r\\n    cursor: move;\\r\\n}\\r\\n\\r\\n/* root entity attribute class */\\r\\n.eqjs-ep-entity-attr-root {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-attr-label input{\\r\\n    margin: 0 5px 0 0;\\r\\n\\tvertical-align: bottom;\\r\\n\\tposition: relative;\\r\\n\\ttop: -3px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-button{\\r\\n    display:inline-block;\\r\\n    padding: 4px 10px 7px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel{\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    padding-top: 8px;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    height: 41px;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel div.eqjs-ep-tool-panel-left-side{\\r\\n    float: left;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel div.eqjs-ep-tool-panel-right-side{\\r\\n    float: right;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel div div{\\r\\n    float: inherit;\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n    cursor: pointer;\\r\\n    margin: 0 10%;\\r\\n}\\r\\n\\r\\n.eqjs-highlight{\\r\\n    height: 20px;\\r\\n}\\r\\n\\r\\n.eqjs-drophover {\\r\\n    border: 1px dotted black;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity > .eqjs-ep-entity-children{\\r\\n    float: left;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-menu-close-btn {\\r\\n    position:absolute;\\r\\n    bottom: 0;\\r\\n    cursor: pointer;\\r\\n    text-align: center;\\r\\n    font-size: 1.1em;\\r\\n    width: 100%;\\r\\n    height: 40px;\\r\\n    border-top: 1px solid #666;\\r\\n}\\r\\n\\r\\n.eqjs-menu-rootLevel{\\r\\n    background-color: #888;\\r\\n}\\r\\n\\r\\n.eqjs-menu-levelDiv{\\r\\n    background: #fff;\\r\\n    border: 1px solid silver;\\r\\n    padding: 5px 0;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-menu-searchDiv{\\r\\n    border-bottom: 1px solid silver;\\r\\n    background-color: white;\\r\\n    cursor: pointer;\\r\\n    padding: 5px 10px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-searchBox{\\r\\n    width: 93%;\\r\\n    padding: 2px 5px;\\r\\n    font-weight: normal;\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-searchBox.eqjs-dialog {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-menu-scrollDiv{\\r\\n    min-width: 140px;\\r\\n    white-space: nowrap;\\r\\n    overflow: auto;\\r\\n    font-size: 14px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-scrollDiv:focus {\\r\\n    outline:none;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv input{\\r\\n    margin: 4px 10px 0 0;\\r\\n    vertical-align: top;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv{\\r\\n    font-size: 1em;\\r\\n    color: #333333;\\r\\n    padding: 5px 10px 5px 20px;\\r\\n    cursor: pointer;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv.eqjs-menu-selected {\\r\\n    padding-left: 3px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv.eqjs-menu-selected:before {\\r\\n    content:  \\\"\\\\2713 \\\";\\r\\n    margin-right: 5px;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-arrow {\\r\\n    position: absolute;\\r\\n    right: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-menu-itemDiv-hasChildren{\\r\\n    padding: 5px 20px 5px 20px;\\r\\n    font-size: 1em;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-filter-hasChildren {\\r\\n    padding: 5px 20px 5px 20px;\\r\\n    font-size: 1em;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-highlight {\\r\\n    color: black;\\r\\n    background-color: yellow;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv:hover, .eqjs-menu-itemDiv.active{\\r\\n    background: #ecf3f5;\\r\\n    color: #1776b1;\\r\\n}\\r\\n\\r\\n.eqjs-menu-itemDiv-text{\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.eqjs-menu-applyDiv{\\r\\n    padding: 5px;\\r\\n    border-bottom: 1px solid silver;\\r\\n    margin: 0 0 5px 0;\\r\\n}\\r\\n\\r\\n.eqjs-menu-applyDiv button{\\r\\n    padding: 0 5px;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.eqjs-menu-cancel{\\r\\n    margin: 0 0 0 15px;\\r\\n}\\r\\n\\r\\n\\r\\n/* Columns panel */\\r\\n\\r\\n.eqjs-qc-columns{\\r\\n    overflow-y: auto;\\r\\n    padding: 4px 0;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    flex-wrap: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-drag{\\r\\n    opacity: 0.7;\\r\\n    cursor: n-resize !important;\\r\\n    background: #F1F1F1;\\r\\n    width: 664px;\\r\\n    position:relative;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-drag-forbidden{\\r\\n    background: #F7819F;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-sort{\\r\\n    opacity: 0.7;\\r\\n    cursor: n-resize !important;\\r\\n    background: #E8F3FF;\\r\\n    padding: 0 20px !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-container {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header {\\r\\n    height: 30px;\\r\\n    line-height: 30px;\\r\\n    background-color: grey;\\r\\n    color: white;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-link:hover {\\r\\n    cursor: pointer;\\r\\n    text-decoration: underline;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-fb-querypanelblock {\\r\\n    border: 1px solid #aaa;\\r\\n}\\r\\n\\r\\n.eqjs-fb-querypanel {\\r\\n    background: none repeat scroll 0 0 #f9f9f9;\\r\\n    border-bottom: 1px dotted #AAA;\\r\\n}\\r\\n\\r\\n.eqjs-fb-querypanel > .eqjs-qp-group-root > .eqjs-qp-conditions {\\r\\n    max-height: 200px !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-querypanel .eqjs-qp-addrow {\\r\\n    margin-bottom: 8px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon {\\r\\n    width: 30px;\\r\\n    height: 100%;\\r\\n    display: inline-block;\\r\\n    background-color: #099cff !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon span {\\r\\n    padding-left: 8px;\\r\\n    padding-top: 8px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-arrowblock {\\r\\n    width: 26px;\\r\\n    height: 100%;\\r\\n    display: inline-block;\\r\\n    padding-top: 11px;\\r\\n    padding-left: 6px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-arrow {\\r\\n\\tborder-color: white transparent;\\r\\n\\tborder-style: solid;\\r\\n\\tborder-width: 7px 7px 0px 7px;\\r\\n\\theight: 0px;\\r\\n\\twidth: 0px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-arrowUp {\\r\\n\\tborder-width: 0px 7px 7px 7px !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-textblock {\\r\\n    display: inline-block;\\r\\n    padding-left: 6px;\\r\\n    padding-right: 2px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-textblock a {\\r\\n    color: white;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-text {\\r\\n    display: inline-block;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-fb-buttonsblock {\\r\\n    margin-top: 4px;\\r\\n    margin-bottom: 4px;\\r\\n    padding-left: 4px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button {\\r\\n    -moz-user-select: none;\\r\\n    background-image: none;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 4px;\\r\\n    cursor: pointer;\\r\\n    display: inline-block;\\r\\n    font-size: 14px;\\r\\n    font-weight: 400;\\r\\n    line-height: 1.42857;\\r\\n    margin-bottom: 0;\\r\\n    padding: 2px 12px;\\r\\n    text-align: center;\\r\\n    vertical-align: middle;\\r\\n    white-space: nowrap;\\r\\n    color: #fff;\\r\\n    box-shadow: 0 1px 0 rgba(255, 255, 255, 0.15) inset, 0 1px 1px rgba(0, 0, 0, 0.075);\\r\\n    text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.2);\\r\\n    text-decoration: none;\\r\\n    margin-right:10px;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button:hover, .eqjs-fb-button:active, .eqjs-fb-button:focus {\\r\\n    text-decoration: none;\\r\\n    outline: 0 none;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-apply {\\r\\n    background-image: linear-gradient(to bottom, #5cb85c 0px, #419641 100%);\\r\\n    background-repeat: repeat-x;\\r\\n    border-color: #3e8f3e;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-clear {\\r\\n    background-image: linear-gradient(to bottom, #428bca 0px, #2d6ca2 100%);\\r\\n    background-repeat: repeat-x;\\r\\n    border-color: #2b669a;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-apply:hover, .eqjs-fb-button-apply:active, .eqjs-fb-button-apply:focus {\\r\\n    background-color: #419641;\\r\\n    border-color: #3e8f3e;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-clear:hover, .eqjs-fb-button-clear:active, .eqjs-fb-button-clear:focus {\\r\\n    background-color: #2d6ca2;\\r\\n    border-color: #2b669a;\\r\\n}\\r\\n\\r\\n/*  Progress indicator  */\\r\\n.eqjs-progress-win8 {\\r\\n    width: 40px;\\r\\n    height: 40px;\\r\\n    margin: auto;\\r\\n    position: absolute;\\r\\n    top: 0; left: 0; bottom: 0; right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 .wBall {\\r\\n    position: absolute;\\r\\n    width: 38px;\\r\\n    height: 38px;\\r\\n    opacity: 0;\\r\\n    -moz-transform: rotate(225deg);\\r\\n    -moz-animation: orbit 7.15s infinite;\\r\\n    -webkit-transform: rotate(225deg);\\r\\n    -webkit-animation: orbit 7.15s infinite;\\r\\n    -ms-transform: rotate(225deg);\\r\\n    -ms-animation: orbit 7.15s infinite;\\r\\n    -o-transform: rotate(225deg);\\r\\n    -o-animation: orbit 7.15s infinite;\\r\\n    transform: rotate(225deg);\\r\\n    animation: orbit 7.15s infinite;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 .wBall .wInnerBall {\\r\\n    position: absolute;\\r\\n    width: 5px;\\r\\n    height: 5px;\\r\\n    background: #000000;\\r\\n    left: 0px;\\r\\n    top: 0px;\\r\\n    -moz-border-radius: 5px;\\r\\n    -webkit-border-radius: 5px;\\r\\n    -ms-border-radius: 5px;\\r\\n    -o-border-radius: 5px;\\r\\n    border-radius: 5px;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_1 {\\r\\n-moz-animation-delay: 1.56s;\\r\\n-webkit-animation-delay: 1.56s;\\r\\n-ms-animation-delay: 1.56s;\\r\\n-o-animation-delay: 1.56s;\\r\\nanimation-delay: 1.56s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_2 {\\r\\n-moz-animation-delay: 0.31s;\\r\\n-webkit-animation-delay: 0.31s;\\r\\n-ms-animation-delay: 0.31s;\\r\\n-o-animation-delay: 0.31s;\\r\\nanimation-delay: 0.31s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_3 {\\r\\n-moz-animation-delay: 0.62s;\\r\\n-webkit-animation-delay: 0.62s;\\r\\n-ms-animation-delay: 0.62s;\\r\\n-o-animation-delay: 0.62s;\\r\\nanimation-delay: 0.62s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_4 {\\r\\n-moz-animation-delay: 0.94s;\\r\\n-webkit-animation-delay: 0.94s;\\r\\n-ms-animation-delay: 0.94s;\\r\\n-o-animation-delay: 0.94s;\\r\\nanimation-delay: 0.94s;\\r\\n}\\r\\n\\r\\n.eqjs-progress-win8 #wBall_5 {\\r\\n-moz-animation-delay: 1.25s;\\r\\n-webkit-animation-delay: 1.25s;\\r\\n-ms-animation-delay: 1.25s;\\r\\n-o-animation-delay: 1.25s;\\r\\nanimation-delay: 1.25s;\\r\\n}\\r\\n\\r\\n@-moz-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -moz-transform: rotate(180deg);\\r\\n        -moz-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(300deg);\\r\\n        -moz-animation-timing-function: linear;\\r\\n        -moz-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(410deg);\\r\\n        -moz-animation-timing-function: ease-in-out;\\r\\n        -moz-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(645deg);\\r\\n        -moz-animation-timing-function: linear;\\r\\n        -moz-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(770deg);\\r\\n        -moz-animation-timing-function: ease-out;\\r\\n        -moz-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -moz-transform: rotate(900deg);\\r\\n        -moz-animation-timing-function: ease-out;\\r\\n        -moz-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -moz-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -moz-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@-webkit-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -webkit-transform: rotate(180deg);\\r\\n        -webkit-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(300deg);\\r\\n        -webkit-animation-timing-function: linear;\\r\\n        -webkit-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(410deg);\\r\\n        -webkit-animation-timing-function: ease-in-out;\\r\\n        -webkit-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(645deg);\\r\\n        -webkit-animation-timing-function: linear;\\r\\n        -webkit-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(770deg);\\r\\n        -webkit-animation-timing-function: ease-out;\\r\\n        -webkit-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -webkit-transform: rotate(900deg);\\r\\n        -webkit-animation-timing-function: ease-out;\\r\\n        -webkit-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -webkit-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -webkit-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@-ms-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -ms-transform: rotate(180deg);\\r\\n        -ms-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(300deg);\\r\\n        -ms-animation-timing-function: linear;\\r\\n        -ms-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(410deg);\\r\\n        -ms-animation-timing-function: ease-in-out;\\r\\n        -ms-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(645deg);\\r\\n        -ms-animation-timing-function: linear;\\r\\n        -ms-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(770deg);\\r\\n        -ms-animation-timing-function: ease-out;\\r\\n        -ms-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -ms-transform: rotate(900deg);\\r\\n        -ms-animation-timing-function: ease-out;\\r\\n        -ms-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -ms-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -ms-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@-o-keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        -o-transform: rotate(180deg);\\r\\n        -o-animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(300deg);\\r\\n        -o-animation-timing-function: linear;\\r\\n        -o-origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(410deg);\\r\\n        -o-animation-timing-function: ease-in-out;\\r\\n        -o-origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(645deg);\\r\\n        -o-animation-timing-function: linear;\\r\\n        -o-origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(770deg);\\r\\n        -o-animation-timing-function: ease-out;\\r\\n        -o-origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        -o-transform: rotate(900deg);\\r\\n        -o-animation-timing-function: ease-out;\\r\\n        -o-origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        -o-transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        -o-transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n@keyframes orbit {\\r\\n    0% {\\r\\n        opacity: 1;\\r\\n        z-index: 99;\\r\\n        transform: rotate(180deg);\\r\\n        animation-timing-function: ease-out;\\r\\n    }\\r\\n\\r\\n    7% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(300deg);\\r\\n        animation-timing-function: linear;\\r\\n        origin: 0%;\\r\\n    }\\r\\n\\r\\n    30% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(410deg);\\r\\n        animation-timing-function: ease-in-out;\\r\\n        origin: 7%;\\r\\n    }\\r\\n\\r\\n    39% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(645deg);\\r\\n        animation-timing-function: linear;\\r\\n        origin: 30%;\\r\\n    }\\r\\n\\r\\n    70% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(770deg);\\r\\n        animation-timing-function: ease-out;\\r\\n        origin: 39%;\\r\\n    }\\r\\n\\r\\n    75% {\\r\\n        opacity: 1;\\r\\n        transform: rotate(900deg);\\r\\n        animation-timing-function: ease-out;\\r\\n        origin: 70%;\\r\\n    }\\r\\n\\r\\n    76% {\\r\\n        opacity: 0;\\r\\n        transform: rotate(900deg);\\r\\n    }\\r\\n\\r\\n    100% {\\r\\n        opacity: 0;\\r\\n        transform: rotate(900deg);\\r\\n    }\\r\\n}\\r\\n/*  End of Progress indicator  */\\r\\n\\r\\n\\r\\n\\r\\n/* ColumnsBar START */\\r\\n.eqjs-cb-panel, .eqjs-sb-panel {\\r\\n    display: flex;\\r\\n    background: #f9f9f9;\\r\\n    min-height: 40px;\\r\\n    position: relative;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n.eqjs-cb-header, .eqjs-sb-header {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns, .eqjs-sb-columns {\\r\\n    position: relative;\\r\\n    white-space: normal;\\r\\n    overflow-y: unset;\\r\\n    min-height: 40px;\\r\\n    padding: 0;\\r\\n    max-height: 1000px !important;\\r\\n}\\r\\n\\r\\n.eqjs-gp-addrow,\\r\\n.eqjs-cb-addrow,\\r\\n.eqjs-sb-addrow {\\r\\n    margin: 5px 2px 2px 2px;\\r\\n    position: relative;\\r\\n    flex: 0 0 auto;\\r\\n    vertical-align: baseline;\\r\\n    height: 23px;\\r\\n    width: 23px;\\r\\n    padding:0;\\r\\n}\\r\\n\\r\\n.eqjs-gp-addrow a,\\r\\n.eqjs-cb-addrow a,\\r\\n.eqjs-sb-addrow a {\\r\\n  background: scroll 0 0 rgba(0, 0, 0, 0);\\r\\n  border-bottom: none;\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  margin:0;\\r\\n\\r\\n  text-indent: 100%;\\r\\n  white-space: nowrap;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.eqjs-gp-addrow > a:hover,\\r\\n.eqjs-cb-addrow > a:hover,\\r\\n.eqjs-sb-addrow > a:hover{\\r\\n    border-bottom: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row, .eqjs-sb-row {\\r\\n    position: relative;\\r\\n    height: 27px;\\r\\n    cursor: pointer;\\r\\n    display: inline-block;\\r\\n    margin: 2px;\\r\\n    background-color: white;\\r\\n    border: 1px solid #0099CC;\\r\\n    min-width: 80px;\\r\\n    font: normal 14px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-disabled {\\r\\n    background-color: lightgray;\\r\\n    border: 1px dotted #999;\\r\\n    color: #999;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-readonly {\\r\\n    background-color: white;\\r\\n    border: 1px dotted #999;\\r\\n    color: #999;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row  .eqjs-cb-buttonsBlock {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row  .eqjs-column-sortbutton {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row[data-show-buttons]  .eqjs-cb-buttonsBlock {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row[data-show-buttons]  .eqjs-column-sortbutton {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.eqjs-cb-expr-block {\\r\\n    display:none;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement,\\r\\n.eqjs-sb-colelement {\\r\\n    display: inline-block;\\r\\n    margin: 4px 8px 0 0;\\r\\n    vertical-align: top;\\r\\n    font-size: 14px;\\r\\n    font-weight: normal;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement:first-child,\\r\\n.eqjs-sb-colelement:first-child {\\r\\n    margin-left: 8px !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement > a,\\r\\n.eqjs-sb-colelement > a {\\r\\n    border-bottom: none;\\r\\n    pointer-events: none;\\r\\n    vertical-align: middle;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement > a,\\r\\n.eqjs-sb-colelement > a {\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.eqjs-cb-captionelement input {\\r\\n    margin-top: -4px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-captionelement input:focus {\\r\\n    border: 1px dashed #0099cc;\\r\\n    box-shadow: none;\\r\\n    outline: none;    \\r\\n}\\r\\n\\r\\n.eqjs-cb-row.active a, .eqjs-cb-row:hover a {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.active, .eqjs-cb-row:hover {\\r\\n    background-color: #0099CC;\\r\\n    color: white;\\r\\n    padding-left: 0;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row, .eqjs-cb-row.active, .eqjs-cb-row:hover {\\r\\n    border-radius: 0.25em;\\r\\n    font-size: 75%;\\r\\n    font-weight: 700;\\r\\n    text-align: center;\\r\\n    vertical-align: baseline;\\r\\n    white-space: nowrap;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-disabled.active, .eqjs-cb-row.eqjs-cb-disabled:hover {\\r\\n    background-color: lightgray;\\r\\n    color: #666;\\r\\n    border-color: #666;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-cb-readonly.active, .eqjs-cb-row.eqjs-cb-readonly:hover {\\r\\n    background-color: white;\\r\\n    color: #666;\\r\\n    border-color: #666;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row .eqjs-button-placeholder {\\r\\n    margin: 2px 0 2px 1px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.active .eqjs-cb-button-placeholder, .eqjs-cb-row:hover .eqjs-cb-button-placeholder {\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row .eqjs-cb-sortimage-placeholder,\\r\\n.eqjs-sb-row .eqjs-sb-sortimage-placeholder {\\r\\n\\tmargin: 2px 0;\\r\\n\\theight: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-cb-img-sorting,\\r\\n.eqjs-sb-img-sorting {\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-buttonsBlock {\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    height: 27px;\\r\\n    top: -27px;\\r\\n    max-width: none;\\r\\n    left: 0;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.eqjs-cb-buttonsBlock div {\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n    margin: 2px 0 2px 2px;\\r\\n}\\r\\n\\r\\n.eqjs-sortable-helper .eqjs-cb-buttonsBlock {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns,\\r\\n.eqjs-sb-columns {\\r\\n    display: inline-flex;\\r\\n    flex-wrap: wrap;\\r\\n    flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns .eqjs-highlight,\\r\\n.eqjs-sb-columns .eqjs-highlight {\\r\\n    height: 27px;\\r\\n    top: 2px;\\r\\n    width: 100px;\\r\\n    position: relative;\\r\\n    background: #ffc107 !important;\\r\\n}\\r\\n\\r\\n/* ColumnsBar END */\\r\\n\\r\\n\\r\\n/* QueryName Widget */\\r\\n.eqjs-query-name {\\r\\n    position: relative;\\r\\n    margin-top: 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-text {\\r\\n    white-space: nowrap;\\r\\n    text-overflow: ellipsis;\\r\\n    overflow: hidden;\\r\\n    margin: 0 !important;\\r\\n    padding: 5px 10px 5px 5px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-query-name:hover .eqjs-query-name-text {\\r\\n    box-shadow: none;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-asterisk {\\r\\n    position: absolute;\\r\\n    right: 3px;\\r\\n    top: 0;\\r\\n    z-index: 10000;\\r\\n\\r\\n    color: red;\\r\\n    font-size: 1rem;\\r\\n    font-weight: 700;\\r\\n}\\r\\n\\r\\n.eqjs-query-name .eqjs-query-name-tooltip {\\r\\n    visibility: hidden;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-theme {\\r\\n    font: normal 12pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n/* QueryName Widget END */\\r\\n\\r\\n/* Process Bar start */\\r\\n.eqjs-process-bar {\\r\\n    display: 'none';\\r\\n    height: 4px;\\r\\n    width: 100%;\\r\\n    position: fixed;\\r\\n    top: 0;\\r\\n\\tleft: 0;\\r\\n    z-index: 65000;\\r\\n    overflow: hidden;\\r\\n    background-color: #ddd;\\r\\n  }\\r\\n  .eqjs-process-bar:before{\\r\\n    display: block;\\r\\n    position: absolute;\\r\\n    content: \\\"\\\";\\r\\n    left: -200px;\\r\\n    width: 200px;\\r\\n    height: 4px;\\r\\n    background-color: #2980b9;\\r\\n    animation: eqjs-process-bar-loading 2s linear infinite;\\r\\n  }\\r\\n  \\r\\n  @keyframes eqjs-process-bar-loading {\\r\\n      from {left: -200px; width: 30%;}\\r\\n      50% {width: 30%;}\\r\\n      70% {width: 70%;}\\r\\n      80% { left: 50%;}\\r\\n      95% {left: 120%;}\\r\\n      to {left: 100%;}\\r\\n  }\\r\\n\\r\\n  .eqjs-process-bar.local {\\r\\n      position: absolute;\\r\\n      display: 'block';\\r\\n  }\\r\\n/* Process Bar end */\\r\\n\\r\\na.eqjs-disabled {\\r\\n    color: currentColor;\\r\\n    cursor: not-allowed;\\r\\n    opacity: 0.5;\\r\\n    text-decoration: none;\\r\\n} \\r\\n\\r\\n\\r\\ninput.eqjs-invalid {\\r\\n    border:1px solid red !important;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.eqjs-maximized-2window {\\r\\n    position: fixed !important;\\r\\n    background-color: white;\\r\\n    overflow: auto;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    z-index: 1000;\\r\\n    transition: 1s;\\r\\n    padding: 5px;\\r\\n}\\r\\n\\r\\n.eqjs-maximized-2container {\\r\\n    position: absolute !important;\\r\\n    background-color: white;\\r\\n    overflow: auto;\\r\\n    left: 0;\\r\\n    top: 0;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    z-index: 1000;\\r\\n    transition: 1s;\\r\\n}\\r\\n\\r\\n.eqjs-maximizable {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-container-4max {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-max-button {\\r\\n    position: absolute;\\r\\n    width: 24px;\\r\\n    height: 24px;\\r\\n    background-color: white;\\r\\n    right: 4px;\\r\\n    top: 4px;\\r\\n    z-index: 10000;\\r\\n    border: 1px solid gray;\\r\\n    border-radius: 4px;\\r\\n    cursor: pointer;\\r\\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAr0lEQVQ4jaWTwQ2DMAxFn1EPDMAyVTl1g94Yg7IIWyBVHKrORWfo7yWUyBKKK76UQ+z8/+3EMUkcwSlyyMw64ObCL0lTSMDhCjRABUxICi+gBwQswCwp1kJqowdG4A5cfomg85Cch7Sf1woi5DYnp1gHdFGBGmh38wXnumjgS3I97zp7ge1SNnIfuuBcIHvnENkLLP+SJVFls9IAb+BsZo80/0Wsk/gEPhGChx39zl8oCGZnXNzK6gAAAABJRU5ErkJggg==');\\r\\n    background-position: 3px 3px;\\r\\n    background-repeat: no-repeat;\\r\\n    opacity: 0.6;\\r\\n}\\r\\n\\r\\n.eqjs-max-button:hover {\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-maximized > .eqjs-max-button {\\r\\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAvklEQVQ4jaWTuw3CMBCGvz8lygA0rJIBKKMUDJABIhgH5mAAVknDBJT8FHlgmSg2cNLJOp3v870s2/wjxS9BklpJhyyApEpSH9gdcAZKAGyvKtAM1wzQAQa62Z8LWAr+FmDg+OHPANQBYNJ+8is1RkkbYB81/G77BrwBkipgG1x6Alfbj9UXglT7hVTrVIlFANrZFnAK+OlFixo2j2o8m2STl4JHOx8AtMQbNvSkSgFkm/FjlLYvyZojSe5BSl4yFEh5bRiMkwAAAABJRU5ErkJggg==');\\r\\n}\\r\\n\\r\\n.eqjs-progress-line {\\r\\n    width: 100%;\\r\\n    background-color: #e0e0e0;\\r\\n    padding: 3px;\\r\\n    border-radius: 3px;\\r\\n    box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2);\\r\\n}\\r\\n\\r\\n.eqjs-progress-line .fill {\\r\\n    display: block;\\r\\n    height: 22px;\\r\\n    background-color: #659cef;\\r\\n    border-radius: 3px;\\r\\n    \\r\\n    transition: width 500ms ease-in-out;\\r\\n}\\r\\n\\r\\n\", \"\"]);\n\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-icons-default.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-icons-default.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-icons-default.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".eqjs-qc-column-checkbox {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiUlEQVR42qXM3QYFIRiF4d3dJpIhI5FKJCOSSHe7f9gn4ztZo3Wwzt6HvTbHfhdCeD8Nvw27Ad57OI4xUsA5BwMpJQpYa2Eg50wBYwwMlFIocJ4nDFzXRQGtNQzUWilwHAcMtNYooJSCgd47BaSUMDDGoIAQAgbmnBTgnMPAWosCcP3fDdjZNvABvRhVEQglsV8AAAAASUVORK5CYII=') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qc-column-checkbox.enabled {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAuklEQVR42qWScQfFIBTF27dNzIxMxtREkpjE7Nu+98q7U+96T0/nj3Vv55wfsYF0akgfpdTj3+KrM1QAKWVzed93DNi2rRmgtcaAdV1/lowxBDJpRgAhxNeytTafkEk7AizLkk3nHIEZdlCZQQDOeTa99/lMO8ywg9I9AszznM3jONATwAOlDAJM03QHQgj3XN6XPgKM41iFYozk8670EIAx1vgXEHKeJwZQSpsB13VhQHP7rQrQo27AE+MRcBFOD9LhAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-ve-loader {\\r\\n    background: url('data:image/gif;base64,R0lGODlhEAALAPQAAP///xd3sd3q89Tl8Ovz9xx6shd3sUCPvo282G6qzsDZ6TWJu1qex5TA2nGsz8Pb6jmLvBp5sl2gyOjx9tvp8vT4+kmUwd/r8/P3+rzX6KjM4c7i7u/1+QAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable, .eqjs-column-button-enable{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-delete, .eqjs-column-button-delete{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-addPredicate{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-addCondition, .eqjs-cb-addrow a, .eqjs-sb-addrow a, .eqjs-srtb-addrow a, .eqjs-gp-addrow a{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-gp-column-button-menu,\\r\\n.eqjs-qp-condition-button-menu,\\r\\n.eqjs-column-button-menu{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiUlEQVR42qXM3QYFIRiF4d3dJpIhI5FKJCOSSHe7f9gn4ztZo3Wwzt6HvTbHfhdCeD8Nvw27Ad57OI4xUsA5BwMpJQpYa2Eg50wBYwwMlFIocJ4nDFzXRQGtNQzUWilwHAcMtNYooJSCgd47BaSUMDDGoIAQAgbmnBTgnMPAWosCcP3fDdjZNvABvRhVEQglsV8AAAAASUVORK5CYII=') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-checkbox.enabled{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAuklEQVR42qWScQfFIBTF27dNzIxMxtREkpjE7Nu+98q7U+96T0/nj3Vv55wfsYF0akgfpdTj3+KrM1QAKWVzed93DNi2rRmgtcaAdV1/lowxBDJpRgAhxNeytTafkEk7AizLkk3nHIEZdlCZQQDOeTa99/lMO8ywg9I9AszznM3jONATwAOlDAJM03QHQgj3XN6XPgKM41iFYozk8670EIAx1vgXEHKeJwZQSpsB13VhQHP7rQrQo27AE+MRcBFOD9LhAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-button-type{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-sortbutton-none{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-sortbutton-asc{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-column-sortbutton-desc{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-button{\\r\\n    background: url('data:image/png;base64,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') no-repeat center;\\r\\n}\\r\\n\\r\\n.eqjs-ep-entity-node-button-open{\\r\\n    background: url('data:image/png;base64,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') no-repeat center;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-select-all{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-select-all:hover{\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAmRJREFUeNqU1mFkrmUYB/Df3maMETGNcYgxxuhYlhHlZOkom1JOosTS16WopuPkUDoccT6kdDjO+dKHw7HZNGfOSH0akcYUMcYYMUaMMUZf/nfu3rO979PF472f57me/3Xd/+t/Xffb8/jHy7rYFF7CIMZxjD+xh7tZn2m9Zzx/BO/gKoZPef9sfq9iC59hqWmAESwmW9jFvWS6hf74TGImfotYxxs4qMF62ih6Bst4DNu4HBp02Ol7uIKhfDOLP4pDqy3zAr6E813A4QTfxveXYDxIvf4ToK8Cv4dXcaiZvZnvn0uQYdxuDzCHsfD8dkPgPnyf628cJbGDqG66BOiLGuDDODYBX072xwkg0r2W9eclwHQ4+xWrDbP/Bi9Wwfqqd19nF5MYLQGE+yY2l6u2yWp9hLXSL61wD5sNwM/hRnV/jIVTvi33463ot/BX21AKOF09+xIDWR/i+XDerriCNdh7RvPMp/ADGE2XTqWoBfwFbHToj39lWqKVmTOGS1WmE3ilqCK0zHYAr7H2W9U0LIXawtP4KGDwHS5UUv6xS60mClYr24fX2pyu4+XQUVr/VmTYyfrTaLDeiqT2MhVn2pzXw/URdvB+A6XN49FQuNNKQb7Iy68q7ottZAy/22A+DeOTrBfqWXQz2h2JNNttpQHv/fgh2a/g5zrACV7Hfmi6f8pOujXgT3iyfWDW50E5LPYzZ37HWw2G3jx+iwq3cbEafg+daCWbxUpq9eG+G9Chqj+KwlaT+UG3M3kXT+XQ/zR1+aDDLjZT0LX/868C7uQaT6bDeCKS/SuyvZvfM+2fAQCdsY8CEa4liAAAAABJRU5ErkJggg==') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-deselect-all{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-deselect-all:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-columns{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-columns:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-cond{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-ep-tool-panel-add-cond:hover{\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon {\\r\\n  background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAAYElEQVQ4jd2SwQ2AQAgEWXuwPlu5r63YnCWMHx+XnJwQfLlfmIEEZHcALBlJyjKjpLrBUt2gF+xJduwHGrE0VxuQ+HBA8g5PJI/w9BH603pP8+kZfyrYzOwsTQBW4PDqF8s0kLND0MqbAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n\\r\\n/* positions */\\r\\n.eqjs-qp-condition-button:hover, .eqjs-column-button:hover, .eqjs-column-sortbutton:hover, .eqjs-cb-addrow > a:hover, .eqjs-sb-addrow > a:hover,  .eqjs-gp-addrow > a:hover{\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable.enabled, .eqjs-column-button-enable.enabled, .eqjs-column-sortbutton-asc, .eqjs-column-sortbutton-desc{\\r\\n    background-position: -51px 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable.enabled:hover, .eqjs-column-button-enable.enabled:hover {\\r\\n    background-position: -76px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condition-button-enable, .eqjs-column-button-enable, .eqjs-qp-condition-button-addCondition, .active .eqjs-column-sortbutton-asc, .active .eqjs-column-sortbutton-desc{\\r\\n    background-position: 0 0;\\r\\n}\\r\\n\\r\\n.eqjs-fb-button-apply:hover, .eqjs-fb-button-apply:active, .eqjs-fb-button-apply:focus, .eqjs-fb-button-clear:hover, .eqjs-fb-button-clear:active, .eqjs-fb-button-clear:focus{\\r\\n    background-position: 0 -15px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-img-sorting{\\r\\n    background-position: -56px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-sb-img-sorting{\\r\\n    background-position: 0 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-fb-header-icon {\\r\\n\\tbackground-position: 50%;\\r\\n}\\r\\n\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery-mobile.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery-mobile.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyquery-mobile.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"\\r\\n/* ColumnsBar */\\r\\n.eqjs-mobile .eqjs-cb-row .eqjs-button-placeholder {\\r\\n    margin: 0 2px;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-button-placeholder {\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row.eqjs-mobile,\\r\\n.eqjs-sb-row.eqjs-mobile {\\r\\n    height: auto;\\r\\n    margin: 4px 3px;\\r\\n    padding: 8px 0;\\r\\n    min-width: 55px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement.eqjs-mobile,\\r\\n.eqjs-sb-colelement.eqjs-mobile {\\r\\n    margin: 0 8px 0 0;\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-colelement.eqjs-mobile > a,\\r\\n.eqjs-sb-colelement.eqjs-mobile > a {\\r\\n    vertical-align: inherit;\\r\\n}\\r\\n\\r\\n.eqjs-cb-addrow.eqjs-mobile,\\r\\n.eqjs-sb-addrow.eqjs-mobile {\\r\\n    width: 30px;\\r\\n    height: 30px;\\r\\n    margin: 4px 4px 0 3px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-addrow.eqjs-mobile a, .eqjs-cb-addrow.eqjs-mobile a:hover,\\r\\n.eqjs-sb-addrow.eqjs-mobile a, .eqjs-sb-addrow.eqjs-mobile a:hover {\\r\\n    background-position: 0 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-columns.eqjs-mobile,\\r\\n.eqjs-sb-columns.eqjs-mobile {\\r\\n    padding: 5px 3px;\\r\\n}\\r\\n\\r\\n.eqjs-cb-panel.eqjs-mobile,\\r\\n.eqjs-sb-panel.eqjs-mobile {\\r\\n    padding: 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-cb-row .eqjs-cb-sortimage-placeholder.eqjs-mobile,\\r\\n.eqjs-sb-row .eqjs-sb-sortimage-placeholder.eqjs-mobile {\\r\\n    margin: -3px 0 0 0;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/* Buttons */\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile {\\r\\n    position: absolute;\\r\\n    right: 3px;\\r\\n    left: 3px;\\r\\n    height: 54px;\\r\\n    border: 1px solid #0099cc;\\r\\n    border-radius: 6px;\\r\\n    background-color: #FFFFE0;\\r\\n    z-index: 10000;\\r\\n    transform: translate(0, -32px);\\r\\n    max-width: none;\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile.show-below {\\r\\n    transform: translate(0, 14px);\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile i {\\r\\n    position: absolute;\\r\\n    top:100%;\\r\\n    margin-left:-20px;\\r\\n    width:40px;\\r\\n    height:20px;\\r\\n    overflow:hidden;\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile.show-below i {\\r\\n    position: absolute;\\r\\n    top:initial;\\r\\n    bottom:100%;\\r\\n    margin-left:-20px;\\r\\n    width:40px;\\r\\n    height:20px;\\r\\n    overflow:hidden;\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile i::after {\\r\\n    content: '';\\r\\n    position: absolute;\\r\\n    background-color: #FFFFE0;\\r\\n    border: 1px solid #0099cc;\\r\\n    width:20px;\\r\\n    height:20px;\\r\\n    left:50%;\\r\\n    transform:translate(-50%,-50%) rotate(45deg);\\r\\n}\\r\\n\\r\\n.eqjs-cb-column-buttonsBlock.eqjs-mobile.show-below i::after {\\r\\n    content: '';\\r\\n    position: absolute;\\r\\n    background-color: #FFFFE0;\\r\\n    border: 1px solid #0099cc;\\r\\n    width:20px;\\r\\n    height:20px;\\r\\n    left:50%;\\r\\n    transform:translate(-50%,50%) rotate(45deg);\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-cb-addrow.eqjs-mobile a,\\r\\n.eqjs-sb-addrow.eqjs-mobile a {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxOTY2MUFDRUZDQkUxMUU5OTc2N0I1NUVGNTkwRDY1NSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxOTY2MUFDREZDQkUxMUU5OTc2N0I1NUVGNTkwRDY1NSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0Nzk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pg3rCBgAAADfSURBVHjaYmSYdZ4BCuyBuAiIjYFYmoG64CkQnwXiPiA+CBJggkpUAPEBIPajgaUMUDP9oHaA7GJgBPoY5NO9QMzMQB/wF4gdQD5uoaOlDFC7WkAW6zLQHxiALOYfAIv5mRgGCLCQl0Z5Gf57KcO5jLMvkGzEgPl41OLhbzHeVK1jIM5w2VSSoCH/Uw2wijNuuwusHj6PBjUDrHb6P1qAjFo8mqpHg5pci78PgL3fmaAtfHqDsyCLOwbA4g6QxVuBeCIdLQXZtRWWuAqAOAiIT0G7GLQAp6B2gOxiAAgwAF/XKrMmSkwEAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-sortbutton-none {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFRjY4REE1MkZGRjQxMUU5OEQ5NEYxQkE0MzU3MTAzMiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFRjY4REE1MUZGRjQxMUU5OEQ5NEYxQkE0MzU3MTAzMiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiNTCjUAAAFjSURBVHjaYvz//z/DQAAmhgECoxYPf4tZiFH09cT1/zxfRRm+OoswcDEwMKLL3997+b/Svb9QHgdDY6oGQx0WdaRZfPv2f56rPxkY/j1j4ObnZfhvwk6HoP716n/Fma9AS0EcIHHlPsPktwz/aWzxl/+bdzxn6PyCJPT7B0Pe7nsMhxgotxynxd+OPmLwe4nF/M+fGez3vmH4RqHlOC3mstZi/J9qwLhJHMl8Hl6Gg6n6DP+dRRi5CCSe0Xw8avGoxSSB/5du/WdcBCynH/1DEv3JUL/oMgPjhgf/L+DJ6xRZzKgnxbBJAGjpH2TzgezfzAzZxgoMBnjyOoVBzcPo6yHJUMvLiGqkrgLDFFn8BQzlccwmxthkzIUwSVaM4asZF50Sl6oq4xddYHXJy8twwEmCgZjilJFQ8/bHu0//X/6Exh4TG4OYOAcOg//8//mLhYGdjbgynHG0XT1q8bCzGCDAABDGbp/Wh83TAAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button-delete {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0M5OTk3NUZGRjgxMUU5QjhCMkI2NjIxRDY0M0I4QyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0M5OTk3NEZGRjgxMUU5QjhCMkI2NjIxRDY0M0I4QyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrtIPjoAAAU2SURBVHja7Fc7bxxVFD73Me9d79rrtR3HNo7j4DyQwkMBoggBAhIqoAEJKT8AiTQUVCEFEjVEiIoCEYmCKlaKSAEKIKA0QRGPSImMY0LidWJ77X3YM7Mzcx+cGdshFGu020RCjDSemb33nud3vnNMtNbwIC4KD+hqqzhJEhAiwTd1/01AiWx9ph6++MHVyodrfvhkHG/t0wS0BMBzGr+VVm0V83+3jWw8lBqtRuJgKBSLdESmfl1+C36rHjMBeo/tKJTLNk9cThtFRq4Coz7Bcxrap5G0y7EQAjgjttQwer3ZOjA933jz1Fz9MPhyAMLEghjPUYaOSQKcCihYGjzyw/vDuS+PT/bPTOTMWRRfaRfUtorR2p7rteCFd6+vnDw/U3scGjE6gUIY3gSjwEh6ejPC+BR4S/zg+HvZbpza2/fFicnC6QHXne1IcUuK145cnHvvypXqY+CaAiwmMWkhhlyiASY6shFLkrnENq1N9yR4OAdMm5+8NH767YcH3+kox7hAjw/mZq8U60P4YaNrHMIoQu9qYBs2KnEgkQY4RoTKOUjNMAUUTaiCxzHsFkzlrahjVHPGvn1luPcsULMMPimAZzdgsjQLnleGiA1D3gXYO7AAxOjD7z5wHQ77B+bAccchIH1g8Jv7PD7deR0rWcOCWMQ3E/PHD4zkr1WfHv4IcsYN8IV9aKzndnBk9FPIWXUEmtE7Vvx58fDY59DvRBBh2bnWqq/o750rRoyYjKyCxVdSALmM3yoVvJ8gj/nG+hwzObUY5bgvSEH2qsPuOpz/gjn202RDzuRlk9ldMBcBA0gNqF5IBV2OxSj+VkJDwgx8SvNIqBzmPCt0lxFvXUgTgcVT5Jc5kwUDAdm5xxQMkxvQYysQeD6WeWSlXpBSbBXEJl2litWAySpBnDBYi/LAGOznpEUZtLrymAER6HEukx2rWmrMbs8upHWsNz3dukaZEqEmLuKBplL7KAmRYJKumoRBiQ82n8kIIomHNOZ2ymAL6do/YsiIHPPsSisRg0jXBhoLEyYJcCXuUjHI5wyymIElUMSPZXHEgMJGlO9XTPVOx7yzHCcNiNBJi8OenNXESHWRY1RmM6Kf7XN1RpGa9PsS7JLF7gClGUNubkPuIsomenFFUittUCltjpntw7y94kwwIfs8U2MTAPSkWI9FLZb6Uhp65EhK/g41Ehgbx/VnshxYfG3QNea2k78NqrH1Kli/G0TfZLsEyKVEV7mSy1jHWpHNszqTwlxKdi1FcmeGB07rBU6WulOcLlIiV9bCaygoDXchULDrIdeU6JFMG9E9XBOq0M7WNT++kxUXhcCkUEnniY4HAfL9H2nzB6gFEYaygYxUbCk1NOqaMYKJJ+j1vapTSaCVvMwJncg8ZrTu0BSU3eT4VgNgfh1DjLVs8zUkEKgJtSiVvI1GBJQQjmE2UBHFltkwDOO7eaz6LPQ2lSXb9LtT3I80228BFLCoXM6xBUIoZG7Cs0Kss9gB3XIs9mc2BfTYC4zRQz821/dlQNQYp1hWt1PcNtRP5M3sWWIk+lrAItbPjjOV5uurQXQDc2p9tbwup2+uHoRQerht4uytlRPQTHaDgXiP4/nPZu6KJiLw5MGRzkYfH4mAYMHUomRo5FLlDFxdPYqdSSMrYbckKB2fWL9YPjwjlHQeEfhXKv38UzvOnX908A2c15KcwTrz2DM2ZiuLGNGFR0oXXkZahJvNKSRBJ503Mv4W2eCjN97RPa4bsCd/8ePJ4jmHI4FsM96S//+T+M8r/kuAAQDKIU6GdlAyfgAAAABJRU5ErkJggg==') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button-type {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCOTNBODU2MEZGRjIxMUU5ODE5RkZDNzk3MDE3MkFDNSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCOTNBODU1RkZGRjIxMUU5ODE5RkZDNzk3MDE3MkFDNSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0Njk5ODYxN0I4RkNFOTExOEFBM0M3OTA0NkU5N0I2RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pud7uPcAAAEMSURBVHjaYvz//z/DQAAmhgECA2YxCzGKGGdfINY8Byh9ACbwP9WAZj5WAOIFIDuAeD8U/4eK0SyoE4D4PhDHY5EDiTXQwmKQpfOR+BeBOBCIE5HEDCiKYxxxiWzpQqhDYKAAiPXxBTe5Fi/AYynMp6C4f0DNoA4AYnko+yEWS2HgAbUTVwASu4GeBUgAkm8X0MtiUKLih7I30LzkwhHMH9CC+gIpjiHW4gaopfpIYvVoag7SwuJ6ItQcoEVQF0ILBXm0hHWAHEtJsXgCNF+uRypAGihJXKSkagNyg5VSixWILZWGjcX2UPojPdtcDmgFxYA09uhq8QVoC+MjpWU0vAE52qAftZhWACDAAKIDOGACHIO9AAAAAElFTkSuQmCC') no-repeat;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button-close-block {\\r\\n    position: absolute;\\r\\n    right: 2px;\\r\\n    top: 2px;\\r\\n    width: 12px;\\r\\n    height: 12px;\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU5Q0M5MDJCRkZFRDExRTlBRUJCODkzNTI5RUEzRTUwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjU5Q0M5MDJDRkZFRDExRTlBRUJCODkzNTI5RUEzRTUwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTlDQzkwMjlGRkVEMTFFOUFFQkI4OTM1MjlFQTNFNTAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NTlDQzkwMkFGRkVEMTFFOUFFQkI4OTM1MjlFQTNFNTAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz45TUrxAAAAuUlEQVR42mL8//8/AymABURsZTQyB1L2QNyFQ10ZEB/1/n/uKBNUwAmIO4G4B4viPqicC9wGqIAwEBcDMSOUhikuhNKtyBr+AXEJEINsLALiH1CNhVBbS1H8gARAir8DcRWU3wbE1cgKmLC4mREHG6sNMDe3QRVXAjEb1LkoGpigboW5GeYMNmgAMEP98YcFKZxBinuRPQg1GaS4AIg/AHEjTMNhIK4F4hYsfgIZ9BaqhoGR1KQBEGAAmoYoMbhpLS4AAAAASUVORK5CYII=') no-repeat;\\r\\n    background-position: 0 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-cb-column-button {\\r\\n    width: 38px;\\r\\n    height: 38px;\\r\\n    margin: 7px 0 0 7px;\\r\\n    border: 1px solid #0099cc;\\r\\n    border-radius: 5px;\\r\\n    background-color: white;\\r\\n    background-position: 50% 50% !important;\\r\\n}\\r\\n/* Buttons end */\\r\\n/* ColumnsBar - end */\\r\\n\\r\\n\\r\\n/* QueryPanel */\\r\\n\\r\\n.eqjs-qp-panel.eqjs-mobile {\\r\\n    padding-left: 0;\\r\\n    padding-right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qp-conditions-root.eqjs-mobile {\\r\\n    max-height: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row.eqjs-mobile {\\r\\n    background-color: white;\\r\\n    border: 1px dotted lightgray;\\r\\n    border-radius: 4px;\\r\\n    margin-bottom: 4px;\\r\\n    padding: 10px;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.eqjs-qp-condelement.eqjs-mobile, .eqjs-mobile a.eqjs-qp-grelement, .eqjs-mobile .eqjs-qp-grelement, .eqjs-mobile .eqjs-qp-condelement {\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-qp-row.eqjs-mobile.active {\\r\\n    border: 1px solid #0099cc;\\r\\n}\\r\\n\\r\\n.eqjs-qp-conditions.eqjs-mobile {\\r\\n    border-left: 1px dotted lightgray;\\r\\n    margin-left: 3px;\\r\\n    padding-left: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-qp-condition-buttonsBlock.eqjs-mobile {\\r\\n    position: absolute;\\r\\n    top: 3px;\\r\\n    right: 3px;\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-qp-condition-button-menu {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-qp-valueelement input[type=\\\"text\\\"] {\\r\\n    top: auto;\\r\\n    bottom: auto;\\r\\n    width: 100%;\\r\\n    height: 1.2rem;\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n/* QueryPanel end */\\r\\n\\r\\n/* ColumnsPanel */\\r\\n\\r\\n.eqjs-qc-panel.eqjs-mobile {\\r\\n    padding-left: 0;\\r\\n    padding-right: 0;\\r\\n}\\r\\n\\r\\n.eqjs-qc-columns.eqjs-mobile {\\r\\n    max-height: none !important;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row.eqjs-mobile {\\r\\n    background-color: white;\\r\\n    border: 1px dotted lightgray;\\r\\n    border-radius: 4px;\\r\\n    margin-bottom: 4px;\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-colelement.eqjs-mobile, .eqjs-qc-colelement.eqjs-mobile > a {\\r\\n    font-size: 15px;\\r\\n}\\r\\n\\r\\n.eqjs-qc-row.eqjs-mobile.active {\\r\\n    border: 1px solid #0099cc;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-column-buttonsBlock.eqjs-mobile {\\r\\n    top: 3px;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-column-button-menu {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-qc-expr-block.eqjs-mobile {\\r\\n    min-width: unset;\\r\\n    margin-left: 0;\\r\\n}\\r\\n\\r\\n.eqjs-mobile .eqjs-qc-button-placeholder {\\r\\n    width: 22px;\\r\\n    height: 22px;\\r\\n}\\r\\n\\r\\n/* QueryPanel end */\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eqview.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eqview.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eqview.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/*setting to all page */\\r\\n#eqv-main{\\r\\n    width:1174px;\\r\\n    background: #fff;\\r\\n    margin:auto;\\r\\n    padding-top:10px;\\r\\n}\\r\\n\\r\\n/* error text */\\r\\n.eqv-error, .eqv-error div{\\r\\n    color: Red;\\r\\n    font: normal 20px Calibri;\\r\\n}\\r\\n\\r\\n/* title */\\r\\n.eqv-title{\\r\\n    float: left;\\r\\n    background: url('data:image/png;base64,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') no-repeat center left;\\r\\n    padding: 0 0 0 35px;\\r\\n    color: #3A94D4;\\r\\n    font: bold 25px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n/* sub-title*/\\r\\n.eqv-sub-title{\\r\\n    margin: 14px 0 0 10px;\\r\\n    float: left;\\r\\n    font: bold 11px Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n\\tcolor: #3a94d4;\\t\\r\\n}\\r\\n\\r\\n/* header */\\r\\n.eqv-header{\\r\\n    display:block;\\r\\n    height:40px;\\r\\n}\\r\\n\\r\\n.eqv-global-message {\\r\\n    display: none;\\r\\n    background-color: coral;\\r\\n    border-radius: 10px;\\r\\n    color: white;\\r\\n    float: right;\\r\\n    padding: 5px 10px 8px;\\r\\n}\\r\\n\\r\\n.eqv-header-panel{\\r\\n    height: 494px;\\r\\n}\\r\\n.eqv-header-panel > div{\\r\\n    height: 494px;\\r\\n    margin: 0 0 20px 0;\\r\\n}\\r\\n\\r\\n/* content */\\r\\n#eqv-content{\\r\\n    background: #f6f6f6;\\r\\n    border:2px solid #dedede;\\r\\n    padding:20px;\\r\\n}\\r\\n\\r\\n.eqv-hr{\\r\\n    height: 6px;\\r\\n    border: none;\\r\\n    margin: 0 0;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-bottom-panel{\\r\\n    height : 313px;\\r\\n}\\r\\n\\r\\n.eqv-bottom-panel > div{\\r\\n    height : 287px;\\r\\n    margin: 0 0 20px 0;\\r\\n}\\r\\n\\r\\n/* central block */\\r\\n.eqv-central-block{\\r\\n    width: 59%;\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n/* copyright */\\r\\n#eqv-footer{\\r\\n    margin: 10px 0;\\r\\n    padding: 0 0 20px 0;\\r\\n    font: normal 12px Calibri;\\r\\n    color: #000;\\r\\n}\\r\\n\\r\\n.eqv-copyright{\\r\\n    float: left;\\r\\n}\\r\\n\\r\\n.eqv-power-by{\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.eqv-copyright a, .eqv-power-by a{\\r\\n    color: #237901;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n/* entities panel */\\r\\n\\r\\n.eqv-entities-block{    \\r\\n    width: 20%;\\r\\n    float: left;\\r\\n    margin: 0 20px 0 0 !important;\\r\\n    background: #fff;\\r\\n    border: 1px solid silver;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqv-entities-hr{\\r\\n    background: #7BC4F8;\\r\\n}\\r\\n\\r\\n.eqv-entities-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #7BC4F8;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n.eqv-entities-panel-container {\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom: 0;\\r\\n    top:44px;\\r\\n}\\r\\n\\r\\n\\r\\n/* conditions block */\\r\\n.eqv-query-panel-container {\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom: 0;\\r\\n    top:44px;\\r\\n}\\r\\n\\r\\n.eqv-conditions-block{\\r\\n    background: white;\\r\\n    border: 1px solid silver;\\r\\n    height: 294px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqv-conditions-hr{\\r\\n    background: #1777B1;\\r\\n}\\r\\n\\r\\n.eqv-conditions-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #1777B1;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n/* columns block */\\r\\n.eqv-columns-block, .eqv-columns-sorting-block{\\r\\n    background: white;\\r\\n    border: 1px solid silver;\\r\\n    height: 180px;\\r\\n    margin: 0 0 20px 0;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqv-columns-sorting-block {\\r\\n    height: auto;\\r\\n    margin-top: -21px;\\r\\n}\\r\\n\\r\\n.eqv-columns-hr{\\r\\n    background: #1777B1;\\r\\n}\\r\\n\\r\\n.eqv-columns-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #1777B1;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n.eqv-columns-panel-container {\\r\\n    position:absolute;\\r\\n    left:0;\\r\\n    right:0;\\r\\n    bottom: 0;\\r\\n    top:44px;\\r\\n}\\r\\n\\r\\n.eqv-columns-sorting-title {\\r\\n    z-index: 1000;\\r\\n    position: absolute;\\r\\n    top: -12px;\\r\\n    left: 20px;\\r\\n    background-color: white;\\r\\n    padding: 0 10px 2px 10px;\\r\\n    border: 1px solid lightgrey;\\r\\n    border-radius: 7px;\\r\\n    font: normal 10pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n}\\r\\n\\r\\n.eqv-columns-sorting-container {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n/* menu block */\\r\\n.eqv-menu-block{\\r\\n    width: 17%;\\r\\n    float: right;\\r\\n    background: #fff;\\r\\n    border: 1px solid silver;\\r\\n}\\r\\n\\r\\n.eqv-menu-hr{\\r\\n    background: #AE67DF;\\r\\n}\\r\\n\\r\\n.eqv-menu-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #1777B1;\\r\\n}\\r\\n\\r\\n.eqv-menu-content{\\r\\n    padding: 10px;\\r\\n}\\r\\n\\r\\n.eqv-menu-content div{\\r\\n    margin: 10px 0;\\r\\n}\\r\\n\\r\\n/* menu block - buttons */\\r\\n.eqv-button {\\r\\n    width: 100%;\\r\\n    border: solid 1px #AE67DF;\\r\\n    font-family: Segoe UI;\\r\\n    font-size: 15px;\\r\\n    color: #4F4F4F;\\r\\n    cursor: pointer;\\r\\n    padding: 3px 10px 3px 10px;\\r\\n    display: inline-block;\\r\\n    margin: 10px 0;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.eqv-button:hover {\\r\\n    background-color: #AE67DF;\\r\\n    color: white !important; \\r\\n}\\r\\n\\r\\n.eqv-button-execute {\\r\\n\\tborder-color: #237901;\\r\\n\\tmargin-top: 40px;\\r\\n}\\r\\n\\r\\n.eqv-button-execute:hover {\\r\\n\\tbackground-color: #237901;\\r\\n}\\r\\n\\r\\n/* sql panel */\\r\\n.eqv-sql-panel{\\r\\n    width: 25%;\\r\\n    border: 1px solid #C4D6E5;\\r\\n    background: white;\\r\\n    float: left;\\r\\n    position:relative;\\r\\n}\\r\\n\\r\\n.eqv-sql-panel-hr{\\r\\n    background: #A8ABAD;\\r\\n}\\r\\n\\r\\n.eqv-sql-panel-title{\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F9F9F9;\\r\\n    border-bottom: 1px solid #A8ABAD;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n/* sql panel - block */\\r\\n.eqv-sql-block{\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    overflow: auto;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 44px;\\r\\n}\\r\\n\\r\\n/* sql panel - result block */\\r\\n.eqv-sql-panel-result{\\r\\n    padding: 7px;\\r\\n    overflow-y: auto;\\r\\n    overflow-x: hidden;\\r\\n    font: normal 11px Verdana;\\r\\n}\\r\\n\\r\\n/* result panel */\\r\\n#eqv-ResultExportButtons {\\r\\n    display: none;\\r\\n    float: right;\\r\\n    margin-right: 5px;\\r\\n    margin-top: 3px;\\r\\n    font-size:12pt;\\r\\n    padding:4px;\\r\\n}\\r\\n\\r\\n.eqv-result-panel{\\r\\n    background: white;\\r\\n    position: relative;\\r\\n    border: 1px solid #C1D5E4;\\r\\n    width: 73%;\\r\\n    float: right;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-hr{\\r\\n    background: #237901;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-title{\\r\\n    border-bottom: 1px solid #237901;\\r\\n    font: normal 18pt \\\"Segoe UI Light\\\", \\\"Segoe Light\\\", \\\"Segoe UI\\\", Arial, Helvetica, sans-serif;\\r\\n    color: #4F4F4F;\\r\\n    padding: 0 0 4px 10px;\\r\\n    background: #F8F7F7;\\r\\n    height: 38px;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-title a {\\r\\n    font-family: Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif;\\r\\n    font-weight: bold;\\r\\n    font-size: 13px;\\r\\n    color: #333333;\\r\\n    text-decoration: none;\\r\\n    border-bottom: 1px dashed;\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-title a:hover {\\r\\n     color: #333333;\\r\\n     border-bottom: 1px solid;\\r\\n     text-decoration: none;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-result-panel-content{\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    overflow: hidden;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 44px;\\r\\n\\tdisplay: flex;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-content table{\\r\\n    font: normal 12px Calibri;\\r\\n\\tborder: solid 1px rgba(0,0,0,.125);\\r\\n}\\r\\n\\r\\n.eqv-result-panel-content table td{\\r\\n    padding: 5px;\\r\\n    color: #4F4F4F;\\r\\n    font: 10px Arial;\\r\\n    border-bottom: 1px solid #E4E4E4;\\r\\n}\\r\\n\\r\\n.eqv-result-panel-error{\\r\\n    color: Red;\\r\\n    font: normal 20px Calibri;\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.eqv-result-panel.loader{\\r\\n    background: url('data:image/gif;base64,R0lGODlhEAAQAPYAAP///wAAAPr6+pKSkoiIiO7u7sjIyNjY2J6engAAAI6OjsbGxjIyMlJSUuzs7KamppSUlPLy8oKCghwcHLKysqSkpJqamvT09Pj4+KioqM7OzkRERAwMDGBgYN7e3ujo6Ly8vCoqKjY2NkZGRtTU1MTExDw8PE5OTj4+PkhISNDQ0MrKylpaWrS0tOrq6nBwcKysrLi4uLq6ul5eXlxcXGJiYoaGhuDg4H5+fvz8/KKiohgYGCwsLFZWVgQEBFBQUMzMzDg4OFhYWBoaGvDw8NbW1pycnOLi4ubm5kBAQKqqqiQkJCAgIK6urnJyckpKSjQ0NGpqatLS0sDAwCYmJnx8fEJCQlRUVAoKCggICLCwsOTk5ExMTPb29ra2tmZmZmhoaNzc3KCgoBISEiIiIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCAAAACwAAAAAEAAQAAAHaIAAgoMgIiYlg4kACxIaACEJCSiKggYMCRselwkpghGJBJEcFgsjJyoAGBmfggcNEx0flBiKDhQFlIoCCA+5lAORFb4AJIihCRbDxQAFChAXw9HSqb60iREZ1omqrIPdJCTe0SWI09GBACH5BAkIAAAALAAAAAAQABAAAAdrgACCgwc0NTeDiYozCQkvOTo9GTmDKy8aFy+NOBA7CTswgywJDTIuEjYFIY0JNYMtKTEFiRU8Pjwygy4ws4owPyCKwsMAJSTEgiQlgsbIAMrO0dKDGMTViREZ14kYGRGK38nHguHEJcvTyIEAIfkECQgAAAAsAAAAABAAEAAAB2iAAIKDAggPg4iJAAMJCRUAJRIqiRGCBI0WQEEJJkWDERkYAAUKEBc4Po1GiKKJHkJDNEeKig4URLS0ICImJZAkuQAhjSi/wQyNKcGDCyMnk8u5rYrTgqDVghgZlYjcACTA1sslvtHRgQAh+QQJCAAAACwAAAAAEAAQAAAHZ4AAgoOEhYaCJSWHgxGDJCQARAtOUoQRGRiFD0kJUYWZhUhKT1OLhR8wBaaFBzQ1NwAlkIszCQkvsbOHL7Y4q4IuEjaqq0ZQD5+GEEsJTDCMmIUhtgk1lo6QFUwJVDKLiYJNUd6/hoEAIfkECQgAAAAsAAAAABAAEAAAB2iAAIKDhIWGgiUlh4MRgyQkjIURGRiGGBmNhJWHm4uen4ICCA+IkIsDCQkVACWmhwSpFqAABQoQF6ALTkWFnYMrVlhWvIKTlSAiJiVVPqlGhJkhqShHV1lCW4cMqSkAR1ofiwsjJyqGgQAh+QQJCAAAACwAAAAAEAAQAAAHZ4AAgoOEhYaCJSWHgxGDJCSMhREZGIYYGY2ElYebi56fhyWQniSKAKKfpaCLFlAPhl0gXYNGEwkhGYREUywag1wJwSkHNDU3D0kJYIMZQwk8MjPBLx9eXwuETVEyAC/BOKsuEjYFhoEAIfkECQgAAAAsAAAAABAAEAAAB2eAAIKDhIWGgiUlh4MRgyQkjIURGRiGGBmNhJWHm4ueICImip6CIQkJKJ4kigynKaqKCyMnKqSEK05StgAGQRxPYZaENqccFgIID4KXmQBhXFkzDgOnFYLNgltaSAAEpxa7BQoQF4aBACH5BAkIAAAALAAAAAAQABAAAAdogACCg4SFggJiPUqCJSWGgkZjCUwZACQkgxGEXAmdT4UYGZqCGWQ+IjKGGIUwPzGPhAc0NTewhDOdL7Ykji+dOLuOLhI2BbaFETICx4MlQitdqoUsCQ2vhKGjglNfU0SWmILaj43M5oEAOwAAAAAAAAAAAA==') no-repeat;\\r\\n    width: 16px;\\r\\n    height: 16px;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    left: 50%;\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n\\r\\n/* result grid */\\r\\n.eqv-result-grid {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\toverflow: auto;\\r\\n\\tflex: 100 1 auto;\\r\\n}\\r\\n\\r\\n.eqv-result-grid-header td{\\r\\n    font: bold 14px Calibri;\\r\\n    border-bottom: 1px solid silver !important;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-result-grid-header th{\\r\\n    background-color: #F6F6F6;\\r\\n    color: #4F4F4F;\\r\\n    height: 30px;\\r\\n    font: bold 11px Arial !important;\\r\\n    border-bottom: 1px solid #E4E4E4;\\r\\n    text-align: left;\\r\\n    padding-left: 4px;\\r\\n    padding-right: 4px;\\r\\n}\\r\\n\\r\\n.eqv-grid-panel {\\r\\n\\toverflow: auto;\\r\\n\\tflex-grow: 100;\\r\\n}\\r\\n\\r\\n.eqv-grid-panel.eqjs-mobile {\\r\\n\\toverflow: hidden;\\r\\n}\\r\\n\\r\\n/* chart */\\r\\n.eqv-chart-panel {\\r\\n    flex: 0 0 360px;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n/* pagination */\\r\\n.pagination {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.eqv-pagination {\\r\\n    display: inline-block;\\r\\n    padding-left: 0;\\r\\n    margin: 0;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li {\\r\\n    display: inline;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li > a, .eqv-pagination > li > span {\\r\\n    font-size: 12px;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #ddd;\\r\\n    color: #428bca;\\r\\n    float: left;\\r\\n    line-height: 1.42857;\\r\\n    margin-left: -1px;\\r\\n    padding: 5px 10px;\\r\\n    position: relative;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li > a:hover, .eqv-pagination > li > span:hover, .eqv-pagination > li > a:focus, .eqv-pagination > li > span:focus {\\r\\n    background-color: #eee;\\r\\n    border-color: #ddd;\\r\\n    color: #2a6496;\\r\\n}\\r\\n\\r\\n.eqv-pagination > .active > a, .eqv-pagination > .active > span, .eqv-pagination > .active > a:hover, .eqv-pagination > .active > span:hover, .eqv-pagination > .active > a:focus, .eqv-pagination > .active > span:focus {\\r\\n    background-color: #428bca;\\r\\n    border-color: #428bca;\\r\\n    color: #fff;\\r\\n    cursor: default;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n.eqv-pagination > .disabled > span, .eqv-pagination > .disabled > span:hover, .eqv-pagination > .disabled > span:focus, .eqv-pagination > .disabled > a, .eqv-pagination > .disabled > a:hover, .eqv-pagination > .disabled > a:focus {\\r\\n    background-color: #fff;\\r\\n    border-color: #ddd;\\r\\n    color: #999;\\r\\n    cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li:first-child > a, .eqv-pagination > li:first-child > span {\\r\\n    border-bottom-left-radius: 3px;\\r\\n    border-top-left-radius: 3px;\\r\\n    margin-left: 0;\\r\\n}\\r\\n\\r\\n.eqv-pagination > li:last-child > a, .eqv-pagination > li:last-child > span {\\r\\n    border-bottom-right-radius: 3px;\\r\\n    border-top-right-radius: 3px;\\r\\n}\\r\\n\\r\\n.eqv-export-buttons {\\r\\n    float: right;\\r\\n    margin-right: 5px;\\r\\n    margin-top: 3px;\\r\\n    font-size: 12pt;\\r\\n    padding: 4px;\\r\\n}\\r\\n\\r\\n\\r\\n.eqv-select {\\r\\n    font-size: 12px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n/* Dropdown button styles */\\r\\n\\r\\n.eqv-drop-button {\\r\\n    margin-top: 0 !important;\\r\\n    margin-bottom: 0 !important;\\r\\n}\\r\\n\\r\\n/* The container <div> - needed to position the dropdown content */\\r\\n.eqv-dropdown-container {\\r\\n    width: 100%;\\r\\n    position: relative;\\r\\n    display: inline-block;\\r\\n}\\r\\n\\r\\n/* Dropdown Content (Hidden by Default) */\\r\\n.eqv-dropdown-content {\\r\\n    display: none;\\r\\n    position: absolute;\\r\\n    min-width: 160px;\\r\\n    z-index: 1;\\r\\n    border: 1px solid silver;\\r\\n    border-radius: 0 0 4px 4px;\\r\\n    padding: 6px 0;\\r\\n    box-shadow: 4px 8px 15px 0px rgba(0,0,0,.16);\\r\\n    margin-top: 0 !important;\\r\\n    background-color: white;\\r\\n\\tright: 0;\\r\\n}\\r\\n\\r\\n/* Links inside the dropdown */\\r\\n.eqv-dropdown-content a {\\r\\n    font-size: 0.9rem;\\r\\n    color: #333333;\\r\\n    padding: 5px 14px;\\r\\n    text-decoration: none;\\r\\n    display: block;\\r\\n\\twhite-space: nowrap;\\r\\n}\\r\\n\\r\\n/* Change color of dropdown links on hover */\\r\\n.eqv-dropdown-content a:hover {\\r\\n    background-color: #ecf3f5;\\r\\n    color: #1776b1;\\r\\n}\\r\\n\\r\\n/* Show the dropdown menu (use JS to add this class to the .eqv-dropdown-content container when the user clicks on the dropdown button) */\\r\\n.eqv-dropdown-show {\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n/* Dropdown button styles - END */\\r\\n\\r\\n\\r\\n/* Query Label Styles */\\r\\n.eqjs-query-name .eqjs-query-name-tooltip {\\r\\n    visibility: hidden;\\r\\n    background-color: white;\\r\\n    padding: 5px;\\r\\n   \\r\\n    /* Position the tooltip text */\\r\\n    position: absolute;\\r\\n    z-index: 1;    \\r\\n\\r\\n    top: 0;\\r\\n    right: 0;\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n.eqjs-query-name:hover .eqjs-query-name-tooltip {\\r\\n    visibility: visible;\\r\\n}\\r\\n\\r\\n.eqjs-query-name-theme {\\r\\n    color: #7a10c3;\\r\\n    border-bottom: 1px solid silver;\\r\\n}\\r\\n\\r\\n/* Query Label Styles */\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easychart.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easychart.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easychart.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/* EasyChart START */\\r\\n\\r\\n.eqjs-chart-header {\\r\\n    background-color: #DDD;\\r\\n    padding:4px;\\r\\n    font-size:10px;\\r\\n    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings {\\r\\n    background-color: #EEE;\\r\\n    padding:4px;\\r\\n    border: 1px solid #DDD;\\r\\n    font-size:14px;\\r\\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\r\\n    width: 100%;\\r\\n    min-height: 200px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings.sliding {\\r\\n    min-height: 0;\\r\\n}\\r\\n\\r\\n.eqjs-chart-main {\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-header {\\r\\n    width: 100%;\\r\\n    font-size:20px;\\r\\n    font-weight: bold;\\r\\n    text-align: center;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-icon {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASCAYAAAAzI3woAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpCNDk0M0YwQTg1RTJFNjExOTZFREQxNTc2MzY0NDE3OCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RkI5QTQ1RkUzQUExMUU2ODAwN0Y1Q0FGN0NFOTJBRSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RkI5QTQ1RUUzQUExMUU2ODAwN0Y1Q0FGN0NFOTJBRSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IFdpbmRvd3MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCNDk0M0YwQTg1RTJFNjExOTZFREQxNTc2MzY0NDE3OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCNDk0M0YwQTg1RTJFNjExOTZFREQxNTc2MzY0NDE3OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlO9hMwAAAIySURBVHja7JbPS1RRFMdnxEVbFxWOEkomU60MWk0ZM4SVBkbayjGYGkJiEDMHNcowkQanAl3MIogGBQ0XFSLOlESgLQY3QaWJIS4EEfEPMCRf3wffB6frvc9ZzqIDH+65P96Zc88577zxWpblKSQp8hSYFDtKPB7X7Z8D89SbwFv1QDKZ/GfuTS3r7JwFC9RbwLh6wLrrN0aoEQxSPy3Wazg+ALfyuGwDSFA/KdbPODEAd4wREs68p14LfGLPdiIAguLZlwZnLoFpEeUjYi/My4U4PwRGTA5VKemS4lMcPOESneNCDyh7R4kj1W5F/RxkxPwVOAbKwAux/pUhN0lKRNqWMVDBCyXE+hKImVIW4m38nL8GUbF/H+yCblDOOpsDHxRnLoDzov4mwE2x3wt+g8egFDylnYwaoXfgCajkPK25+SjHwyzuSc2ZKTAgUupmpwT0gDe6lKkd0qsxpK7puupeHnaKTHbkxlXQCX5xHtUYus1xk6G/pjlzBXSAny52Ihy3wUNwXVdDX0gdwx3m7frBHxZxG89uKMUpJUeC7D/NTG0f2AH3QDvPbomepw1dF7gs5nZXXQGrwhmnuQ25vGUx9jRHbjBia8IZW07JHqRz6IfQZ+mMI+sgK+bfXRxaFPonkT4nuhnDb+5zKMuW/4ipk70nzfqwU9fK3mKSz+zWdrovKum1v2P1rLOI2u2LNcZmiC3fxLrzcXyW54f7I1GjmeM4rHvI+///0AHyV4ABAGIbcSD7TTsfAAAAAElFTkSuQmCC');\\r\\n    background-position: 0 0;\\r\\n    float: right;\\r\\n    cursor: pointer;\\r\\n    width: 18px;\\r\\n    height: 18px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-icon:hover {\\r\\n    background-position: -18px 0;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-single {\\r\\n    max-width: 100%;\\r\\n    margin: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-single span {\\r\\n    width: 30%;\\r\\n}\\r\\n\\r\\n.eqjs-chart-settings-single select {\\r\\n    width: 60%;\\r\\n    font-size:12px;\\r\\n}\\r\\n\\r\\n.eqjs-chart-no-data {\\r\\n    position: absolute;\\r\\n    left: 50%;\\r\\n    top: 30px;\\r\\n    -webkit-transform: translate(-50%, 0);\\r\\n    transform: translate(-50%, 0);\\r\\n    font-size: 20px;\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n/* EasyChart END */\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".eqjs-gp-table {\\r\\n    display: flex;\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n    flex-direction: column;\\r\\n    overflow-x: auto;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-head {\\r\\n    height: 50px;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-body {\\r\\n    flex-grow: 1;\\r\\n    height: calc(100% - 50px);\\r\\n    width: 100%;\\r\\n    overflow-x: hidden;\\r\\n    overflow-y: auto;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-row {\\r\\n    display: flex;\\r\\n    min-height: 50px;\\r\\n    border-bottom: 1px solid grey;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-col {\\r\\n    display: flex;\\r\\n    flex: 1;\\r\\n    align-items:center;\\r\\n    justify-content:center;\\r\\n    min-width: 150px;\\r\\n    border-left: 1px solid grey;\\r\\n}\\r\\n\\r\\n.eqjs-gp-table-row .eqjs-gp-table-col:first-child {\\r\\n    flex: 0 0 50px;\\r\\n    min-width: 50px;\\r\\n    border-left: none;\\r\\n}\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid-mobile.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid-mobile.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./eq-grid-mobile.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyfacets.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyfacets.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easyfacets.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".eqjs-facets-panel * {\\r\\n    outline: none;    \\r\\n}\\r\\n\\r\\n.eqjs-facets-header {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    flex-wrap: wrap-reverse;\\r\\n    border-bottom: 1px solid #9c9c9c;\\r\\n}\\r\\n\\r\\n.eqjs-facets-manage {\\r\\n    display: flex;\\r\\n    flex: 1 auto;\\r\\n    margin-bottom: 5px;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n\\r\\n.eqjs-facets-total-recs {\\r\\n    margin-right: 20px;\\r\\n    align-self: flex-end;\\r\\n}\\r\\n\\r\\n.eqjs-facets-tabs {\\r\\n    display: flex;\\r\\n    flex: 100 auto;\\r\\n}\\r\\n\\r\\n.eqjs-facets-body {\\r\\n    padding-top: 10px;\\r\\n    min-height: 200px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs {\\r\\n    margin: 0;\\r\\n    list-style: none;\\r\\n    padding-left: 0;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    flex: 0 auto;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs:before {\\r\\n    display: table;\\r\\n    content: ' ';\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li {\\r\\n    float: left;\\r\\n    margin-right: 3px;\\r\\n    margin-bottom: -1px;\\r\\n    position: relative;\\r\\n    display: flex;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 8px 8px 0 0;\\r\\n    background-color: #e2e1e1;\\r\\n    color: #181d1f;\\r\\n    padding: 3px 0;\\r\\n    margin-top: 5px;\\r\\n    height: 2em;\\r\\n    border-bottom: 1px solid #9c9c9c;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li.active {\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #9c9c9c;\\r\\n    border-bottom-color: transparent;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li:hover, .eqjs-facets-nav-tabs > li:focus-within {\\r\\n    cursor: pointer;\\r\\n    border-color: #0099CC;\\r\\n    border-bottom-color: transparent;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li.active:hover {\\r\\n    cursor: default;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li > a {\\r\\n    position: relative;\\r\\n    display: inline-block;\\r\\n    padding: 0 22px 0 10px;\\r\\n    text-decoration: none !important;\\r\\n    margin-right: 2px;\\r\\n    color: #181d1f;\\r\\n    align-self: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-nav-tabs > li:hover .eqjs-facet-close::before, .eqjs-facets-nav-tabs > li:focus .eqjs-facet-close::before, .eqjs-facets-nav-tabs > li.active .eqjs-facet-close::before {\\r\\n    content: \\\"\\\\1F7A9\\\";\\r\\n    font-size: 15px;\\r\\n    font-weight: 900;\\r\\n}\\r\\n\\r\\n.eqjs-facet-close {\\r\\n    position: absolute;\\r\\n    top: 3px;\\r\\n    right: 3px;\\r\\n    line-height: 10px;\\r\\n    color: #bababa;\\r\\n}\\r\\n\\r\\n.eqjs-facet .pivot-grid-totals-row .keg-row:last-child {\\r\\n    font-weight: 900;\\r\\n}\\r\\n\\r\\n.eqjs-facet-close:hover, .eqjs-facet-close:focus {\\r\\n    color: #d32727;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-facets-nav-tabs > li.active > .eqjs-facet-settings::before {\\r\\n    content: \\\"\\\\2261\\\";\\r\\n    font-size: 1.2em;\\r\\n    line-height: 1.2em;\\r\\n    font-weight: 900;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-facet-settings {\\r\\n    margin-left: 10px;\\r\\n    color: #acacac;\\r\\n}\\r\\n\\r\\n.eqjs-facet-settings:hover, .eqjs-facet-settings:focus {\\r\\n    color: #7a7a7a;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.eqjs-facets-spinner {\\r\\n    position: relative;\\r\\n    height: 200px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button {\\r\\n    margin: auto 10px;\\r\\n    height: 22px;\\r\\n    width: 22px;\\r\\n    flex: 0 0 auto;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button > a {\\r\\n    background: url(data:image/png;base64,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) no-repeat;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button > a:hover {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n.eqjs-facets-add-button > a:focus {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n\\r\\n.eqjs-facets-total-buttons {\\r\\n    align-self: flex-end;\\r\\n    max-height: 26px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button {\\r\\n    vertical-align: top;\\r\\n    border: 1px solid #dbdbdb;\\r\\n    border-radius: 4px;\\r\\n    box-shadow: none;\\r\\n    display: inline-flex;\\r\\n    height: 24px;\\r\\n    width: 24px;\\r\\n    padding: 0;\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n\\r\\n    background-color: #fff;\\r\\n    cursor: pointer;\\r\\n\\r\\n    -webkit-touch-callout:none;\\r\\n    -webkit-user-select:none;\\r\\n    -moz-user-select:none;\\r\\n    -ms-user-select:none;\\r\\n    user-select:none;\\r\\n    outline: 0;\\r\\n\\r\\n    opacity: 0.6;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:not(:last-child) {\\r\\n    margin-right: 10px;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:hover {\\r\\n    border-color: #b5b5b5;\\r\\n    color: #363636;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:focus {\\r\\n    outline: none;\\r\\n    border-color: #3273dc;\\r\\n    color: #363636;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n    border: none;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button:active {\\r\\n    border-color: #4a4a4a;\\r\\n    color: #363636;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-refresh {\\r\\n    background:   url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABRElEQVQ4jY3SPUtbcRQG8F+SDi0UcejQQcVBaqBQcJA6hgo6GQS/g4U6iVCqUDhQBHEpDkoHv0MF0dnBgO6OQguNSynBqRTE2OH+Q29uEu2ZnsNznvNe0s/CDFbwFKvC975xKBWEsIkPuMRr4XqQGB4V/GVsJLz2kBjKueqPU3X4ieOHxN0JeINnCZ8J7Z7oMCG8GJTgVQ43+4iHcITDhEFJOMQ4nuc6+JXGaArzQhlfUU/8AZaEdhmfUc2JJVxNHNli6zl+Ee+h4sQ3NbeYLTT9SdgX5rCveHJqahqVBBuYwmQij/HWiTs1X3Aj29eTxLfwAy//ZQ3DOE+B0z0/EHbxLnnrwhbdf3CNBSwMeKCRHL7ogOJc/S27wpXsUi2MCr+7O7jf5pIYPnbE/5cge5rOObexl6fvHyGMYQd/sCucFkP+At9kRqAIrYjQAAAAAElFTkSuQmCC') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-export {\\r\\n    background:   url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAw0lEQVQ4jZ2QsQ6CMBRFD6YhzP4HxrgZXYijP9WfMkxs4CwJA5/gpCuTcfCBpbRFvFvfu/e8m0b4pFkDF3md0TxctigQLoCtTG7AyQWZAqbhXk7IKhBujU0rs0I8HgDkRjgz5pkByUOAF9AAGZq70ewukEY8XsAeSEfhMSQVzyBlmcJy7O0Gi6UG6tx1W/rboAJq9II2H28NVArYAQkQA51lvXoQMbABOuUx9JcOc2VMQLLgHxIX4Plz3GpQAsd/wkD5BtqYLERYDKv1AAAAAElFTkSuQmCC') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-maximize {\\r\\n    background:   url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAr0lEQVQ4jaWTwQ2DMAxFn1EPDMAyVTl1g94Yg7IIWyBVHKrORWfo7yWUyBKKK76UQ+z8/+3EMUkcwSlyyMw64ObCL0lTSMDhCjRABUxICi+gBwQswCwp1kJqowdG4A5cfomg85Cch7Sf1woi5DYnp1gHdFGBGmh38wXnumjgS3I97zp7ge1SNnIfuuBcIHvnENkLLP+SJVFls9IAb+BsZo80/0Wsk/gEPhGChx39zl8oCGZnXNzK6gAAAABJRU5ErkJggg==') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\\r\\n.eqjs-facets-button-restore {\\r\\n    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAvklEQVQ4jaWTuw3CMBCGvz8lygA0rJIBKKMUDJABIhgH5mAAVknDBJT8FHlgmSg2cNLJOp3v870s2/wjxS9BklpJhyyApEpSH9gdcAZKAGyvKtAM1wzQAQa62Z8LWAr+FmDg+OHPANQBYNJ+8is1RkkbYB81/G77BrwBkipgG1x6Alfbj9UXglT7hVTrVIlFANrZFnAK+OlFixo2j2o8m2STl4JHOx8AtMQbNvSkSgFkm/FjlLYvyZojSe5BSl4yFEh5bRiMkwAAAABJRU5ErkJggg==') no-repeat;\\r\\n    background-position: center;\\r\\n}\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-grid.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-grid.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-grid.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".keg-container * {\\r\\n    outline: none;    \\r\\n}\\r\\n\\r\\n\\r\\n.keg-container {\\r\\n    overflow: hidden;\\r\\n}\\r\\n\\r\\n.keg-header {\\r\\n    background-color: #f8f8f8;\\r\\n    border-bottom: 1px solid #babfc7;\\r\\n    overflow: hidden;\\r\\n\\r\\n}\\r\\n\\r\\n.keg-root {\\r\\n    font-family: \\\"Roboto\\\", Arial;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    border: 1px solid #babfc7;\\r\\n}\\r\\n\\r\\n.keg-body {\\r\\n/*\\r\\n    flex-grow: 1;\\r\\n    height: calc(100% - 50px);\\r\\n    width: 100%;\\r\\n*/    \\r\\n    overflow: hidden;\\r\\n\\r\\n    /* !!! temp */\\r\\n    /*height: 340px;*/\\r\\n}\\r\\n\\r\\n.keg-body-viewport {\\r\\n    overflow-x: auto;\\r\\n    overflow-y: auto;\\r\\n    height: 100%;\\r\\n    border: 1px solid transparent;\\r\\n}\\r\\n\\r\\n.keg-body-viewport:focus, .keg-body-viewport:focus-within {\\r\\n    border: 1px solid #838383;\\r\\n}\\r\\n\\r\\n.keg-header-row {\\r\\n    min-height: 30px;\\r\\n    display: flex;\\r\\n    font-size: 12px;\\r\\n    font-weight: 600;\\r\\n    color: rgba(0,0,0,.54);\\r\\n}\\r\\n\\r\\n.keg-row {\\r\\n    display: flex;\\r\\n    font-size: 12px;\\r\\n    background-color: #fff;\\r\\n    color: #181d1f;\\r\\n    outline: none;\\r\\n    border-color: #dde2eb;\\r\\n    border-width: 1px;\\r\\n    border-bottom-style: solid;\\r\\n    height: 26px;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.keg-row:not(.keg-row-active):not(.keg-row-totals):hover {\\r\\n    background-color: #fffae9;\\r\\n}\\r\\n\\r\\n.keg-row-odd {\\r\\n    background-color: #fcfcfc;\\r\\n}\\r\\n\\r\\n.keg-row-active {\\r\\n    background-color: #fff3cf;\\r\\n}\\r\\n\\r\\n.keg-cell, .keg-header-cell {\\r\\n    display: flex;\\r\\n/*\\r\\n    flex: 1;\\r\\n    min-width: 150px;\\r\\n*/\\r\\n}\\r\\n\\r\\n.keg-header-cell {\\r\\n    position: relative;\\r\\n    align-items: center;\\r\\n    padding: 2px 15px;\\r\\n}\\r\\n\\r\\n.keg-header-cell-resize {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    position: absolute;\\r\\n    z-index: 2;\\r\\n    height: 100%;\\r\\n    width: 8px;\\r\\n    top: 0;\\r\\n    /*cursor: ew-resize;*/\\r\\n    right: -4px;\\r\\n}\\r\\n\\r\\n.keg-header-cell-resize:after {\\r\\n    content: \\\"\\\";\\r\\n    position: absolute;\\r\\n    z-index: 1;\\r\\n    display: block;\\r\\n    left: calc(50% - 1px);\\r\\n    width: 2px;\\r\\n    height: 50%;\\r\\n    top: 25%;\\r\\n    background-color: rgba(186,191,199,.5);    \\r\\n}\\r\\n\\r\\n.keg-header-cell-label {\\r\\n    width: 100%;\\r\\n    text-align: center;\\r\\n    word-break: break-word;\\r\\n    -ms-word-wrap: break-word;\\r\\n}\\r\\n\\r\\n.keg-cell {\\r\\n    padding: 0 15px;\\r\\n    border-right-width: 1px;\\r\\n    border-right: solid transparent;\\r\\n    align-items: center;\\r\\n    height: 100%;\\r\\n    outline: none;\\r\\n}\\r\\n\\r\\n.keg-cell-value {\\r\\n    width: 100%;\\r\\n    overflow: hidden;\\r\\n    text-overflow: ellipsis;\\r\\n    white-space: nowrap;\\r\\n    max-height: 100%;\\r\\n}\\r\\n\\r\\n/*\\r\\n.keg-row .keg-cell:first-child, .keg-header-row .keg-header-cell:first-child {\\r\\n    flex: 0 0 55px;\\r\\n    min-width: 55px;\\r\\n}\\r\\n*/\\r\\n\\r\\n.keg-cell-align-left, .keg-cell-value-align-left {\\r\\n    text-align: left;\\r\\n}\\r\\n\\r\\n.keg-cell-align-right, .keg-cell-value-align-right {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n.keg-cell-align-center, .keg-cell-value-align-center {\\r\\n    text-align: center;\\r\\n}\\r\\n\\r\\n.keg-cell-value-bool {\\r\\n    margin: 0 auto;\\r\\n    width: auto;\\r\\n}\\r\\n\\r\\n.keg-cell-value-true::before {\\r\\n    content: \\\"\\\";\\r\\n    color: #28a745;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.keg-cell-value-false::before {\\r\\n    content: \\\"\\\";\\r\\n    color: #dc3545;\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.keg-addrow {\\r\\n    position: relative;\\r\\n    height: 23px;\\r\\n    width: 23px;\\r\\n}\\r\\n\\r\\n.keg-addrow a {\\r\\n    background: url('data:image/png;base64,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') no-repeat;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    display: block;\\r\\n}\\r\\n\\r\\n.keg-addrow a:hover {\\r\\n    background-position: -25px 0 !important;\\r\\n}\\r\\n\\r\\n/* Pagination */\\r\\n.keg-pagination {\\r\\n    display: inline-block;\\r\\n    padding-left: 0;\\r\\n    margin: 0;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.keg-page-item {\\r\\n    display: inline;\\r\\n}\\r\\n\\r\\n.keg-page-link {\\r\\n    font-size: 12px;\\r\\n    background-color: #fff;\\r\\n    border: 1px solid #ddd;\\r\\n    color: #428bca;\\r\\n    float: left;\\r\\n    line-height: 1.42857;\\r\\n    margin-left: -1px;\\r\\n    padding: 5px 10px;\\r\\n    position: relative;\\r\\n    text-decoration: none;\\r\\n}\\r\\n\\r\\n.keg-page-link:hover, .keg-page-link:focus {\\r\\n    background-color: #eee;\\r\\n    border-color: #ddd;\\r\\n    color: #2a6496;\\r\\n    border-bottom: #ffd148 2px solid !important;\\r\\n}\\r\\n\\r\\n.keg-page-item.active > .keg-page-link, .keg-page-item.active > .keg-page-link:hover, .keg-page-item.active > .keg-page-link:focus {\\r\\n    background-color: #428bca;\\r\\n    border-color: #428bca;\\r\\n    color: #fff;\\r\\n    cursor: default;\\r\\n    z-index: 2;\\r\\n}\\r\\n\\r\\n.keg-page-item.disabled > .keg-page-link, .keg-page-item.disabled > .keg-page-link:hover, .keg-page-item.disabled > .keg-page-link:focus {\\r\\n    background-color: #fff;\\r\\n    border-color: #ddd;\\r\\n    color: #999;\\r\\n    cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.keg-page-item:first-child > .keg-page-link {\\r\\n    border-bottom-left-radius: 3px;\\r\\n    border-top-left-radius: 3px;\\r\\n    margin-left: 0;\\r\\n}\\r\\n\\r\\n.keg-page-item:last-child > .keg-page-link {\\r\\n    border-bottom-right-radius: 3px;\\r\\n    border-top-right-radius: 3px;\\r\\n}\\r\\n\\r\\n.keg-footer {\\r\\n    display: flex;\\r\\n    /*justify-content: space-between;*/\\r\\n    margin-top: 5px;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.keg-page-info {\\r\\n    padding: 5px 10px;\\r\\n    font-size: 16px;\\r\\n    white-space: nowrap;\\r\\n    flex: 1 1 auto;\\r\\n    text-align: end;\\r\\n    color: rgba(0,0,0,.54);\\r\\n}\\r\\n\\r\\n.keg-page-info > span {\\r\\n    color: #212529;\\r\\n}\\r\\n\\r\\n.keg-row-totals {\\r\\n    font-weight: bold;\\r\\n}\\r\\n\\r\\n.keg-totals-lv0 {\\r\\n    background-color: #ACE1AF;\\r\\n}\\r\\n\\r\\n.keg-totals-lv1 {\\r\\n    background-color: #D0F0C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv2 {\\r\\n    background-color: #D0F2C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv3 {\\r\\n    background-color: #D0F4C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv4 {\\r\\n    background-color: #D0F6C0;\\r\\n}\\r\\n\\r\\n.keg-totals-lv5 {\\r\\n    background-color: #D0F8C0;\\r\\n}\\r\\n\\r\\n.keg-sortable-helper {\\r\\n    background-color: white;\\r\\n    padding: 3px 20px;\\r\\n    border: 2px solid #fb9c2f;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-dialog.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-dialog.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-dialog.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".kdlg-modal, .kdlg-modal-background {\\r\\n    bottom: 0;\\r\\n    left: 0;\\r\\n    position: absolute;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n}\\r\\n\\r\\n.kdlg-modal-background {\\r\\n    background-color: rgba(10,10,10,0.5);\\r\\n}\\r\\n\\r\\n.kdlg-modal {\\r\\n    font-family: \\\"Roboto\\\", Arial;\\r\\n    font-size: 16px;\\r\\n    font-weight: 400;\\r\\n    line-height: 1.5;\\r\\n\\r\\n    align-items: center;\\r\\n    display: none;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    overflow: hidden;\\r\\n    position: fixed;\\r\\n    z-index: 40;\\r\\n}\\r\\n\\r\\n.kdlg-modal.is-active {\\r\\n    display: flex;\\r\\n}\\r\\n\\r\\n\\r\\n.kdlg-modal-window, .kdlg-modal-window.size-default {\\r\\n    margin: 0 20px;\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    max-height: calc(100vh - 40px);\\r\\n    overflow: hidden;\\r\\n    -ms-overflow-y: visible;    \\r\\n}\\r\\n\\r\\n@media screen and (min-width: 481px), print {\\r\\n    .kdlg-modal-window.size-small {\\r\\n        margin: 0 auto;\\r\\n        width: 400px;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 769px), print {\\r\\n    .kdlg-modal-window, .kdlg-modal-window.size-default {\\r\\n        margin: 0 auto;\\r\\n        width: 640px;\\r\\n    }\\r\\n\\r\\n    .kdlg-modal-window.size-large, .kdlg-modal-window.size-xl {\\r\\n        margin: 0 20px;\\r\\n        width: 100%;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 1025px), print {\\r\\n    .kdlg-modal-window.size-large {\\r\\n        margin: 0 auto;\\r\\n        width: 900px;\\r\\n    }\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 1383px), print {\\r\\n    .kdlg-modal-window.size-xl {\\r\\n        margin: 0 auto;\\r\\n        width: 1200px;\\r\\n    }\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n.kdlg-footer, .kdlg-header {\\r\\n    align-items: center;\\r\\n    /*background-color: #f5f5f5;*/\\r\\n    background-color: #fff;\\r\\n    display: flex;\\r\\n    flex-shrink: 0;\\r\\n    justify-content: flex-start;\\r\\n    padding: 20px;\\r\\n    position: relative;\\r\\n}\\r\\n\\r\\n.kdlg-footer.align-right {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.kdlg-header {\\r\\n    border-top-left-radius: 6px;\\r\\n    border-top-right-radius: 6px;\\r\\n}\\r\\n\\r\\n.kdlg-header.has-border {\\r\\n    border-bottom: 1px solid #dbdbdb;\\r\\n}\\r\\n\\r\\n.kdlg-footer {\\r\\n    min-height: 10px;\\r\\n    border-bottom-left-radius: 6px;\\r\\n    border-bottom-right-radius: 6px;\\r\\n}\\r\\n\\r\\n.kdlg-footer.has-border {\\r\\n    border-top: 1px solid #dbdbdb;\\r\\n}\\r\\n\\r\\n.kdlg-header-title {\\r\\n    color: #363636;\\r\\n    flex-grow: 1;\\r\\n    flex-shrink: 0;\\r\\n    font-size: 1.6rem;\\r\\n    line-height: 1;\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close {\\r\\n    -webkit-touch-callout: none;\\r\\n    -webkit-user-select: none;\\r\\n    -moz-user-select: none;\\r\\n    -ms-user-select: none;\\r\\n    user-select: none;\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n    background-color: rgba(10,10,10,.2);\\r\\n    border: none;\\r\\n    border-radius: 290486px;\\r\\n    cursor: pointer;\\r\\n    pointer-events: auto;\\r\\n    display: inline-block;\\r\\n    flex-grow: 0;\\r\\n    flex-shrink: 0;\\r\\n    font-size: 0;\\r\\n    height: 24px;\\r\\n    max-height: 24px;\\r\\n    max-width: 24px;\\r\\n    min-height: 24px;\\r\\n    min-width: 24px;\\r\\n    outline: 0;\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n    width: 24px;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close::before, .kdlg-modal-close::after {\\r\\n    background-color: #fff;\\r\\n    content: \\\"\\\";\\r\\n    display: block;\\r\\n    left: 50%;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    transform: translateX(-50%) translateY(-50%) rotate(45deg);\\r\\n    transform-origin: center center;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close::before {\\r\\n    height: 2px;\\r\\n    width: 50%;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close::after {\\r\\n    height: 50%;\\r\\n    width: 2px;\\r\\n}\\r\\n\\r\\n.kdlg-modal-close:focus, .kdlg-modal-close:hover {\\r\\n    background-color: rgba(255,1,1,.48);\\r\\n}\\r\\n\\r\\n\\r\\n.kdlg-body {\\r\\n    -webkit-overflow-scrolling: touch;\\r\\n    background-color: #fff;\\r\\n    flex-grow: 1;\\r\\n    flex-shrink: 1;\\r\\n    overflow: auto;\\r\\n    padding: 20px;\\r\\n    font-size: 1em;\\r\\n    color: #4a4a4a;\\r\\n}\\r\\n\\r\\n\\r\\n/** alerts start **/\\r\\n\\r\\n.kdlg-alert {\\r\\n    padding: 20px;\\r\\n    background-color: #e2f5ff;\\r\\n    color: #004aef;\\r\\n}\\r\\n\\r\\n.kdlg-alert.success {\\r\\n    color: #0c7905;\\r\\n    background-color: #efffe6;\\r\\n}\\r\\n\\r\\n.kdlg-alert.warning {\\r\\n    color: #e49e02;\\r\\n    background-color: #fff7e5;\\r\\n}\\r\\n\\r\\n.kdlg-alert.error {\\r\\n    color: red;\\r\\n    background-color: #ffe2e2;\\r\\n}\\r\\n\\r\\n.kdlg-alert-closebtn {\\r\\n    margin-left: 15px;\\r\\n    float: right;\\r\\n    font-size: 22px;\\r\\n    line-height: 20px;\\r\\n    cursor: pointer;\\r\\n    transition: 0.3s;\\r\\n}\\r\\n\\r\\n/** alerts end **/\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-forms.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-forms.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../css-loader/dist/cjs.js??ref--6!./easy-forms.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/* BUTTONS */\\r\\n\\r\\n.kfrm-buttons {\\r\\n    align-items: center;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n    justify-content: flex-start;\\r\\n}\\r\\n\\r\\n.kfrm-buttons.align-right {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.kfrm-buttons.align-center {\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.kfrm-buttons:last-child {\\r\\n    margin-bottom: -.5rem;\\r\\n}\\r\\n\\r\\n.kfrm-buttons .kfrm-button {\\r\\n    margin-bottom: .5rem;\\r\\n}\\r\\n\\r\\n.kfrm-button {\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n    line-height: 1.5;\\r\\n    align-items: center;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 4px;\\r\\n    box-shadow: none;\\r\\n    display: inline-flex;\\r\\n    font-size: 1rem;\\r\\n    height: 2.5em;\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n\\r\\n\\r\\n    background-color: #fff;\\r\\n    border-color: #dbdbdb;\\r\\n    border-width: 1px;\\r\\n    color: #363636;\\r\\n    cursor: pointer;\\r\\n    justify-content: center;\\r\\n    padding-bottom: calc(.5em - 1px);\\r\\n    padding-left: 1em;\\r\\n    padding-right: 1em;\\r\\n    padding-top: calc(.5em - 1px);\\r\\n    text-align: center;\\r\\n    white-space: nowrap;\\r\\n\\r\\n    -webkit-touch-callout:none;\\r\\n    -webkit-user-select:none;\\r\\n    -moz-user-select:none;\\r\\n    -ms-user-select:none;\\r\\n    user-select:none\\r\\n}\\r\\n\\r\\n.kfrm-button:not(:last-child) {\\r\\n    margin-right: .5em;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-hovered, .kfrm-button:hover {\\r\\n    border-color: #b5b5b5;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-focused, .kfrm-button:focus {\\r\\n    outline: none;\\r\\n    border-color: #3273dc;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-focused:not(:active), .kfrm-button:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-active, .kfrm-button:active {\\r\\n    border-color: #4a4a4a;\\r\\n    color: #363636;\\r\\n}\\r\\n\\r\\n.kfrm-button[disabled], fieldset[disabled] .kfrm-button {\\r\\n    background-color: #fff;\\r\\n    border-color: #dbdbdb;\\r\\n    box-shadow: none;\\r\\n    opacity: .5;\\r\\n    cursor: not-allowed;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-loading {\\r\\n    color: transparent!important;\\r\\n    pointer-events: none;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-loading::after {\\r\\n    -webkit-animation:spinAround .5s infinite linear;\\r\\n    animation:spinAround .5s infinite linear;\\r\\n    border:2px solid #dbdbdb;\\r\\n    border-radius:290486px;\\r\\n    border-right-color:transparent;\\r\\n    border-top-color:transparent;\\r\\n    content:\\\"\\\";\\r\\n    display:block;\\r\\n    height:1em;\\r\\n    width:1em;\\r\\n\\r\\n    left: calc(50% - (1em / 2));\\r\\n    top: calc(50% - (1em / 2));\\r\\n    position: absolute!important;\\r\\n}\\r\\n\\r\\n@keyframes spinAround {\\r\\n    from {\\r\\n        transform:rotate(0deg);\\r\\n    }\\r\\n    to {\\r\\n        transform:rotate(360deg);\\r\\n    }\\r\\n}\\r\\n\\r\\n/* SIZES */\\r\\n\\r\\n.kfrm-button.size-small,\\r\\n.kfrm-buttons.size-small .kfrm-button:not(.size-default):not(.size-medium):not(.size-large) {\\r\\n    border-radius: 2px;\\r\\n    font-size: .75rem;\\r\\n}\\r\\n\\r\\n.kfrm-button.size-default\\r\\n.kfrm-buttons.size-default .kfrm-button:not(.size-small):not(.size-medium):not(.size-large) {\\r\\n    font-size: 1rem;\\r\\n}\\r\\n\\r\\n.kfrm-button.size-medium,\\r\\n.kfrm-buttons.size-medium .kfrm-button:not(.size-small):not(.size-default):not(.size-large) {\\r\\n    font-size: 1.25rem;\\r\\n}\\r\\n\\r\\n.kfrm-button.size-large\\r\\n.kfrm-buttons.size-large .kfrm-button:not(.size-small):not(.size-default):not(.size-medium) {\\r\\n    font-size: 1.5rem;\\r\\n}\\r\\n\\r\\n/* SIZES END */\\r\\n\\r\\n\\r\\n\\r\\n/* COLORS */\\r\\n\\r\\n/* white */\\r\\n.kfrm-button.is-white {\\r\\n    background-color: #fff;\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-hovered, .kfrm-button.is-white:hover {\\r\\n    background-color: #f9f9f9;\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-focused, .kfrm-button.is-white:focus {\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-focused:not(:active), .kfrm-button.is-white:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(150,150,150,.15);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-white.is-active, .kfrm-button.is-white:active {\\r\\n    background-color: #f2f2f2;\\r\\n    border-color: transparent;\\r\\n    color: #0a0a0a;\\r\\n}\\r\\n\\r\\n/* dark */\\r\\n\\r\\n.kfrm-button.is-dark {\\r\\n    background-color: #363636e6;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-hovered, .kfrm-button.is-dark:hover {\\r\\n    background-color: #2f2f2f;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-focused, .kfrm-button.is-dark:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-focused:not(:active), .kfrm-button.is-dark:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(54,54,54,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-dark.is-active, .kfrm-button.is-dark:active {\\r\\n    background-color: #292929;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n/* primary */\\r\\n\\r\\n.kfrm-button.is-primary {\\r\\n    background-color: #00d1b2;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-hovered, .kfrm-button.is-primary:hover {\\r\\n    background-color: #00c4a7;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-focused, .kfrm-button.is-primary:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-focused:not(:active), .kfrm-button.is-primary:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(0,209,178,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-active, .kfrm-button.is-primary:active {\\r\\n    background-color: #00b89c;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-primary.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* link */\\r\\n\\r\\n.kfrm-button.is-link {\\r\\n    background-color: #3273dc;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-hovered, .kfrm-button.is-link:hover {\\r\\n    background-color: #276cda;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-focused, .kfrm-button.is-link:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-focused:not(:active), .kfrm-button.is-link:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-active, .kfrm-button.is-link:active {\\r\\n    background-color: #2366d1;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-link.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* info */\\r\\n\\r\\n.kfrm-button.is-info {\\r\\n    background-color: #3298dc;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-hovered, .kfrm-button.is-info:hover {\\r\\n    background-color: #2793da;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-focused, .kfrm-button.is-info:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-focused:not(:active), .kfrm-button.is-info:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,152,220,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-active, .kfrm-button.is-info:active {\\r\\n    background-color: #238cd1;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-info.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* success */\\r\\n\\r\\n.kfrm-button.is-success {\\r\\n    background-color: #48c774;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-hovered, .kfrm-button.is-success:hover {\\r\\n    background-color: #3ec46d;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-focused:not(:active), .kfrm-button.is-success:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(72,199,116,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-active, .kfrm-button.is-success:active {\\r\\n    background-color: #3abb67;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-success.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* warning */\\r\\n\\r\\n.kfrm-button.is-warning {\\r\\n    background-color: #ffdd57;\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-hovered, .kfrm-button.is-warning:hover {\\r\\n    background-color: #ffdb4a;\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-focused, .kfrm-button.is-warning:focus {\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-focused:not(:active), .kfrm-button.is-warning:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(255,221,87,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-active, .kfrm-button.is-warning:active {\\r\\n    background-color: #ffd83d;\\r\\n    border-color: transparent;\\r\\n    color: rgba(0,0,0,.7);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-warning.is-loading::after {\\r\\n    border-color: transparent transparent rgba(0,0,0,.7) rgba(0,0,0,.7)!important;\\r\\n}\\r\\n\\r\\n/* danger */\\r\\n\\r\\n.kfrm-button.is-danger {\\r\\n    background-color: #f14668;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-hovered, .kfrm-button.is-danger:hover {\\r\\n    background-color: #f03a5f;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-focused, .kfrm-button.is-danger:focus {\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-focused:not(:active), .kfrm-button.is-danger:focus:not(:active) {\\r\\n    box-shadow: 0 0 0 0.125em rgba(241,70,104,.25);\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-active, .kfrm-button.is-danger:active {\\r\\n    background-color: #ef2e55;\\r\\n    border-color: transparent;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.kfrm-button.is-danger.is-loading::after {\\r\\n    border-color: transparent transparent #fff #fff!important;\\r\\n}\\r\\n\\r\\n/* COLORS END */\\r\\n\\r\\n\\r\\n/* BUTTONS END *//* COLUMNS */\\r\\n\\r\\n.kfrm-row {\\r\\n    margin-left: -.75rem;\\r\\n    margin-right: -.75rem;\\r\\n    margin-top: -.75rem;\\r\\n}\\r\\n\\r\\n.kfrm-row:not(:last-child) {\\r\\n    margin-bottom: calc(1.5rem - .75rem);\\r\\n}\\r\\n\\r\\n@media screen and (min-width: 769px), print {\\r\\n    .kfrm-row {\\r\\n        display: flex;\\r\\n        flex-wrap: wrap;\\r\\n    }\\r\\n\\r\\n    .kdlg-modal-window.size-small .kfrm-row {\\r\\n        display: block;\\r\\n    }\\r\\n\\r\\n\\r\\n    /* 12 columns grid */\\r\\n    .kfrm-column.size-1 {\\r\\n        flex: none;\\r\\n        width: 8.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-2 {\\r\\n        flex: none;\\r\\n        width: 16.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-3 {\\r\\n        flex: none;\\r\\n        width: 25%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-4 {\\r\\n        flex: none;\\r\\n        width: 33.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-5 {\\r\\n        flex: none;\\r\\n        width: 41.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-6 {\\r\\n        flex: none;\\r\\n        width: 50%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-7 {\\r\\n        flex: none;\\r\\n        width: 58.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-8 {\\r\\n        flex: none;\\r\\n        width: 66.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-9 {\\r\\n        flex: none;\\r\\n        width: 75%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-10 {\\r\\n        flex: none;\\r\\n        width: 83.33333%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-11 {\\r\\n        flex: none;\\r\\n        width: 91.66667%;\\r\\n    }\\r\\n\\r\\n    .kfrm-column.size-12 {\\r\\n        flex: none;\\r\\n        width: 100%;\\r\\n    }\\r\\n\\r\\n\\r\\n\\r\\n}\\r\\n\\r\\n.kfrm-column {\\r\\n    display: block;\\r\\n    flex-basis: 0;\\r\\n    flex-grow: 1;\\r\\n    flex-shrink: 1;\\r\\n    padding: .75rem;\\r\\n}\\r\\n\\r\\n/* COLUMNS END */\\r\\n\\r\\n/* CONTROLS */\\r\\n\\r\\n.kfrm-form .errors-block {\\r\\n    color: red;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-form .control {\\r\\n    box-sizing: border-box;\\r\\n    clear: both;\\r\\n    position: relative;\\r\\n    text-align: inherit;\\r\\n    display: inline-flex;\\r\\n    width: 100%;\\r\\n    max-width: 100%;\\r\\n    padding: 0 !important;\\r\\n}\\r\\n\\r\\n.kfrm-form .icon {\\r\\n    align-items: center;\\r\\n    display: inline-flex;\\r\\n    justify-content: center;\\r\\n    height: 1.5em;\\r\\n    width: 1.5em;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-left input, .kfrm-form .control.has-icons-left .select select {\\r\\n    padding-left: 2.5em;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-right input, .kfrm-form .control.has-icons-right .select select {\\r\\n    padding-right: 2.5em;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-left .icon.is-left {\\r\\n    left: 0;\\r\\n}\\r\\n\\r\\n.kfrm-form .control.has-icons-right .icon.is-right {\\r\\n    right: 0;\\r\\n}\\r\\n\\r\\n.kfrm-form .control .icon {\\r\\n    color: #dbdbdb;\\r\\n    height: 2.5em;\\r\\n    pointer-events: none;\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    width: 2.5em;\\r\\n    z-index: 4;\\r\\n}\\r\\n\\r\\n.kfrm-form .control .icon.is-clickable {\\r\\n    pointer-events: auto;\\r\\n}\\r\\n\\r\\n/*\\r\\n.kfrm-form .control input:focus~.icon, .kfrm-form .control .select:focus~.icon {\\r\\n    color: #4a4a4a;\\r\\n}\\r\\n*/\\r\\n\\r\\n.kfrm-form .control .icon.is-clickable:hover {\\r\\n    color: #4a4a4a;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-form input.is-valid:not([type='checkbox']),\\r\\n.kfrm-form input.is-valid:not([type='checkbox']):hover {\\r\\n    border-color: green;\\r\\n}\\r\\n\\r\\n.kfrm-form input.is-invalid:not([type='checkbox']),\\r\\n.kfrm-form input.is-invalid:not([type='checkbox']):hover {\\r\\n    border-color: red;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']):read-only {\\r\\n    background-color: #e9ecef;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']), .kfrm-select select, .kfrm-form textarea {\\r\\n    -moz-appearance: none;\\r\\n    -webkit-appearance: none;\\r\\n    align-items: center;\\r\\n    border: 1px solid transparent;\\r\\n    border-radius: 4px;\\r\\n    box-shadow: none;\\r\\n    display: inline-flex;\\r\\n    font-size: 1em;\\r\\n    height: 2.5em;\\r\\n    justify-content: flex-start;\\r\\n    line-height: 1.5;\\r\\n    padding-bottom: calc(.5em - 1px);\\r\\n    padding-left: calc(.75em - 1px);\\r\\n    padding-right: calc(.75em - 1px);\\r\\n    padding-top: calc(.5em - 1px);\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']), .kfrm-select select, .kfrm-form textarea {\\r\\n    background-color: #fff;\\r\\n    border-color: #dbdbdb;\\r\\n    border-radius: 4px;\\r\\n    color: #363636;\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']), .kfrm-form textarea {\\r\\n    box-shadow: inset 0 0.0625em 0.125em rgba(10,10,10,.05);\\r\\n    max-width: 100%;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']):hover, .kfrm-form input:not([type='checkbox']).is-hovered, .kfrm-form textarea:hover, .kfrm-form textarea.is-hovered, .kfrm-select select:hover, .kfrm-select select.is-hovered {\\r\\n    border-color: #b5b5b5;\\r\\n}\\r\\n\\r\\n.kfrm-form input:not([type='checkbox']):active, .kfrm-form input:not([type='checkbox']).is-active, .kfrm-form textarea:active, .kfrm-form textarea.is-active, .kfrm-select select:active, .kfrm-select select.is-active, \\r\\n.kfrm-form input:not([type='checkbox']):focus, .kfrm-form input:not([type='checkbox']).is-focused, .kfrm-form textarea:focus, .kfrm-form textarea.is-focused, .kfrm-select select:focus, .kfrm-select select.is-focused {\\r\\n    border-color: #3273dc;\\r\\n    box-shadow: 0 0 0 0.125em rgba(50,115,220,.25);\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-select {\\r\\n    display: inline-block;\\r\\n    max-width: 100%;\\r\\n    position: relative;\\r\\n    vertical-align: top;\\r\\n    padding: 0;\\r\\n    width: max-content;\\r\\n}\\r\\n\\r\\n.kfrm-select select::-ms-expand {\\r\\n    display: none !important;\\r\\n}\\r\\n\\r\\n.kfrm-select:not(.is-multiple) {\\r\\n    height: 2.5em;\\r\\n}\\r\\n\\r\\n.kfrm-select select {\\r\\n    cursor: pointer;\\r\\n    display: block;\\r\\n    font-size: 1em;\\r\\n    max-width: 100%;\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.kfrm-select select:not([multiple]) {\\r\\n    padding-right: 2.5em;\\r\\n}\\r\\n\\r\\n .kfrm-select:not(.is-multiple):not(.is-loading)::after {\\r\\n    border: 3px solid #3273dc;\\r\\n    border-radius: 2px;\\r\\n    border-right: 0;\\r\\n    border-top: 0;\\r\\n    content: \\\" \\\";\\r\\n    display: block;\\r\\n    height: .425em;\\r\\n    margin-top: -.5em;\\r\\n    pointer-events: none;\\r\\n    position: absolute;\\r\\n    top: 50%;\\r\\n    transform: rotate(-45deg);\\r\\n    transform-origin: center;\\r\\n    width: .425em;\\r\\n    right: .7em;\\r\\n    z-index: 4;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-form textarea {\\r\\n    display: block;\\r\\n    max-width: 100%;\\r\\n    min-width: 100%;\\r\\n    padding: calc(.75em - 1px);\\r\\n    resize: vertical;\\r\\n}\\r\\n\\r\\n.kfrm-form textarea:not([rows]) {\\r\\n    max-height: 40em;\\r\\n    min-height: 8em;\\r\\n}\\r\\n\\r\\n/* CONTROLS END */\\r\\n\\r\\n/* FORMS */\\r\\n.kfrm-form {\\r\\n    font-size: 16px;\\r\\n}\\r\\n\\r\\n.kfrm-form fieldset {\\r\\n    border: 1px solid #dbdbdb;\\r\\n    border-radius: 6px;\\r\\n    padding: 20px;\\r\\n}\\r\\n\\r\\n.kfrm-form fieldset > legend {\\r\\n    padding-inline-start: 10px;\\r\\n    padding-inline-end: 10px;\\r\\n    font-weight: 600;\\r\\n    width: auto;\\r\\n    font-size: 16px;\\r\\n    margin-bottom: 0;\\r\\n}\\r\\n\\r\\n.kfrm-break, .kfrm-break-50 {\\r\\n    margin-top: 50px;\\r\\n}\\r\\n\\r\\n.kfrm-break-10 {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n.kfrm-break-20 {\\r\\n    margin-top: 20px;\\r\\n}\\r\\n\\r\\n.kfrm-break-30 {\\r\\n    margin-top: 30px;\\r\\n}\\r\\n\\r\\n.kfrm-break-40 {\\r\\n    margin-top: 40px;\\r\\n}\\r\\n\\r\\n.kfrm-break-60 {\\r\\n    margin-top: 60px;\\r\\n}\\r\\n\\r\\n.kfrm-break-70 {\\r\\n    margin-top: 70px;\\r\\n}\\r\\n\\r\\n.kfrm-break-80 {\\r\\n    margin-top: 10px;\\r\\n}\\r\\n\\r\\n\\r\\n.kfrm-fields, .kfrm-fields.col-a {\\r\\n    display: grid;\\r\\n    grid-template-columns: auto;\\r\\n    grid-gap: 10px;\\r\\n    grid-auto-rows: auto;\\r\\n}\\r\\n\\r\\n.kfrm-fields:not(:last-child) {\\r\\n    margin-bottom: calc(1.5rem - .75rem);\\r\\n}\\r\\n\\r\\n.kfrm-fields > label {\\r\\n    padding: .5em 0;\\r\\n}\\r\\n\\r\\nfieldset .kfrm-fields > label {\\r\\n    padding: 0;\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.kfrm-fields > label:not(.checkbox) {\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.kfrm-fields.label-above > label:not(.checkbox) {\\r\\n    padding: 0.5em 0 0 0;\\r\\n    margin-bottom: -0.5em;\\r\\n}\\r\\n\\r\\n.kfrm-fields.label-align-right > label:not(.checkbox) {\\r\\n    text-align: right;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-a-1 {\\r\\n    grid-template-columns: auto 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-a {\\r\\n    grid-template-columns: 1fr auto;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-a-a {\\r\\n    grid-template-columns: auto auto;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-1 {\\r\\n    grid-template-columns: 1fr 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-2 {\\r\\n    grid-template-columns: 1fr 2fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-1-3 {\\r\\n    grid-template-columns: 1fr 3fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-2-1 {\\r\\n    grid-template-columns: 2fr 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-3-1 {\\r\\n    grid-template-columns: 3fr 1fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-2-3 {\\r\\n    grid-template-columns: 2fr 3fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.col-3-2 {\\r\\n    grid-template-columns: 3fr 2fr;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal {\\r\\n    display: flex;\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal.align-right {\\r\\n    justify-content: flex-end;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal.align-center {\\r\\n    justify-content: center;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal.align-evenly {\\r\\n    justify-content: space-evenly;\\r\\n}\\r\\n\\r\\n.kfrm-fields.is-horizontal > label:not(:first-child) {\\r\\n    margin-left: .5rem;\\r\\n}\\r\\n\\r\\n/* IE */\\r\\n.kfrm-fields-ie {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    font-size: 16px;\\r\\n  }\\r\\n\\r\\n.kfrm-field-ie {\\r\\n    display: flex;\\r\\n    margin-bottom: 1em;\\r\\n}\\r\\n\\r\\n/*  \\r\\n  .kfrm-field-ie > * {\\r\\n      font-size: 16px;\\r\\n  }\\r\\n*/\\r\\n\\r\\n.kfrm-field-ie > *:nth-child(1) {\\r\\n    margin-right: 20px;\\r\\n}\\r\\n\\r\\n.kfrm-field-ie > label {\\r\\n    padding: .5em 0;\\r\\n}\\r\\n\\r\\n/*\\r\\n  .kfrm-field-ie > *:nth-child(2):not(.kfrm-select):not(.kfrm-fields-ie) {\\r\\n    padding: .5em;\\r\\n  }\\r\\n*/\\r\\n  .kfrm-fields-ie.col-ie-1-1 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 50%;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.col-ie-1-2 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 33.3333%;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.col-ie-1-3 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 25%;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.col-ie-1-4 > .kfrm-field-ie > *:nth-child(1) {\\r\\n    flex: 0 0 20%;\\r\\n  }\\r\\n\\r\\n\\r\\n  .kfrm-fields-ie.label-align-right .kfrm-field-ie > *:nth-child(1) {\\r\\n    text-align: right;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.label-above .kfrm-field-ie > *:nth-child(1):not(.checkbox) {\\r\\n      padding: 0.5em 0 0 0;\\r\\n      margin-bottom: -0.5em;\\r\\n  }\\r\\n\\r\\n  .kfrm-field-ie > label:not(.checkbox), .kfrm-fields-ie > label:not(.checkbox) {\\r\\n      font-weight: 600;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.is-horizontal {\\r\\n    display: flex;\\r\\n    padding: 0 !important;\\r\\n    flex-direction: row;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.kfrm-fields-ie.is-horizontal > *:not(.kfrm-select) {\\r\\n    padding: .5em;\\r\\n  }\\r\\n\\r\\n  .kfrm-fields-ie.is-horizontal > *:not(:first-child) {\\r\\n    margin-left: 1em;\\r\\n  }\\r\\n\\r\\n.kfrm-fields-ie > label {\\r\\n    padding-left: 0 !important;\\r\\n    padding-right: 0 !important;\\r\\n}\\r\\n\\r\\n\\r\\n/* FORMS END */\\r\\n/* DATETIME STARTS */\\r\\n.kdtp {\\r\\n    border: 1px solid silver;\\r\\n    background-color: white;\\r\\n    box-shadow: 4px 8px 15px 0px rgba(0,0,0,.16);\\r\\n    border-radius: 8px;\\r\\n    overflow: hidden;    \\r\\n    z-index: 100000;\\r\\n    outline: none;\\r\\n    font-size: 0.7rem;\\r\\n}\\r\\n\\r\\n.kdtp-buttons {\\r\\n    margin-top: 1em;\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n    justify-content: space-between;\\r\\n}\\r\\n\\r\\n.kdtp-button {\\r\\n    height: 2.5em;\\r\\n    flex: 1;\\r\\n    background-color: #0099CC;\\r\\n    border: none;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    text-decoration: none;\\r\\n    cursor: pointer;    \\r\\n    font-weight: 500;\\r\\n}\\r\\n\\r\\n.kdtp-button:focus, .kdtp-button:active {\\r\\n    outline: 0;\\r\\n}\\r\\n\\r\\n.kdtp-button-now {\\r\\n    border: none;\\r\\n    background-color: white;\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.kdtp-button:nth-child(2) {\\r\\n    border-top-left-radius: 8px;\\r\\n}\\r\\n\\r\\n.kdtp-button:not(:first-child) {\\r\\n    margin-left: 2px;\\r\\n}\\r\\n\\r\\n.kdtp-cal {\\r\\n    padding: 0;\\r\\n}\\r\\n\\r\\n.kdtp-cal * {\\r\\n    outline: none !important;\\r\\n}\\r\\n\\r\\n.kdtp-cal-body {\\r\\n    display: -ms-grid;\\r\\n    display: grid;\\r\\n    -ms-grid-columns: minmax(1em, 1fr) 5px minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr) 0.5em minmax(1em, 1fr);\\r\\n    grid-template-columns: repeat(7, minmax(1em, 1fr));\\r\\n    grid-gap: 0.5em;\\r\\n    -webkit-box-sizing: border-box;\\r\\n\\tbox-sizing: border-box;\\r\\n    padding: 0 12px;\\r\\n    -ms-grid-rows: 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr 0.5em 1fr;\\r\\n}\\r\\n\\r\\n.kdtp-cal-body > *:nth-child(1) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(2) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(3) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(4) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(5) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(6) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(7) {\\r\\n    -ms-grid-row: 1;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(8) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(9) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(10) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(11) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(12) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(13) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(14) {\\r\\n    -ms-grid-row: 3;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(15) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(16) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(17) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(18) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(19) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(20) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(21) {\\r\\n    -ms-grid-row: 5;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(22) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(23) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(24) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(25) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(26) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(27) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(28) {\\r\\n    -ms-grid-row: 7;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(29) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(30) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(31) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(32) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(33) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(34) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(35) {\\r\\n    -ms-grid-row: 9;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(36) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(37) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(38) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(39) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(40) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(41) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(42) {\\r\\n    -ms-grid-row: 11;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(43) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 1;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(44) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 3;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(45) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 5;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(46) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 7;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(47) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 9;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(48) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 11;\\r\\n}\\r\\n.kdtp-cal-body > *:nth-child(49) {\\r\\n    -ms-grid-row: 13;\\r\\n    -ms-grid-column: 13;\\r\\n}\\r\\n\\r\\n.kdtp-cal-header-input {\\r\\n    width: 100%;\\r\\n    width: -moz-available;          /* WebKit-based browsers will ignore this. */\\r\\n    width: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */\\r\\n    width: fill-available;\\r\\n    height: 100%;\\r\\n    height: -moz-available;          /* WebKit-based browsers will ignore this. */\\r\\n    height: -webkit-fill-available;  /* Mozilla-based browsers will ignore this. */\\r\\n    height: fill-available;\\r\\n\\r\\n    font-size: 1em;\\r\\n    padding: 2px 5px;\\r\\n    border: 1px solid silver;\\r\\n    outline: none;\\r\\n    background: #fff;\\r\\n    color: #262626;\\r\\n}\\r\\n\\r\\n.kdtp-cal-header-input.error {\\r\\n    border-color: red;\\r\\n}\\r\\n\\r\\n.kdtp-cal-header {\\r\\n    background-color: #0099CC;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    font-size: 1.2em;\\r\\n    font-weight: 600;\\r\\n    height: 2em;\\r\\n    line-height: 2em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav {\\r\\n    display: flex;\\r\\n    padding: 0;\\r\\n    margin: 0.7em 0;\\r\\n    line-height: 1em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-prev, .kdtp-cal-nav-next {\\r\\n    flex: 0 0 auto;\\r\\n    font-size: 3em;\\r\\n    font-weight: 600;\\r\\n    width: 1em;\\r\\n    color: #777777;\\r\\n    text-align: center;    \\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-prev:hover, .kdtp-cal-nav-next:hover {\\r\\n    cursor: pointer;\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors {\\r\\n    flex: 1 1 auto;\\r\\n    display: flex;\\r\\n    margin: 0 0.5em;\\r\\n    font-size: 1.2em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-month {\\r\\n    flex: 1 1 auto;\\r\\n    margin-right: 0.5em;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-year {\\r\\n    flex: 0 0 auto;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors select {\\r\\n    border: none;\\r\\n    color: #777777;\\r\\n    font-weight: 600;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors select:hover {\\r\\n    color: #0099CC;\\r\\n}\\r\\n\\r\\n.kdtp-cal-nav-selectors select:hover option {\\r\\n    color: #777777;\\r\\n}\\r\\n\\r\\n.kdtp-cal-weekday {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    height: 1.8em;\\r\\n    font-weight: 600;\\r\\n\\tfont-size: 0.8em;\\r\\n    color: #262626;\\r\\n}\\r\\n\\r\\n.kdtp-cal-weekday.kdtp-cal-weekend {\\r\\n    color: #ff685d;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day, .kdtp-cal-day-empty {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    height: 1.5em;\\r\\n    color: #262626;\\r\\n    border-radius: 4px;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day.kdtp-cal-weekend {\\r\\n    color: #ff685d;\\r\\n    font-weight: 700;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day:hover, .kdtp-cal-day-selected {\\r\\n    border: 2px solid #0099CC;\\r\\n    font-weight: 700;\\r\\n    cursor: pointer;\\r\\n}\\r\\n\\r\\n.kdtp-cal-day-current {\\r\\n    background-color: lightgray;\\r\\n}\\r\\n\\r\\n.kdtp-tp {\\r\\n    display: flex;\\r\\n    display:-webkit-flex;\\r\\n    display:-ms-flexbox;\\r\\n    align-items: center;\\r\\n    -webkit-align-items:center;\\r\\n    -ms-flex-align:center;\\r\\n    margin-top: 1em;\\r\\n    padding: 0 1em;\\r\\n}\\r\\n\\r\\n.kdtp-tp-time {\\r\\n    flex: 0 0 5em;\\r\\n    -webkit-flex: 0 0 5em;\\r\\n    -ms-flex: 0 0 5em;\\r\\n    text-align: center;\\r\\n    font-weight: 600;\\r\\n    color: #777777;\\r\\n    border: 2px solid #0099CC;\\r\\n    border-radius: 6px;\\r\\n    margin-right: 0.5em;\\r\\n}\\r\\n\\r\\n.kdtp-tp-sliders {\\r\\n    flex: 1 1 auto;\\r\\n    -webkit-flex: 1 1 auto;\\r\\n    -ms-flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row {\\r\\n    display:-webkit-flex;\\r\\n    display:-ms-flexbox;\\r\\n    display:flex;\\r\\n    -webkit-align-items:center;\\r\\n    -ms-flex-align:center;\\r\\n    align-items:center;\\r\\n    height: 1.5em;\\r\\n    background:linear-gradient(to right,#c5c5c5,#c5c5c5) left 50%/100% 1px no-repeat;\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range] {\\r\\n    background:0 0;\\r\\n    cursor:pointer;\\r\\n    -webkit-flex:1;\\r\\n    -ms-flex:1;\\r\\n    flex:1;\\r\\n    height:100%;\\r\\n    padding:0;\\r\\n    margin:0;\\r\\n    -webkit-appearance:none\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:hover::-webkit-slider-thumb {\\r\\n    border-color:#777777\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:hover::-moz-range-thumb {\\r\\n    border-color:#777777\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:hover::-ms-thumb {\\r\\n    border-color:#777777\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus {\\r\\n    outline:0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus::-webkit-slider-thumb {\\r\\n    background:#0099CC;\\r\\n    border-color:#0099CC\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus::-moz-range-thumb {\\r\\n    background:#0099CC;\\r\\n    border-color:#0099CC\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]:focus::-ms-thumb {\\r\\n    background:#0099CC;\\r\\n    border-color:#0099CC\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-webkit-slider-thumb {\\r\\n    -webkit-appearance:none;\\r\\n    box-sizing:border-box;\\r\\n    height:12px;\\r\\n    width:12px;\\r\\n    border-radius:3px;\\r\\n    border:1px solid #c5c5c5;\\r\\n    background:#fff;\\r\\n    cursor:pointer;\\r\\n    transition:background .2s;\\r\\n    margin-top:-6px\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-moz-range-thumb {\\r\\n    box-sizing:border-box;\\r\\n    height:12px;\\r\\n    width:12px;\\r\\n    border-radius:3px;\\r\\n    border:1px solid #c5c5c5;\\r\\n    background:#fff;\\r\\n    cursor:pointer;\\r\\n    transition:background .2s\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-thumb {\\r\\n    box-sizing:border-box;\\r\\n    height:12px;\\r\\n    width:12px;\\r\\n    border-radius:3px;\\r\\n    border:1px solid #c5c5c5;\\r\\n    background:#fff;\\r\\n    cursor:pointer;\\r\\n    transition:background .2s\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-webkit-slider-runnable-track {\\r\\n    border:none;\\r\\n    height:1px;\\r\\n    cursor:pointer;\\r\\n    color:transparent;\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-moz-range-track {\\r\\n    border:none;\\r\\n    height:1px;\\r\\n    cursor:pointer;\\r\\n    color:transparent;\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-track {\\r\\n    border:none;\\r\\n    height:1px;\\r\\n    cursor:pointer;\\r\\n    color:transparent;\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-fill-lower {\\r\\n    background:0 0\\r\\n}\\r\\n\\r\\n.kdtp-tp-time-row input[type=range]::-ms-fill-upper {\\r\\n    background:0 0\\r\\n}\\r\\n\", \"\"]);\n\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ui_1 = require(\"@easyquery/ui\");\r\nrequire(\"@easyquery/enterprise\");\r\nwindow.addEventListener('load', function () {\r\n    //Options for ReportViewJQuery\r\n    var viewOptions = {\r\n        calcTotals: true,\r\n        //Saves report on each change\r\n        syncReportOnChange: true,\r\n        handlers: {\r\n            onError: function (error) {\r\n            }\r\n        },\r\n        result: {\r\n            //Show EasyChart\r\n            showChart: true,\r\n            //Paging options\r\n            paging: {\r\n                pageSize: 30\r\n            }\r\n        },\r\n        //Load model on start\r\n        loadModelOnStart: true,\r\n        //Default model's ID (we use it here just for a nice folder name in App_Data folder)\r\n        defaultModelId: 'adhoc-reporting',\r\n        //Middleware endpoint \r\n        endpoint: window[\"__appPathBase\"] + '/api/adhoc-reporting',\r\n        enableExport: true,\r\n        //Different widgets options\r\n        widgets: {\r\n            //ColumnBar options\r\n            columnsBar: {\r\n                accentActiveColumn: false,\r\n                allowAggrColumns: true,\r\n                attrElementFormat: \"{attr}\",\r\n                showColumnCaptions: true,\r\n                adjustEntitiesMenuHeight: false,\r\n                menuOptions: {\r\n                    showSearchBoxAfter: 30,\r\n                    activateOnMouseOver: true\r\n                }\r\n            },\r\n            //QueryPanel options\r\n            queryPanel: {\r\n                alwaysShowButtonsInGroups: false,\r\n                adjustEntitiesMenuHeight: false,\r\n                menuOptions: {\r\n                    showSearchBoxAfter: 20,\r\n                    activateOnMouseOver: true\r\n                }\r\n            },\r\n            //ResultGrid options\r\n            resultGrid: {\r\n                tableClass: \"table table-sm\",\r\n                formatGridCell: function (dataTable, rowIndex, colIndex, value) {\r\n                    var props = dataTable.getColumnProperties(colIndex);\r\n                    if (props.dataType == 'Decimal') {\r\n                        return \"$\" + value;\r\n                    }\r\n                    else {\r\n                        return value;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    var reportView = new ui_1.ReportView();\r\n    var context = reportView.getContext();\r\n    context.setLicenseKeyEndpoint(window[\"__appPathBase\"] + window['__eqLckEndpoint']);\r\n    context.useEnterprise(function () {\r\n        reportView.init(viewOptions);\r\n    });\r\n    document['ReportView'] = reportView;\r\n});\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, ExprTag, QueryChangePart, QueryChangeAction } from '@easyquery/core';\r\nimport { eqDragManager, createBrowserEvent } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\n/**\r\n * The entities panel wiget, implemented without JQuery.\r\n */\r\nvar EntitiesPanel = /** @class */ (function (_super) {\r\n    __extends(EntitiesPanel, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function EntitiesPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.queryChangedCallbackId = null;\r\n        _this.group = WidgetGroup.Model | WidgetGroup.Query;\r\n        _this.panel = slot;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EntitiesPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-ep';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    EntitiesPanel.prototype.getWidgetType = function () {\r\n        return 'entitiesPanel';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    EntitiesPanel.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.renderProgressBlock();\r\n    };\r\n    /**\r\n    * Refresh widget implementation\r\n    */\r\n    EntitiesPanel.prototype.refreshCore = function () {\r\n        this.render();\r\n        if (this.options.syncWithColumns) {\r\n            this.refreshCheckedStateByColumns();\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.onProcessStartCore = function () {\r\n        if (this.options.showIndicatorOnLoad) {\r\n            if (!this.progressBlock.parentNode)\r\n                this.panel.appendChild(this.progressBlock);\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.onProcessEndCore = function () {\r\n        if (this.options.showIndicatorOnLoad) {\r\n            if (this.progressBlock.parentNode)\r\n                this.panel.removeChild(this.progressBlock);\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.destroyCore = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    EntitiesPanel.prototype.setOptions = function (options) {\r\n        var _this = this;\r\n        this.options = {\r\n            showToolbar: true,\r\n            syncWithColumns: false,\r\n            showSelectAllButton: false,\r\n            showClearSelectionButton: true,\r\n            showAddColumnButton: true,\r\n            showAddConditionButton: true,\r\n            showCheckboxes: true,\r\n            showTooltips: true,\r\n            draggableAttributes: true,\r\n            showAttributes: { useInConditions: true, useInResult: true, useInSorting: false },\r\n            showFilterBox: false,\r\n            filterBoxMode: 0,\r\n            showIndicatorOnLoad: true,\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            autoClearSelection: true,\r\n            entityRenderedCallback: null,\r\n            attributeRenderedCallback: null\r\n        };\r\n        if (options) {\r\n            dataUtils.assignDeep(this.options, options);\r\n        }\r\n        if (this.queryChangedCallbackId) {\r\n            var query = this.context.getQuery();\r\n            query.removeChangedCallback(this.queryChangedCallbackId);\r\n        }\r\n        if (this.options.syncWithColumns) {\r\n            var query = this.context.getQuery();\r\n            this.queryChangedCallbackId = query.addChangedCallback(function (ev) {\r\n                var edata = ev.data;\r\n                if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                    return;\r\n                }\r\n                _this.refreshCheckedStateByColumns();\r\n            });\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.render = function () {\r\n        var model = this.context.getModel();\r\n        ;\r\n        this.clear();\r\n        this.panel.classList.add(this.cssPrefix + \"-panel\");\r\n        this.panel.classList.add(browserUtils.getMobileCssClass());\r\n        this.rootEntityBlock = document.createElement('div');\r\n        if (model != null && !model.isEmpty()) {\r\n            var entTree = model.getEntitiesTree({\r\n                addUIC: this.options.showAttributes.useInConditions,\r\n                addUIR: this.options.showAttributes.useInResult,\r\n                addUIS: this.options.showAttributes.useInSorting,\r\n                attrPlacement: this.options.attrPlacement,\r\n                sortEntities: this.options.sortEntities,\r\n                includeRootData: true\r\n            });\r\n            this.entityTreeBlock = this.renderEntity(entTree, this.rootEntityBlock, 0);\r\n            this.panel.appendChild(this.entityTreeBlock);\r\n        }\r\n        if (this.options.showFilterBox) {\r\n            this.createFilterBox();\r\n        }\r\n        else {\r\n            this.rootEntityBlock.style.top = '0';\r\n        }\r\n        if (this.options.showToolbar && !this.options.syncWithColumns) {\r\n            this.createToolPanel();\r\n        }\r\n        else {\r\n            this.rootEntityBlock.style.bottom = '0';\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.renderEntity = function (entity, block, offset) {\r\n        var _this = this;\r\n        var entityBlock;\r\n        var entityNode = document.createElement('div');\r\n        entityNode.classList.add(this.cssPrefix + \"-entity-node\");\r\n        entityNode.classList.add(browserUtils.getMobileCssClass());\r\n        var entityChildren = document.createElement('div');\r\n        entityChildren.classList.add(this.cssPrefix + \"-entity-children\");\r\n        entityChildren.classList.add(browserUtils.getMobileCssClass());\r\n        var nodeLabel = document.createElement('label');\r\n        nodeLabel.classList.add(this.cssPrefix + \"-entity-node-label\");\r\n        var nodeInput = document.createElement('input');\r\n        nodeInput.type = 'checkbox';\r\n        var nodeToggleButton = document.createElement('a');\r\n        nodeToggleButton.href = 'javascript:void(0)';\r\n        nodeToggleButton.classList.add(this.cssPrefix + \"-entity-node-button\");\r\n        var attrNode, attrLabel, attrInput;\r\n        var currentOffset = offset;\r\n        var isAttributeInTree = function (attrId, entityBlock) {\r\n            var res = entityBlock.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr[data-id=\\\"\" + attrId + \"\\\"]\");\r\n            return res.length > 0;\r\n        };\r\n        if (block) {\r\n            entityBlock = block;\r\n            entityBlock.innerHTML = '';\r\n        }\r\n        else {\r\n            entityBlock = document.createElement('div');\r\n        }\r\n        entityBlock.classList.add(this.cssPrefix + \"-entity\");\r\n        entityBlock.classList.add(browserUtils.getMobileCssClass());\r\n        if (entity.id && entity.id != \"\") {\r\n            nodeLabel.innerText = entity.text;\r\n            entityNode.appendChild(nodeLabel); //caption\r\n            if (this.options.showCheckboxes) {\r\n                nodeLabel.insertBefore(nodeInput, nodeLabel.firstChild);\r\n            }\r\n            entityNode.insertBefore(nodeToggleButton, entityNode.firstChild);\r\n            if (this.options.showTooltips && entity.description) {\r\n                nodeLabel.setAttribute('title', entity.description);\r\n            }\r\n            for (var i = 0; i < currentOffset; i++) {\r\n                var divElem = document.createElement('div');\r\n                divElem.classList.add(this.cssPrefix + \"-entity-offset\");\r\n                entityNode.insertBefore(divElem, entityNode.firstChild);\r\n            }\r\n            entityBlock.appendChild(entityNode);\r\n            entityChildren.hidden = true;\r\n            currentOffset++;\r\n        }\r\n        var itemsLength = entity.items ? entity.items.length : 0;\r\n        var _loop_1 = function (i) {\r\n            var item = entity.items[i];\r\n            if (item.isEntity) {\r\n                entityChildren.appendChild(this_1.renderEntity(item, null, currentOffset));\r\n            }\r\n            else {\r\n                if (!item.lookupAttr || !(isAttributeInTree(item.lookupAttr, entityChildren))) {\r\n                    attrLabel = document.createElement('label');\r\n                    attrLabel.innerText = item.text;\r\n                    attrLabel.classList.add(this_1.cssPrefix + \"-entity-attr-label\");\r\n                    if (this_1.options.showCheckboxes) {\r\n                        attrInput = document.createElement('input');\r\n                        attrInput.type = 'checkbox';\r\n                        attrLabel.insertBefore(attrInput, attrLabel.firstChild);\r\n                        if (this_1.options.syncWithColumns) {\r\n                            attrInput.addEventListener('change', function (ev) {\r\n                                var model = _this.context.getModel();\r\n                                var query = _this.context.getQuery();\r\n                                var checkbox = ev.currentTarget;\r\n                                var attrId = checkbox.parentElement.parentElement.getAttribute('data-id');\r\n                                if (model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                                    if (checkbox.checked) {\r\n                                        var column = query.addColumn({ attributeId: attrId });\r\n                                        query.fireColumnsChangedEvent(QueryChangeAction.Add, column);\r\n                                    }\r\n                                    else {\r\n                                        var columns = query.getColumns()\r\n                                            .filter(function (col) { return col.expr.tag === ExprTag.EntityAttribute\r\n                                            && col.expr.value === attrId; });\r\n                                        if (columns.length > 0) {\r\n                                            query.removeColumn(columns[0], null);\r\n                                            query.fireColumnsChangedEvent(QueryChangeAction.Delete, columns[0]);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                    if (this_1.options.showTooltips && item.description) {\r\n                        attrLabel.setAttribute('title', item.description);\r\n                    }\r\n                    for (var j = 0; j < currentOffset + 1; j++) {\r\n                        var divElem = document.createElement('div');\r\n                        divElem.classList.add(this_1.cssPrefix + \"-entity-offset\");\r\n                        attrLabel.insertBefore(divElem, attrLabel.firstChild);\r\n                    }\r\n                    attrNode = document.createElement('div');\r\n                    attrNode.classList.add(this_1.cssPrefix + \"-entity-attr\");\r\n                    if (entityNode.innerHTML.length == 0) {\r\n                        attrNode.classList.add(this_1.cssPrefix + \"-entity-attr-root\");\r\n                    }\r\n                    attrNode.innerHTML = \"\";\r\n                    attrNode.appendChild(attrLabel);\r\n                    attrNode.setAttribute('data-id', item.id);\r\n                    if (this_1.options.draggableAttributes) {\r\n                        eqDragManager.registerDraggableItem({\r\n                            element: attrNode,\r\n                            scope: \"entityAttr\",\r\n                            data: { attrId: item.id },\r\n                            renderer: function (dragImage) {\r\n                                dragImage.innerHTML = '';\r\n                                var attrLabel = document.createElement('span');\r\n                                attrLabel.innerText = item.text;\r\n                                dragImage.appendChild(attrLabel);\r\n                            }\r\n                        });\r\n                    }\r\n                    if (this_1.options.attributeRenderedCallback) {\r\n                        this_1.options.attributeRenderedCallback(attrNode);\r\n                    }\r\n                    entityChildren.appendChild(attrNode);\r\n                }\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < itemsLength; i++) {\r\n            _loop_1(i);\r\n        }\r\n        if (entityChildren.innerHTML.length) {\r\n            entityBlock.appendChild(entityChildren);\r\n            nodeToggleButton.addEventListener('click', function (event) {\r\n                entityChildren.hidden = !entityChildren.hidden;\r\n                var element = event.target;\r\n                var className = _this.cssPrefix + \"-entity-node-button-open\";\r\n                if (element.classList.contains(className)) {\r\n                    element.classList.remove(className);\r\n                }\r\n                else {\r\n                    element.classList.add(className);\r\n                }\r\n                event.preventDefault();\r\n            });\r\n        }\r\n        if (entityChildren) {\r\n            var checkboxes = entityChildren.querySelectorAll(\".\" + this.cssPrefix + \"-entity-attr > label > input\");\r\n            for (var i = 0; i < checkboxes.length; i++) {\r\n                var checkbox = checkboxes[i];\r\n                checkbox.addEventListener('click', function (event) {\r\n                    var element = event.target;\r\n                    if (element.checked && !nodeInput.checked) {\r\n                        nodeInput.checked = true;\r\n                    }\r\n                    else if (entityChildren.querySelectorAll('input:checked').length === 0) {\r\n                        nodeInput.checked = false;\r\n                    }\r\n                    event.stopPropagation();\r\n                });\r\n            }\r\n        }\r\n        nodeInput.addEventListener('click', function (event) {\r\n            var element = event.target;\r\n            var entities = entityChildren.querySelectorAll('label input');\r\n            for (var i = 0; i < entities.length; i++) {\r\n                var entity_1 = entities[i];\r\n                entity_1.checked = element.checked;\r\n            }\r\n            if (_this.options.syncWithColumns) {\r\n                var query = _this.context.getQuery();\r\n                var model = _this.context.getModel();\r\n                var attrList_2 = [];\r\n                var attrElems = Array.from(entityChildren.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\"));\r\n                for (var _i = 0, attrElems_1 = attrElems; _i < attrElems_1.length; _i++) {\r\n                    var elem = attrElems_1[_i];\r\n                    var attrId = elem.getAttribute('data-id');\r\n                    if (model.checkAttrProperty(attrId, 'useInResult')) {\r\n                        attrList_2.push(attrId);\r\n                    }\r\n                }\r\n                if (element.checked) {\r\n                    for (var _a = 0, attrList_1 = attrList_2; _a < attrList_1.length; _a++) {\r\n                        var attrId = attrList_1[_a];\r\n                        query.addColumn({ attributeId: attrId });\r\n                    }\r\n                }\r\n                else {\r\n                    var columns = query.getColumns()\r\n                        .filter(function (col) { return col.expr.tag === ExprTag.EntityAttribute\r\n                        && attrList_2.indexOf(col.expr.value) >= 0; });\r\n                    query.removeColumns(columns, null);\r\n                }\r\n                query.fireColumnsChangedEvent();\r\n            }\r\n            event.stopPropagation();\r\n        });\r\n        if (block != this.rootEntityBlock && this.options.entityRenderedCallback) {\r\n            this.options.entityRenderedCallback(entityBlock);\r\n        }\r\n        return entityBlock;\r\n    };\r\n    EntitiesPanel.prototype.createFilterBox = function () {\r\n        var _this = this;\r\n        this.filterBoxBlock = document.createElement('div');\r\n        this.filterBoxBlock.classList.add(this.cssPrefix + \"-filter-box\");\r\n        this.filterBoxBlock.classList.add(browserUtils.getMobileCssClass());\r\n        this.filterBoxInput = document.createElement('input');\r\n        this.filterBoxInput.classList.add(this.cssPrefix + \"-filter-box-input\");\r\n        this.filterBoxInput.addEventListener('keydown', function (e) {\r\n            if (e.keyCode) {\r\n                _this.filterBoxInput.value = '';\r\n                _this.filterBoxInput.dispatchEvent(createBrowserEvent('input'));\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        this.filterBoxInput.addEventListener('input', function (e) {\r\n            var attrs = _this.panel.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n            for (var i = 0; i < attrs.length; i++) {\r\n                var attr = attrs[i];\r\n                attr.hidden = !_this.checkFilterAttribute(attr);\r\n            }\r\n            var entities = _this.panel.querySelectorAll(\">.\" + _this.cssPrefix + \"-entity\");\r\n            for (var i = 0; i < entities.length; i++) {\r\n                var entity = entities[i];\r\n                var attrs_1 = entity.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n                var displayAttrCount = 0;\r\n                for (var i_1 = 0; i_1 < attrs_1.length; i_1++) {\r\n                    if (attrs_1[i_1].style.display !== 'None') {\r\n                        displayAttrCount++;\r\n                    }\r\n                }\r\n                entity.hidden = displayAttrCount === 0;\r\n            }\r\n            if (_this.filterBoxInput.value === '')\r\n                _this.collapseAll();\r\n            else\r\n                _this.expandAll();\r\n        });\r\n        this.filterBoxBlock.appendChild(this.filterBoxInput);\r\n        this.panel.insertBefore(this.filterBoxBlock, this.panel.firstChild);\r\n    };\r\n    EntitiesPanel.prototype.createToolPanel = function () {\r\n        var _this = this;\r\n        var defClass = this.cssPrefix + \"-tool-panel\";\r\n        var toolPanelBlock = document.createElement('div');\r\n        toolPanelBlock.classList.add(defClass);\r\n        toolPanelBlock.classList.add(browserUtils.getMobileCssClass());\r\n        var toolSelectAll = document.createElement('div');\r\n        toolSelectAll.classList.add(defClass + \"-select-all\");\r\n        toolSelectAll.title = 'Select all';\r\n        var toolDeselectAll = document.createElement('div');\r\n        toolDeselectAll.classList.add(defClass + \"-deselect-all\");\r\n        toolDeselectAll.title = 'Clear selection';\r\n        var toolAddColumns = document.createElement('div');\r\n        toolAddColumns.classList.add(defClass + \"-add-columns\");\r\n        toolAddColumns.title = 'Add column';\r\n        var toolAddCond = document.createElement('div');\r\n        toolAddCond.classList.add(defClass + \"-add-cond\");\r\n        toolAddCond.title = 'Add condition';\r\n        var toolLeftBlock = document.createElement('div');\r\n        toolLeftBlock.classList.add(defClass + \"-left-side\");\r\n        var toolRightBlock = document.createElement('div');\r\n        toolRightBlock.classList.add(defClass + \"-right-side\");\r\n        var model = this.context.getModel();\r\n        if (this.options.showSelectAllButton) {\r\n            toolSelectAll.title = i18n.getText(\"ButtonSelectAll\");\r\n            toolLeftBlock.appendChild(toolSelectAll);\r\n            toolSelectAll.addEventListener('click', function () {\r\n                _this.selectAll();\r\n            });\r\n        }\r\n        if (this.options.showClearSelectionButton) {\r\n            toolDeselectAll.title = i18n.getText(\"ButtonDeselectAll\");\r\n            toolLeftBlock.appendChild(toolDeselectAll);\r\n            toolDeselectAll.addEventListener('click', function () {\r\n                _this.deselectAll();\r\n            });\r\n        }\r\n        if (this.options.showAddColumnButton) {\r\n            toolAddColumns.title = i18n.getText(\"ButtonAddColumns\");\r\n            toolRightBlock.appendChild(toolAddColumns);\r\n            toolAddColumns.addEventListener('click', function () {\r\n                var attrElements = _this.panel.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n                var attrList = [];\r\n                var attrId;\r\n                var query = _this.context.getQuery();\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"start\"\r\n                });\r\n                for (var i = 0; i < attrElements.length; i++) {\r\n                    var attrElement = attrElements[i];\r\n                    var input = attrElement.getElementsByTagName('input')[0];\r\n                    if (input.checked) {\r\n                        attrId = attrElement.getAttribute('data-id');\r\n                        if (model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                            attrList.push(attrId);\r\n                        }\r\n                    }\r\n                }\r\n                for (var _i = 0, attrList_3 = attrList; _i < attrList_3.length; _i++) {\r\n                    var attrId_1 = attrList_3[_i];\r\n                    query.addColumn({\r\n                        attributeId: attrId_1\r\n                    });\r\n                }\r\n                query.fireChangedEvent();\r\n                if (_this.options.autoClearSelection) {\r\n                    _this.deselectAll();\r\n                }\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"finish\"\r\n                });\r\n            });\r\n        }\r\n        if (this.options.showAddConditionButton) {\r\n            toolAddCond.title = i18n.getText(\"ButtonAddConditions\");\r\n            toolRightBlock.appendChild(toolAddCond);\r\n            toolAddCond.addEventListener('click', function () {\r\n                var attrElements = _this.panel.querySelectorAll(\".\" + _this.cssPrefix + \"-entity-attr\");\r\n                var attrList = [];\r\n                var attrId;\r\n                var query = _this.context.getQuery();\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"start\"\r\n                });\r\n                for (var i = 0; i < attrElements.length; i++) {\r\n                    var attrElement = attrElements[i];\r\n                    var input = attrElement.getElementsByTagName('input')[0];\r\n                    if (input.checked) {\r\n                        attrId = attrElement.getAttribute('data-id');\r\n                        if (model.checkAttrProperty(attrId, \"useInConditions\")) {\r\n                            attrList.push(attrId);\r\n                        }\r\n                    }\r\n                }\r\n                for (var _i = 0, attrList_4 = attrList; _i < attrList_4.length; _i++) {\r\n                    var attrId_2 = attrList_4[_i];\r\n                    query.addSimpleCondition({\r\n                        attributeId: attrId_2\r\n                    });\r\n                }\r\n                query.fireChangedEvent();\r\n                if (_this.options.autoClearSelection) {\r\n                    _this.deselectAll();\r\n                }\r\n                query.fireProcessEvent({\r\n                    source: self,\r\n                    status: \"finish\"\r\n                });\r\n            });\r\n        }\r\n        toolPanelBlock.appendChild(toolLeftBlock);\r\n        toolPanelBlock.appendChild(toolRightBlock);\r\n        this.panel.appendChild(toolPanelBlock);\r\n    };\r\n    EntitiesPanel.prototype.checkFilterAttribute = function (attr) {\r\n        var inputElem = attr.querySelector('label input');\r\n        if (inputElem.checked) {\r\n            return true;\r\n        }\r\n        var labelElem = attr.querySelector('label');\r\n        var attrCaption = labelElem.textContent;\r\n        if (this.checkFilterText(attrCaption)) {\r\n            return true;\r\n        }\r\n        var entityNode = attr.parentElement.parentElement.querySelector(\".\" + this.cssPrefix + \"-entity-node\");\r\n        var entityCaption = entityNode.querySelector('label').textContent;\r\n        if (this.checkFilterText(entityCaption)) {\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    EntitiesPanel.prototype.checkFilterText = function (value) {\r\n        var filterText = this.filterBoxInput.value;\r\n        if (filterText == \"\")\r\n            return true;\r\n        if (this.options.filterBoxMode == 0 && value.toLowerCase().indexOf(filterText.toLowerCase()) >= 0)\r\n            return true;\r\n        if (this.options.filterBoxMode == 1 && value.toLowerCase().indexOf(filterText.toLowerCase()) == 0)\r\n            return true;\r\n        return false;\r\n    };\r\n    EntitiesPanel.prototype.refreshCheckedStateByColumns = function () {\r\n        this.deselectAll();\r\n        var query = this.context.getQuery();\r\n        var exprColumns = query.getColumns()\r\n            .filter(function (col) { return col.expr.tag === ExprTag.EntityAttribute; });\r\n        for (var _i = 0, exprColumns_1 = exprColumns; _i < exprColumns_1.length; _i++) {\r\n            var column = exprColumns_1[_i];\r\n            var attrNode = this.rootEntityBlock\r\n                .querySelector(\".\" + this.cssPrefix + \"-entity-attr[data-id=\\\"\" + column.expr.value + \"\\\"]\");\r\n            var checkbox = attrNode.querySelector(\"label > input\");\r\n            checkbox.checked = true;\r\n            var entChildren = attrNode.parentElement;\r\n            while (entChildren\r\n                && entChildren.classList\r\n                    .contains(this.cssPrefix + \"-entity-children\")) {\r\n                entChildren.hidden = false;\r\n                var entElem = entChildren.parentElement;\r\n                if (entElem && entChildren !== entElem.firstElementChild) {\r\n                    checkbox = entElem.firstElementChild\r\n                        .querySelector(\"label > input\");\r\n                    checkbox.checked = true;\r\n                    entChildren = entElem.parentElement;\r\n                }\r\n                else {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.expandAll = function () {\r\n        for (var i = 0; i < this.rootEntityBlock.childNodes.length; i++) {\r\n            var child = this.rootEntityBlock.childNodes[0];\r\n            var childs = child.querySelectorAll(\".\" + this.cssPrefix + \"-entity-children\");\r\n            for (var j = 0; j < childs.length; j++) {\r\n                var elem = childs[j];\r\n                elem.hidden = false;\r\n            }\r\n        }\r\n        var nodeButtons = this.rootEntityBlock.querySelectorAll(\".\" + this.cssPrefix + \"-entity-node-button\");\r\n        for (var i = 0; i < nodeButtons.length; i++) {\r\n            var elem = nodeButtons[i];\r\n            elem.classList.add(this.cssPrefix + \"-entity-node-button-open\");\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.collapseAll = function () {\r\n        for (var i = 0; i < this.rootEntityBlock.childNodes.length; i++) {\r\n            var child = this.rootEntityBlock.childNodes[0];\r\n            var childs = child.querySelectorAll(\".\" + this.cssPrefix + \"-entity-children\");\r\n            for (var j = 0; j < childs.length; j++) {\r\n                var elem = childs[j];\r\n                elem.hidden = true;\r\n            }\r\n        }\r\n        var nodeButtons = this.rootEntityBlock.querySelectorAll(\".\" + this.cssPrefix + \"-entity-node-button\");\r\n        for (var i = 0; i < nodeButtons.length; i++) {\r\n            var elem = nodeButtons[i];\r\n            elem.classList.remove(this.cssPrefix + \"-entity-node-button-open\");\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.selectAll = function () {\r\n        var inputs = this.entityTreeBlock.querySelectorAll('input');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            var input = inputs[i];\r\n            input.checked = true;\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.deselectAll = function () {\r\n        var inputs = this.entityTreeBlock.querySelectorAll('input');\r\n        for (var i = 0; i < inputs.length; i++) {\r\n            var input = inputs[i];\r\n            input.checked = false;\r\n        }\r\n    };\r\n    EntitiesPanel.prototype.renderProgressBlock = function () {\r\n        this.progressBlock = document.createElement('div');\r\n        this.progressBlock.classList.add(eqCssPrefix + \"-progress-win8\");\r\n        this.progressBlock.classList.add(browserUtils.getMobileCssClass());\r\n        this.progressBlock.innerHTML = '<div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"></div></div>';\r\n    };\r\n    EntitiesPanel.prototype.clear = function () {\r\n        this.panel.innerHTML = \"\";\r\n    };\r\n    return EntitiesPanel;\r\n}(Widget));\r\nexport { EntitiesPanel };\r\n//# sourceMappingURL=entities_panel.js.map","import { i18n } from '@easydata/core';\r\nimport { SortDirection, QueryChangeAction } from \"@easyquery/core\";\r\nimport { eqDragManager, DropEffect, createBrowserEvent, domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { safeFocus } from '../../../utils/utils';\r\nexport var ColumnAction;\r\n(function (ColumnAction) {\r\n    ColumnAction[ColumnAction[\"Enable\"] = 0] = \"Enable\";\r\n    ColumnAction[ColumnAction[\"Delete\"] = 1] = \"Delete\";\r\n    ColumnAction[ColumnAction[\"Hidden\"] = 2] = \"Hidden\";\r\n    ColumnAction[ColumnAction[\"SortingNone\"] = 3] = \"SortingNone\";\r\n    ColumnAction[ColumnAction[\"SortingAsc\"] = 4] = \"SortingAsc\";\r\n    ColumnAction[ColumnAction[\"SortingDesc\"] = 5] = \"SortingDesc\";\r\n    ColumnAction[ColumnAction[\"MoveTop\"] = 6] = \"MoveTop\";\r\n    ColumnAction[ColumnAction[\"MoveUp\"] = 7] = \"MoveUp\";\r\n    ColumnAction[ColumnAction[\"MoveDown\"] = 8] = \"MoveDown\";\r\n    ColumnAction[ColumnAction[\"MoveBottom\"] = 9] = \"MoveBottom\";\r\n    ColumnAction[ColumnAction[\"Menu\"] = 10] = \"Menu\";\r\n    ColumnAction[ColumnAction[\"Type\"] = 11] = \"Type\";\r\n})(ColumnAction || (ColumnAction = {}));\r\nvar ColumnRendererCP = /** @class */ (function () {\r\n    function ColumnRendererCP(panel, column, slot) {\r\n        this.functionMenu = null;\r\n        this.buttonMenu = null;\r\n        this.isMouseOverBlock = false;\r\n        this.keepShowingButtons = false;\r\n        this.panel = panel;\r\n        this.column = column;\r\n        this.element = slot;\r\n    }\r\n    Object.defineProperty(ColumnRendererCP.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qc';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnRendererCP.prototype.render = function () {\r\n        var _this = this;\r\n        this.baseAttr = this.getAttribute();\r\n        if (this.getButtonsToShow().indexOf(\"sorting\") >= 0 && this.column.enabled) {\r\n            this.sortingButton = this.renderSoringButton(this.column.sorting);\r\n            if (this.column.sorting !== SortDirection.None) {\r\n                this.sortingButton.style.display = 'block';\r\n            }\r\n        }\r\n        var builder = domel('div');\r\n        builder.data('id', this.column.id);\r\n        if (this.element) {\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        if (this.panel.options.allowDragDrop && !browserUtils.isMobileMode()) {\r\n            eqDragManager.registerDraggableItem({\r\n                element: this.element,\r\n                scope: \"entityAttrSort\",\r\n                data: { column: this.column },\r\n                beforeDragStart: function () {\r\n                    _this.hideButtons();\r\n                },\r\n                renderer: function (dragImage) {\r\n                    dragImage.innerHTML = '';\r\n                    var attrLabel = document.createElement('span');\r\n                    attrLabel.innerText = _this.column.caption;\r\n                    dragImage.classList.add('eqjs-sortable-helper');\r\n                    dragImage.appendChild(attrLabel);\r\n                },\r\n                onDragStart: function (ev) {\r\n                    _this.element.style.display = 'none';\r\n                    ev.dropEffect = DropEffect.Allow;\r\n                },\r\n                onDragEnd: function (ev) {\r\n                    if (!ev.data.finishedSuccessfully) {\r\n                        _this.element.style.removeProperty('display');\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        if (this.isEditable()) {\r\n            this.createFunctionMenu();\r\n        }\r\n        this.createButtonMenu();\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderCheckbox())\r\n            //start sort button\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", _this.cssPrefix + \"-button-placeholder\", _this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-sortbutton-placeholder\")\r\n            .addChildElement(_this.sortingButton); })\r\n            // end sort button\r\n            .addChildElement(this.renderExpressionBlock());\r\n        if (this.panel.options.showColumnTitles !== false && !browserUtils.isMobileMode()) {\r\n            builder\r\n                .addChildElement(this.renderCaptionBlock());\r\n        }\r\n        builder\r\n            //start buttons\r\n            .addChild('div', function (builder) {\r\n            builder\r\n                .addClass(eqCssPrefix + \"-column-buttonsBlock\", _this.cssPrefix + \"-buttonsBlock\")\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            //start enable button\r\n            if (_this.getButtonsToShow().indexOf(\"enable\") >= 0 && !_this.column.isReadOnly()) {\r\n                builder.addChildElement(_this.renderEnabledButton());\r\n            }\r\n            //end enable button\r\n            //start aggr func button\r\n            if (_this.getButtonsToShow().indexOf(\"type\") >= 0 && _this.column.enabled) {\r\n                builder.addChildElement(_this.renderColumnTypeButton());\r\n            }\r\n            //end aggr func button\r\n            //start delete button\r\n            if (_this.getButtonsToShow().indexOf(\"delete\") >= 0 && !_this.column.isReadOnly()) {\r\n                builder.addChildElement(_this.renderDeleteButton());\r\n            }\r\n            //end delete button\r\n            //start menu button\r\n            if (_this.getButtonsToShow().indexOf(\"menu\") >= 0 && !_this.column.isReadOnly()) {\r\n                builder.addChildElement(_this.renderMenuButton());\r\n            }\r\n            //end menu button\r\n        });\r\n        //end buttons \r\n        if (!browserUtils.isMobileMode()) {\r\n            //start event listeners\r\n            builder\r\n                .on('mouseenter', this.onMouseEnter.bind(this))\r\n                .on('mouseleave', this.onMouseLeave.bind(this));\r\n            //end event listeners\r\n        }\r\n        if (this.panel.options.accentActiveColumn || browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('click', this.onMouseClick.bind(this)); //touchstart\r\n        }\r\n        if (this.panel.options.alwaysShowButtons) {\r\n            this.showButtons();\r\n        }\r\n        return this.element;\r\n    };\r\n    ColumnRendererCP.prototype.onMouseClick = function (ev) {\r\n        ev.stopPropagation();\r\n        this.panel.toggleColumnPicked(this.column);\r\n        this.adjustButtonsVisibility();\r\n        if (!browserUtils.isMobileMode()) {\r\n            this.element.dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n        }\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.fireColumnChanged = function () {\r\n        this.column.fireChangedEvent();\r\n    };\r\n    ColumnRendererCP.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ColumnRendererCP.prototype.getAttribute = function () {\r\n        var model = this.panel.getContext().getModel();\r\n        return model.getAttributeById(this.column.expr.value);\r\n    };\r\n    ColumnRendererCP.prototype.renderCaptionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultColumnCaption();\r\n        }\r\n        var builder = domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        if (this.isEditable()) {\r\n            builder\r\n                .addChild('a', function (builder) { return builder\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(_this.column.caption)\r\n                .text(_this.column.caption)\r\n                .on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                var element = ev.target;\r\n                var inputEl = element.parentElement.querySelector('input');\r\n                if (inputEl) {\r\n                    element.style.display = 'none';\r\n                    inputEl.style.removeProperty('display');\r\n                    inputEl.style.minWidth = \"\" + element.clientWidth;\r\n                    inputEl.focus();\r\n                    _this.element.setAttribute(eqDragManager.DRAG_DISABLED_ATTR, '');\r\n                }\r\n                return false;\r\n            }); } //TO DO:add localization and input field\r\n            )\r\n                .addChild('input', function (builder) { return builder\r\n                .hide()\r\n                .value(_this.column.caption)\r\n                .on('blur keydown', function (ev) {\r\n                var isEndEvent = false;\r\n                var save = true;\r\n                if (ev instanceof KeyboardEvent) {\r\n                    // Enter\r\n                    if (ev.keyCode === 13) {\r\n                        isEndEvent = true;\r\n                        //ESC\r\n                    }\r\n                    else if (ev.keyCode === 27) {\r\n                        isEndEvent = true;\r\n                        save = false;\r\n                    }\r\n                }\r\n                else if (ev instanceof FocusEvent) {\r\n                    isEndEvent = true;\r\n                }\r\n                if (isEndEvent) {\r\n                    var inputEl = ev.target;\r\n                    var aEl = inputEl.parentElement.querySelector('a');\r\n                    if (aEl) {\r\n                        aEl.style.removeProperty('display');\r\n                        inputEl.style.display = 'none';\r\n                    }\r\n                    if (save && _this.column.caption !== inputEl.value) {\r\n                        _this.column.caption = inputEl.value;\r\n                        _this.fireColumnChanged();\r\n                    }\r\n                    else {\r\n                        inputEl.value = _this.column.caption;\r\n                        safeFocus(aEl);\r\n                    }\r\n                    _this.element.removeAttribute(eqDragManager.DRAG_DISABLED_ATTR);\r\n                }\r\n                return true;\r\n            }); });\r\n        }\r\n        else {\r\n            builder.addChild('span', function (b) {\r\n                b.text(_this.column.caption)\r\n                    .title(_this.column.caption);\r\n            });\r\n        }\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.renderSoringButton = function (sorting) {\r\n        var _this = this;\r\n        var sortButtonCssClass = eqCssPrefix + \"-column-sortbutton\";\r\n        var sortButtonDirectionCssClass;\r\n        switch (sorting) {\r\n            case SortDirection.Ascending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-asc\";\r\n                break;\r\n            case SortDirection.Descending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-desc\";\r\n                break;\r\n            default:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-none\";\r\n                break;\r\n        }\r\n        if (!this.isEditable()) {\r\n            if (sorting === SortDirection.Ascending\r\n                || sorting === SortDirection.Descending)\r\n                return domel('div')\r\n                    .addClass(sortButtonCssClass, eqCssPrefix + \"-button\", sortButtonDirectionCssClass)\r\n                    .title(i18n.getText('ButtonSorting'))\r\n                    .toDOM();\r\n            return null;\r\n        }\r\n        return domel('div')\r\n            .addClass(sortButtonCssClass, eqCssPrefix + \"-button\", sortButtonDirectionCssClass)\r\n            .data(\"btnplaceholder\", \"\")\r\n            .title(i18n.getText('ButtonSorting'))\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.keepShowingButtons = true;\r\n            var menu = _this.getUIS() ? _this.panel.sortMenu || _this.panel.moveMenu : _this.panel.moveMenu;\r\n            menu.showMenu({\r\n                anchor: _this.sortingButton,\r\n                selectedIds: _this.column.isHidden() ? ['IsHidden'] : null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var action;\r\n                    switch (data.id) {\r\n                        case \"IsHidden\":\r\n                            action = ColumnAction.Hidden;\r\n                            break;\r\n                        case \"MoveTop\":\r\n                            action = ColumnAction.MoveTop;\r\n                            break;\r\n                        case \"MoveDown\":\r\n                            action = ColumnAction.MoveDown;\r\n                            break;\r\n                        case \"MoveUp\":\r\n                            action = ColumnAction.MoveUp;\r\n                            break;\r\n                        case \"MoveBottom\":\r\n                            action = ColumnAction.MoveBottom;\r\n                            break;\r\n                        case \"None\":\r\n                            action = ColumnAction.SortingNone;\r\n                            break;\r\n                        case \"Ascending\":\r\n                            action = ColumnAction.SortingAsc;\r\n                            break;\r\n                        case \"Descending\":\r\n                            action = ColumnAction.SortingDesc;\r\n                            break;\r\n                    }\r\n                    _this.buttonMenuHandler(action, null);\r\n                },\r\n                menuClosedCallback: function () {\r\n                    _this.keepShowingButtons = false;\r\n                    if (!_this.isMouseOverBlock) {\r\n                        _this.leaveButtonBlock();\r\n                    }\r\n                }\r\n            });\r\n        })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.renderCheckbox = function () {\r\n        var _this = this;\r\n        if (this.panel.options.showCheckboxes && !this.column.isReadOnly()) {\r\n            return domel(\"div\")\r\n                .title(i18n.getText('CmdToggleEnable'))\r\n                .attr('tabIndex', '0')\r\n                .addClass(this.cssPrefix + \"-colelement \" + this.cssPrefix + \"-column-checkbox\")\r\n                .addClass(\"\" + (this.column.enabled ? 'enabled' : ''))\r\n                .on('click', function () {\r\n                _this.column.enabled = !_this.column.enabled;\r\n                _this.column.fireChangedEvent();\r\n                return false;\r\n            })\r\n                .on('keypress', function (evt) { if ([13, 32].includes(evt.keyCode)) {\r\n                evt.target.click();\r\n            } })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.renderDeleteButton = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-deletebutton-placeholder\")\r\n            .data(\"btnplaceholder\", \"\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-delete\")\r\n            .title(i18n.getText('CmdDelete'))\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (ev) { return _this.buttonMenuHandler(ColumnAction.Delete, ev); }) //touchstart\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } }); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.renderMenuButton = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-menubutton-placeholder\")\r\n            .data(\"btnplaceholder\", \"\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-menu\")\r\n            .title(i18n.getText('ButtonMenu'))\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (evt) { return _this.buttonMenuHandler(ColumnAction.Menu, evt); }) //touchstart \r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } }); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.getDefaultColumnCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr);\r\n    };\r\n    ColumnRendererCP.prototype.getDefaultTitleText = function (attr) {\r\n        return this.getAttributeCaption(attr, this.panel.options.titleElementFormat);\r\n    };\r\n    ColumnRendererCP.prototype.getAttributeCaption = function (attr, format) {\r\n        format = format || this.panel.options.attrElementFormat;\r\n        var model = this.panel.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        var result = \"\";\r\n        result += this.column.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n        if (this.column.enabled) {\r\n            result += this.column.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n        }\r\n        result += this.column.isHidden() ? \" \" + this.cssPrefix + \"-hidden\" : '';\r\n        return result;\r\n    };\r\n    ColumnRendererCP.prototype.renderColumnTypeButton = function () {\r\n        var _this = this;\r\n        return (this.isEditable() && this.panel.options.allowAggrColumns !== false)\r\n            ? domel('div')\r\n                .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-typebutton-placeholder\", this.cssPrefix + \"-button-active\")\r\n                .data(\"btnplaceholder\", \"\")\r\n                .addChild('div', function (b) { return b\r\n                .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-type\")\r\n                .title(i18n.getText('ButtonToAggr'))\r\n                .attr('tabIndex', '0')\r\n                .on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                _this.keepShowingButtons = true;\r\n                _this.changeTypeHandler(ev);\r\n            })\r\n                .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                evt.target.click();\r\n            } }); })\r\n                .toDOM()\r\n            : null;\r\n    };\r\n    ColumnRendererCP.prototype.renderEnabledButton = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-button-placeholder\", this.cssPrefix + \"-button-placeholder\", this.cssPrefix + \"-enablebutton-placeholder\", this.cssPrefix + \"-button-active\")\r\n            .data(\"btnplaceholder\", \"\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-button\", eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-enable\")\r\n            .title(i18n.getText('CmdToggleEnable'))\r\n            .addClass(_this.column.enabled ? 'enabled' : '')\r\n            .attr('tabIndex', '0')\r\n            .on('click', function (evt) { return _this.buttonMenuHandler(ColumnAction.Enable, evt); }) //touchstart\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } }); }).toDOM();\r\n    };\r\n    ColumnRendererCP.prototype.isEditable = function () {\r\n        return this.column.enabled && !this.column.isReadOnly();\r\n    };\r\n    ColumnRendererCP.prototype.getUIS = function () {\r\n        return this.panel\r\n            .getContext().getModel()\r\n            .checkAttrProperty(this.column.expr.value, \"useInSorting\");\r\n    };\r\n    ColumnRendererCP.prototype.onMouseEnter = function (e) {\r\n        this.isMouseOverBlock = true;\r\n        this.enterButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.onMouseLeave = function (e) {\r\n        this.isMouseOverBlock = false;\r\n        this.leaveButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.isColumnActive = function () {\r\n        return this.element.classList.contains(\"active\");\r\n    };\r\n    ColumnRendererCP.prototype.hideButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", null);\r\n    };\r\n    ColumnRendererCP.prototype.showButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", \"\");\r\n    };\r\n    ColumnRendererCP.prototype.adjustButtonsVisibility = function () {\r\n        if (this.panel.options.alwaysShowButtons ||\r\n            ((this.panel.options.accentActiveColumn || browserUtils.isMobileMode())\r\n                && this.isColumnActive())) {\r\n            this.showButtons();\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.enterButtonBlock = function () {\r\n        this.showButtons();\r\n    };\r\n    ColumnRendererCP.prototype.leaveButtonBlock = function () {\r\n        if (!this.keepShowingButtons && this.panel.options.alwaysShowButtons !== true && (!this.isColumnActive() || this.panel.options.accentActiveColumn != true)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.createFunctionMenu = function () {\r\n        var items = [];\r\n        var funcs = this.panel.getContext().getModel().getAggrFunctions();\r\n        var funcAllowed = true;\r\n        var item = null;\r\n        var attribute = this.getAttribute();\r\n        var funcCaption;\r\n        for (var _i = 0, funcs_1 = funcs; _i < funcs_1.length; _i++) {\r\n            var func = funcs_1[_i];\r\n            if (!func)\r\n                continue;\r\n            var toInclude = func.appliedTypes.indexOf(attribute.dataType) >= 0;\r\n            if (this.column.expr.func === func.id && !toInclude) {\r\n                funcAllowed = false;\r\n            }\r\n            if (toInclude) {\r\n                funcCaption = this.panel.getContext().getModel()\r\n                    .getAggrFunctionCaption(func.id);\r\n                item = {\r\n                    id: func.id,\r\n                    text: funcCaption\r\n                };\r\n                items.push(item);\r\n            }\r\n        }\r\n        if (!funcAllowed) {\r\n            this.column.expr.func = items[0].id;\r\n        }\r\n        //Add \"Custom Expression\" menu\r\n        var columnsPanel = this.panel;\r\n        if (columnsPanel.areCustomExpressionsAllowed()) {\r\n            item = {\r\n                id: 'CustomSqlDivider',\r\n                text: '---'\r\n            };\r\n            items.push(item);\r\n            funcCaption = i18n.getText('CustomExpression');\r\n            item = {\r\n                id: 'CUSTOMSQL',\r\n                text: funcCaption\r\n            };\r\n            items.push(item);\r\n        }\r\n        var menuId = this.column.id;\r\n        if (menuId) {\r\n            menuId += '-FunctionsMenu';\r\n        }\r\n        var menuOptions = {\r\n            items: items,\r\n            id: menuId,\r\n            searchBoxAlwaysShown: false,\r\n            domWriteItemsId: true //this.panel.options.domWriteItemsId\r\n        };\r\n        this.functionMenu = new PopupMenu(menuOptions);\r\n    };\r\n    ColumnRendererCP.prototype.getButtonsToShow = function () {\r\n        return this.panel.options.buttons && Array.isArray(this.panel.options.buttons) ? this.panel.options.buttons : [\"enable\", \"delete\", \"type\", \"sorting\"];\r\n    };\r\n    ColumnRendererCP.prototype.buttonMenuHandler = function (action, evt) {\r\n        var _this = this;\r\n        switch (action) {\r\n            case ColumnAction.Delete:\r\n                var curQuery = this.column.getQuery();\r\n                curQuery.removeColumn(this.column, this.panel);\r\n                curQuery.fireColumnsChangedEvent(QueryChangeAction.Delete, this.column);\r\n                break;\r\n            case ColumnAction.Enable:\r\n                this.column.enabled = !this.column.enabled;\r\n                this.fireColumnChanged();\r\n                break;\r\n            case ColumnAction.Hidden:\r\n                this.column.setHidden(!this.column.isHidden());\r\n                this.fireColumnChanged();\r\n                break;\r\n            case ColumnAction.MoveTop:\r\n                this.panel.moveColumn(this.column, \"MoveTop\");\r\n                break;\r\n            case ColumnAction.MoveBottom:\r\n                this.panel.moveColumn(this.column, \"MoveBottom\");\r\n                break;\r\n            case ColumnAction.MoveUp:\r\n                this.panel.moveColumn(this.column, \"MoveUp\");\r\n                break;\r\n            case ColumnAction.MoveDown:\r\n                this.panel.moveColumn(this.column, \"MoveDown\");\r\n                break;\r\n            case ColumnAction.SortingAsc:\r\n                this.column.sorting = SortDirection.Ascending;\r\n                this.column.fireChangedEvent();\r\n                break;\r\n            case ColumnAction.SortingDesc:\r\n                this.column.sorting = SortDirection.Descending;\r\n                this.column.fireChangedEvent();\r\n                break;\r\n            case ColumnAction.SortingNone:\r\n                this.column.sorting = SortDirection.None;\r\n                this.column.fireChangedEvent();\r\n                break;\r\n            case ColumnAction.Menu:\r\n                var colMenu = this.buttonMenu;\r\n                this.keepShowingButtons = true;\r\n                colMenu.showMenu({\r\n                    anchor: evt ? evt.target : null,\r\n                    selectedIds: this.getButtonMenuSelectedItems(),\r\n                    itemSelectedCallback: function (item) {\r\n                        var action = item.id;\r\n                        switch (item.id) {\r\n                            case \"enable\":\r\n                                action = ColumnAction.Enable;\r\n                                break;\r\n                            case \"delete\":\r\n                                action = ColumnAction.Delete;\r\n                                break;\r\n                            case \"hidden\":\r\n                                action = ColumnAction.Hidden;\r\n                                break;\r\n                            case \"MoveTop\":\r\n                                action = ColumnAction.MoveTop;\r\n                                break;\r\n                            case \"MoveBottom\":\r\n                                action = ColumnAction.MoveBottom;\r\n                                break;\r\n                            case \"MoveUp\":\r\n                                action = ColumnAction.MoveUp;\r\n                                break;\r\n                            case \"MoveDown\":\r\n                                action = ColumnAction.MoveDown;\r\n                                break;\r\n                            case \"None\":\r\n                                action = ColumnAction.SortingNone;\r\n                                break;\r\n                            case \"Ascending\":\r\n                                action = ColumnAction.SortingAsc;\r\n                                break;\r\n                            case \"Descending\":\r\n                                action = ColumnAction.SortingAsc;\r\n                                break;\r\n                        }\r\n                        _this.buttonMenuHandler(action, evt);\r\n                    },\r\n                    itemFilterCallback: function (item) {\r\n                        var result = _this.column.enabled || item.id === \"__group\" || item.id === \"enable\" || item.id === \"delete\";\r\n                        return result;\r\n                    },\r\n                    menuClosedCallback: function () {\r\n                        _this.keepShowingButtons = false;\r\n                        if (!_this.isMouseOverBlock)\r\n                            _this.leaveButtonBlock();\r\n                    }\r\n                });\r\n                break;\r\n            default:\r\n                this.processExtraButtonMenuItems(action, evt);\r\n                break;\r\n        }\r\n        evt && evt.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCP.prototype.createButtonMenu = function () {\r\n        if (!this.buttonMenu) {\r\n            var menuId = this.column.id;\r\n            if (menuId) {\r\n                menuId += '-ButtonMenu';\r\n            }\r\n            var common = [];\r\n            common.push({\r\n                id: \"enable\",\r\n                text: i18n.getText('MenuEnable')\r\n            });\r\n            if (this.panel.options.allowHiddenColumns) {\r\n                common.push({\r\n                    id: \"hidden\",\r\n                    text: i18n.getText('CmdHiddenColumn')\r\n                });\r\n            }\r\n            common.push({\r\n                id: \"delete\",\r\n                text: i18n.getText('CmdDelete')\r\n            });\r\n            var items = [];\r\n            items.push({\r\n                id: '__group',\r\n                text: ' ',\r\n                items: common\r\n            });\r\n            var sortItems = this.panel.options.allowSorting ? this.panel.getSortMenuList().concat(this.panel.getMoveMenuList()) :\r\n                this.panel.getMoveMenuList();\r\n            items.push({\r\n                id: '__group',\r\n                text: i18n.getText('CmdGroupSort'),\r\n                items: sortItems\r\n            });\r\n            var extra = this.getExtraButtonMenuItems();\r\n            if (extra && Array.isArray(extra)) {\r\n                items = items.concat(extra);\r\n            }\r\n            var menuOptions = {\r\n                items: items,\r\n                id: menuId,\r\n                searchBoxAlwaysShown: false,\r\n                domWriteItemsId: true,\r\n                showSelected: true\r\n            };\r\n            this.buttonMenu = new PopupMenu(menuOptions);\r\n        }\r\n    };\r\n    ColumnRendererCP.prototype.getButtonMenuSelectedItems = function () {\r\n        var arrSelected = [];\r\n        if (this.column.enabled) {\r\n            arrSelected.push(\"enable\");\r\n        }\r\n        ;\r\n        if (this.column.isHidden()) {\r\n            arrSelected.push(\"hidden\");\r\n        }\r\n        ;\r\n        return arrSelected;\r\n    };\r\n    return ColumnRendererCP;\r\n}());\r\nexport { ColumnRendererCP };\r\n//# sourceMappingURL=column_renderer.js.map","import { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { getElementAbsolutePos, getScrollPos, getWinSize, getViewportSize } from '@easydata/ui';\r\nimport { browserUtils } from './browser_utils';\r\nvar MenuLevel = /** @class */ (function () {\r\n    function MenuLevel(options) {\r\n        this.isFilteringMode = false;\r\n        this.showSelected = false;\r\n        //menu, items, levelIndex\r\n        this.parentMenu = options.menu || null;\r\n        this.parentLevel = options.parent || null;\r\n        this.parentElement = options.container || document.body;\r\n        this.levelIndex = options.levelIndex || 0;\r\n        this.levelDiv = null;\r\n        this.domWriteItemsId = options.domWriteItemsId || false;\r\n        this.menuId = options.menuId || '';\r\n        this.itemRenderedCallback = options.itemRenderedCallback || null;\r\n        //we need to define special \"apply\" item for this level\r\n        this.applyItem = { id: null, text: null, itemDiv: null };\r\n        this.items = options.items || [];\r\n        this.activeItem = null;\r\n        this.selectedItem = null;\r\n        this.initialized = false;\r\n        this.showSelected = options.showSelected;\r\n        this.updated = 0;\r\n        this.renderContent();\r\n    }\r\n    Object.defineProperty(MenuLevel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-menu';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    MenuLevel.prototype.getItems = function () {\r\n        return this.items;\r\n    };\r\n    MenuLevel.prototype.setItems = function (items) {\r\n        this.items = items;\r\n    };\r\n    MenuLevel.prototype.renderContent = function () {\r\n        var _this = this;\r\n        if (!this.items) {\r\n            return;\r\n        }\r\n        var self = this;\r\n        //define internal variables used in this function\r\n        var itemBgColor = this.parentMenu.style.colors.bgON || \"white\";\r\n        var itemFgColor = this.parentMenu.style.colors.fgON || \"black\";\r\n        var itemOverBgColor = this.parentMenu.style.colors.bgOVER || \"LightSteelBlue\";\r\n        var itemFontFamily = this.parentMenu.style.itemStyle.fontFamily || \"\";\r\n        var itemFontSize = this.parentMenu.style.itemStyle.fontSize || \"14px\";\r\n        var multiselect = this.parentMenu.options.multiselect;\r\n        var isSubQuery = this.parentMenu.options.isSubQuery;\r\n        //add base DIV element which is also used to show the shadow\r\n        var baseDivBuilder = domel('div')\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            baseDivBuilder\r\n                .setStyle('backgroundColor', itemBgColor)\r\n                .setStyle('border', '1px solid')\r\n                .setStyle('borderColor', itemBgColor)\r\n                .setStyle('backgroundColor', this.parentMenu.style.colors.border)\r\n                .setStyle('margin', '-2px 2px 2px -2px')\r\n                .setStyle('width', 'auto')\r\n                .setStyle('height', 'auto');\r\n        }\r\n        baseDivBuilder\r\n            .setStyle('z-index', this.parentMenu.zIndex)\r\n            .setStyle('position', 'absolute')\r\n            .setStyle('display', 'none');\r\n        var baseDiv = baseDivBuilder.toDOM();\r\n        baseDiv['menuLevel'] = this;\r\n        var applyItem = this.applyItem;\r\n        //if multiselect option is on - then we should add special \"apply\" item\r\n        if (multiselect && this.levelIndex === 0) {\r\n            var applyDiv = document.createElement(\"div\");\r\n            applyDiv.classList.add(this.cssPrefix + \"-applyDiv\");\r\n            applyDiv['menuItem'] = applyItem;\r\n            this.applyBtn = document.createElement('button');\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                applyDiv.style.borderBottom = '1px solid';\r\n                applyDiv.style.padding = '5px';\r\n                applyDiv.style.marginBottom = '5px';\r\n                this.applyBtn.style.padding = '0 5px';\r\n                this.applyBtn.style.cursor = \"pointer\";\r\n            }\r\n            var applyTextNode = document.createTextNode(this.parentMenu.options.buttons.submit);\r\n            this.applyBtn.appendChild(applyTextNode);\r\n            applyDiv.appendChild(this.applyBtn);\r\n            //cancel btn\r\n            var cancelBtn = document.createElement('button');\r\n            cancelBtn.classList.add(this.cssPrefix + \"-cancel\");\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                cancelBtn.style.padding = '0 5px';\r\n                cancelBtn.style.cursor = 'pointer';\r\n                cancelBtn.style.marginLeft = '15px';\r\n            }\r\n            var cancelText = document.createTextNode(this.parentMenu.options.buttons.cancel);\r\n            cancelBtn.appendChild(cancelText);\r\n            applyDiv.appendChild(cancelBtn);\r\n            baseDiv.appendChild(applyDiv);\r\n            applyItem.itemDiv = applyDiv;\r\n            this.applyBtn.addEventListener('click', function () {\r\n                _this.submit(_this.applyItem);\r\n            });\r\n            cancelBtn.addEventListener('click', function () {\r\n                _this.parentMenu.hideMenu();\r\n            });\r\n        }\r\n        // if too many items - then we add a special \"search\" item\r\n        // or there is an options to show always\r\n        if (this.parentLevel == null\r\n            && (this.parentMenu.options.searchBoxAlwaysShown || this.items.length >= this.parentMenu.options.showSearchBoxAfter)) {\r\n            var searchDivBuilder = domel('div')\r\n                .addClass(this.cssPrefix + \"-searchDiv\");\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                searchDivBuilder\r\n                    .setStyle('border-bottom', '1px solid #666')\r\n                    .setStyle('background-color', itemBgColor)\r\n                    .setStyle('border-color', this.parentMenu.style.colors.border);\r\n                if (itemFontFamily != \"\") {\r\n                    searchDivBuilder.setStyle('font-family', itemFontFamily);\r\n                }\r\n                searchDivBuilder\r\n                    .setStyle('font-size', itemFontSize)\r\n                    .setStyle('color', itemFgColor)\r\n                    .setStyle('cursor', 'pointer')\r\n                    .setStyle('text-align', 'left')\r\n                    .setStyle('padding', '5px');\r\n            }\r\n            var searchEditBoxBuilder = domel('input')\r\n                .id('searchBox')\r\n                .name('searchBox')\r\n                .type('text')\r\n                .size(16)\r\n                .addClass(this.cssPrefix + \"-searchBox\")\r\n                .on('input', function (ev) {\r\n                _this.deactivateItem(_this.activeItem);\r\n                _this.renderItems(_this.searchBox.value);\r\n            })\r\n                .on('keydown', function (ev) {\r\n                var keyCode = ev.keyCode;\r\n                switch (keyCode) {\r\n                    case 13: //enter\r\n                        if (_this.activeItem) {\r\n                            _this.activeItem.itemDiv.click();\r\n                        }\r\n                        break;\r\n                    case 38: // up\r\n                        _this.moveActiveItemUp();\r\n                        break;\r\n                    case 40: // down\r\n                        _this.moveActiveItemDown();\r\n                        break;\r\n                    case 39: // right\r\n                        if (!_this.searchBox.value) {\r\n                            _this.openSubLevel(_this.activeItem);\r\n                        }\r\n                        break;\r\n                }\r\n            });\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                searchEditBoxBuilder\r\n                    .setStyle('font-family', 'monospace')\r\n                    .setStyle('font-size', '8pt')\r\n                    .setStyle('width', '100%');\r\n            }\r\n            if (isSubQuery) {\r\n                searchEditBoxBuilder.addClass('eqjs-dialog');\r\n            }\r\n            this.searchBox = searchEditBoxBuilder.toDOM();\r\n            this.searchDiv = searchDivBuilder.toDOM();\r\n            this.searchDiv.appendChild(this.searchBox);\r\n            baseDiv.appendChild(this.searchDiv);\r\n        }\r\n        var scrollDiv = document.createElement(\"div\");\r\n        scrollDiv.tabIndex = 1;\r\n        domel(scrollDiv)\r\n            .addClass(this.cssPrefix + \"-scrollDiv\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        scrollDiv.style.overflowX = \"hidden\";\r\n        scrollDiv.style.overflowY = \"auto\";\r\n        scrollDiv.style.position = \"relative\";\r\n        baseDiv.appendChild(scrollDiv);\r\n        this.levelDiv = baseDiv;\r\n        this.scrollDiv = scrollDiv;\r\n        if (this.menuId) {\r\n            this.levelDiv.id = this.menuId;\r\n        }\r\n        this.renderItems();\r\n        var scrollDivKeyDownHandler = function (event) {\r\n            switch (event.which) {\r\n                case 13: // enter\r\n                    if (_this.parentMenu.options.multiselect) {\r\n                        _this.parentMenu.getRootLevel().applyBtn.click();\r\n                    }\r\n                    else {\r\n                        if (_this.activeItem) {\r\n                            _this.activeItem.itemDiv.click();\r\n                        }\r\n                    }\r\n                    break;\r\n                case 32: // space\r\n                    if (_this.activeItem) {\r\n                        _this.activeItem.itemDiv.click();\r\n                    }\r\n                    break;\r\n                case 37: // left\r\n                    if (_this.parentLevel && !_this.isFilteringMode) {\r\n                        _this.deactivateItem(_this.activeItem);\r\n                        _this.parentLevel.focus();\r\n                    }\r\n                    break;\r\n                case 39: // right\r\n                    _this.openSubLevel(_this.activeItem);\r\n                    break;\r\n                case 38: // up\r\n                    _this.moveActiveItemUp();\r\n                    break;\r\n                case 40: // down\r\n                    _this.moveActiveItemDown();\r\n                    break;\r\n                default: return; // exit this handler for other keys\r\n            }\r\n            event.preventDefault(); // prevent the default action (scroll / move caret)            \r\n        };\r\n        scrollDiv.addEventListener(\"keydown\", scrollDivKeyDownHandler);\r\n        if (browserUtils.isMobileMode()) {\r\n            this.closeDiv =\r\n                domel('div', baseDiv)\r\n                    .addClass('eqjs-menu-close-btn')\r\n                    .addText(i18n.getText('ButtonClose'))\r\n                    .on('click', function () {\r\n                    _this.parentMenu.hideMenu();\r\n                })\r\n                    .toDOM();\r\n        }\r\n    };\r\n    MenuLevel.prototype.moveActiveItemDown = function () {\r\n        var items = this.isFilteringMode ? this.filteredItems : this.items;\r\n        if (this.activeItem) {\r\n            var idx = items.indexOf(this.activeItem);\r\n            if (idx < items.length - 1) {\r\n                this.activateItem(items[idx + 1], false);\r\n            }\r\n        }\r\n        else {\r\n            this.activateItem(items[0], false);\r\n        }\r\n    };\r\n    MenuLevel.prototype.moveActiveItemUp = function () {\r\n        var items = this.isFilteringMode ? this.filteredItems : this.items;\r\n        if (this.activeItem) {\r\n            var idx = items.indexOf(this.activeItem);\r\n            if (idx > 0) {\r\n                this.activateItem(items[idx - 1], false);\r\n            }\r\n        }\r\n        else {\r\n            this.activateItem(items[items.length - 1], false);\r\n        }\r\n    };\r\n    MenuLevel.prototype.openSubLevel = function (menuItem) {\r\n        if (menuItem && menuItem.items && !this.isFilteringMode) {\r\n            this.showSubLevel(menuItem);\r\n            menuItem.subLevel.activateItem(menuItem.subLevel.items[0]);\r\n        }\r\n    };\r\n    MenuLevel.prototype.focusScrollDiv = function () {\r\n        this.scrollDiv.focus();\r\n    };\r\n    MenuLevel.prototype.turnCheckboxes = function (items) {\r\n        //turn checkboxes on for selected items\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (item.itemCheckbox)\r\n                item.itemCheckbox.checked = this.isItemSelected(item);\r\n            if (item.items) {\r\n                this.turnCheckboxes(item.items);\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.isItemSelected = function (item) {\r\n        if (item.items) {\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                if (this.isItemSelected(item.items[i])) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        else {\r\n            return item.selected;\r\n        }\r\n    };\r\n    MenuLevel.prototype.setItemSelected = function (item, value) {\r\n        if (item.items) {\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                this.setItemSelected(item.items[i], value);\r\n            }\r\n        }\r\n        else {\r\n            item.selected = value;\r\n        }\r\n    };\r\n    MenuLevel.prototype.submitItems = function (items, selectedItems) {\r\n        for (var j = 0; j < items.length; j++) {\r\n            if (items[j].items) {\r\n                this.submitItems(items[j].items, selectedItems);\r\n            }\r\n            else {\r\n                if (items[j].selected) {\r\n                    selectedItems.push(items[j]);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.allSubitemsAreFiltered = function (items, filterCallback) {\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (filterCallback(items[i]))\r\n                return false;\r\n        }\r\n        return true;\r\n    };\r\n    MenuLevel.prototype.isItemDiv = function (element) {\r\n        return element['menuItem'] ? true : false;\r\n    };\r\n    MenuLevel.prototype.isLevelDiv = function (element) {\r\n        return element['menuLevel'] ? true : false;\r\n    };\r\n    MenuLevel.prototype.getMenuItem = function (element) {\r\n        var el = element;\r\n        while (!this.isItemDiv(el)) {\r\n            if (this.isLevelDiv(el)) {\r\n                throw \"Can't get menu item\";\r\n            }\r\n            el = el.parentElement;\r\n        }\r\n        return el['menuItem'];\r\n    };\r\n    MenuLevel.prototype.renderItemsWithoutFilter = function () {\r\n        var _this = this;\r\n        this.isFilteringMode = false;\r\n        var scrollDiv = this.scrollDiv;\r\n        var multiselect = this.parentMenu.options.multiselect;\r\n        var activateOnMouseOver = this.parentMenu.options.activateOnMouseOver;\r\n        var itemFgColor = this.parentMenu.style.colors.fgON || 'black';\r\n        var itemOverBgColor = this.parentMenu.style.colors.bgOVER || 'LightSteelBlue';\r\n        var itemFontSize = this.parentMenu.style.itemStyle.fontSize || '14px';\r\n        var itemFilterCallback = this.parentMenu.getItemFilterCallback();\r\n        scrollDiv.innerHTML = \"\";\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (!item || !item.text)\r\n                continue;\r\n            if (itemFilterCallback) {\r\n                if (!itemFilterCallback(item))\r\n                    continue;\r\n                if (item.items && this.allSubitemsAreFiltered(item.items, itemFilterCallback))\r\n                    continue;\r\n            }\r\n            item.data = function (propName) {\r\n                return _this[propName];\r\n            };\r\n            if (typeof (item.selected) == \"undefined\") {\r\n                item.selected = false;\r\n            }\r\n            if (item.selected && this.selectedItem == null) {\r\n                this.selectedItem = item;\r\n            }\r\n            var itemDiv = document.createElement(\"div\");\r\n            domel(itemDiv)\r\n                .addClass(this.cssPrefix + \"-itemDiv\")\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            if (item.selected && this.showSelected && !multiselect) {\r\n                itemDiv.classList.add(this.cssPrefix + \"-selected\");\r\n            }\r\n            ;\r\n            if (this.domWriteItemsId && this.menuId) {\r\n                itemDiv.id = 'item-' + this.menuId + '-' + item.id;\r\n            }\r\n            scrollDiv.appendChild(itemDiv);\r\n            itemDiv['menuItem'] = item;\r\n            itemDiv['menuLevel'] = this;\r\n            item.itemDiv = itemDiv;\r\n            if (this.parentMenu.options.useDefaultStyles) {\r\n                itemDiv.style.fontSize = itemFontSize;\r\n                itemDiv.style.color = itemFgColor;\r\n                itemDiv.style.paddingLeft = \"15px\";\r\n                itemDiv.style.paddingRight = \"6px\";\r\n                itemDiv.style.cursor = \"pointer\";\r\n            }\r\n            if (item.text == '---') {\r\n                itemDiv.appendChild(document.createElement('hr'));\r\n            }\r\n            else {\r\n                if (multiselect) {\r\n                    var cb = document.createElement(\"input\");\r\n                    cb.type = \"checkbox\";\r\n                    cb.id = \"cb\" + item.id;\r\n                    cb.checked = this.isItemSelected(item);\r\n                    cb.defaultChecked = this.isItemSelected(item);\r\n                    itemDiv.appendChild(cb);\r\n                    item.itemCheckbox = cb;\r\n                    if (this.parentMenu.options.useDefaultStyles) {\r\n                        cb.style.margin = \"4px 10px 0 0\";\r\n                        cb.style.verticalAlign = \"top\";\r\n                    }\r\n                }\r\n                var itemText = document.createTextNode(item.text);\r\n                itemDiv.appendChild(itemText);\r\n                if (item.items && item.items.length > 0) {\r\n                    itemDiv.classList.add(this.cssPrefix + \"-itemDiv-hasChildren\");\r\n                    var arrowSpan = document.createElement('span');\r\n                    arrowSpan.classList.add(this.cssPrefix + \"-itemDiv-arrow\");\r\n                    itemDiv.appendChild(arrowSpan);\r\n                    var arrowText = document.createTextNode('>');\r\n                    arrowSpan.appendChild(arrowText);\r\n                }\r\n                var itemClickHandler = function (ev) {\r\n                    var menuItem = _this.getMenuItem(ev.target);\r\n                    if (multiselect) {\r\n                        if (!menuItem.items || ev.target == menuItem.itemCheckbox) {\r\n                            var itemSelected = _this.isItemSelected(menuItem);\r\n                            _this.setItemSelected(menuItem, !itemSelected);\r\n                            menuItem.itemCheckbox.checked = !itemSelected;\r\n                            _this.parentMenu.refreshCheckboxes();\r\n                        }\r\n                        else {\r\n                            _this.activateItem(menuItem);\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this.activateItem(menuItem);\r\n                        _this.submit(menuItem);\r\n                    }\r\n                    return false;\r\n                };\r\n                itemDiv.removeEventListener(\"click\", itemClickHandler);\r\n                itemDiv.addEventListener('click', itemClickHandler);\r\n                itemDiv.addEventListener('mouseenter', function (ev) {\r\n                    var item = _this.getMenuItem(ev.target);\r\n                    _this.parentMenu.isCursorInside = true;\r\n                    if (activateOnMouseOver) {\r\n                        _this.activateItem(item);\r\n                    }\r\n                });\r\n                itemDiv.addEventListener('mouseleave', function (ev) {\r\n                    var item = _this.getMenuItem(ev.target);\r\n                    _this.parentMenu.isCursorInside = false;\r\n                    setTimeout(function () {\r\n                        if (!_this.parentMenu.isCursorInside) {\r\n                            if (activateOnMouseOver && item == _this.activeItem && !item.subLevel) {\r\n                                _this.deactivateItem(item);\r\n                            }\r\n                        }\r\n                    }, 200);\r\n                });\r\n            }\r\n            if (this.itemRenderedCallback) {\r\n                this.itemRenderedCallback(this.menuId, itemDiv);\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.renderItemsWithFilter = function (filter) {\r\n        this.isFilteringMode = true;\r\n        var scrollDiv = this.scrollDiv;\r\n        scrollDiv.innerHTML = \"\";\r\n        var filterSections = filter.split('>');\r\n        var pureFilterTexts = filterSections.map(function (section) { return section.replace(/\\*/g, ''); });\r\n        var items = this.filterItems(this.items, filterSections);\r\n        this.filteredItems = [];\r\n        for (var i = 0; i < items.length; i++) {\r\n            this.renderItemWithFilter(items[i], pureFilterTexts, 0);\r\n        }\r\n    };\r\n    MenuLevel.prototype.matchesFilter = function (text, regexp) {\r\n        if (text && regexp) {\r\n            return regexp.test(text);\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    MenuLevel.prototype.filterItems = function (items, filterSections) {\r\n        var resultItems = [];\r\n        var filter = filterSections.length > 0 ? filterSections[0] : '';\r\n        var restFilterSections = filterSections.length > 1 ? filterSections.slice(1) : filterSections;\r\n        var filterRegexp = filter ? new RegExp(filter.replace(/\\*/g, '.+?'), 'i') : null;\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (item.items) {\r\n                var groupItem = dataUtils.assign({}, item);\r\n                var groupItemMatches = this.matchesFilter(item.text, filterRegexp);\r\n                //if we have only one filter section (or an empty filter)\r\n                if (filterSections.length < 2) {\r\n                    //if current group item matches the filter -> show all sub-items\r\n                    if (groupItemMatches && filterSections.length < 2) {\r\n                        groupItem.items = dataUtils.createArrayFrom(item.items);\r\n                    }\r\n                    else {\r\n                        groupItem.items = this.filterItems(item.items, restFilterSections);\r\n                    }\r\n                }\r\n                //if we have more than 1 filter section and there is a match -> filter sub-items as well\r\n                else if (groupItemMatches) {\r\n                    groupItem.items = this.filterItems(item.items, restFilterSections);\r\n                }\r\n                //otherwise we skip this group at all\r\n                else {\r\n                    groupItem.items = [];\r\n                }\r\n                if (groupItem.items.length > 0) {\r\n                    resultItems.push(groupItem);\r\n                }\r\n            }\r\n            else {\r\n                if (this.matchesFilter(item.text, filterRegexp)) {\r\n                    resultItems.push(item);\r\n                }\r\n            }\r\n        }\r\n        return resultItems;\r\n    };\r\n    MenuLevel.prototype.renderItemWithFilter = function (item, filterTexts, level) {\r\n        var _this = this;\r\n        var scrollDiv = this.scrollDiv;\r\n        var levelFilterText = level < filterTexts.length ? filterTexts[level] : filterTexts[filterTexts.length - 1];\r\n        var multiselect = this.parentMenu.options.multiselect;\r\n        var activateOnMouseOver = this.parentMenu.options.activateOnMouseOver;\r\n        var itemFgColor = this.parentMenu.style.colors.fgON || 'black';\r\n        var itemOverBgColor = this.parentMenu.style.colors.bgOVER || 'LightSteelBlue';\r\n        var itemFontSize = this.parentMenu.style.itemStyle.fontSize || '14px';\r\n        var itemFilterCallback = this.parentMenu.getItemFilterCallback();\r\n        if (!item || !item.text)\r\n            return;\r\n        if (itemFilterCallback) {\r\n            if (!itemFilterCallback(item))\r\n                return;\r\n            if (item.items && this.allSubitemsAreFiltered(item.items, itemFilterCallback))\r\n                return;\r\n        }\r\n        item.data = function (propName) {\r\n            return this[propName];\r\n        };\r\n        if (typeof (item.selected) == \"undefined\") {\r\n            item.selected = false;\r\n        }\r\n        if (item.selected && this.selectedItem == null) {\r\n            this.selectedItem = item;\r\n        }\r\n        var itemDiv = document.createElement(\"div\");\r\n        domel(itemDiv)\r\n            .addClass(this.cssPrefix + \"-itemDiv\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        itemDiv.style.marginLeft = level * 10 + \"px\";\r\n        if (item.selected && !multiselect) {\r\n            itemDiv.classList.add(this.cssPrefix + \"-selected\");\r\n        }\r\n        ;\r\n        if (this.domWriteItemsId && this.menuId) {\r\n            itemDiv.id = 'item-' + this.menuId + '-' + item.id;\r\n        }\r\n        scrollDiv.appendChild(itemDiv);\r\n        itemDiv['menuItem'] = item;\r\n        itemDiv['menuLevel'] = this;\r\n        item.itemDiv = itemDiv;\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            itemDiv.style.fontSize = itemFontSize;\r\n            itemDiv.style.color = itemFgColor;\r\n            itemDiv.style.paddingLeft = \"15px\";\r\n            itemDiv.style.paddingRight = \"6px\";\r\n            itemDiv.style.cursor = \"pointer\";\r\n        }\r\n        if (item.text == '---') {\r\n            itemDiv.appendChild(document.createElement('hr'));\r\n        }\r\n        else {\r\n            if (multiselect) {\r\n                var cb = document.createElement(\"input\");\r\n                cb.type = \"checkbox\";\r\n                cb.id = \"cb\" + item.id;\r\n                cb.checked = this.isItemSelected(item);\r\n                cb.defaultChecked = this.isItemSelected(item);\r\n                itemDiv.appendChild(cb);\r\n                item.itemCheckbox = cb;\r\n                if (this.parentMenu.options.useDefaultStyles) {\r\n                    cb.style.margin = \"4px 10px 0 0\";\r\n                    cb.style.verticalAlign = \"top\";\r\n                }\r\n            }\r\n            var itemText = document.createElement('span');\r\n            itemText.innerHTML = this.highlightText(item.text, levelFilterText);\r\n            itemDiv.appendChild(itemText);\r\n            if (item.items && item.items.length > 0) {\r\n                itemDiv.classList.add(this.cssPrefix + \"-itemDiv-filter-hasChildren\");\r\n            }\r\n            else {\r\n                this.filteredItems.push(item);\r\n                var itemClickHandler = function (event) {\r\n                    if (multiselect) {\r\n                        if (!item.items || event.target == item.itemCheckbox) {\r\n                            var itemSelected = _this.isItemSelected(item);\r\n                            _this.setItemSelected(item, !itemSelected);\r\n                            item.itemCheckbox.checked = !itemSelected;\r\n                            _this.parentMenu.refreshCheckboxes();\r\n                        }\r\n                        else {\r\n                            _this.activateItem(item);\r\n                        }\r\n                    }\r\n                    else {\r\n                        _this.activateItem(item);\r\n                        _this.submit(item);\r\n                    }\r\n                    return false;\r\n                };\r\n                itemDiv.removeEventListener(\"click\", itemClickHandler);\r\n                itemDiv.addEventListener('click', itemClickHandler);\r\n                itemDiv.addEventListener('mouseenter', function (ev) {\r\n                    ;\r\n                    _this.parentMenu.isCursorInside = true;\r\n                    if (activateOnMouseOver) {\r\n                        _this.activateItem(item);\r\n                    }\r\n                });\r\n                itemDiv.addEventListener('mouseleave', function (ev) {\r\n                    _this.parentMenu.isCursorInside = false;\r\n                    setTimeout(function () {\r\n                        if (!_this.parentMenu.isCursorInside) {\r\n                            if (activateOnMouseOver && item == _this.activeItem && !item.subLevel) {\r\n                                _this.deactivateItem(item);\r\n                            }\r\n                        }\r\n                    }, 200);\r\n                });\r\n            }\r\n        }\r\n        if (item.items) {\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                this.renderItemWithFilter(item.items[i], filterTexts, level + 1);\r\n            }\r\n        }\r\n        if (this.itemRenderedCallback) {\r\n            this.itemRenderedCallback(this.menuId, itemDiv);\r\n        }\r\n    };\r\n    MenuLevel.prototype.highlightText = function (content, text) {\r\n        if (text && text.length > 0) {\r\n            var lowerText = text.toLowerCase();\r\n            var lowerContent = content.toLowerCase();\r\n            var insertValue1 = \"<span class='eqjs-menu-itemDiv-highlight'>\";\r\n            var insertValue2 = \"</span>\";\r\n            var startIndex = lowerContent.indexOf(lowerText);\r\n            if (startIndex >= 0) {\r\n                var pos = 0;\r\n                var value = content;\r\n                var indexInMas = [];\r\n                while (true) {\r\n                    var index = lowerContent.indexOf(lowerText, pos);\r\n                    if (index >= 0) {\r\n                        indexInMas.push(index);\r\n                        pos = index + text.length;\r\n                    }\r\n                    else {\r\n                        pos++;\r\n                    }\r\n                    if (pos >= value.length - 1) {\r\n                        break;\r\n                    }\r\n                }\r\n                if (indexInMas.length > 0) {\r\n                    content = '';\r\n                    for (var i = 0; i < indexInMas.length; i++) {\r\n                        if (i === 0) {\r\n                            content += value.substring(0, indexInMas[i]);\r\n                        }\r\n                        content += insertValue1 + value.substring(indexInMas[i], indexInMas[i] + text.length) + insertValue2;\r\n                        if (i < indexInMas.length - 1) {\r\n                            content += value.substring(indexInMas[i] + text.length, indexInMas[i + 1]);\r\n                        }\r\n                        else {\r\n                            content += value.substring(indexInMas[i] + text.length);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return content;\r\n    };\r\n    MenuLevel.prototype.renderItems = function (filter) {\r\n        if (!filter && !browserUtils.isMobileMode()) {\r\n            this.renderItemsWithoutFilter();\r\n        }\r\n        else {\r\n            filter = filter || '';\r\n            this.renderItemsWithFilter(filter.toLowerCase());\r\n        }\r\n    };\r\n    MenuLevel.prototype.activateItem = function (menuItem, openSubLevel) {\r\n        if (openSubLevel === void 0) { openSubLevel = true; }\r\n        if (this.activeItem != null) {\r\n            this.deactivateItem(this.activeItem);\r\n        }\r\n        this.activeItem = menuItem;\r\n        var rowElement = menuItem.itemDiv;\r\n        rowElement.classList.add('active');\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            var itemBgColor = this.parentMenu.style.colors.bgON;\r\n            var itemFgColor = this.parentMenu.style.colors.fgON;\r\n            var itemOverBgColor = this.parentMenu.style.colors.bgOVER;\r\n            var itemOverFgColor = this.parentMenu.style.colors.fgOVER || \"\";\r\n            var itemClass = this.parentMenu.style.itemClass || \"\";\r\n            var itemClassOver = this.parentMenu.style.itemClassOver || \"\";\r\n            if (itemClassOver != \"\") {\r\n                rowElement.style.backgroundColor = \"\";\r\n                rowElement.style.color = \"\";\r\n            }\r\n            else {\r\n                rowElement.style.backgroundColor = itemOverBgColor;\r\n                rowElement.style.color = itemOverFgColor;\r\n            }\r\n        }\r\n        if (menuItem.items && !this.isFilteringMode && openSubLevel) {\r\n            this.showSubLevel(menuItem);\r\n        }\r\n    };\r\n    MenuLevel.prototype.deactivateItem = function (menuItem) {\r\n        if (!menuItem)\r\n            return;\r\n        var rowElement = menuItem.itemDiv;\r\n        rowElement.classList.remove('active');\r\n        if (this.parentMenu.options.useDefaultStyles) {\r\n            var itemBgColor = this.parentMenu.style.colors.bgON;\r\n            var itemFgColor = this.parentMenu.style.colors.fgON;\r\n            var itemClass = this.parentMenu.style.itemClass || \"\";\r\n            if (itemClass != \"\") {\r\n                rowElement.style.backgroundColor = \"\";\r\n                rowElement.style.color = \"\";\r\n            }\r\n            else {\r\n                rowElement.style.backgroundColor = itemBgColor;\r\n                rowElement.style.color = itemFgColor;\r\n            }\r\n        }\r\n        if (menuItem.subLevel) {\r\n            menuItem.subLevel.hide();\r\n        }\r\n        this.activeItem = null;\r\n    };\r\n    MenuLevel.prototype.showSubLevel = function (menuItem) {\r\n        if (!menuItem.subLevel) {\r\n            var levelId = '';\r\n            if (this.menuId) {\r\n                levelId = this.menuId + \"-\" + menuItem.id;\r\n            }\r\n            menuItem.subLevel = new MenuLevel({\r\n                showSelected: this.showSelected,\r\n                menu: this.parentMenu,\r\n                parent: this,\r\n                container: this.parentElement,\r\n                items: menuItem.items,\r\n                levelIndex: this.levelIndex + 1,\r\n                domWriteItemsId: this.domWriteItemsId,\r\n                menuId: levelId,\r\n                itemRenderedCallback: this.itemRenderedCallback\r\n            });\r\n        }\r\n        var pos = getElementAbsolutePos(menuItem.itemDiv);\r\n        var scroll = getScrollPos();\r\n        var winSize = getWinSize();\r\n        //show menu to the side that have more space available\r\n        var leftSpace = pos.x - scroll.left;\r\n        var rightSpace = winSize.width - leftSpace - menuItem.itemDiv.offsetWidth;\r\n        pos.x += menuItem.itemDiv.offsetParent.offsetWidth;\r\n        pos.y += 1;\r\n        menuItem.subLevel.showAt(pos.x, pos.y, true, true);\r\n        menuItem.subLevel.levelDiv.style.width = '';\r\n        menuItem.subLevel.levelDiv.style.right = '';\r\n        if ((rightSpace >= menuItem.subLevel.levelDiv.offsetWidth) || (rightSpace >= leftSpace)) { //show level to the right\r\n            if (rightSpace < menuItem.subLevel.levelDiv.offsetWidth) {\r\n                menuItem.subLevel.levelDiv.style.right = -scroll.left + 'px';\r\n            }\r\n        }\r\n        else { //show level to the left\r\n            if (leftSpace < menuItem.subLevel.levelDiv.offsetWidth) {\r\n                menuItem.subLevel.levelDiv.style.left = scroll.left + 4 + 'px';\r\n            }\r\n            else {\r\n                menuItem.subLevel.levelDiv.style.left = '';\r\n            }\r\n            menuItem.subLevel.levelDiv.style.right = getViewportSize().width - pos.x + menuItem.itemDiv.offsetWidth - 6 + 'px';\r\n        }\r\n        menuItem.subLevel.levelDiv.style.visibility = 'visible';\r\n        menuItem.subLevel.focus();\r\n    };\r\n    MenuLevel.prototype.adjustTopPos = function (top) {\r\n        var winSize = getWinSize();\r\n        var levelBottom = top - getScrollPos().top + this.levelDiv.offsetHeight;\r\n        var res = top;\r\n        if (levelBottom > winSize.height - 5) {\r\n            res -= levelBottom - winSize.height + 5;\r\n            if (res < getScrollPos().top) {\r\n                res = getScrollPos().top + 10;\r\n            }\r\n        }\r\n        return res;\r\n    };\r\n    MenuLevel.prototype.showAt = function (x, y, adjustTopPos, hidden) {\r\n        if (!this.items) {\r\n            return;\r\n        }\r\n        this.initLevelDiv();\r\n        //crocodile\r\n        this.turnCheckboxes(this.items);\r\n        this.renderItems();\r\n        var levelStyle = this.levelDiv.style;\r\n        if (hidden) {\r\n            this.levelDiv.style.visibility = 'hidden';\r\n        }\r\n        levelStyle.display = 'block';\r\n        levelStyle.left = x + 'px';\r\n        levelStyle.top = y + 'px';\r\n        this.scrollDiv.style.width = \"auto\";\r\n        this.scrollDiv.style.height = \"auto\";\r\n        //adjusting level top position\r\n        if (adjustTopPos) {\r\n            y = this.adjustTopPos(y);\r\n            levelStyle.top = y + 'px';\r\n        }\r\n        //setting minimal level width if it is defined\r\n        var minItemWidth = this.parentMenu.minItemWidth;\r\n        if (minItemWidth > 0 && this.scrollDiv.offsetWidth < minItemWidth) {\r\n            for (var i = 0; i < this.items.length; i++) {\r\n                this.items[i].itemDiv.style.width = minItemWidth + \"px\";\r\n            }\r\n        }\r\n        var maxItemWidth = this.parentMenu.maxItemWidth;\r\n        if (maxItemWidth > 0 && this.scrollDiv.offsetWidth > maxItemWidth) {\r\n            for (var i = 0; i < this.items.length; i++) {\r\n                this.items[i].itemDiv.style.width = maxItemWidth + \"px\";\r\n                this.items[i].itemDiv.style.overflowX = \"hidden\";\r\n            }\r\n        }\r\n        var winSize = getWinSize();\r\n        //adjustinng maximum height of the menu level if it does not fit to browser window\r\n        var maxHeight = winSize.height - (y - getScrollPos().top) - 15; //document.documentElement.scrollTop\r\n        if (this.parentMenu.maxHeight > 0 && maxHeight > this.parentMenu.maxHeight) {\r\n            maxHeight = this.parentMenu.maxHeight;\r\n        }\r\n        if (this.applyItem != null && this.applyItem.itemDiv != null) {\r\n            maxHeight -= this.applyItem.itemDiv.offsetHeight + 5;\r\n        }\r\n        if (this.searchDiv != null) {\r\n            maxHeight -= this.searchDiv.offsetHeight;\r\n        }\r\n        if (this.closeDiv != null) {\r\n            maxHeight -= this.closeDiv.offsetHeight;\r\n        }\r\n        if (this.levelDiv.offsetHeight > maxHeight) {\r\n            var newHeight = maxHeight;\r\n            if (newHeight < 50) {\r\n                newHeight = 50;\r\n            }\r\n            this.scrollDiv.style.height = newHeight + \"px\";\r\n        }\r\n        else {\r\n            this.scrollDiv.style.height = \"auto\";\r\n        }\r\n        this.activeItem = null;\r\n    };\r\n    MenuLevel.prototype.focus = function () {\r\n        var _this = this;\r\n        window.setTimeout(function () {\r\n            _this.scrollDiv.focus();\r\n            if (_this.searchBox != null) {\r\n                if (_this.parentMenu.options.searchBoxAutoFocus) {\r\n                    _this.searchBox.focus();\r\n                }\r\n                _this.searchBox.value = \"\";\r\n            }\r\n        }, 100);\r\n    };\r\n    MenuLevel.prototype.hide = function () {\r\n        if (this.activeItem !== null) {\r\n            if (this.activeItem.subLevel) {\r\n                this.activeItem.subLevel.hide();\r\n            }\r\n        }\r\n        if (this.levelDiv) {\r\n            var levelStyle = this.levelDiv.style;\r\n            levelStyle.display = 'none';\r\n            if (this.initialized) {\r\n                this.parentElement.removeChild(this.levelDiv);\r\n                this.initialized = false;\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.initLevelDiv = function () {\r\n        if (!this.initialized) {\r\n            this.parentElement.appendChild(this.levelDiv);\r\n            domel(this.levelDiv)\r\n                .addClass(this.cssPrefix + \"-levelDiv\")\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            this.initialized = true;\r\n        }\r\n    };\r\n    MenuLevel.prototype.submit = function (menuItem) {\r\n        if (menuItem != null) {\r\n            if (!menuItem.items) {\r\n                this.parentMenu.hideMenu();\r\n                var selectedItems = [];\r\n                if (menuItem == this.applyItem) {\r\n                    this.submitItems(this.items, selectedItems);\r\n                }\r\n                this.parentMenu.submitMenu(menuItem, selectedItems);\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.remove = function () {\r\n        //remove old level elements\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.subLevel) {\r\n                item.subLevel.remove();\r\n            }\r\n        }\r\n        if (this.levelDiv) {\r\n            this.levelDiv.innerHTML = \"\";\r\n            var parentNode = this.levelDiv.parentNode;\r\n            if (parentNode != null) {\r\n                parentNode.removeChild(this.levelDiv);\r\n            }\r\n        }\r\n        this.levelDiv = null;\r\n    };\r\n    MenuLevel.prototype.update = function (newItems) {\r\n        this.remove();\r\n        //create new level\r\n        this.items = newItems;\r\n        this.activeItem = null;\r\n        this.selectedItem = null;\r\n        this.applyItem.itemDiv = null;\r\n        this.initialized = false;\r\n        this.updated++;\r\n        this.renderContent();\r\n    };\r\n    MenuLevel.prototype.refreshCheckboxes = function () {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.itemCheckbox) {\r\n                item.itemCheckbox.checked = this.isItemSelected(item);\r\n            }\r\n            if (item.subLevel) {\r\n                item.subLevel.refreshCheckboxes();\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.refreshItems = function () {\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.itemDiv) {\r\n                if (item.hidden) {\r\n                    item.itemDiv.style.display = \"none\";\r\n                }\r\n                else {\r\n                    item.itemDiv.style.display = \"block\";\r\n                }\r\n            }\r\n            if (item.subLevel) {\r\n                item.subLevel.refreshItems();\r\n            }\r\n        }\r\n    };\r\n    MenuLevel.prototype.findItem = function (searchedText) {\r\n        var txt = searchedText.toLowerCase();\r\n        for (var i = 0; i < this.items.length; i++) {\r\n            var item = this.items[i];\r\n            if (item.text.toLowerCase().indexOf(txt) == 0) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return MenuLevel;\r\n}());\r\nvar PopupMenu = /** @class */ (function () {\r\n    function PopupMenu(options) {\r\n        var _this = this;\r\n        this.isCursorInside = false;\r\n        this.mouseIsOverBlock = false;\r\n        this.mouseIsOverLink = false;\r\n        this.toId = null;\r\n        this.active = false;\r\n        this.ancorFocused = null;\r\n        this.options = {\r\n            items: [],\r\n            buttons: {\r\n                submit: i18n.getText('ButtonApply'),\r\n                cancel: i18n.getText('ButtonCancel')\r\n            },\r\n            itemFilterCallback: null,\r\n            useDefaultStyles: false,\r\n            multiselect: false,\r\n            adjustHeight: true,\r\n            showSearchBoxAfter: 30,\r\n            activateOnMouseOver: true,\r\n            container: document.body,\r\n            zIndex: 100000,\r\n            domWriteItemsId: false,\r\n            itemRenderedCallback: null\r\n        };\r\n        if (options) {\r\n            dataUtils.assignDeep(this.options, options);\r\n        }\r\n        this.menuId = PopupMenu.lastMenuID++;\r\n        this.updateProps();\r\n        this.rootLevel = new MenuLevel({\r\n            menu: this,\r\n            items: this.options.items,\r\n            levelIndex: 0,\r\n            container: this.options.container,\r\n            domWriteItemsId: this.options.domWriteItemsId,\r\n            menuId: this.options.id,\r\n            itemRenderedCallback: this.options.itemRenderedCallback,\r\n            showSelected: this.options.showSelected,\r\n        });\r\n        this.rootLevel.levelDiv.classList.add(this.cssPrefix + \"-rootLevel\");\r\n        this.rootLevel.levelDiv.style.zIndex = \"\" + this.options.zIndex;\r\n        this.menuKeyUpHandler = function (e) {\r\n            if (e.which == 27) {\r\n                _this.hideMenu();\r\n                e.stopImmediatePropagation();\r\n            }\r\n        };\r\n        this.globalMouseDownHandler = function (e) {\r\n            if (!_this.active)\r\n                return true;\r\n            var event = window.event || e;\r\n            var o = event.srcElement || event.target;\r\n            var isOutside = true;\r\n            while (o) {\r\n                if (o.tagName && o.tagName.toLowerCase() == 'div') {\r\n                    // it is added in renderContent of MenuLevel class\r\n                    if (o.menuLevel) {\r\n                        if (o.menuLevel.parentMenu == _this) {\r\n                            isOutside = false;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                o = o.parentNode || o.parentElement;\r\n            }\r\n            if (isOutside) {\r\n                _this.hideMenu();\r\n            }\r\n            return true;\r\n        };\r\n        this.render();\r\n    }\r\n    Object.defineProperty(PopupMenu.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-menu';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    PopupMenu.prototype.getItems = function () {\r\n        return this.rootLevel.getItems();\r\n    };\r\n    PopupMenu.prototype.updateProps = function () {\r\n        this.style = {};\r\n        this.style.colors = { border: \"#666666\", shadow: \"#888888\", bgON: \"white\", fgON: \"black\", bgOVER: \"#B6BDD2\", fgOVER: \"black\" };\r\n        this.style.itemStyle = { fontSize: \"14px\" };\r\n        this.minItemWidth = 0;\r\n        this.maxItemWidth = 0;\r\n        this.maxHeight = 0;\r\n        this.zIndex = \"\" + this.options.zIndex;\r\n        this.commandTemplate = \"\";\r\n        this.args = [];\r\n        this.active = false;\r\n    };\r\n    PopupMenu.prototype.render = function () {\r\n    };\r\n    PopupMenu.prototype.clearItemsMenuProps = function (items) {\r\n        if (!items)\r\n            return;\r\n        for (var i = 0; i < items.length; i++) {\r\n            this.clearItemMenuProps(items[i]);\r\n        }\r\n    };\r\n    PopupMenu.prototype.clearItemMenuProps = function (item) {\r\n        //don't clear properties they belong this menu\r\n        if (item.subLevel && item.subLevel.parentMenu == this)\r\n            return;\r\n        if (item.subLevel) {\r\n            item.subLevel.remove();\r\n            item.subLevel = null;\r\n        }\r\n        if (item.itemDiv) {\r\n            item.itemDiv = null;\r\n        }\r\n        if (item.items) {\r\n            this.clearItemsMenuProps(item.items);\r\n        }\r\n    };\r\n    PopupMenu.prototype.setSelectedItems = function (items, selectedIds) {\r\n        var itemsLength = items ? items.length : 0;\r\n        for (var i = 0; i < itemsLength; i++) {\r\n            var item = items[i];\r\n            if (item.items) {\r\n                this.setSelectedItems(item.items, selectedIds);\r\n            }\r\n            else {\r\n                item.selected = selectedIds.indexOf(item.id) >= 0;\r\n            }\r\n        }\r\n    };\r\n    PopupMenu.prototype.getRootLevel = function () {\r\n        return this.rootLevel;\r\n    };\r\n    PopupMenu.prototype.getItemFilterCallback = function () {\r\n        return this.itemFilterCallback;\r\n    };\r\n    PopupMenu.prototype.showMenu = function (options) {\r\n        this.ancorFocused = options.anchor == document.activeElement ? options.anchor : null;\r\n        this.clearItemsMenuProps(this.options.items);\r\n        this.itemSelectedCallback = options.itemSelectedCallback || null;\r\n        this.menuClosedCallback = options.menuClosedCallback || null;\r\n        this.itemFilterCallback = options.itemFilterCallback || null;\r\n        if (options.items) {\r\n            this.options.items = options.items;\r\n            this.rootLevel.setItems(options.items);\r\n        }\r\n        if (options.onMenuItemSelected) {\r\n            this.options.onMenuItemSelected = options.onMenuItemSelected;\r\n        }\r\n        var selectedIds = options.selectedIds || null;\r\n        if (selectedIds) {\r\n            if (typeof selectedIds === \"string\") {\r\n                selectedIds = selectedIds.split(\",\");\r\n            }\r\n        }\r\n        else {\r\n            selectedIds = [];\r\n        }\r\n        this.active = true;\r\n        this.setSelectedItems(this.options.items, selectedIds);\r\n        if (browserUtils.isMobileMode()) {\r\n            this.rootLevel.showAt(0, 0, true, true);\r\n            this.rootLevel.levelDiv.style.top = '0px';\r\n            this.rootLevel.levelDiv.style.bottom = '0px';\r\n            this.rootLevel.levelDiv.style.right = '0px';\r\n            this.rootLevel.levelDiv.style.position = 'fixed';\r\n            this.rootLevel.levelDiv.style.fontSize = '20px';\r\n        }\r\n        else {\r\n            var anchor = options.anchor || document.documentElement;\r\n            var srcPos = getElementAbsolutePos(anchor);\r\n            var anchorHeight = anchor.offsetHeight;\r\n            var anchorWidth = anchor.offsetHeight;\r\n            var pos = {\r\n                x: srcPos.x,\r\n                y: srcPos.y + anchorHeight + 2\r\n            };\r\n            var scroll_1 = getScrollPos();\r\n            var winSize = getWinSize();\r\n            //show menu to the side that have more space available\r\n            var leftSpace = pos.x + anchorWidth - scroll_1.left;\r\n            var rightSpace = winSize.width - leftSpace + anchorWidth;\r\n            pos.x += 2;\r\n            this.rootLevel.showAt(pos.x, pos.y, true, true);\r\n            this.rootLevel.levelDiv.style.width = '';\r\n            this.rootLevel.levelDiv.style.right = '';\r\n            if ((rightSpace >= this.rootLevel.levelDiv.offsetWidth) || (rightSpace >= leftSpace)) {\r\n                //show level to the right\r\n                if (rightSpace < this.rootLevel.levelDiv.offsetWidth) {\r\n                    this.rootLevel.levelDiv.style.right = -scroll_1.left + 'px';\r\n                }\r\n            }\r\n            else {\r\n                //show level to the left\r\n                if (leftSpace < this.rootLevel.levelDiv.offsetWidth) {\r\n                    this.rootLevel.levelDiv.style.left = scroll_1.left + 4 + 'px';\r\n                }\r\n                else {\r\n                    this.rootLevel.levelDiv.style.left = '';\r\n                }\r\n                this.rootLevel.levelDiv.style.right = getViewportSize().width - pos.x - anchorWidth + 'px';\r\n            }\r\n            this.rootLevel.levelDiv.style.fontSize = '14px';\r\n        }\r\n        this.rootLevel.levelDiv.style.visibility = 'visible';\r\n        this.rootLevel.focus();\r\n        document.addEventListener('keyup', this.menuKeyUpHandler);\r\n        document.addEventListener('mousedown', this.globalMouseDownHandler, true);\r\n    };\r\n    PopupMenu.prototype.hideMenu = function () {\r\n        document.removeEventListener('mousedown', this.globalMouseDownHandler, true);\r\n        document.removeEventListener('keyup', this.menuKeyUpHandler);\r\n        this.rootLevel.hide();\r\n        if (this.ancorFocused) {\r\n            this.ancorFocused.focus();\r\n        }\r\n        if (this.menuClosedCallback) {\r\n            this.menuClosedCallback();\r\n        }\r\n    };\r\n    PopupMenu.prototype.submitMenu = function (menuItem, selectedItems) {\r\n        if (this.itemSelectedCallback) {\r\n            this.itemSelectedCallback(menuItem, selectedItems);\r\n        }\r\n    };\r\n    PopupMenu.prototype.knockMenuStyle = function (menu) {\r\n        menu.removeAttribute('style');\r\n        var ul = menu.querySelectorAll('ul').item(0);\r\n        var hasUlStyle = ul && ul.style ? true : false;\r\n        if (hasUlStyle !== false) {\r\n            ul.setAttribute('style', '');\r\n        }\r\n    };\r\n    PopupMenu.prototype.refreshItems = function () {\r\n        this.rootLevel.refreshItems();\r\n    };\r\n    PopupMenu.prototype.refreshCheckboxes = function () {\r\n        this.rootLevel.refreshCheckboxes();\r\n    };\r\n    PopupMenu.lastMenuID = 0;\r\n    return PopupMenu;\r\n}());\r\nexport { PopupMenu };\r\n//# sourceMappingURL=popup_menu.js.map","var DisplayFormatParser = /** @class */ (function () {\r\n    function DisplayFormatParser() {\r\n        this.formatStr = '';\r\n        this.pos = 0;\r\n        this.token = 'text';\r\n        this.tokenText = '';\r\n    }\r\n    DisplayFormatParser.prototype.start = function (s) {\r\n        this.formatStr = s;\r\n        this.pos = 0;\r\n        this.tokenText = '';\r\n    };\r\n    DisplayFormatParser.prototype.skipSpaces = function () {\r\n        while (this.pos < this.formatStr.length && this.formatStr.charAt(this.pos) === ' ')\r\n            this.pos++;\r\n    };\r\n    DisplayFormatParser.prototype.getToken = function () {\r\n        return this.token;\r\n    };\r\n    DisplayFormatParser.prototype.getTokenText = function () {\r\n        return this.tokenText;\r\n    };\r\n    DisplayFormatParser.prototype.next = function () {\r\n        this.skipSpaces();\r\n        if (this.pos >= this.formatStr.length)\r\n            return false;\r\n        var npos = 0;\r\n        if (this.formatStr.charAt(this.pos) === '{') {\r\n            npos = this.formatStr.indexOf('}', this.pos);\r\n            if (npos < 0)\r\n                return false;\r\n            this.tokenText = this.formatStr.substring(this.pos, npos + 1);\r\n            if (this.tokenText.indexOf('{expr') === 0 || this.tokenText.indexOf('{attr') === 0) {\r\n                this.token = 'expression';\r\n            }\r\n            this.pos = npos + 1;\r\n        }\r\n        else if (this.formatStr.charAt(this.pos) === '[' && this.pos < this.formatStr.length - 1 && this.formatStr.charAt(this.pos + 1) === '[') {\r\n            this.pos += 2;\r\n            npos = this.formatStr.indexOf(']]', this.pos);\r\n            this.token = 'function';\r\n            this.tokenText = this.formatStr.substring(this.pos, npos);\r\n            this.pos = npos + 2;\r\n        }\r\n        else {\r\n            this.token = 'text';\r\n            var npos1 = this.formatStr.indexOf('{', this.pos);\r\n            if (npos1 < 0)\r\n                npos1 = this.formatStr.length;\r\n            var npos2 = this.formatStr.indexOf('[[', this.pos);\r\n            if (npos2 < 0)\r\n                npos2 = this.formatStr.length;\r\n            npos = Math.min(npos1, npos2);\r\n            this.tokenText = this.formatStr.substring(this.pos, npos).trim();\r\n            this.pos = npos;\r\n        }\r\n        return true;\r\n    };\r\n    return DisplayFormatParser;\r\n}());\r\nexport { DisplayFormatParser };\r\n//# sourceMappingURL=display_format_parser.js.map","/**\r\n * Represents parts of Query Panel which can be editable\r\n */\r\nexport var QPEditablePart;\r\n(function (QPEditablePart) {\r\n    QPEditablePart[QPEditablePart[\"None\"] = 0] = \"None\";\r\n    QPEditablePart[QPEditablePart[\"Value\"] = 1] = \"Value\";\r\n    QPEditablePart[QPEditablePart[\"Attribute\"] = 2] = \"Attribute\";\r\n    QPEditablePart[QPEditablePart[\"Operator\"] = 4] = \"Operator\";\r\n    QPEditablePart[QPEditablePart[\"Addition\"] = 8] = \"Addition\";\r\n    QPEditablePart[QPEditablePart[\"Removal\"] = 16] = \"Removal\";\r\n    QPEditablePart[QPEditablePart[\"All\"] = 255] = \"All\";\r\n    QPEditablePart[QPEditablePart[\"NoAddition\"] = -9] = \"NoAddition\";\r\n    QPEditablePart[QPEditablePart[\"NoRemoval\"] = -17] = \"NoRemoval\";\r\n    QPEditablePart[QPEditablePart[\"FixedConditionList\"] = 5] = \"FixedConditionList\";\r\n})(QPEditablePart || (QPEditablePart = {}));\r\n//# sourceMappingURL=qp_editable_part.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, DataType } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { createBrowserEvent, domel } from '@easydata/ui';\r\nimport { ColumnRendererCP } from './column_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar SimpleColumnRendererCP = /** @class */ (function (_super) {\r\n    __extends(SimpleColumnRendererCP, _super);\r\n    function SimpleColumnRendererCP() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\";\r\n    };\r\n    SimpleColumnRendererCP.prototype.renderExpressionBlock = function () {\r\n        var _this = this;\r\n        return domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-expr-block\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-attrelement\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(_this.renderBaseExpression()); })\r\n            .toDOM();\r\n    };\r\n    SimpleColumnRendererCP.prototype.renderBaseExpression = function () {\r\n        var _this = this;\r\n        var attrCaption = this.getAttributeCaption(this.baseAttr);\r\n        if (this.isEditable()) {\r\n            return domel('a')\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(attrCaption)\r\n                .text(attrCaption) //TO DO:add localization\r\n                .on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                //ev.preventDefault();\r\n                _this.panel.showEntitiesMenu({\r\n                    anchor: ev.target,\r\n                    selectedIds: null,\r\n                    itemSelectedCallback: _this.baseExpressionItemSelectedCallback.bind(_this)\r\n                });\r\n                return false;\r\n            })\r\n                .toDOM();\r\n        }\r\n        return domel('span')\r\n            .text(attrCaption)\r\n            .title(attrCaption)\r\n            .toDOM();\r\n    };\r\n    SimpleColumnRendererCP.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.id = attrid;\r\n        this.column.expr.setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.fireColumnChanged();\r\n        return false;\r\n    };\r\n    SimpleColumnRendererCP.prototype.getUIS = function () {\r\n        var arg = this.column.expr.args[0];\r\n        if (arg) {\r\n            var model = this.panel.getContext().getModel();\r\n            return model.checkAttrProperty(arg.value, \"useInSorting\");\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    SimpleColumnRendererCP.prototype.changeTypeHandler = function (ev) {\r\n        var _this = this;\r\n        this.keepShowingButtons = true;\r\n        this.functionMenu.showMenu({\r\n            anchor: ev.target,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                _this.processExtraButtonMenuItems(data.id, null);\r\n                return false;\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n                if (!_this.isMouseOverBlock) {\r\n                    _this.element.dispatchEvent(createBrowserEvent('mouseleave'));\r\n                }\r\n            }\r\n        });\r\n    };\r\n    SimpleColumnRendererCP.prototype.changeTypeToCustomSql = function () {\r\n        var _this = this;\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.CustomSql);\r\n        var parentElement = this.element.parentElement;\r\n        setTimeout(function () {\r\n            //focus CustomSQL Edit\r\n            var newElement = parentElement.querySelector(\"div[data-id='\" + _this.column.id + \"']  div[class*='\" + _this.cssPrefix + \"-expr-block']  div[class*='\" + _this.cssPrefix + \"-colelement']  a\");\r\n            if (newElement)\r\n                newElement.click();\r\n        }, 500);\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCP.prototype.changeTypeToAggr = function (funcId) {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.AggregateFunction, { funcId: funcId });\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCP.prototype.processExtraButtonMenuItems = function (action, evt) {\r\n        if (action === \"CUSTOMSQL\") {\r\n            this.changeTypeToCustomSql();\r\n        }\r\n        else {\r\n            this.changeTypeToAggr(action);\r\n        }\r\n        return true;\r\n    };\r\n    SimpleColumnRendererCP.prototype.getExtraButtonMenuItems = function () {\r\n        var items = [];\r\n        var funcs = this.panel.getContext().getModel().getAggrFunctions();\r\n        var toInclude = true;\r\n        var funcAllowed = true;\r\n        var item = null;\r\n        var attribute = this.getAttribute();\r\n        var funcCaption;\r\n        for (var idx = 0; idx < funcs.length; idx++) {\r\n            if (!funcs[idx])\r\n                continue;\r\n            toInclude = true;\r\n            if (funcs[idx].id === 'SUM' || funcs[idx].id === 'AVG') {\r\n                toInclude = [DataType.Autoinc, DataType.Byte, DataType.Currency, DataType.Float, DataType.Int32,\r\n                    DataType.Int64, DataType.Word].indexOf(attribute.dataType) >= 0;\r\n            }\r\n            else if (funcs[idx].id === 'MIN' || funcs[idx].id === 'MAX') {\r\n                toInclude = [DataType.Autoinc, DataType.BCD, DataType.Byte, DataType.Currency, DataType.Date, DataType.DateTime, DataType.Time,\r\n                    DataType.Float, DataType.Int32, DataType.Int64, DataType.Word].indexOf(attribute.dataType) >= 0;\r\n            }\r\n            if (this.column.expr.func === funcs[idx].id && !toInclude) {\r\n                funcAllowed = false;\r\n            }\r\n            if (toInclude) {\r\n                funcCaption = this.panel.getContext().getModel().getAggrFunctionCaption(funcs[idx].id);\r\n                item = {\r\n                    id: funcs[idx].id,\r\n                    text: funcCaption\r\n                };\r\n                items.push(item);\r\n            }\r\n        }\r\n        if (!funcAllowed) {\r\n            this.column.expr.func = items[0].id;\r\n        }\r\n        //Add \"Custom Expression\" menu\r\n        var columnsPanel = this.panel;\r\n        if (columnsPanel.areCustomExpressionsAllowed()) {\r\n            item = {\r\n                id: 'CustomSqlDivider',\r\n                text: '---'\r\n            };\r\n            items.push(item);\r\n            funcCaption = i18n.getText('CustomExpression');\r\n            item = {\r\n                id: 'CUSTOMSQL',\r\n                text: funcCaption\r\n            };\r\n            items.push(item);\r\n        }\r\n        return [{\r\n                id: '__group',\r\n                text: i18n.getText('ColTypeGroup'),\r\n                items: items\r\n            }];\r\n    };\r\n    return SimpleColumnRendererCP;\r\n}(ColumnRendererCP));\r\nexport { SimpleColumnRendererCP };\r\n//# sourceMappingURL=simple_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { DisplayFormatParser } from '../../../utils/display_format_parser';\r\n;\r\nimport { SimpleColumnRendererCP } from './simple_column_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar AggrFuncColumnRendererCP = /** @class */ (function (_super) {\r\n    __extends(AggrFuncColumnRendererCP, _super);\r\n    function AggrFuncColumnRendererCP() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.displayFormatParser = new DisplayFormatParser();\r\n        return _this;\r\n    }\r\n    AggrFuncColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-aggr\";\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.getAttribute = function () {\r\n        return this.panel\r\n            .getContext()\r\n            .getModel()\r\n            .getAttributeById(this.column.expr.args[0].value);\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.getDefaultColumnCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr) + ' '\r\n            + this.panel.getContext().getModel().getAggrFunctionCaption(this.column.expr.func);\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.renderExpressionBlock = function () {\r\n        var _this = this;\r\n        var model = this.panel.getContext().getModel();\r\n        var exprBlockBuilder = domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-expr-block\", this.cssPrefix + \"-expr-block-aggr\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        var format = model.getAggrFunctionFormat(this.column.expr.func);\r\n        if (!format || format === '')\r\n            return;\r\n        var arrFormat = this.parseDisplayFormat(format);\r\n        if (arrFormat.length === 0)\r\n            return;\r\n        var item = null;\r\n        var arrLength = arrFormat.length;\r\n        var _loop_1 = function (idx) {\r\n            item = arrFormat[idx];\r\n            if (item.type === 1) {\r\n                if (this_1.isEditable()) {\r\n                    var functionLink_1 = domel('a')\r\n                        .attr('href', 'javascript:void(0)')\r\n                        .text(item.text)\r\n                        .on('click', function (ev) {\r\n                        ev.stopPropagation();\r\n                        _this.functionMenu.showMenu({\r\n                            anchor: functionLink_1.toDOM(),\r\n                            selectedIds: null,\r\n                            itemSelectedCallback: function (data, items) {\r\n                                if (data.id === \"CUSTOMSQL\") {\r\n                                    _this.changeTypeToCustomSql();\r\n                                }\r\n                                else {\r\n                                    _this.column.expr.func = data.id;\r\n                                    _this.column.caption = '';\r\n                                    _this.fireColumnChanged();\r\n                                }\r\n                            }\r\n                        });\r\n                    });\r\n                    exprBlockBuilder\r\n                        .addChild('div', function (builder) { return builder\r\n                        .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-aggrfuncelement\")\r\n                        .addClass(browserUtils.getMobileCssClass())\r\n                        .addChildElement(functionLink_1.toDOM()); });\r\n                }\r\n                else {\r\n                    exprBlockBuilder\r\n                        .addChild('div', function (b) { return b\r\n                        .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-aggrfuncelement\")\r\n                        .addClass(browserUtils.getMobileCssClass())\r\n                        .addChild('span', function (b) { return b\r\n                        .text(item.text)\r\n                        .title(item.text); }); });\r\n                }\r\n            }\r\n            else if (item.type === 2) {\r\n                exprBlockBuilder\r\n                    .addChild('div', function (builder) { return builder\r\n                    .addClass(_this.cssPrefix + \"-colelement\", _this.cssPrefix + \"-attrelement\")\r\n                    .addClass(browserUtils.getMobileCssClass())\r\n                    .addChildElement(_this.renderBaseExpression()); });\r\n            }\r\n            else if (item.type === 3) {\r\n                exprBlockBuilder\r\n                    .addChild('span', function (builder) { return builder\r\n                    .addClass(_this.cssPrefix + \"-colelement\")\r\n                    .addClass(browserUtils.getMobileCssClass())\r\n                    .text(item.text)\r\n                    .title(item.text); });\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            _loop_1(idx);\r\n        }\r\n        return exprBlockBuilder.toDOM();\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.renderColumnTypeButton = function () {\r\n        var button = _super.prototype.renderColumnTypeButton.call(this);\r\n        if (button) {\r\n            button.firstElementChild.classList.add('aggregated');\r\n            button.firstElementChild.setAttribute('title', i18n.getText('ButtonToSimple'));\r\n        }\r\n        return button;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.args[0].id = attrid;\r\n        this.column.expr.args[0].setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.fireColumnChanged();\r\n        return false;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.changeTypeToSimple = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.EntityAttribute);\r\n        this.fireColumnChanged();\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.parseDisplayFormat = function (format) {\r\n        if (!format)\r\n            return [];\r\n        var result = [];\r\n        var parser = this.displayFormatParser;\r\n        parser.start(format);\r\n        while (parser.next()) {\r\n            var token = parser.getToken();\r\n            var tokenText = parser.getTokenText();\r\n            if (token === 'function') {\r\n                result.push({ type: 1, text: tokenText });\r\n            }\r\n            else if (token === 'expression') {\r\n                result.push({ type: 2 });\r\n            }\r\n            else if (token === 'text') {\r\n                result.push({ type: 3, text: tokenText });\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.changeTypeHandler = function (ev) {\r\n        this.changeTypeToSimple();\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.processExtraButtonMenuItems = function (action, evt) {\r\n        this.changeTypeToSimple();\r\n        return true;\r\n    };\r\n    AggrFuncColumnRendererCP.prototype.getExtraButtonMenuItems = function () {\r\n        return [{\r\n                id: '__group',\r\n                text: i18n.getText('ColTypeGroup'),\r\n                items: [{\r\n                        id: 'type',\r\n                        text: i18n.getText('ColTypeSimple')\r\n                    }]\r\n            }];\r\n    };\r\n    return AggrFuncColumnRendererCP;\r\n}(SimpleColumnRendererCP));\r\nexport { AggrFuncColumnRendererCP };\r\n//# sourceMappingURL=aggrfunc_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { SimpleColumnRendererCP } from './simple_column_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar CustomSqlColumnRendererCP = /** @class */ (function (_super) {\r\n    __extends(CustomSqlColumnRendererCP, _super);\r\n    function CustomSqlColumnRendererCP() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    CustomSqlColumnRendererCP.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\" + _super.prototype.getClassesToAdd.call(this);\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.renderColumnTypeButton = function () {\r\n        var button = _super.prototype.renderColumnTypeButton.call(this);\r\n        if (button) {\r\n            button.firstElementChild.classList.add('aggregated');\r\n            button.firstElementChild.setAttribute('title', i18n.getText('ButtonToSimple'));\r\n        }\r\n        return button;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.renderExpressionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultColumnCaption();\r\n        }\r\n        var exprBlock = domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-expr-block\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .toDOM();\r\n        var builder = domel('div', exprBlock)\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-attrelement\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        if (this.isEditable()) {\r\n            builder\r\n                .addChild('a', function (b) { return b\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(_this.column.caption)\r\n                .text(_this.column.caption)\r\n                .on('touchstart click', function (ev) {\r\n                ev.stopPropagation();\r\n                var element = ev.target;\r\n                var inputEl = element.parentElement.querySelector('input');\r\n                if (inputEl) {\r\n                    element.style.display = 'none';\r\n                    inputEl.style.removeProperty('display');\r\n                    inputEl.style.width = \"100%\";\r\n                    inputEl.focus();\r\n                }\r\n            }); } //TO DO:add localization and input field\r\n            )\r\n                .addChild('input', function (b) { return b\r\n                .hide()\r\n                .value(_this.column.expr.sql)\r\n                .on('blur keydown', function (ev) {\r\n                var isEndEvent = false;\r\n                var save = true;\r\n                if (ev instanceof KeyboardEvent) {\r\n                    // Enter\r\n                    if (ev.keyCode === 13) {\r\n                        isEndEvent = true;\r\n                        //ESC\r\n                    }\r\n                    else if (ev.keyCode === 27) {\r\n                        isEndEvent = true;\r\n                        save = false;\r\n                    }\r\n                }\r\n                else if (ev instanceof FocusEvent) {\r\n                    isEndEvent = true;\r\n                }\r\n                if (isEndEvent) {\r\n                    var inputEl = ev.target;\r\n                    var aEl = inputEl.parentElement.querySelector('a');\r\n                    if (aEl) {\r\n                        aEl.style.removeProperty('display');\r\n                        inputEl.style.display = 'none';\r\n                    }\r\n                    if (save && _this.column.expr.sql !== inputEl.value) {\r\n                        _this.column.expr.sql = inputEl.value;\r\n                        _this.fireColumnChanged();\r\n                    }\r\n                    else {\r\n                        inputEl.value = _this.column.expr.sql;\r\n                    }\r\n                }\r\n            }); });\r\n        }\r\n        else {\r\n            builder\r\n                .addChild('span', function (b) {\r\n                b.text(_this.column.caption)\r\n                    .title(_this.column.caption);\r\n            });\r\n        }\r\n        return exprBlock;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.changeTypeToSimple = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.EntityAttribute);\r\n        this.fireColumnChanged();\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getDefaultColumnCaption = function () {\r\n        return \"Custom SQL Column\";\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getDefaultValue = function () {\r\n        return this.column.expr.sql;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getUIS = function () {\r\n        return true;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.changeTypeHandler = function (ev) {\r\n        this.changeTypeToSimple();\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.processExtraButtonMenuItems = function (action, evt) {\r\n        this.changeTypeToSimple();\r\n        return true;\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.createFunctionMenu = function () {\r\n        // Nothing TO DO\r\n    };\r\n    CustomSqlColumnRendererCP.prototype.getExtraButtonMenuItems = function () {\r\n        return [{\r\n                id: '__group',\r\n                text: i18n.getText('ColTypeGroup'),\r\n                items: [{\r\n                        id: 'type',\r\n                        text: i18n.getText('ColTypeSimple')\r\n                    }]\r\n            }];\r\n    };\r\n    return CustomSqlColumnRendererCP;\r\n}(SimpleColumnRendererCP));\r\nexport { CustomSqlColumnRendererCP };\r\n//# sourceMappingURL=customsql_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { SortDirection, ExprTag, Widget, WidgetGroup, QueryChangePart, QueryChangeAction } from '@easyquery/core';\r\nimport { eqDragManager, DropEffect, getElementAbsolutePos, domel } from '@easydata/ui';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { eqCssPrefix, eqCssMobile } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { AggrFuncColumnRendererCP } from './renderers/columnspanel/aggrfunc_column_renderer';\r\nimport { CustomSqlColumnRendererCP } from './renderers/columnspanel/customsql_column_renderer';\r\nimport { SimpleColumnRendererCP } from './renderers/columnspanel/simple_column_renderer';\r\nvar ColumnsPanel = /** @class */ (function (_super) {\r\n    __extends(ColumnsPanel, _super);\r\n    function ColumnsPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            isSubQuery: false,\r\n            activeColumn: null,\r\n            showAddRow: true,\r\n            showHeader: true,\r\n            showColumnTitles: true,\r\n            allowAggrColumns: true,\r\n            allowDuplicates: true,\r\n            allowCustomExpressions: false,\r\n            allowSorting: true,\r\n            attrElementFormat: '{entity} {attr}',\r\n            titleElementFormat: null,\r\n            buttons: null,\r\n            alwaysShowButtons: false,\r\n            accentActiveColumn: true,\r\n            menuSearchBoxAfter: 30,\r\n            allowDragDrop: true,\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                adjustHeight: true,\r\n                itemRenderedCallback: null\r\n            },\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            columnRenderedCallback: null,\r\n            customExpressionText: 0,\r\n            allowHiddenColumns: false\r\n        };\r\n        _this.landingSlot = domel('div')\r\n            .addClass(_this.cssPrefix + \"-col-landing-slot\")\r\n            .addChildElement(domel('div')\r\n            .toDOM())\r\n            .toDOM();\r\n        _this.landingIndex = -1;\r\n        _this.slot.classList.add(_this.cssPrefix + \"-panel\");\r\n        _this.group = WidgetGroup.Query;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ColumnsPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qc';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnsPanel.prototype.getWidgetType = function () {\r\n        return 'columnsPanel';\r\n    };\r\n    ColumnsPanel.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        var model = context.getModel();\r\n        this.detachQueryObserver();\r\n        this.attachQueryObserver();\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"entityAttr\", \"entityAttrSort\"],\r\n                onDragEnter: function (container, ev) {\r\n                    _this.slot.classList.add(eqCssPrefix + \"-drophover\");\r\n                    if (ev.item.scope === \"entityAttrSort\") {\r\n                        _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                    }\r\n                    else {\r\n                        var attrId = ev.data.attrId;\r\n                        if (!model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                            ev.dropEffect = DropEffect.Forbid;\r\n                        }\r\n                        ev.dragImage.classList.add('eqjs-sortable-helper');\r\n                    }\r\n                },\r\n                onDragOver: function (container, ev) {\r\n                    var attrId = ev.data.attrId;\r\n                    if (ev.item.scope === \"entityAttrSort\" ||\r\n                        model.checkAttrProperty(attrId, \"useInResult\")) {\r\n                        _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                    }\r\n                },\r\n                onDragLeave: function (container, ev) {\r\n                    if (ev.item.scope === \"entityAttrSort\") {\r\n                        ev.dropEffect = DropEffect.Forbid;\r\n                    }\r\n                    else {\r\n                        ev.dragImage.classList.remove('eqjs-sortable-helper');\r\n                        ev.dragImage.style.removeProperty('width');\r\n                    }\r\n                    _this.slot.classList.remove(eqCssPrefix + \"-drophover\");\r\n                    _this.hideLandingSlot();\r\n                },\r\n                onDrop: function (container, ev) {\r\n                    if (ev.item.scope == \"entityAttrSort\") {\r\n                        var query = _this.getContext().getQuery();\r\n                        var columns = query.getColumns();\r\n                        var index = columns.indexOf(ev.data.column);\r\n                        _this.moveColumnCore(index, _this.landingIndex);\r\n                    }\r\n                    else {\r\n                        var attrId = ev.data.attrId;\r\n                        _this.addNewColumn(attrId, _this.landingIndex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.renderBaseElements = function () {\r\n        var _this = this;\r\n        var minusHeight = 0;\r\n        if (this.options.showHeader) {\r\n            var headerBuilder = domel('div', this.slot)\r\n                .hide()\r\n                .addClass(this.cssPrefix + \"-header\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .addChild('div', function (builder) { return builder\r\n                .addClass(_this.cssPrefix + \"-header-expression\")\r\n                .text(i18n.getText('HeaderExpression')); });\r\n            if (this.options.showColumnTitles !== false) {\r\n                headerBuilder\r\n                    .addChild('div', function (builder) { return builder\r\n                    .addClass(_this.cssPrefix + \"-header-title\")\r\n                    .text(i18n.getText('HeaderTitle')); });\r\n            }\r\n            this.headerElement = headerBuilder.toDOM();\r\n            minusHeight += this.headerElement.offsetHeight;\r\n        }\r\n        this.columnsBlock =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-columns\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        if (this.options.showAddRow) {\r\n            this.addRowElement =\r\n                domel('div', this.slot)\r\n                    .addClass(eqCssPrefix + \"-addrow\", this.cssPrefix + \"-addrow\", eqCssPrefix + \"-addrow-empty\")\r\n                    .addClass(browserUtils.getMobileCssClass())\r\n                    .addChild('a', function (builder) { return builder\r\n                    .attr('href', 'javascript:void(0)')\r\n                    .text(i18n.getText('CmdClickToAddColumn'))\r\n                    .on('click', function (e) {\r\n                    e.preventDefault();\r\n                    _this.showEntitiesMenu({\r\n                        anchor: e.target,\r\n                        selectedIds: null,\r\n                        itemSelectedCallback: function (data, items) {\r\n                            var attrid = data.id;\r\n                            _this.addNewColumn(attrid);\r\n                            return false;\r\n                        }\r\n                    });\r\n                }); })\r\n                    .toDOM();\r\n            minusHeight += this.addRowElement.offsetHeight;\r\n        }\r\n        this.columnsBlock.style.maxHeight = this.slot.offsetHeight - minusHeight - 25 + \"px\";\r\n    };\r\n    ColumnsPanel.prototype.destroyCore = function () {\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    ColumnsPanel.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            var focusedBefore = document.activeElement;\r\n            var isFocusInside = _this.slot.contains(focusedBefore) || focusedBefore == document.body;\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var columns = edata.changee;\r\n                    var modifyColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var renderer = _this.getColumnRenderer(column, colEl);\r\n                            if (renderer) {\r\n                                var newEl = renderer.render();\r\n                                if (isFocusInside) {\r\n                                    var focusElem = newEl.querySelector('a') || newEl.querySelector('.eqjs-column-button');\r\n                                    if (focusElem) {\r\n                                        focusElem.focus();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return modifyColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        modifyColumn_1(columns);\r\n                    }\r\n                    _this.agjustHeaderVisibility();\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var columns = edata.changee;\r\n                    var addColumn_1 = function (column) {\r\n                        var index = query.getColumns().indexOf(column);\r\n                        var newEl = _this.addColumnElement(column, index);\r\n                        if (isFocusInside) {\r\n                            newEl.querySelector(\"a\").focus();\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return addColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        addColumn_1(columns);\r\n                    }\r\n                    _this.agjustHeaderVisibility();\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var columns = edata.changee;\r\n                    var deleteColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var next = colEl.nextSibling;\r\n                            var prev = colEl.previousSibling;\r\n                            _this.columnsBlock.removeChild(colEl);\r\n                            if (isFocusInside) {\r\n                                var focusCond = next || prev || _this.addRowElement;\r\n                                var focusElem = focusCond.querySelector('a') || focusCond.querySelector('.eqjs-column-button');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    _this.agjustHeaderVisibility();\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return deleteColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        deleteColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    ColumnsPanel.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    ColumnsPanel.prototype.showLandingSlot = function (pageX, pageY) {\r\n        var rowElems = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var rows = [];\r\n        for (var i = 0; i < rowElems.length; i++) {\r\n            var rowElem = rowElems[i];\r\n            if (rowElem.style.display === 'none')\r\n                continue;\r\n            rows.push(rowElem);\r\n        }\r\n        if (rows.length === 0) {\r\n            this.landingIndex = 0;\r\n            this.columnsBlock.appendChild(this.landingSlot);\r\n            return;\r\n        }\r\n        var landingPos = getElementAbsolutePos(this.landingSlot);\r\n        if (pageY >= landingPos.y && pageY <= landingPos.y + this.landingSlot.offsetHeight) {\r\n            return;\r\n        }\r\n        var firstRow = rows[0];\r\n        var rowHeight = firstRow.offsetHeight;\r\n        var absPos = getElementAbsolutePos(firstRow);\r\n        var newLandingIndex = (pageY > absPos.y + rowHeight / 2) ? Math.round((pageY - absPos.y + rowHeight / 2) / rowHeight) : 0;\r\n        if (newLandingIndex > rows.length) {\r\n            newLandingIndex = rows.length;\r\n        }\r\n        if (newLandingIndex != this.landingIndex) {\r\n            this.landingIndex = newLandingIndex;\r\n            if (this.landingIndex < rows.length) {\r\n                this.columnsBlock.insertBefore(this.landingSlot, rows[this.landingIndex]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(this.landingSlot);\r\n            }\r\n            this.landingSlot.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.hideLandingSlot = function () {\r\n        var _this = this;\r\n        this.landingIndex = -1;\r\n        setTimeout(function () {\r\n            if (_this.landingSlot.parentElement) {\r\n                _this.landingSlot.parentElement.removeChild(_this.landingSlot);\r\n            }\r\n        }, 10);\r\n    };\r\n    ColumnsPanel.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n        if (browserUtils.isMobileMode()) {\r\n            this.options.buttons = [\"menu\"];\r\n            this.options.showHeader = false;\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.onProcessStartCore = function () {\r\n    };\r\n    ColumnsPanel.prototype.onProcessEndCore = function () {\r\n    };\r\n    ColumnsPanel.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    ColumnsPanel.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    ColumnsPanel.prototype.render = function () {\r\n        try {\r\n            this.renderBaseElements();\r\n            this.createEntitiesMenu();\r\n            this.createColumnMenus();\r\n            this.agjustHeaderVisibility();\r\n            domel(this.slot)\r\n                .removeClass(eqCssMobile)\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            var query = this.context.getQuery();\r\n            var columns = query.getColumns();\r\n            for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\r\n                var column = columns_1[_i];\r\n                this.columnsBlock.appendChild(this.renderColumn(column));\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.context.throwError({\r\n                action: \"ColumnsPanel rendering\",\r\n                text: e.message\r\n            });\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.agjustHeaderVisibility = function () {\r\n        if (this.headerElement) {\r\n            var query = this.context.getQuery();\r\n            var columns = query.getColumns();\r\n            this.headerElement.style.display = (columns.length) ? '' : 'none';\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.renderColumn = function (column) {\r\n        var renderer = this.getColumnRenderer(column);\r\n        if (renderer)\r\n            return renderer.render();\r\n        return null;\r\n    };\r\n    ColumnsPanel.prototype.toggleColumnPicked = function (column) {\r\n        var el;\r\n        var isActive;\r\n        if (column) {\r\n            el = this.columnsBlock.querySelector(\"div[data-id=\" + column.id + \"]\");\r\n            if (el) {\r\n                isActive = el.classList.contains('active');\r\n            }\r\n        }\r\n        //clear 'active' in all rows\r\n        var rows = this.columnsBlock.querySelectorAll(\".\" + this.cssPrefix + \"-row\");\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            domel(row)\r\n                .removeClass('active');\r\n            if (!this.options.alwaysShowButtons) {\r\n                domel(row)\r\n                    .data(\"show-buttons\", null);\r\n            }\r\n        }\r\n        if (el && !isActive) {\r\n            domel(el)\r\n                .addClass('active')\r\n                .data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.addNewColumn = function (attrId, index) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getContext().getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInResult) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInResult) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn();\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.None;\r\n            column.sortIndex = -1;\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        var colToAdd, col;\r\n        if (Array.isArray(attrId)) {\r\n            colToAdd = [];\r\n            for (var i = 0; i < attrId.length; i++) {\r\n                col = getColumnByAttrId(attrId[i]);\r\n                if (col) {\r\n                    colToAdd.push(col);\r\n                }\r\n            }\r\n        }\r\n        else\r\n            colToAdd = getColumnByAttrId(attrId);\r\n        this.addColumn(colToAdd, index);\r\n        return colToAdd;\r\n    };\r\n    ColumnsPanel.prototype.addColumn = function (column, index) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        if (Array.isArray(column))\r\n            column = this.checkColumnsArray(column);\r\n        else\r\n            column = this.checkColumn(column);\r\n        if (!column || (Array.isArray(column) && column.length == 0)) {\r\n            return;\r\n        }\r\n        query.addColumnObj(column, index, self);\r\n        query.fireColumnsChangedEvent(QueryChangeAction.Add, column);\r\n    };\r\n    //adds one column to the panel on the specified position\r\n    ColumnsPanel.prototype.addColumnElement = function (column, index) {\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var newColBlock = this.renderColumn(column);\r\n        if (rows.length > 0) {\r\n            if (index < rows.length) {\r\n                this.columnsBlock.insertBefore(newColBlock, rows[index]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(newColBlock);\r\n                this.scrollToBottom();\r\n            }\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(newColBlock);\r\n            this.scrollToBottom();\r\n        }\r\n        if (this.options.columnRenderedCallback) {\r\n            this.options.columnRenderedCallback(newColBlock);\r\n        }\r\n        return newColBlock;\r\n    };\r\n    ColumnsPanel.prototype.scrollToBottom = function () {\r\n        this.columnsBlock.scrollTop = this.columnsBlock.scrollHeight - this.columnsBlock.clientHeight;\r\n    };\r\n    ColumnsPanel.prototype.checkColumnsArray = function (cols) {\r\n        var i = 0, len = cols.length;\r\n        var result = [];\r\n        for (var i_1 = 0; i_1 < len; i_1++) {\r\n            if (this.checkColumn(cols[i_1]))\r\n                result.push(cols[i_1]);\r\n        }\r\n        return result;\r\n    };\r\n    ColumnsPanel.prototype.checkColumn = function (col) {\r\n        if (!this.options.allowDuplicates) {\r\n            var query = this.getContext().getQuery();\r\n            var columns = query.getColumns();\r\n            for (var i = 0; i < columns.length; i++) {\r\n                if ((col.expr.tag === ExprTag.EntityAttribute && columns[i].expr.tag === ExprTag.EntityAttribute\r\n                    || col.expr.tag === ExprTag.ParentEntityAttribute && columns[i].expr.tag === ExprTag.ParentEntityAttribute)\r\n                    && col.expr.value === columns[i].expr.value) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    ColumnsPanel.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnsPanel.prototype.getColumnsBlock = function () {\r\n        return this.columnsBlock;\r\n    };\r\n    ColumnsPanel.prototype.getColumnRenderer = function (column, slot) {\r\n        switch (column.expr.tag) {\r\n            case ExprTag.AggregateFunction:\r\n                return new AggrFuncColumnRendererCP(this, column, slot);\r\n            case ExprTag.CustomSql:\r\n                return new CustomSqlColumnRendererCP(this, column, slot);\r\n            case ExprTag.EntityAttribute:\r\n            case ExprTag.ParentEntityAttribute:\r\n                return new SimpleColumnRendererCP(this, column, slot);\r\n        }\r\n        return null;\r\n    };\r\n    ColumnsPanel.prototype.areCustomExpressionsAllowed = function () {\r\n        var query = this.getQuery();\r\n        return query.isEx() && this.options.allowCustomExpressions;\r\n    };\r\n    ColumnsPanel.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: true, addUIS: false, attrPlacement: this.options.attrPlacement, sortEntities: this.options.sortEntities });\r\n        var options = {\r\n            id: menuId,\r\n            items: entitiesList,\r\n            adjustHeight: this.options.adjustEntitiesMenuHeight,\r\n            domWriteItemsId: this.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    ColumnsPanel.prototype.getSortMenuList = function () {\r\n        return [\r\n            { id: 'None', text: i18n.getText('CmdNotSorted') },\r\n            { id: 'Ascending', text: i18n.getText('CmdAscending') },\r\n            { id: 'Descending', text: i18n.getText('CmdDescending') },\r\n            { id: '---', text: '---' }\r\n        ];\r\n    };\r\n    ColumnsPanel.prototype.getMoveMenuList = function () {\r\n        return [\r\n            { id: 'MoveTop', text: i18n.getText('CmdMoveToFirst') },\r\n            { id: 'MoveUp', text: i18n.getText('CmdMoveToPrev') },\r\n            { id: 'MoveDown', text: i18n.getText('CmdMoveToNext') },\r\n            { id: 'MoveBottom', text: i18n.getText('CmdMoveToLast') }\r\n        ];\r\n    };\r\n    ColumnsPanel.prototype.createSortMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-SortMenu';\r\n        }\r\n        var items = this.getSortMenuList().concat(this.moveMenu.getItems());\r\n        var menuOptions = {\r\n            id: menuId,\r\n            \"items\": items,\r\n            domWriteItemsId: this.options.domWriteItemsId,\r\n            showSelected: true\r\n        };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n        this.sortMenu = new PopupMenu(menuOptions);\r\n    };\r\n    ColumnsPanel.prototype.createMoveMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-MoveMenu';\r\n        }\r\n        var items = dataUtils.createArrayFrom(this.getMoveMenuList());\r\n        if (this.options.allowHiddenColumns) {\r\n            items.push({ id: '---', text: '---' });\r\n            items.push({ id: 'IsHidden', text: i18n.getText('CmdHiddenColumn') });\r\n        }\r\n        var menuOptions = {\r\n            \"items\": items,\r\n            id: menuId,\r\n            domWriteItemsId: this.options.domWriteItemsId,\r\n            showSelected: true\r\n        };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        this.moveMenu = new PopupMenu(menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n    };\r\n    ColumnsPanel.prototype.showEntitiesMenu = function (menuOptions) {\r\n        this.entitiesMenu.showMenu(menuOptions);\r\n    };\r\n    ColumnsPanel.prototype.moveColumn = function (column, direction) {\r\n        var query = this.getContext().getQuery();\r\n        var columns = query.getColumns();\r\n        var index = columns.indexOf(column);\r\n        if (index >= 0) {\r\n            switch (direction) {\r\n                case 'MoveTop':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, 0);\r\n                    break;\r\n                case 'MoveUp':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index - 1);\r\n                    break;\r\n                case 'MoveDown':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index + 1);\r\n                    break;\r\n                case 'MoveBottom':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, columns.length - 1);\r\n                    break;\r\n            }\r\n            ;\r\n        }\r\n    };\r\n    ColumnsPanel.prototype.moveColumnCore = function (index1, index2) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query)\r\n            return;\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var colToMove = rows[index1];\r\n        if (index2 == 0) {\r\n            this.columnsBlock.insertBefore(colToMove, this.columnsBlock[0]);\r\n        }\r\n        else if (index2 > 0 && index2 < rows.length - 1) {\r\n            if (index1 < index2) {\r\n                this.columnsBlock.insertBefore(colToMove, rows[index2 + 1]);\r\n            }\r\n            else {\r\n                this.columnsBlock.insertBefore(colToMove, rows[index2]);\r\n            }\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(colToMove);\r\n        }\r\n        query.moveColumn(index1, index2);\r\n        query.fireColumnsChangedEvent();\r\n    };\r\n    ColumnsPanel.prototype.createColumnMenus = function () {\r\n        this.createMoveMenu();\r\n        if (this.options.allowSorting) {\r\n            this.createSortMenu();\r\n        }\r\n    };\r\n    return ColumnsPanel;\r\n}(Widget));\r\nexport { ColumnsPanel };\r\n//# sourceMappingURL=columns_panel.js.map","import { i18n } from '@easydata/core';\r\nimport { QueryChangeAction, SortDirection } from \"@easyquery/core\";\r\nimport { eqDragManager, DropEffect, createBrowserEvent, domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nvar ColumnRendererCB = /** @class */ (function () {\r\n    function ColumnRendererCB(panel, column, slot) {\r\n        this.functionMenu = null;\r\n        this.isMouseOverBlock = false;\r\n        this.keepShowingButtons = false;\r\n        this.tapedTwice = false;\r\n        this.bar = panel;\r\n        this.column = column;\r\n        this.element = slot;\r\n    }\r\n    Object.defineProperty(ColumnRendererCB.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-cb';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnRendererCB.prototype.render = function () {\r\n        var _this = this;\r\n        this.baseAttr = this.getAttribute();\r\n        var builder = domel('div');\r\n        builder.data('id', this.column.id);\r\n        if (this.element) {\r\n            //to remove all event listeners\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        if (this.bar.options.allowDragDrop) {\r\n            eqDragManager.registerDraggableItem({\r\n                element: this.element,\r\n                scope: \"entityAttrSort\",\r\n                beforeDragStart: function () { return _this.element.dispatchEvent(createBrowserEvent('mouseleave')); },\r\n                onDragStart: function (ev) {\r\n                    _this.hideButtons();\r\n                    _this.element.style.display = 'none';\r\n                    ev.dropEffect = DropEffect.Allow;\r\n                },\r\n                onDragEnd: function (ev) {\r\n                    if (!ev.data.finishedSuccessfully) {\r\n                        _this.element.removeAttribute('style');\r\n                    }\r\n                },\r\n                data: { column: this.column }\r\n            });\r\n        }\r\n        if (!this.column.isReadOnly()) {\r\n            this.createFunctionMenu();\r\n        }\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            //        .addChildElement(this.renderExpressionBlock())\r\n            .addChildElement(this.renderCaptionBlock())\r\n            .addChildElement(this.renderSortingImage());\r\n        if (!browserUtils.isMobileMode()) {\r\n            builder\r\n                .addChildElement(this.renderButtonsBlock());\r\n        }\r\n        //start event listeners\r\n        builder\r\n            .on('mouseenter', this.onMouseEnter.bind(this))\r\n            .on('mouseleave', this.onMouseLeave.bind(this));\r\n        //end event listeners\r\n        if (this.bar.options.accentActiveColumn || browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('touchstart click', this.onMouseClick.bind(this));\r\n        }\r\n        return this.element;\r\n    };\r\n    ColumnRendererCB.prototype.fireColumnChanged = function () {\r\n        this.column.fireChangedEvent();\r\n    };\r\n    ColumnRendererCB.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ColumnRendererCB.prototype.getAttribute = function () {\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeById(this.column.expr.value);\r\n    };\r\n    ColumnRendererCB.prototype.isEditable = function () {\r\n        return this.column.enabled && !this.column.isReadOnly();\r\n    };\r\n    ColumnRendererCB.prototype.renderButtonsBlock = function () {\r\n        return domel('div', this.element)\r\n            .addClass(eqCssPrefix + \"-column-buttonsBlock\", this.cssPrefix + \"-buttonsBlock\")\r\n            //.addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderSortingButton())\r\n            .addChildElement(this.renderColumnTypeButton())\r\n            .addChildElement(this.renderDeleteButton())\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderButtonsBlockMobile = function () {\r\n        var builder = domel('div', this.element)\r\n            .addClass(eqCssPrefix + \"-column-buttonsBlock-mobile\")\r\n            .addChildElement(this.renderSortingButton())\r\n            .addChildElement(this.renderColumnTypeButton())\r\n            .addChildElement(this.renderDeleteButton())\r\n            .addChildElement(this.renderCaptionEditorMobile());\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderCaptionEditorMobile = function () {\r\n        return domel('div').toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderCaptionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultCaption();\r\n        }\r\n        if (!this.isEditable()) {\r\n            return domel('div')\r\n                .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .addChild('div', function (b) { return b\r\n                .title(_this.column.caption)\r\n                .text(_this.column.caption)\r\n                .attr('tabIndex', '0'); })\r\n                .toDOM();\r\n        }\r\n        var tapHandler = function (ev) {\r\n            if (!_this.tapedTwice) {\r\n                _this.tapedTwice = true;\r\n                setTimeout(function () { _this.tapedTwice = false; }, 300);\r\n            }\r\n        };\r\n        var isFocused = false;\r\n        domel(this.element).on('touchstart dblclick', function (ev) {\r\n            if (ev instanceof TouchEvent && !_this.tapedTwice) {\r\n                tapHandler(ev);\r\n                return true;\r\n            }\r\n            ev.stopPropagation();\r\n            isFocused = _this.element.querySelector('a') == document.activeElement;\r\n            var inputEl = _this.element.querySelector(\".\" + _this.cssPrefix + \"-captionelement input\");\r\n            var aEl = _this.element.querySelector(\".\" + _this.cssPrefix + \"-captionelement a\");\r\n            if (inputEl) {\r\n                inputEl.style.width = _this.element.clientWidth + \"px\";\r\n                aEl.style.display = 'none';\r\n                inputEl.style.removeProperty('display');\r\n                inputEl.focus();\r\n                _this.element.setAttribute(eqDragManager.DRAG_DISABLED_ATTR, '');\r\n            }\r\n            return false;\r\n        }); //TO DO:add localization and input field);\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('a', function (builder) { return builder\r\n            .attr('href', 'javascript:void(0)')\r\n            .title(_this.column.caption)\r\n            .text(_this.column.caption)\r\n            .on('keydown', function (e) {\r\n            var evt = e;\r\n            var isCtrlEnter = (evt.ctrlKey || evt.metaKey) && (evt.keyCode == 13 || evt.keyCode == 10);\r\n            if (isCtrlEnter && _this.isColumnActive()) {\r\n                var clickEvent = document.createEvent('MouseEvents');\r\n                clickEvent.initEvent('dblclick', true, true);\r\n                _this.element.dispatchEvent(clickEvent);\r\n                evt.stopPropagation();\r\n                return false;\r\n            }\r\n            return true;\r\n        }); })\r\n            .addChild('input', function (builder) { return builder\r\n            .hide()\r\n            .value(_this.column.caption)\r\n            .on('blur keydown', function (ev) {\r\n            var isEndEvent = false;\r\n            var save = true;\r\n            if (ev instanceof KeyboardEvent) {\r\n                // Enter\r\n                if (ev.keyCode === 13) {\r\n                    isEndEvent = true;\r\n                    //ESC\r\n                }\r\n                else if (ev.keyCode === 27) {\r\n                    isEndEvent = true;\r\n                    save = false;\r\n                }\r\n            }\r\n            else if (ev instanceof FocusEvent) {\r\n                isEndEvent = true;\r\n            }\r\n            if (isEndEvent) {\r\n                var inputEl = ev.target;\r\n                var aEl = inputEl.parentElement.querySelector('a');\r\n                if (aEl) {\r\n                    aEl.style.removeProperty('display');\r\n                    inputEl.style.display = 'none';\r\n                }\r\n                if (save && _this.column.caption !== inputEl.value) {\r\n                    _this.column.caption = inputEl.value;\r\n                    _this.fireColumnChanged();\r\n                }\r\n                else {\r\n                    inputEl.value = _this.column.caption;\r\n                }\r\n                _this.element.removeAttribute(eqDragManager.DRAG_DISABLED_ATTR);\r\n                if (isFocused) {\r\n                    _this.element.querySelector('a').focus();\r\n                }\r\n            }\r\n        }); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.renderSortingImage = function () {\r\n        var _this = this;\r\n        var sortButtonCssClass = eqCssPrefix + \"-column-sortbutton\";\r\n        var sortButtonDirectionCssClass = sortButtonCssClass;\r\n        switch (this.column.sorting) {\r\n            case SortDirection.Ascending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-asc\";\r\n                break;\r\n            case SortDirection.Descending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-desc\";\r\n                break;\r\n        }\r\n        if (this.column.sorting == SortDirection.None) {\r\n            return null;\r\n        }\r\n        else {\r\n            return domel('div')\r\n                .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-sortimage-placeholder\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .addChild('div', function (builder) { return builder\r\n                .addClass(_this.cssPrefix + \"-img-sorting\", sortButtonDirectionCssClass)\r\n                .title(i18n.getText('ButtonSorting')); })\r\n                .toDOM();\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.buttonSortingClickHandler = function (ev, anchor) {\r\n        var _this = this;\r\n        ev.stopPropagation();\r\n        this.keepShowingButtons = true;\r\n        var menu = this.getUIS() ? this.bar.sortMenu || this.bar.moveMenu : this.bar.moveMenu;\r\n        menu.showMenu({\r\n            anchor: anchor,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                var strToSortDirection = function (str) {\r\n                    if (str == 'None') {\r\n                        return SortDirection.None;\r\n                    }\r\n                    else if (str == \"Ascending\") {\r\n                        return SortDirection.Ascending;\r\n                    }\r\n                    else if (str == \"Descending\") {\r\n                        return SortDirection.Descending;\r\n                    }\r\n                };\r\n                if (data.id == 'None' || data.id == \"Ascending\" || data.id == \"Descending\") {\r\n                    var query = _this.bar.getQuery();\r\n                    _this.column.sorting = strToSortDirection(data.id);\r\n                    _this.column.sortIndex = query.getColumnSortIndex(_this.column);\r\n                    _this.fireColumnChanged();\r\n                }\r\n                else {\r\n                    _this.bar.moveColumn(_this.column, data.id);\r\n                }\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n                if (!_this.isMouseOverBlock) {\r\n                    _this.leaveButtonBlock();\r\n                }\r\n            }\r\n        });\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.renderSortingButton = function () {\r\n        var _this = this;\r\n        if (!this.isEditable()) {\r\n            return null;\r\n        }\r\n        var builder = domel('div')\r\n            .addClass(eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-sortbutton\", eqCssPrefix + \"-column-sortbutton-none\")\r\n            .title(i18n.getText('ButtonSorting'))\r\n            .attr('tabIndex', '0')\r\n            .on('touchstart click', function (ev) { return _this.buttonSortingClickHandler(ev, builder.toDOM()); })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } });\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.buttonDeleteClickHandler = function (ev) {\r\n        ev.stopPropagation();\r\n        var query = this.bar.getQuery();\r\n        query.removeColumn(this.column, this.bar);\r\n        query.fireColumnsChangedEvent(QueryChangeAction.Delete, this.column);\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.renderDeleteButton = function () {\r\n        var _this = this;\r\n        if (this.column.isReadOnly()) {\r\n            return null;\r\n        }\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-delete\")\r\n            .title(i18n.getText('CmdDelete'))\r\n            .attr('tabIndex', '0')\r\n            .on('touchstart click', function (ev) { return _this.buttonDeleteClickHandler(ev); })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.getDefaultCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr);\r\n    };\r\n    ColumnRendererCB.prototype.getDefaultTitleText = function (attr) {\r\n        var format = this.bar.options.titleElementFormat || this.bar.options.attrElementFormat;\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnRendererCB.prototype.getClassesToAdd = function () {\r\n        var result = \"\";\r\n        result += this.column.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n        if (this.column.enabled) {\r\n            result += this.column.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n        }\r\n        return result;\r\n    };\r\n    ColumnRendererCB.prototype.buttonTypeClickHandler = function (ev) {\r\n        ev.stopPropagation();\r\n        this.keepShowingButtons = true;\r\n        this.changeTypeHandler(ev);\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.renderColumnTypeButton = function () {\r\n        var _this = this;\r\n        if (!this.isEditable()) {\r\n            return null;\r\n        }\r\n        return domel('div')\r\n            .addClass(eqCssPrefix + \"-column-button\", eqCssPrefix + \"-column-button-type\")\r\n            .title(i18n.getText('ButtonToAggr'))\r\n            .attr('tabIndex', '0')\r\n            .on('touchstart click', function (ev) { return _this.buttonTypeClickHandler(ev); })\r\n            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n            evt.target.click();\r\n        } })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererCB.prototype.getUIS = function () {\r\n        return this.bar\r\n            .getContext().getModel()\r\n            .checkAttrProperty(this.column.expr.value, \"useInSorting\");\r\n    };\r\n    ColumnRendererCB.prototype.onMouseClick = function (ev) {\r\n        this.bar.toggleColumnPicked(this.column);\r\n        this.adjustButtonsVisibility();\r\n        // if (!browserUtils.isMobileMode()) {\r\n        //     this.element.dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n        // }\r\n    };\r\n    ColumnRendererCB.prototype.onMouseEnter = function (e) {\r\n        if (browserUtils.isMobileMode())\r\n            return;\r\n        this.isMouseOverBlock = true;\r\n        this.enterButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.onMouseLeave = function (e) {\r\n        if (browserUtils.isMobileMode())\r\n            return;\r\n        this.isMouseOverBlock = false;\r\n        this.leaveButtonBlock();\r\n        e.stopPropagation();\r\n        return false;\r\n    };\r\n    ColumnRendererCB.prototype.isColumnActive = function () {\r\n        return this.element.classList.contains(\"active\");\r\n    };\r\n    ColumnRendererCB.prototype.hideButtons = function () {\r\n        if (browserUtils.isMobileMode()) {\r\n            if (this.onHideButtonsMobile) {\r\n                this.onHideButtonsMobile();\r\n            }\r\n        }\r\n        else {\r\n            domel(this.element).data(\"show-buttons\", null);\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.showButtons = function () {\r\n        if (browserUtils.isMobileMode()) {\r\n            if (this.onShowButtonsMobile) {\r\n                this.onShowButtonsMobile();\r\n            }\r\n        }\r\n        else {\r\n            domel(this.element).data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.adjustButtonsVisibility = function () {\r\n        if (this.bar.options.alwaysShowButtons\r\n            || ((this.bar.options.accentActiveColumn || browserUtils.isMobileMode())\r\n                && this.isColumnActive())) {\r\n            this.showButtons();\r\n        }\r\n        else {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.enterButtonBlock = function () {\r\n        this.showButtons();\r\n    };\r\n    ColumnRendererCB.prototype.leaveButtonBlock = function () {\r\n        if (this.bar.options.alwaysShowButtons != true && (!this.isColumnActive() || this.bar.options.accentActiveColumn != true)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ColumnRendererCB.prototype.createFunctionMenu = function () {\r\n        var items = [];\r\n        var funcs = this.bar.getContext().getModel().getAggrFunctions();\r\n        var funcAllowed = true;\r\n        var item = null;\r\n        var attribute = this.getAttribute();\r\n        var funcCaption;\r\n        for (var _i = 0, funcs_1 = funcs; _i < funcs_1.length; _i++) {\r\n            var func = funcs_1[_i];\r\n            if (!func)\r\n                continue;\r\n            var toInclude = func.appliedTypes.indexOf(attribute.dataType) >= 0;\r\n            if (this.column.expr.func === func.id && !toInclude) {\r\n                funcAllowed = false;\r\n            }\r\n            if (toInclude) {\r\n                funcCaption = this.bar.getContext().getModel()\r\n                    .getAggrFunctionCaption(func.id);\r\n                item = {\r\n                    id: func.id,\r\n                    text: funcCaption\r\n                };\r\n                items.push(item);\r\n            }\r\n        }\r\n        if (!funcAllowed) {\r\n            this.column.expr.func = items[0].id;\r\n        }\r\n        //Add \"Custom Expression\" menu\r\n        var columnsPanel = this.bar;\r\n        if (columnsPanel.areCustomExpressionsAllowed()) {\r\n            item = {\r\n                id: 'CustomSqlDivider',\r\n                text: '---'\r\n            };\r\n            items.push(item);\r\n            funcCaption = i18n.getText('CustomExpression');\r\n            item = {\r\n                id: 'CUSTOMSQL',\r\n                text: funcCaption\r\n            };\r\n            items.push(item);\r\n        }\r\n        var menuId = this.element.id;\r\n        if (menuId) {\r\n            menuId += '-FunctionsMenu';\r\n        }\r\n        var menuOptions = {\r\n            items: items,\r\n            id: menuId,\r\n            searchBoxAlwaysShown: false,\r\n            domWriteItemsId: true //this.panel.options.domWriteItemsId\r\n        };\r\n        this.functionMenu = new PopupMenu(menuOptions);\r\n    };\r\n    return ColumnRendererCB;\r\n}());\r\nexport { ColumnRendererCB };\r\n//# sourceMappingURL=column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { createBrowserEvent } from '@easydata/ui';\r\nimport { ColumnRendererCB } from './column_renderer';\r\nvar SimpleColumnRendererCB = /** @class */ (function (_super) {\r\n    __extends(SimpleColumnRendererCB, _super);\r\n    function SimpleColumnRendererCB() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleColumnRendererCB.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\";\r\n    };\r\n    SimpleColumnRendererCB.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.id = attrid;\r\n        this.column.expr.setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.refresh();\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCB.prototype.getUIS = function () {\r\n        var arg = this.column.expr.args[0];\r\n        if (arg) {\r\n            var model = this.bar.getContext().getModel();\r\n            return model.checkAttrProperty(arg.value, \"useInSorting\");\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    SimpleColumnRendererCB.prototype.changeTypeToCustomSql = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.CustomSql);\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCB.prototype.changeTypeToAggr = function (funcId) {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.AggregateFunction, { funcId: funcId });\r\n        this.fireColumnChanged();\r\n    };\r\n    SimpleColumnRendererCB.prototype.changeTypeHandler = function (ev) {\r\n        var _this = this;\r\n        this.functionMenu.showMenu({\r\n            anchor: ev.target,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                if (data.id == \"CUSTOMSQL\") {\r\n                    _this.changeTypeToCustomSql();\r\n                }\r\n                else {\r\n                    _this.changeTypeToAggr(data.id);\r\n                }\r\n                return false;\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n                if (!_this.isMouseOverBlock) {\r\n                    _this.element.dispatchEvent(createBrowserEvent('mouseleave'));\r\n                }\r\n            }\r\n        });\r\n    };\r\n    return SimpleColumnRendererCB;\r\n}(ColumnRendererCB));\r\nexport { SimpleColumnRendererCB };\r\n//# sourceMappingURL=simple_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ExprTag } from '@easyquery/core';\r\nimport { SimpleColumnRendererCB } from './simple_column_renderer';\r\nvar AggrFuncColumnRendererCB = /** @class */ (function (_super) {\r\n    __extends(AggrFuncColumnRendererCB, _super);\r\n    function AggrFuncColumnRendererCB() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    AggrFuncColumnRendererCB.prototype.getClassesToAdd = function () {\r\n        return _super.prototype.getClassesToAdd.call(this) + \" \" + this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-aggr\";\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.getAttribute = function () {\r\n        return this.bar\r\n            .getContext()\r\n            .getModel()\r\n            .getAttributeById(this.column.expr.args[0].value);\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.getDefaultCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr) + ' '\r\n            + this.bar.getContext().getModel().getAggrFunctionCaption(this.column.expr.func);\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.renderColumnTypeButton = function () {\r\n        var button = _super.prototype.renderColumnTypeButton.call(this);\r\n        if (button) {\r\n            button.classList.add('aggregated');\r\n            button.title = i18n.getText('ButtonToSimple');\r\n        }\r\n        return button;\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.baseExpressionItemSelectedCallback = function (data, item) {\r\n        var attrid = data.id;\r\n        //this.column.expr.args[0].id = attrid;\r\n        this.column.expr.args[0].setValue(attrid, true);\r\n        this.column.caption = '';\r\n        this.fireColumnChanged();\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.changeTypeToSimple = function () {\r\n        var query = this.column.getQuery();\r\n        query.changeColumnType(this.column, ExprTag.EntityAttribute);\r\n        this.fireColumnChanged();\r\n    };\r\n    AggrFuncColumnRendererCB.prototype.changeTypeHandler = function (ev) {\r\n        this.changeTypeToSimple();\r\n    };\r\n    return AggrFuncColumnRendererCB;\r\n}(SimpleColumnRendererCB));\r\nexport { AggrFuncColumnRendererCB };\r\n//# sourceMappingURL=aggrfunc_column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { ExprTag, SortDirection, QueryChangePart, QueryChangeAction, Widget, WidgetGroup } from '@easyquery/core';\r\nimport { eqDragManager, DropEffect, getElementAbsolutePos, domel } from '@easydata/ui';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { AggrFuncColumnRendererCB } from './renderers/columnsbar/aggrfunc_column_renderer';\r\nimport { SimpleColumnRendererCB } from './renderers/columnsbar/simple_column_renderer';\r\nvar ColumnsBar = /** @class */ (function (_super) {\r\n    __extends(ColumnsBar, _super);\r\n    function ColumnsBar(slot, customQuery) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            isSubQuery: false,\r\n            activeColumn: null,\r\n            showAddRow: true,\r\n            showHeader: true,\r\n            showColumnTitles: true,\r\n            allowAggrColumns: true,\r\n            allowDuplicates: true,\r\n            allowCustomExpressions: false,\r\n            allowSorting: true,\r\n            attrElementFormat: '{entity} {attr}',\r\n            titleElementFormat: null,\r\n            alwaysShowButtons: false,\r\n            accentActiveColumn: true,\r\n            menuSearchBoxAfter: 30,\r\n            allowDragDrop: true,\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                adjustHeight: true,\r\n                itemRenderedCallback: null\r\n            },\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            columnRenderedCallback: null,\r\n            customExpressionText: 0,\r\n        };\r\n        _this.landingSlot = domel('div')\r\n            .addClass(eqCssPrefix + \"-highlight\")\r\n            .toDOM();\r\n        _this.landingIndex = -1;\r\n        _this.sortMenuList = [\r\n            { id: 'None', text: i18n.getText('CmdNotSorted') },\r\n            { id: 'Ascending', text: i18n.getText('CmdAscending') },\r\n            { id: 'Descending', text: i18n.getText('CmdDescending') },\r\n            { id: '---', text: '---' }\r\n        ];\r\n        _this.moveMenuList = [\r\n            { id: 'MoveTop', text: i18n.getText('CmdMoveToFirst') },\r\n            { id: 'MoveUp', text: i18n.getText('CmdMoveToPrev') },\r\n            { id: 'MoveDown', text: i18n.getText('CmdMoveToNext') },\r\n            { id: 'MoveBottom', text: i18n.getText('CmdMoveToLast') }\r\n        ];\r\n        domel(_this.slot)\r\n            .addClass(_this.cssPrefix + \"-panel\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        _this.group = WidgetGroup.Query;\r\n        _this.customQuery = customQuery;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ColumnsBar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return \"eqjs-cb\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnsBar.prototype.getWidgetType = function () {\r\n        return 'columnsPanel';\r\n    };\r\n    ColumnsBar.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.detachQueryObserver();\r\n        this.attachQueryObserver();\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        if (this.options.allowDragDrop) {\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"entityAttrSort\"],\r\n                onDragEnter: function (container, ev) {\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragOver: function (container, ev) {\r\n                    _this.showLandingSlot(ev.pageX, ev.pageY);\r\n                },\r\n                onDragLeave: function (container, ev) {\r\n                    ev.dropEffect = DropEffect.Forbid;\r\n                    _this.hideLandingSlot();\r\n                },\r\n                onDrop: function (container, ev) {\r\n                    var query = _this.getContext().getQuery();\r\n                    var columns = query.getColumns();\r\n                    var index = columns.indexOf(ev.data.column);\r\n                    _this.moveColumnCore(index, _this.landingIndex);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    ColumnsBar.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            var focusedBefore = document.activeElement;\r\n            var isFocusInside = _this.slot.contains(focusedBefore) || focusedBefore == document.body;\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var columns = edata.changee;\r\n                    var modifyColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var newEl = _this.renderColumn(column, colEl);\r\n                            if (isFocusInside) {\r\n                                var focusElem = newEl.querySelector('a');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return modifyColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        modifyColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var columns = edata.changee;\r\n                    var addColumn_1 = function (column) {\r\n                        var index = query.getColumns().indexOf(column);\r\n                        _this.addColumnElement(column, index);\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return addColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        addColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var columns = edata.changee;\r\n                    var deleteColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            var next = colEl.nextSibling;\r\n                            var prev = colEl.previousSibling;\r\n                            _this.columnsBlock.removeChild(colEl);\r\n                            if (isFocusInside) {\r\n                                var focusCond = next || prev || _this.addRowButton;\r\n                                var focusElem = focusCond.querySelector('a');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return deleteColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        deleteColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    ColumnsBar.prototype.getQuery = function () {\r\n        return this.customQuery\r\n            ? this.customQuery\r\n            : this.getContext().getQuery();\r\n    };\r\n    ColumnsBar.prototype.destroyCore = function () {\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    ColumnsBar.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    ColumnsBar.prototype.showLandingSlot = function (pageX, pageY) {\r\n        var elements = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var columnSlots = [];\r\n        for (var i = 0; i < elements.length; i++) {\r\n            if (elements[i].style.display !== 'none') {\r\n                columnSlots.push(elements[i]);\r\n            }\r\n        }\r\n        if (columnSlots.length === 0) {\r\n            this.landingIndex = 0;\r\n            return;\r\n        }\r\n        var landingPos = getElementAbsolutePos(this.landingSlot);\r\n        if (pageX >= landingPos.x && pageX <= landingPos.x + this.landingSlot.offsetWidth\r\n            && pageY >= landingPos.y && pageY <= landingPos.y + this.landingSlot.offsetHeight) {\r\n            return;\r\n        }\r\n        var newLandingIndex = this.landingIndex;\r\n        for (var i = 0; i < columnSlots.length; i++) {\r\n            var colSlot = columnSlots[i];\r\n            var absPos = getElementAbsolutePos(colSlot);\r\n            var colWidth = colSlot.offsetWidth;\r\n            var colHeight = colSlot.offsetHeight;\r\n            var paddingWidth = 0.2 * colWidth;\r\n            var paddingHeight = 2;\r\n            if (pageX >= absPos.x + paddingWidth && pageX <= absPos.x + colWidth - paddingWidth\r\n                && pageY >= absPos.y + paddingHeight && pageY <= absPos.y + colHeight - paddingHeight) {\r\n                if (pageX > landingPos.x)\r\n                    newLandingIndex = i + 1;\r\n                else\r\n                    newLandingIndex = i;\r\n                break;\r\n            }\r\n        }\r\n        if (newLandingIndex != this.landingIndex || this.landingSlot.parentElement) {\r\n            this.landingIndex = newLandingIndex;\r\n            if (this.landingIndex <= 0) {\r\n                this.columnsBlock.insertBefore(this.landingSlot, columnSlots[0]);\r\n            }\r\n            if (this.landingIndex < columnSlots.length) {\r\n                this.columnsBlock.insertBefore(this.landingSlot, columnSlots[this.landingIndex]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(this.landingSlot);\r\n            }\r\n        }\r\n    };\r\n    ColumnsBar.prototype.hideLandingSlot = function () {\r\n        this.landingIndex = -1;\r\n        if (this.landingSlot.parentElement) {\r\n            this.landingSlot.parentElement.removeChild(this.landingSlot);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.onProcessStartCore = function () {\r\n    };\r\n    ColumnsBar.prototype.onProcessEndCore = function () {\r\n    };\r\n    ColumnsBar.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    ColumnsBar.prototype.clear = function () {\r\n        // if (this.addRowButton) {\r\n        //     this.addRowButton.innerHTML = \"\";\r\n        //     this.addRowButton.className = \"\";\r\n        // }\r\n        // this.columnsBlock.innerHTML = \"\";\r\n        this.slot.innerHTML = '';\r\n    };\r\n    ColumnsBar.prototype.renderAddRowButton = function () {\r\n        var _this = this;\r\n        domel(this.addRowButton)\r\n            .addClass(eqCssPrefix + \"-addrow\", this.cssPrefix + \"-addrow\", eqCssPrefix + \"-addrow-empty\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .title(i18n.getText('CmdClickToAddColumn'))\r\n            .addChild('a', function (builder) { return builder\r\n            .attr('href', 'javascript:void(0)')\r\n            .on('click', function (e) {\r\n            e.preventDefault();\r\n            _this.showEntitiesMenu({\r\n                anchor: e.target,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var attrid = data.id;\r\n                    _this.addNewColumn(attrid);\r\n                    return false;\r\n                }\r\n            });\r\n        }); });\r\n        if (browserUtils.isMobileMode()) {\r\n            domel(this.columnsBlock)\r\n                .addChildElement(this.addRowButton);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.render = function () {\r\n        var _this = this;\r\n        this.createEntitiesMenu();\r\n        if (this.options.allowSorting) {\r\n            this.createSortMenu();\r\n        }\r\n        this.createMoveMenu();\r\n        this.columnsBlock =\r\n            domel('div')\r\n                .addClass(this.cssPrefix + \"-columns\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        if (this.options.showAddRow) {\r\n            this.addRowButton =\r\n                domel('div')\r\n                    .toDOM();\r\n            if (browserUtils.isMobileMode()) {\r\n                domel(this.columnsBlock)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            else {\r\n                domel(this.slot)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            this.renderAddRowButton();\r\n        }\r\n        domel(this.slot)\r\n            .addChildElement(this.columnsBlock)\r\n            .addChildElement(this.renderColumnButtonsBlockMobile());\r\n        var query = this.getQuery();\r\n        var columns = query.getColumns();\r\n        columns.forEach(function (column, index) {\r\n            var slot = _this.renderColumn(column);\r\n            _this.columnsBlock.appendChild(slot);\r\n        });\r\n    };\r\n    ColumnsBar.prototype.renderColumnButtonsBlockMobile = function () {\r\n        var _this = this;\r\n        this.columnButtonsBlockMobileArrow = domel('i').toDOM();\r\n        this.columnButtonsBlockMobile = domel('div')\r\n            .addClass(this.cssPrefix + \"-column-buttonsBlock\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.columnButtonsBlockMobileArrow)\r\n            .hide()\r\n            .toDOM();\r\n        this.buttonsBlockSortingButton = domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button\", this.cssPrefix + \"-column-sortbutton-none\")\r\n            .toDOM();\r\n        domel(this.buttonsBlockSortingButton)\r\n            .on('touchstart click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.currentColumnRenderer.buttonSortingClickHandler.call(_this.currentColumnRenderer, ev, _this.buttonsBlockSortingButton);\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n            return false;\r\n        });\r\n        this.buttonsBlockTypeButton = domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button\", this.cssPrefix + \"-column-button-type\")\r\n            .on('touchstart click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.currentColumnRenderer.buttonTypeClickHandler.call(_this.currentColumnRenderer, ev);\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n            return false;\r\n        })\r\n            .toDOM();\r\n        this.buttonsBlockDeleteButton = domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button\", this.cssPrefix + \"-column-button-delete\")\r\n            .on('touchstart click', function (ev) {\r\n            ev.stopPropagation();\r\n            _this.currentColumnRenderer.buttonDeleteClickHandler.call(_this.currentColumnRenderer, ev);\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n            return false;\r\n        })\r\n            .toDOM();\r\n        domel('div', this.columnButtonsBlockMobile)\r\n            .addClass(this.cssPrefix + \"-column-button-close-block\")\r\n            .on('touchstart click', function () {\r\n            _this.toggleColumnPicked(null);\r\n            _this.hideColumnButtonsMobile();\r\n        });\r\n        return this.columnButtonsBlockMobile;\r\n    };\r\n    ColumnsBar.prototype.showColumnButtonsMobile = function (column, columnRenderer, columnElement) {\r\n        this.currentActiveColumn = column;\r\n        this.currentColumnRenderer = columnRenderer;\r\n        //calculate coordinates\r\n        var rect = columnElement.getBoundingClientRect();\r\n        var top = columnElement.offsetTop;\r\n        var left = columnElement.offsetLeft;\r\n        domel(this.columnButtonsBlockMobileArrow)\r\n            .setStyle('left', (left + rect.width / 2).toString() + 'px');\r\n        if (rect.top > 100) {\r\n            domel(this.columnButtonsBlockMobile)\r\n                .removeClass('show-below')\r\n                .setStyle('top', (top - rect.height).toString() + 'px');\r\n        }\r\n        else {\r\n            domel(this.columnButtonsBlockMobile)\r\n                .addClass('show-below')\r\n                .setStyle('top', (top + rect.height).toString() + 'px');\r\n        }\r\n        //show/hide separate buttons\r\n        if (column.enabled && !column.isReadOnly()) {\r\n            domel(this.buttonsBlockSortingButton).show();\r\n            domel(this.buttonsBlockTypeButton).show();\r\n        }\r\n        else {\r\n            domel(this.buttonsBlockSortingButton).hide();\r\n            domel(this.buttonsBlockTypeButton).hide();\r\n        }\r\n        //show\r\n        if (column.isReadOnly()) {\r\n            domel(this.columnButtonsBlockMobile).hide();\r\n        }\r\n        else {\r\n            domel(this.columnButtonsBlockMobile).show();\r\n        }\r\n    };\r\n    ColumnsBar.prototype.hideColumnButtonsMobile = function () {\r\n        domel(this.columnButtonsBlockMobile).hide();\r\n    };\r\n    ColumnsBar.prototype.renderColumn = function (column, elem) {\r\n        var _this = this;\r\n        var renderer = this.getColumnRenderer(column, elem);\r\n        if (renderer) {\r\n            var columnSlot_1 = renderer.render();\r\n            renderer.onShowButtonsMobile = function () {\r\n                _this.showColumnButtonsMobile(column, renderer, columnSlot_1);\r\n            };\r\n            renderer.onHideButtonsMobile = function () {\r\n                _this.hideColumnButtonsMobile();\r\n            };\r\n            return columnSlot_1;\r\n        }\r\n        return null;\r\n    };\r\n    ColumnsBar.prototype.getColumnRenderer = function (column, slot) {\r\n        switch (column.expr.tag) {\r\n            case ExprTag.AggregateFunction:\r\n                return new AggrFuncColumnRendererCB(this, column, slot);\r\n            case ExprTag.CustomSql:\r\n            //                return new CustomSqlColumnRendererCB(this, column, slot);\r\n            case ExprTag.EntityAttribute:\r\n            case ExprTag.ParentEntityAttribute:\r\n                return new SimpleColumnRendererCB(this, column, slot);\r\n        }\r\n        return null;\r\n    };\r\n    ColumnsBar.prototype.addNewColumn = function (attrId, index) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInResult) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInResult) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn();\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.None;\r\n            column.sortIndex = -1;\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        if (!this.getQuery()) {\r\n            return;\r\n        }\r\n        var colToAdd, col;\r\n        if (Array.isArray(attrId)) {\r\n            colToAdd = [];\r\n            for (var i = 0; i < attrId.length; i++) {\r\n                col = getColumnByAttrId(attrId[i]);\r\n                if (col) {\r\n                    colToAdd.push(col);\r\n                }\r\n            }\r\n        }\r\n        else\r\n            colToAdd = getColumnByAttrId(attrId);\r\n        this.addColumn(colToAdd, index);\r\n        return colToAdd;\r\n    };\r\n    ColumnsBar.prototype.toggleColumnPicked = function (column) {\r\n        var el;\r\n        var isActive;\r\n        if (column) {\r\n            el = this.columnsBlock.querySelector(\"div[data-id=\" + column.id + \"]\");\r\n            if (el) {\r\n                isActive = el.classList.contains('active');\r\n            }\r\n        }\r\n        //clear 'active' in all rows\r\n        var rows = this.columnsBlock.querySelectorAll(\".\" + this.cssPrefix + \"-row\");\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            domel(row)\r\n                .removeClass('active')\r\n                .data(\"show-buttons\", null);\r\n        }\r\n        if (el && !isActive) {\r\n            domel(el)\r\n                .addClass('active')\r\n                .data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    ColumnsBar.prototype.addColumn = function (column, index) {\r\n        var query = this.getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        if (Array.isArray(column))\r\n            column = this.checkColumnsArray(column);\r\n        else\r\n            column = this.checkColumn(column);\r\n        if (!column || (Array.isArray(column) && column.length == 0)) {\r\n            return;\r\n        }\r\n        query.addColumnObj(column, index, self);\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.Columns,\r\n            action: QueryChangeAction.Add,\r\n            changee: column\r\n        });\r\n    };\r\n    //adds one column to the bar on the specified position\r\n    ColumnsBar.prototype.addColumnElement = function (column, index) {\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var newColBlock = this.renderColumn(column);\r\n        if (rows.length > 0) {\r\n            if (index < rows.length - 1) {\r\n                this.columnsBlock.insertBefore(newColBlock, rows[index]);\r\n            }\r\n            else {\r\n                this.columnsBlock.appendChild(newColBlock);\r\n            }\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(newColBlock);\r\n        }\r\n        if (this.options.columnRenderedCallback) {\r\n            this.options.columnRenderedCallback(newColBlock);\r\n        }\r\n    };\r\n    ColumnsBar.prototype.checkColumnsArray = function (cols) {\r\n        var i = 0, len = cols.length;\r\n        var result = [];\r\n        for (var i_1 = 0; i_1 < len; i_1++) {\r\n            if (this.checkColumn(cols[i_1]))\r\n                result.push(cols[i_1]);\r\n        }\r\n        return result;\r\n    };\r\n    ColumnsBar.prototype.checkColumn = function (col) {\r\n        if (!this.options.allowDuplicates) {\r\n            var query = this.getQuery();\r\n            var columns = query.getColumns();\r\n            var colJson = JSON.stringify(col.expr);\r\n            for (var i = 0; i < columns.length; i++) {\r\n                var qcolJson = JSON.stringify(columns[i].expr);\r\n                if (qcolJson === colJson) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    ColumnsBar.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnsBar.prototype.getColumnsBlock = function () {\r\n        return this.columnsBlock;\r\n    };\r\n    ColumnsBar.prototype.showEntitiesMenu = function (menuOptions) {\r\n        this.entitiesMenu.showMenu(menuOptions);\r\n    };\r\n    ColumnsBar.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: true, addUIS: false, attrPlacement: this.options.attrPlacement, sortEntities: this.options.sortEntities });\r\n        var options = { items: entitiesList, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    ColumnsBar.prototype.createSortMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-SortMenu';\r\n        }\r\n        var items = this.sortMenuList.concat(this.moveMenuList);\r\n        var menuOptions = { \"items\": items, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n        this.sortMenu = new PopupMenu(menuOptions);\r\n    };\r\n    ColumnsBar.prototype.createMoveMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-MoveMenu';\r\n        }\r\n        var items = this.moveMenuList;\r\n        var menuOptions = { \"items\": items, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(menuOptions, this.options.menuOptions);\r\n        this.moveMenu = new PopupMenu(menuOptions);\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n    };\r\n    ColumnsBar.prototype.moveColumn = function (column, direction) {\r\n        var query = this.getQuery();\r\n        var columns = query.getColumns();\r\n        var index = columns.indexOf(column);\r\n        if (index >= 0) {\r\n            switch (direction) {\r\n                case 'MoveTop':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, 0);\r\n                    break;\r\n                case 'MoveUp':\r\n                    if (index == 0) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index - 1);\r\n                    break;\r\n                case 'MoveDown':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, index + 1);\r\n                    break;\r\n                case 'MoveBottom':\r\n                    if (index == columns.length - 1) {\r\n                        return;\r\n                    }\r\n                    this.moveColumnCore(index, columns.length - 1);\r\n                    break;\r\n            }\r\n            ;\r\n        }\r\n    };\r\n    ColumnsBar.prototype.moveColumnCore = function (index1, index2) {\r\n        var query = this.getQuery();\r\n        if (!query)\r\n            return;\r\n        var rows = this.columnsBlock.querySelectorAll(\"[class*=\" + this.cssPrefix + \"-row]\");\r\n        var colToMove = rows[index1];\r\n        if (index2 <= 0) {\r\n            this.columnsBlock.insertBefore(colToMove, this.columnsBlock[0]);\r\n        }\r\n        else if (index2 < rows.length) {\r\n            this.columnsBlock.insertBefore(colToMove, rows[index2]);\r\n        }\r\n        else {\r\n            this.columnsBlock.appendChild(colToMove);\r\n        }\r\n        query.moveColumn(index1, index2);\r\n        query.fireColumnsChangedEvent(QueryChangeAction.All);\r\n    };\r\n    ColumnsBar.prototype.areCustomExpressionsAllowed = function () {\r\n        var query = this.getQuery();\r\n        return query.isEx() && this.options.allowCustomExpressions;\r\n    };\r\n    ColumnsBar.globalCounter = 0;\r\n    return ColumnsBar;\r\n}(Widget));\r\nexport { ColumnsBar };\r\n//# sourceMappingURL=columns_bar.js.map","import { i18n } from '@easydata/core';\r\nimport { QueryChangeAction, SortDirection } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar ColumnRendererSB = /** @class */ (function () {\r\n    function ColumnRendererSB(bar, column, slot) {\r\n        this.functionMenu = null;\r\n        this.isMouseOverBlock = false;\r\n        this.keepShowingButtons = false;\r\n        this.bar = bar;\r\n        this.column = column;\r\n        this.element = slot;\r\n    }\r\n    Object.defineProperty(ColumnRendererSB.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-sb';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ColumnRendererSB.prototype.render = function () {\r\n        this.baseAttr = this.getAttribute();\r\n        var builder = domel('div');\r\n        builder.data('id', this.column.id);\r\n        if (this.element) {\r\n            //to remove all event listeners\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderCaptionBlock());\r\n        if (this.isEditable()) {\r\n            builder\r\n                .addChildElement(this.renderSortingButton());\r\n        }\r\n        return this.element;\r\n    };\r\n    ColumnRendererSB.prototype.fireColumnChanged = function () {\r\n        this.column.fireChangedEvent();\r\n    };\r\n    ColumnRendererSB.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ColumnRendererSB.prototype.getAttribute = function () {\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeById(this.column.expr.value);\r\n    };\r\n    ColumnRendererSB.prototype.isEditable = function () {\r\n        return this.column.enabled && !this.column.isReadOnly();\r\n    };\r\n    ColumnRendererSB.prototype.renderCaptionBlock = function () {\r\n        var _this = this;\r\n        if (!this.column.caption || this.column.caption == '') {\r\n            this.column.caption = this.getDefaultCaption();\r\n        }\r\n        function getArrow(sd) {\r\n            switch (sd) {\r\n                case SortDirection.Ascending:\r\n                    return ' ';\r\n                case SortDirection.Descending:\r\n                    return ' ';\r\n                default:\r\n                    return '';\r\n            }\r\n        }\r\n        var text = this.column.caption;\r\n        if (!this.isEditable()) {\r\n            text += getArrow(this.column.sorting);\r\n        }\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-captionelement\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (b) { return b\r\n            .title(_this.column.caption)\r\n            .text(text); })\r\n            .toDOM();\r\n    };\r\n    ColumnRendererSB.prototype.renderSortingButton = function () {\r\n        var _this = this;\r\n        var sortButtonCssClass = eqCssPrefix + \"-column-sortbutton\";\r\n        var sortButtonDirectionCssClass = sortButtonCssClass;\r\n        switch (this.column.sorting) {\r\n            case SortDirection.None:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-none\";\r\n                break;\r\n            case SortDirection.Ascending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-asc\";\r\n                break;\r\n            case SortDirection.Descending:\r\n                sortButtonDirectionCssClass = sortButtonCssClass + \"-desc\";\r\n                break;\r\n        }\r\n        var builder = domel('div')\r\n            .addClass(this.cssPrefix + \"-colelement\", this.cssPrefix + \"-sortimage-placeholder\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (builder) { return builder\r\n            .addClass(_this.cssPrefix + \"-img-sorting\", sortButtonDirectionCssClass)\r\n            .title(i18n.getText('ButtonSorting')); })\r\n            .on('touchstart click', function (ev) { return _this.buttonSortingClickHandler(ev, builder.toDOM()); });\r\n        return builder.toDOM();\r\n    };\r\n    ColumnRendererSB.prototype.buttonSortingClickHandler = function (ev, anchor) {\r\n        var _this = this;\r\n        ev.stopPropagation();\r\n        this.keepShowingButtons = true;\r\n        var menu = this.bar.sortMenu;\r\n        menu.showMenu({\r\n            anchor: anchor,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                var strToSortDirection = function (str) {\r\n                    if (str == 'None') {\r\n                        return SortDirection.None;\r\n                    }\r\n                    else if (str == \"Ascending\") {\r\n                        return SortDirection.Ascending;\r\n                    }\r\n                    else if (str == \"Descending\") {\r\n                        return SortDirection.Descending;\r\n                    }\r\n                };\r\n                if (data.id == 'None' || data.id == \"Ascending\" || data.id == \"Descending\") {\r\n                    var query = _this.bar.getContext().getQuery();\r\n                    if (_this.column.isJustSorted() && data.id == 'None') {\r\n                        query.removeColumn(_this.column, _this.bar);\r\n                        query.fireColumnsChangedEvent(QueryChangeAction.Delete, _this.column, true);\r\n                    }\r\n                    else {\r\n                        _this.column.sorting = strToSortDirection(data.id);\r\n                        _this.column.sortIndex = query.getColumnSortIndex(_this.column);\r\n                        _this.fireColumnChanged();\r\n                    }\r\n                }\r\n            },\r\n            menuClosedCallback: function () {\r\n                _this.keepShowingButtons = false;\r\n            }\r\n        });\r\n        return false;\r\n    };\r\n    ColumnRendererSB.prototype.getDefaultCaption = function () {\r\n        return this.getDefaultTitleText(this.baseAttr);\r\n    };\r\n    ColumnRendererSB.prototype.getDefaultTitleText = function (attr) {\r\n        var format = this.bar.options.titleElementFormat || this.bar.options.attrElementFormat;\r\n        var model = this.bar.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    ColumnRendererSB.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-column-entattr\";\r\n    };\r\n    ColumnRendererSB.prototype.getUIS = function () {\r\n        return this.bar\r\n            .getContext().getModel()\r\n            .checkAttrProperty(this.column.expr.value, \"useInSorting\");\r\n    };\r\n    return ColumnRendererSB;\r\n}());\r\nexport { ColumnRendererSB };\r\n//# sourceMappingURL=column_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, QueryChangeAction, QueryChangePart, SortDirection, ExprTag } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { ColumnRendererSB } from './renderers/sortingbar/column_renderer';\r\nvar SortingBar = /** @class */ (function (_super) {\r\n    __extends(SortingBar, _super);\r\n    function SortingBar(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            showAddRow: true,\r\n            attrElementFormat: '{entity} {attr}',\r\n            titleElementFormat: null,\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                adjustHeight: true,\r\n                itemRenderedCallback: null\r\n            },\r\n        };\r\n        _this.sortMenuList = [\r\n            { id: 'None', text: i18n.getText('CmdNotSorted') },\r\n            { id: 'Ascending', text: i18n.getText('CmdAscending') },\r\n            { id: 'Descending', text: i18n.getText('CmdDescending') }\r\n        ];\r\n        domel(_this.slot)\r\n            .addClass(_this.cssPrefix + \"-panel\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        _this.group = WidgetGroup.Query;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(SortingBar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return \"eqjs-sb\";\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SortingBar.prototype.getWidgetType = function () {\r\n        return 'sortingBar';\r\n    };\r\n    SortingBar.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.destroyCore();\r\n        this.attachQueryObserver();\r\n    };\r\n    SortingBar.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    SortingBar.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.SortingColumns\r\n                && edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var columns = edata.changee;\r\n                    var modifyColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl) {\r\n                            _this.renderColumn(column, colEl);\r\n                        }\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return modifyColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        modifyColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var columns = edata.changee;\r\n                    var addColumn_1 = function (column) {\r\n                        _this.addColumnElement(column);\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return addColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        addColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var columns = edata.changee;\r\n                    var deleteColumn_1 = function (column) {\r\n                        var colEl = _this.columnsBlock.querySelector(\"div[data-id='\" + column.id + \"']\");\r\n                        if (colEl)\r\n                            _this.columnsBlock.removeChild(colEl);\r\n                    };\r\n                    if (Array.isArray(columns)) {\r\n                        columns.forEach(function (col) { return deleteColumn_1(col); });\r\n                    }\r\n                    else {\r\n                        deleteColumn_1(columns);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    SortingBar.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getContext().getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    SortingBar.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    SortingBar.prototype.destroyCore = function () {\r\n        this.detachQueryObserver();\r\n        this.clear();\r\n    };\r\n    SortingBar.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    SortingBar.prototype.renderAddRowButton = function () {\r\n        var _this = this;\r\n        domel(this.addRowButton)\r\n            .addClass(eqCssPrefix + \"-addrow\", this.cssPrefix + \"-addrow\", eqCssPrefix + \"-addrow-empty\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .title(i18n.getText('CmdClickToAddColumn'))\r\n            .addChild('a', function (builder) { return builder\r\n            .attr('href', 'javascript:void(0)')\r\n            .on('click', function (e) {\r\n            e.preventDefault();\r\n            _this.showEntitiesMenu({\r\n                anchor: e.target,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var attrid = data.id;\r\n                    _this.addNewColumn(attrid);\r\n                    return false;\r\n                }\r\n            });\r\n        }); });\r\n        if (browserUtils.isMobileMode()) {\r\n            domel(this.columnsBlock)\r\n                .addChildElement(this.addRowButton);\r\n        }\r\n    };\r\n    SortingBar.prototype.showEntitiesMenu = function (menuOptions) {\r\n        this.entitiesMenu.showMenu(menuOptions);\r\n    };\r\n    SortingBar.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: false, addUIS: true });\r\n        var options = { items: entitiesList,\r\n            adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    SortingBar.prototype.createSortMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-SortMenu';\r\n        }\r\n        var items = this.sortMenuList;\r\n        var menuOptions = { \"items\": items, id: menuId };\r\n        menuOptions.searchBoxAlwaysShown = false;\r\n        this.sortMenu = new PopupMenu(menuOptions);\r\n    };\r\n    SortingBar.prototype.render = function () {\r\n        var _this = this;\r\n        this.createEntitiesMenu();\r\n        this.createSortMenu();\r\n        this.columnsBlock =\r\n            domel('div')\r\n                .addClass(this.cssPrefix + \"-columns\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        if (this.options.showAddRow) {\r\n            this.addRowButton =\r\n                domel('div')\r\n                    .toDOM();\r\n            if (browserUtils.isMobileMode()) {\r\n                domel(this.columnsBlock)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            else {\r\n                domel(this.slot)\r\n                    .addChildElement(this.addRowButton);\r\n            }\r\n            this.renderAddRowButton();\r\n        }\r\n        domel(this.slot)\r\n            .addChildElement(this.columnsBlock);\r\n        var query = this.context.getQuery();\r\n        var columns = query.getColumns().concat(query.getJustSortedColumns());\r\n        columns.forEach(function (column, index) {\r\n            var slot = _this.renderColumn(column);\r\n            _this.columnsBlock.appendChild(slot);\r\n        });\r\n    };\r\n    SortingBar.prototype.addNewColumn = function (attrId) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getContext().getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInSorting) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInSorting) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn(true);\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.Ascending;\r\n            column.sortIndex = _this.getQuery().getColumnSortIndex(column);\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        if (!this.getContext().getQuery()) {\r\n            return;\r\n        }\r\n        return this.addColumn(getColumnByAttrId(attrId));\r\n    };\r\n    SortingBar.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    SortingBar.prototype.addColumn = function (column) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        column = this.checkColumn(column);\r\n        if (!column) {\r\n            return;\r\n        }\r\n        column = query.addColumn({\r\n            caption: column.caption,\r\n            attributeId: column.expr.value,\r\n            sorting: column.sorting,\r\n            sortIndex: column.sortIndex,\r\n            justsorted: true\r\n        });\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.SortingColumns,\r\n            action: QueryChangeAction.Add,\r\n            changee: column\r\n        });\r\n        return column;\r\n    };\r\n    SortingBar.prototype.checkColumn = function (col) {\r\n        var query = this.getContext().getQuery();\r\n        var columns = query.getColumns()\r\n            .concat(query.getJustSortedColumns());\r\n        var colJson = JSON.stringify(col.expr.saveToData());\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var qcolJson = JSON.stringify(columns[i].expr.saveToData());\r\n            if (qcolJson === colJson) {\r\n                return null;\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    SortingBar.prototype.renderColumn = function (column, elem) {\r\n        var renderer = new ColumnRendererSB(this, column, elem);\r\n        if (renderer) {\r\n            var columnSlot = renderer.render();\r\n            return columnSlot;\r\n        }\r\n        return null;\r\n    };\r\n    //adds one column to the bar on the specified position\r\n    SortingBar.prototype.addColumnElement = function (column) {\r\n        var newColBlock = this.renderColumn(column);\r\n        this.columnsBlock.appendChild(newColBlock);\r\n        if (this.options.columnRenderedCallback) {\r\n            this.options.columnRenderedCallback(newColBlock);\r\n        }\r\n    };\r\n    SortingBar.prototype.clear = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    return SortingBar;\r\n}(Widget));\r\nexport { SortingBar };\r\n//# sourceMappingURL=sorting_bar.js.map","import { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar TextRenderer = /** @class */ (function () {\r\n    function TextRenderer(panel, text, slot) {\r\n        this.panel = panel;\r\n        this.text = text;\r\n        this.element = slot || domel('div').toDOM();\r\n    }\r\n    Object.defineProperty(TextRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TextRenderer.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    TextRenderer.prototype.render = function () {\r\n        var _this = this;\r\n        domel(this.element)\r\n            .html('')\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('span', function (builder) { return builder\r\n            .text(_this.text)\r\n            .title(_this.text); })\r\n            .toDOM();\r\n        return this.element;\r\n    };\r\n    TextRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement\";\r\n    };\r\n    return TextRenderer;\r\n}());\r\nexport { TextRenderer };\r\n//# sourceMappingURL=text_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { equtils, QueryChangeAction } from '@easyquery/core';\r\nimport { createBrowserEvent, domel } from '@easydata/ui';\r\nimport { TextRenderer } from './text_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nexport var ConditionAction;\r\n(function (ConditionAction) {\r\n    ConditionAction[ConditionAction[\"AddCondition\"] = 0] = \"AddCondition\";\r\n    ConditionAction[ConditionAction[\"AddGroup\"] = 1] = \"AddGroup\";\r\n    ConditionAction[ConditionAction[\"Enable\"] = 2] = \"Enable\";\r\n    ConditionAction[ConditionAction[\"Delete\"] = 4] = \"Delete\";\r\n    ConditionAction[ConditionAction[\"Menu\"] = 5] = \"Menu\";\r\n    ConditionAction[ConditionAction[\"Parameterized\"] = 6] = \"Parameterized\";\r\n    ConditionAction[ConditionAction[\"InJoin\"] = 7] = \"InJoin\";\r\n})(ConditionAction || (ConditionAction = {}));\r\nvar ConditionRenderer = /** @class */ (function () {\r\n    function ConditionRenderer(panel, condition, slot) {\r\n        this.panel = panel;\r\n        this.condition = condition;\r\n        this.element = slot || domel('div').toDOM();\r\n    }\r\n    Object.defineProperty(ConditionRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ConditionRenderer.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    ConditionRenderer.prototype.clear = function () {\r\n        if (this.element) {\r\n            this.element.className = '';\r\n            this.element.removeAttribute('data-id');\r\n            this.element.removeAttribute('style');\r\n            domel(this.element)\r\n                .html('');\r\n        }\r\n        //        const elClone = this.element.cloneNode(true);\r\n        //        this.element.parentNode.replaceChild(elClone, el);\r\n    };\r\n    ConditionRenderer.prototype.render = function (autoAppear) {\r\n        this.clear();\r\n        //this.preRender();\r\n        this.coreRender(autoAppear);\r\n        if (this.panel.options.onConditionRendered) {\r\n            this.panel.options.onConditionRendered(this.condition, this.element);\r\n        }\r\n        return this.element;\r\n    };\r\n    ConditionRenderer.prototype.isEditable = function () {\r\n        return this.condition.enabled && !this.condition.isReadOnly();\r\n    };\r\n    return ConditionRenderer;\r\n}());\r\nexport { ConditionRenderer };\r\nvar SimpleConditionRenderer = /** @class */ (function (_super) {\r\n    __extends(SimpleConditionRenderer, _super);\r\n    function SimpleConditionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SimpleConditionRenderer.prototype.getClassesToAdd = function () {\r\n        var result = this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-condition\";\r\n        result += this.condition.isInJoin() ? \" \" + this.cssPrefix + \"-condition-injoin\" : '';\r\n        result += this.condition.isParameterized() ? \" \" + this.cssPrefix + \"-condition-parameterized\" : '';\r\n        if (!browserUtils.isMobileMode()) {\r\n            var level = this.condition.getLevel();\r\n            if (level > 0)\r\n                result += \" \" + this.cssPrefix + \"-level-\" + level;\r\n        }\r\n        result += this.condition.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n        if (this.condition.enabled) {\r\n            result += this.condition.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n        }\r\n        return result;\r\n    };\r\n    SimpleConditionRenderer.prototype.coreRender = function (autoAppear) {\r\n        var _this = this;\r\n        var model = this.panel.getContext().getModel();\r\n        var operator = model.getOperatorById(this.condition.getOperatorId());\r\n        var arrFormat = equtils.parseOperatorFormat(operator);\r\n        var item = null;\r\n        var arrLength = arrFormat.length;\r\n        var builder = domel('div');\r\n        if (this.element && this.element.parentNode) {\r\n            this.element.parentNode\r\n                .replaceChild(builder.toDOM(), this.element);\r\n        }\r\n        this.element = builder.toDOM();\r\n        builder\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .data('id', this.condition.id)\r\n            .data('condrow', '')\r\n            .addChildElement(this.renderCheckbox())\r\n            .addChildElement(this.renderConjunction());\r\n        var mayAppear = autoAppear;\r\n        var _loop_1 = function (idx) {\r\n            item = arrFormat[idx];\r\n            if (item.type === 'operator') {\r\n                var renderer = this_1.panel.getOperatorRenderer(this_1.condition, item.text);\r\n                if (renderer) {\r\n                    builder.addChildElement(renderer.render());\r\n                }\r\n            }\r\n            else if (item.type === 'expression') {\r\n                var toAppear = mayAppear && (item.index > 0);\r\n                var exprRenderer_1 = this_1.panel.getExpressionRenderer(this_1.condition.expressions[item.index]);\r\n                if (exprRenderer_1) {\r\n                    var el = exprRenderer_1.render(toAppear);\r\n                    builder.addChildElement(el);\r\n                    setTimeout(function () {\r\n                        exprRenderer_1.adjustWidth();\r\n                    }, 100);\r\n                }\r\n                mayAppear = mayAppear && !toAppear;\r\n            }\r\n            else if (item.type === 'text') {\r\n                builder.addChildElement(new TextRenderer(this_1.panel, item.text).render());\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var idx = 0; idx < arrLength; idx++) {\r\n            _loop_1(idx);\r\n        }\r\n        if (this.panel.options.accentActiveCondition || browserUtils.isMobileMode()) {\r\n            builder.on('click', function (ev) {\r\n                ev.stopPropagation();\r\n                _this.panel.toggleConditionPicked(_this.condition);\r\n                _this.adjustButtonsVisibility();\r\n                if (!browserUtils.isMobileMode()) {\r\n                    _this.element.dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n                }\r\n                return false;\r\n            });\r\n        }\r\n        builder\r\n            .addChildElement(this.renderButtonsBlock());\r\n        if (!browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('mouseenter', function (event) {\r\n                _this.isMouseOverBlock = true;\r\n                _this.enterButtonBlock();\r\n                event.stopPropagation();\r\n                return false;\r\n            })\r\n                .on('mouseleave', function (event) {\r\n                _this.isMouseOverBlock = false;\r\n                if (!_this.keepShowingButtons && domel(_this.buttonsBlock).isVisible()) {\r\n                    _this.leaveButtonBlock();\r\n                }\r\n                event.stopPropagation();\r\n                return false;\r\n            });\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.setConditionParameterized = function (value) {\r\n        this.condition.setParameterized(value);\r\n        this.condition.fireChangedEvent();\r\n    };\r\n    SimpleConditionRenderer.prototype.setConditionInJoin = function (value) {\r\n        this.condition.setInJoin(value);\r\n        this.condition.fireChangedEvent();\r\n    };\r\n    SimpleConditionRenderer.prototype.getConditionMenu = function () {\r\n        return this.panel.getConditionMenu();\r\n    };\r\n    SimpleConditionRenderer.prototype.renderConjunction = function () {\r\n        var parent = this.condition.getParent();\r\n        if (!parent)\r\n            return null;\r\n        var isFirstConditionInGroup = dataUtils.findItemIndexById(parent.getConditions(), this.condition.id) == 0;\r\n        if (this.panel.options.showConjunctions && !isFirstConditionInGroup) {\r\n            var linkTypeStr = equtils.linkTypeToStr(this.condition.getParent().linkType);\r\n            var conjuctionText = i18n.getText(\"Conj\" + linkTypeStr);\r\n            return domel(\"span\")\r\n                .text(conjuctionText)\r\n                .title(conjuctionText)\r\n                .addClass(this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-condition-conjuction\")\r\n                .toDOM();\r\n        }\r\n        return null;\r\n    };\r\n    SimpleConditionRenderer.prototype.renderCheckbox = function () {\r\n        var _this = this;\r\n        if (this.panel.options.showCheckboxes && !this.condition.isReadOnly()) {\r\n            return domel(\"div\")\r\n                .title(i18n.getText('CmdToggleEnable'))\r\n                .attr('tabIndex', '0')\r\n                .addClass(this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-condition-checkbox\")\r\n                .addClass(\"\" + (this.condition.enabled ? 'enabled' : ''))\r\n                .on('click', function () {\r\n                _this.condition.enabled = !_this.condition.enabled;\r\n                _this.condition.fireChangedEvent();\r\n                return false;\r\n            })\r\n                .on('keypress', function (evt) { if ([13, 32].includes(evt.keyCode)) {\r\n                evt.target.click();\r\n            } })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.isConditionActive = function () {\r\n        return this.element.classList.contains(\"active\");\r\n    };\r\n    SimpleConditionRenderer.prototype.hideButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", null);\r\n    };\r\n    SimpleConditionRenderer.prototype.showButtons = function () {\r\n        domel(this.element).data(\"show-buttons\", \"\");\r\n    };\r\n    SimpleConditionRenderer.prototype.adjustButtonsVisibility = function () {\r\n        if (this.panel.options.alwaysShowButtonsInConditions\r\n            || (this.panel.options.accentActiveCondition && this.isConditionActive())) {\r\n            this.showButtons();\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.enterButtonBlock = function () {\r\n        this.showButtons();\r\n    };\r\n    SimpleConditionRenderer.prototype.leaveButtonBlock = function () {\r\n        if (!this.panel.options.alwaysShowButtonsInConditions\r\n            && (!this.isConditionActive() || this.panel.options.accentActiveCondition)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    SimpleConditionRenderer.prototype.conditionMenuHandler = function (action, evt) {\r\n        var _this = this;\r\n        switch (action) {\r\n            case ConditionAction.AddCondition:\r\n                if (!this.condition.isGroup())\r\n                    return;\r\n                var entMenu = this.panel.getEntitiesMenu();\r\n                if (entMenu) {\r\n                    entMenu.showMenu({\r\n                        anchor: evt.target,\r\n                        itemSelectedCallback: function (item) {\r\n                            var query = _this.panel.getQuery();\r\n                            var descr = {\r\n                                parent: _this.condition,\r\n                                attributeId: item.id\r\n                            };\r\n                            var cond = query.addSimpleCondition(descr);\r\n                            if (cond) {\r\n                                query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n                            }\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n                break;\r\n            case ConditionAction.AddGroup:\r\n                if (!this.condition.isGroup())\r\n                    return;\r\n                var query = this.panel.getQuery();\r\n                var descr = {\r\n                    parent: this.condition\r\n                };\r\n                var group = this.panel.getQuery().addConditionGroup(descr);\r\n                if (group) {\r\n                    query.fireConditionsChangedEvent(QueryChangeAction.Add, group);\r\n                }\r\n                break;\r\n            case ConditionAction.Enable:\r\n                this.condition.enabled = !this.condition.enabled;\r\n                this.condition.fireChangedEvent();\r\n                break;\r\n            case ConditionAction.Delete:\r\n                var parent_1 = this.condition.getParent();\r\n                if (!parent_1)\r\n                    return;\r\n                var conditions = parent_1.getConditions();\r\n                var idx = conditions.indexOf(this.condition);\r\n                if (idx >= 0) {\r\n                    conditions.splice(idx, 1);\r\n                    this.condition.getQuery().fireConditionsChangedEvent(QueryChangeAction.Delete, this.condition);\r\n                }\r\n                break;\r\n            case ConditionAction.Menu:\r\n                var condMenu = this.getConditionMenu();\r\n                this.keepShowingButtons = true;\r\n                condMenu.showMenu({\r\n                    anchor: evt.target,\r\n                    selectedIds: this.getConditionMenuSelectedItems(),\r\n                    itemSelectedCallback: function (item) {\r\n                        var action;\r\n                        switch (item.id) {\r\n                            case \"enable\":\r\n                                action = ConditionAction.Enable;\r\n                                break;\r\n                            case \"delete\":\r\n                                action = ConditionAction.Delete;\r\n                                break;\r\n                            case \"param\":\r\n                                action = ConditionAction.Parameterized;\r\n                                break;\r\n                            case \"inJoin\":\r\n                                action = ConditionAction.InJoin;\r\n                                break;\r\n                            case \"addCondition\":\r\n                                action = ConditionAction.AddCondition;\r\n                                break;\r\n                            case \"addGroup\":\r\n                                action = ConditionAction.AddGroup;\r\n                                break;\r\n                        }\r\n                        _this.conditionMenuHandler(action, evt);\r\n                    },\r\n                    itemFilterCallback: function (item) {\r\n                        var result = _this.condition.enabled || item.id === \"enable\" || item.id === \"delete\";\r\n                        if (item.id === \"enable\") {\r\n                            var parent_2 = _this.condition.getParent();\r\n                            result = result && parent_2 && parent_2.enabled;\r\n                        }\r\n                        else if (item.id === \"delete\") {\r\n                            result = result && ((_this.panel.options.editableParts & QPEditablePart.Removal) === QPEditablePart.Removal);\r\n                        }\r\n                        else if (item.id === \"addGroup\" || item.id === \"addCondition\") {\r\n                            result = result && ((_this.panel.options.editableParts & QPEditablePart.Addition) === QPEditablePart.Addition);\r\n                        }\r\n                        return result;\r\n                    },\r\n                    menuClosedCallback: function () {\r\n                        _this.keepShowingButtons = false;\r\n                        if (!_this.isMouseOverBlock)\r\n                            _this.leaveButtonBlock();\r\n                    }\r\n                });\r\n                break;\r\n            case ConditionAction.Parameterized:\r\n                this.condition.setParameterized(!this.condition.isParameterized());\r\n                this.condition.fireChangedEvent();\r\n                break;\r\n            case ConditionAction.InJoin:\r\n                this.condition.setInJoin(!this.condition.isInJoin());\r\n                this.condition.fireChangedEvent();\r\n                break;\r\n        }\r\n        evt.stopPropagation();\r\n        return false;\r\n    };\r\n    SimpleConditionRenderer.prototype.getConditionMenuSelectedItems = function () {\r\n        var arrSelected = [];\r\n        if (this.condition.enabled) {\r\n            arrSelected.push(\"enable\");\r\n        }\r\n        ;\r\n        if (this.condition.isParameterized()) {\r\n            arrSelected.push(\"param\");\r\n        }\r\n        ;\r\n        if (this.condition.isInJoin()) {\r\n            arrSelected.push(\"inJoin\");\r\n        }\r\n        ;\r\n        return arrSelected;\r\n    };\r\n    SimpleConditionRenderer.prototype.renderButtonsBlock = function () {\r\n        var _this = this;\r\n        var onButtonMouseEnter = function (evt) {\r\n            domel(evt.target)\r\n                .addClass(_this.cssPrefix + \"-condition-button-active\");\r\n        };\r\n        var onButtonMouseLeave = function (evt) {\r\n            domel(evt.target)\r\n                .removeClass(_this.cssPrefix + \"-condition-button-active\");\r\n        };\r\n        var builder = domel(\"div\")\r\n            .addClass(this.cssPrefix + \"-condition-buttonsBlock\")\r\n            .addClass(browserUtils.getMobileCssClass());\r\n        this.buttonsBlock = builder.toDOM();\r\n        if (this.condition.isReadOnly()) {\r\n            return this.buttonsBlock;\r\n        }\r\n        var buttonsToShow = this.getButtonsToShow();\r\n        if (buttonsToShow.indexOf(\"addCondition\") >= 0 && this.condition.enabled\r\n            && ((this.panel.options.editableParts & QPEditablePart.Addition) == QPEditablePart.Addition)) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-addCondition\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdAddCondition'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.AddCondition, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        var showAddGroupBtn = buttonsToShow.indexOf(\"addGroup\") >= 0 || buttonsToShow.indexOf(\"addPredicate\") >= 0;\r\n        if (showAddGroupBtn && this.condition.enabled\r\n            && ((this.panel.options.editableParts & QPEditablePart.Addition) == QPEditablePart.Addition)) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-addPredicate\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdAddCondGroup'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.AddGroup, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        if (this.getButtonsToShow().indexOf(\"enable\") >= 0 && this.condition.getParent() && this.condition.getParent().enabled) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-enable\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdToggleEnable'))\r\n                        .addClass(_this.condition.enabled ? 'enabled' : '')\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.Enable, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        if (this.getButtonsToShow().indexOf(\"delete\") >= 0 && this.condition.getParent()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Removal) == QPEditablePart.Removal)) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-delete\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('CmdDelete'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.Delete, evt); })\r\n                        .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                        evt.target.click();\r\n                    } })\r\n                        .on('mouseenter', onButtonMouseEnter)\r\n                        .on('mouseleave', onButtonMouseLeave);\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        if (this.getButtonsToShow().indexOf(\"menu\") >= 0) {\r\n            builder.addChild(\"div\", function (b) {\r\n                b.addClass(_this.cssPrefix + \"-button-placeholder\")\r\n                    .data(\"btnplaceholder\", \"\")\r\n                    .addChild(\"div\", function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-condition-button \" + _this.cssPrefix + \"-condition-button-menu\")\r\n                        .attr('tabIndex', '0')\r\n                        .data(\"button\", \"\")\r\n                        .title(i18n.getText('ButtonMenu'))\r\n                        .on('click', function (evt) { return _this.conditionMenuHandler(ConditionAction.Menu, evt); });\r\n                    if (!browserUtils.isMobileMode()) {\r\n                        b\r\n                            .on('keypress', function (evt) { if (evt.keyCode == 13) {\r\n                            evt.target.click();\r\n                        } })\r\n                            .on('mouseenter', onButtonMouseEnter)\r\n                            .on('mouseleave', onButtonMouseLeave);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        ;\r\n        this.adjustButtonsVisibility();\r\n        return this.buttonsBlock;\r\n    };\r\n    SimpleConditionRenderer.prototype.getButtonsToShow = function () {\r\n        return this.panel.options.buttons && this.panel.options.buttons.condition && Array.isArray(this.panel.options.buttons.condition) ? this.panel.options.buttons.condition : [\"enable\", \"delete\"];\r\n    };\r\n    return SimpleConditionRenderer;\r\n}(ConditionRenderer));\r\nexport { SimpleConditionRenderer };\r\n//# sourceMappingURL=condition_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DomElementBuilder } from '@easydata/ui';\r\nvar DomDropDownElementBuilder = /** @class */ (function (_super) {\r\n    __extends(DomDropDownElementBuilder, _super);\r\n    function DomDropDownElementBuilder(parent) {\r\n        var _this = _super.call(this, 'a', parent) || this;\r\n        _this.attr('href', 'javascript:void(0)');\r\n        _this.on('click', function (ev) {\r\n            ev.preventDefault();\r\n            _this.appear();\r\n            return false;\r\n        });\r\n        return _this;\r\n    }\r\n    DomDropDownElementBuilder.prototype.onGetMenu = function (onGetMenu) {\r\n        this._onGetMenu = onGetMenu;\r\n        return this;\r\n    };\r\n    DomDropDownElementBuilder.prototype.onItemSelected = function (onItemSelected) {\r\n        this._onItemSelected = onItemSelected;\r\n        return this;\r\n    };\r\n    DomDropDownElementBuilder.prototype.appear = function () {\r\n        var _this = this;\r\n        var menu = this._onGetMenu ? this._onGetMenu() : null;\r\n        if (menu) {\r\n            menu.showMenu({\r\n                anchor: this.element,\r\n                itemSelectedCallback: function (item) {\r\n                    if (_this._onItemSelected) {\r\n                        _this._onItemSelected(item.id);\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return DomDropDownElementBuilder;\r\n}(DomElementBuilder));\r\nexport { DomDropDownElementBuilder };\r\nexport function dropdown(parent) {\r\n    return new DomDropDownElementBuilder(parent);\r\n}\r\n//# sourceMappingURL=dropdown.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { eqconsts, equtils } from '@easyquery/core';\r\nimport { createBrowserEvent, domel } from '@easydata/ui';\r\nimport { ConditionRenderer, SimpleConditionRenderer } from './condition_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { dropdown } from '../../../utils/dropdown';\r\nvar ConditionGroupRenderer = /** @class */ (function (_super) {\r\n    __extends(ConditionGroupRenderer, _super);\r\n    function ConditionGroupRenderer(panel, condition, slot) {\r\n        var _this = _super.call(this, panel, condition, slot) || this;\r\n        _this.isRoot = !condition.getParent();\r\n        return _this;\r\n    }\r\n    ConditionGroupRenderer.prototype.getClassesToAdd = function () {\r\n        var result = this.cssPrefix + \"-group\";\r\n        if (this.isRoot) {\r\n            result += \" \" + this.cssPrefix + \"-group-root\";\r\n        }\r\n        return result;\r\n    };\r\n    ConditionGroupRenderer.prototype.coreRender = function (autoAppear) {\r\n        domel(this.element)\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.renderGroupRow())\r\n            .addChildElement(this.renderConditions(autoAppear))\r\n            .data('id', this.condition.id)\r\n            .data('group', '');\r\n    };\r\n    ConditionGroupRenderer.prototype.renderGroupRow = function () {\r\n        if (this.isRoot && !this.panel.options.showRootRow) {\r\n            return null;\r\n        }\r\n        else {\r\n            return new ConditionGroupRowRenderer(this.panel, this.condition).render();\r\n        }\r\n    };\r\n    ConditionGroupRenderer.prototype.renderConditions = function (autoAppear) {\r\n        var _this = this;\r\n        var builder = domel('div');\r\n        builder\r\n            .addClass(this.cssPrefix + \"-conditions\")\r\n            .addClass(\"\" + browserUtils.getMobileCssClass())\r\n            .data('conditions', '');\r\n        if (this.isRoot) {\r\n            builder.addClass(this.cssPrefix + \"-conditions-root\");\r\n        }\r\n        this.condition.getConditions().forEach(function (condition, index, array) {\r\n            var renderer = _this.panel.getConditionRenderer(condition);\r\n            if (renderer) {\r\n                builder.addChildElement(renderer.render(autoAppear && index == array.length - 1));\r\n            }\r\n        });\r\n        return builder.toDOM();\r\n    };\r\n    return ConditionGroupRenderer;\r\n}(ConditionRenderer));\r\nexport { ConditionGroupRenderer };\r\nvar ConditionGroupRowRenderer = /** @class */ (function (_super) {\r\n    __extends(ConditionGroupRowRenderer, _super);\r\n    function ConditionGroupRowRenderer(panel, condition, slot) {\r\n        var _this = _super.call(this, panel, condition, slot) || this;\r\n        _this.isRoot = !_this.condition.getParent();\r\n        return _this;\r\n    }\r\n    ConditionGroupRowRenderer.prototype.getButtonsToShow = function () {\r\n        return this.panel.options.buttons && this.panel.options.buttons.group && Array.isArray(this.panel.options.buttons.group) ? this.panel.options.buttons.group : [\"addCondition\", \"addGroup\", \"enable\", \"delete\"];\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getClassesToAdd = function () {\r\n        var result;\r\n        if (this.isRoot) {\r\n            result = this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-group \" + this.cssPrefix + \"-row-group-root\";\r\n        }\r\n        else {\r\n            result = this.cssPrefix + \"-row \" + this.cssPrefix + \"-row-group\";\r\n            var level = this.condition.getLevel();\r\n            if (level > 0)\r\n                result += \" \" + this.cssPrefix + \"-level-\" + level;\r\n            result += this.condition.enabled ? '' : \" \" + this.cssPrefix + \"-disabled\";\r\n            if (this.condition.enabled) {\r\n                result += this.condition.isReadOnly() ? \" \" + this.cssPrefix + \"-readonly\" : '';\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ConditionGroupRowRenderer.prototype.coreRender = function (autoAppear) {\r\n        var _this = this;\r\n        var builder = domel(this.element)\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .data('group-row', '')\r\n            .addChildElement(this.renderCheckbox())\r\n            .addChildElement(this.renderConjunction());\r\n        var level = this.condition.getLevel();\r\n        if (level > 0)\r\n            builder.addClass(this.cssPrefix + \"-level-\" + level);\r\n        this.buildGroupElements(builder, this.getGroupTitle());\r\n        if (this.panel.options.accentActiveCondition) {\r\n            builder.on('click', function (ev) {\r\n                _this.panel.toggleConditionPicked(_this.condition);\r\n                _this.adjustButtonsVisibility();\r\n                if (!browserUtils.isMobileMode()) {\r\n                    builder.toDOM().dispatchEvent(createBrowserEvent(\"mouseenter\"));\r\n                }\r\n            });\r\n        }\r\n        builder\r\n            .addChildElement(this.renderButtonsBlock());\r\n        if (!browserUtils.isMobileMode()) {\r\n            builder\r\n                .on('mouseenter', function (event) {\r\n                _this.isMouseOverBlock = true;\r\n                _this.enterButtonBlock();\r\n                event.stopPropagation();\r\n                return false;\r\n            })\r\n                .on('mouseleave', function (event) {\r\n                _this.isMouseOverBlock = false;\r\n                if (!_this.keepShowingButtons && domel(_this.buttonsBlock).isVisible()) {\r\n                    _this.leaveButtonBlock();\r\n                }\r\n                event.stopPropagation();\r\n                return false;\r\n            });\r\n        }\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getGroupTitle = function () {\r\n        var result;\r\n        if (this.isRoot && !browserUtils.isMobileMode()) {\r\n            result = i18n.getText('RootConditionGroupTitle');\r\n            if (!result) {\r\n                //to support old text key\r\n                result = i18n.getText('RootPredicteTitle');\r\n            }\r\n        }\r\n        else {\r\n            result = i18n.getText('ConditionGroupTitle');\r\n            if (!result) {\r\n                //to support old text key\r\n                result = i18n.getText('PredicateTitle');\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ConditionGroupRowRenderer.prototype.buildGroupElements = function (builder, groupTitle) {\r\n        var _this = this;\r\n        var pos = groupTitle.indexOf('{lt}');\r\n        if (pos < 0) {\r\n            //invalid format\r\n            builder.addText(i18n.getText('ErrIncorrectGroupTitleFormat'));\r\n            builder.addClass(this.cssPrefix + \"-error\");\r\n        }\r\n        else {\r\n            if (pos > 0) {\r\n                builder.addChild('span', function (b) {\r\n                    b.addClass(_this.cssPrefix + \"-grelement\")\r\n                        .addText(groupTitle.substring(0, pos));\r\n                });\r\n            }\r\n            var linkTypeStr = equtils.linkTypeToStr(this.condition.linkType);\r\n            var curType_1 = dataUtils.findItemById(eqconsts.predicateLinkTypeList, linkTypeStr);\r\n            if (!curType_1) {\r\n                curType_1 = eqconsts.predicateLinkTypeList[0];\r\n            }\r\n            if (this.isEditable()) {\r\n                dropdown(builder.toDOM())\r\n                    .onGetMenu(function () { return _this.getLinkTypeMenu(); })\r\n                    .onItemSelected(function (id) {\r\n                    _this.condition.linkType = equtils.strToLinkType(id);\r\n                    _this.condition.fireChangedEvent();\r\n                })\r\n                    .addText(i18n.getText(curType_1.key))\r\n                    .title(i18n.getText(curType_1.key))\r\n                    .addClass(this.cssPrefix + \"-grelement\");\r\n            }\r\n            else {\r\n                builder.addChild('span', function (b) {\r\n                    b.text(i18n.getText(curType_1.key))\r\n                        .title(i18n.getText(curType_1.key))\r\n                        .addClass(_this.cssPrefix + \"-grelement\");\r\n                });\r\n            }\r\n            builder.addChild('span', function (b) {\r\n                b.addClass(_this.cssPrefix + \"-grelement\")\r\n                    .addText(groupTitle.substring(pos + 4));\r\n            });\r\n        }\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getConditionMenu = function () {\r\n        return this.panel.getConditionGroupMenu(this.condition.getParent() == null);\r\n    };\r\n    ConditionGroupRowRenderer.prototype.getLinkTypeMenu = function () {\r\n        return this.panel.getLinkTypeMenu();\r\n    };\r\n    ConditionGroupRowRenderer.prototype.renderConjunction = function () {\r\n        return this.isRoot ? null : _super.prototype.renderConjunction.call(this);\r\n    };\r\n    ConditionGroupRowRenderer.prototype.renderCheckbox = function () {\r\n        return this.isRoot ? null : _super.prototype.renderCheckbox.call(this);\r\n    };\r\n    ConditionGroupRowRenderer.prototype.leaveButtonBlock = function () {\r\n        if (!this.panel.options.alwaysShowButtonsInGroups\r\n            && (!this.isConditionActive() || this.panel.options.accentActiveCondition)) {\r\n            this.hideButtons();\r\n        }\r\n    };\r\n    ConditionGroupRowRenderer.prototype.adjustButtonsVisibility = function () {\r\n        if (this.panel.options.alwaysShowButtonsInGroups\r\n            || (this.panel.options.accentActiveCondition && this.isConditionActive())) {\r\n            this.showButtons();\r\n        }\r\n    };\r\n    return ConditionGroupRowRenderer;\r\n}(SimpleConditionRenderer));\r\nexport { ConditionGroupRowRenderer };\r\n//# sourceMappingURL=condition_group_renderer.js.map","export var FacetType;\r\n(function (FacetType) {\r\n    FacetType[\"DataGrid\"] = \"DATA_GRID\";\r\n    FacetType[\"Chart\"] = \"CHART\";\r\n    FacetType[\"PivotTable\"] = \"PIVOT_TABLE\";\r\n})(FacetType || (FacetType = {}));\r\n//# sourceMappingURL=facet_type.js.map","import { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../../utils/browser_utils';\r\nvar BaseElementRenderer = /** @class */ (function () {\r\n    function BaseElementRenderer(slot) {\r\n        this.element = slot || domel('div').toDOM();\r\n    }\r\n    BaseElementRenderer.prototype.refresh = function () {\r\n        this.render();\r\n    };\r\n    BaseElementRenderer.prototype.render = function (isEditMode) {\r\n        var _this = this;\r\n        if (isEditMode === void 0) { isEditMode = false; }\r\n        this.labelElement = this.renderLabelElement();\r\n        domel(this.element)\r\n            .html('')\r\n            .addClass(this.getClassesToAdd())\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChildElement(this.labelElement);\r\n        if (this.isEditable()) {\r\n            this.renderEditor();\r\n            if (isEditMode) {\r\n                setTimeout(function () { return _this.showEditor(); }, 50);\r\n            }\r\n        }\r\n        return this.element;\r\n    };\r\n    BaseElementRenderer.prototype.isEditable = function () {\r\n        return true;\r\n    };\r\n    BaseElementRenderer.prototype.renderLabelElement = function () {\r\n        var _this = this;\r\n        var displayedText = this.getLabelText();\r\n        if (this.isEditable()) {\r\n            return domel('a')\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(displayedText)\r\n                .text(displayedText)\r\n                .on('click', function (ev) {\r\n                ev.preventDefault();\r\n                _this.showEditor();\r\n                return false;\r\n            })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            return domel('span')\r\n                .title(displayedText)\r\n                .text(displayedText)\r\n                .toDOM();\r\n        }\r\n    };\r\n    BaseElementRenderer.prototype.getClassesToAdd = function () {\r\n        return '';\r\n    };\r\n    BaseElementRenderer.prototype.getLabelText = function () {\r\n        return this.getEmptyText();\r\n    };\r\n    BaseElementRenderer.prototype.getEmptyText = function () {\r\n        return '<empty>';\r\n    };\r\n    return BaseElementRenderer;\r\n}());\r\nexport { BaseElementRenderer };\r\n//# sourceMappingURL=base_element_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ConditionPart } from '@easyquery/core';\r\nimport { BaseElementRenderer } from '../base_element_renderer';\r\nvar ExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(ExpressionRenderer, _super);\r\n    function ExpressionRenderer(panel, expression, valueEditor, slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = panel;\r\n        _this.expression = expression;\r\n        _this.valueEditor = valueEditor;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ExpressionRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ExpressionRenderer.prototype.render = function (isEditMode) {\r\n        if (isEditMode === void 0) { isEditMode = false; }\r\n        _super.prototype.render.call(this, isEditMode);\r\n        if (this.panel.options.onExpressionRendered) {\r\n            this.panel.options.onExpressionRendered(this.expression, this.element);\r\n        }\r\n        return this.element;\r\n    };\r\n    ExpressionRenderer.prototype.getContext = function () {\r\n        return this.panel.getContext();\r\n    };\r\n    ExpressionRenderer.prototype.isReadOnly = function () {\r\n        var parent = this.expression.getParent();\r\n        return !parent.enabled || parent.isReadOnly();\r\n    };\r\n    ExpressionRenderer.prototype.isEditable = function () {\r\n        return !this.isReadOnly();\r\n    };\r\n    ExpressionRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-valueelement\";\r\n    };\r\n    ExpressionRenderer.prototype.getLabelText = function () {\r\n        var result = !this.expression.isEmpty()\r\n            ? this.expression.value\r\n            : this.getEmptyText();\r\n        return result;\r\n    };\r\n    ExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextValue || i18n.getText('MsgEmptyScalarValue'); //'[enter value]';\r\n    };\r\n    ExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        this.expression.setValue(value);\r\n        if (!silent) {\r\n            this.expression.getParent().fireChangedEvent(ConditionPart.Value);\r\n        }\r\n    };\r\n    ExpressionRenderer.prototype.getValue = function () {\r\n        return this.expression.value;\r\n    };\r\n    ExpressionRenderer.prototype.validateInput = function (value) {\r\n        return { success: true, value: value };\r\n    };\r\n    ExpressionRenderer.prototype.showValidationError = function (message, target) {\r\n        this.getContext().throwError({\r\n            action: \"ui.validation\",\r\n            \"text\": message\r\n        });\r\n    };\r\n    ExpressionRenderer.prototype.isEmptyValue = function () {\r\n        var v = this.getValue();\r\n        return (typeof (v) === \"undefined\" || v === null || !v);\r\n    };\r\n    ExpressionRenderer.prototype.adjustWidth = function () {\r\n    };\r\n    return ExpressionRenderer;\r\n}(BaseElementRenderer));\r\nexport { ExpressionRenderer };\r\n//# sourceMappingURL=expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { DataKind } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExpressionRenderer } from './expression_renderer';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nvar InputExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(InputExpressionRenderer, _super);\r\n    function InputExpressionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    InputExpressionRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        this.inputBuilder = domel(\"input\")\r\n            .hide()\r\n            .addClass(this.cssPrefix + \"-ve-editbox\")\r\n            .type('text')\r\n            .on('blur', function (ev) {\r\n            if (_this.inputBuilder.isVisible() && !_this.dontProcessBlur) {\r\n                var validationResult = _this.validateInput(_this.inputElement.value);\r\n                if (validationResult.success) {\r\n                    _this.setValue(_this.inputElement.value);\r\n                    _this.closeEditor();\r\n                }\r\n                else {\r\n                    _this.dontProcessBlur = true;\r\n                    _this.inputElement.focus();\r\n                    setTimeout(function () { _this.dontProcessBlur = false; }, 200);\r\n                    _this.showValidationError(validationResult.message, ev.target);\r\n                }\r\n                ev.stopPropagation();\r\n                return false;\r\n            }\r\n        })\r\n            .on('keydown', function (ev) {\r\n            if (ev.keyCode === 27) { // ESC is pressed\r\n                _this.closeEditor();\r\n                ev.stopPropagation();\r\n                return false;\r\n            }\r\n            else if (ev.keyCode === 13) { // Enter is pressed\r\n                if (_this.inputBuilder.isVisible()) {\r\n                    _this.dontProcessBlur = true;\r\n                    var validationResult = _this.validateInput(_this.inputElement.value);\r\n                    if (validationResult.success) {\r\n                        _this.setValue(_this.inputElement.value);\r\n                        _this.closeEditor();\r\n                        _this.dontProcessBlur = false;\r\n                    }\r\n                    else {\r\n                        _this.inputElement.focus();\r\n                        setTimeout(function () { _this.dontProcessBlur = false; }, 200);\r\n                    }\r\n                    ev.stopPropagation();\r\n                    return false;\r\n                }\r\n            }\r\n        });\r\n        this.inputElement = this.inputBuilder.toDOM();\r\n        domel(this.element)\r\n            .addChildElement(this.inputElement);\r\n    };\r\n    InputExpressionRenderer.prototype.showEditor = function () {\r\n        var MIN_WIDTH = 200;\r\n        if (!browserUtils.isMobileMode()) {\r\n            var left = this.element.offsetLeft;\r\n            var width = this.element.offsetWidth > MIN_WIDTH ? this.element.offsetWidth : MIN_WIDTH;\r\n            var maxWidth = this.element.parentElement.clientWidth - left - 55;\r\n            this.inputBuilder\r\n                .removeStyle('left')\r\n                .removeStyle('right');\r\n            if (maxWidth < MIN_WIDTH) {\r\n                this.inputBuilder\r\n                    .setStyle('right', '55px')\r\n                    .setStyle('width', MIN_WIDTH + \"px\");\r\n            }\r\n            else if (maxWidth < width) {\r\n                this.inputBuilder\r\n                    .setStyle('left', left + \"px\")\r\n                    .setStyle('width', maxWidth + \"px\");\r\n            }\r\n            else {\r\n                this.inputBuilder\r\n                    .setStyle('left', left + \"px\")\r\n                    .setStyle('width', width + \"px\");\r\n            }\r\n        }\r\n        domel(this.labelElement).hide();\r\n        this.inputBuilder\r\n            .value(this.getValue())\r\n            .show();\r\n        this.inputElement.focus();\r\n    };\r\n    InputExpressionRenderer.prototype.closeEditor = function () {\r\n        this.inputBuilder.hide();\r\n        domel(this.labelElement).show();\r\n        this.labelElement.focus();\r\n    };\r\n    InputExpressionRenderer.prototype.validateInput = function (inputValue) {\r\n        this.inputBuilder.removeClass(\"eqjs-invalid\");\r\n        var result = {\r\n            success: true,\r\n            value: inputValue\r\n        };\r\n        if (this.expression.kind == DataKind.List) {\r\n            this.validateListInput(inputValue, result);\r\n        }\r\n        else {\r\n            this.validateScalarInput(inputValue, result);\r\n        }\r\n        return result;\r\n    };\r\n    InputExpressionRenderer.prototype.validateListInput = function (inputValue, result) {\r\n        var inputValues = inputValue.split(/\\s*,\\s*/);\r\n        for (var _i = 0, inputValues_1 = inputValues; _i < inputValues_1.length; _i++) {\r\n            var val = inputValues_1[_i];\r\n            this.validateScalarInput(val, result);\r\n            if (!result.success) {\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    InputExpressionRenderer.prototype.validateScalarInput = function (inputValue, result) {\r\n        if (dataUtils.isNumericType(this.expression.dataType)) {\r\n            var parsedVal = +inputValue;\r\n            if (isNaN(parsedVal)) {\r\n                result.success = false;\r\n                result.message = '\"' + inputValue + '\" ' + i18n.getText('ErrNotNumber');\r\n            }\r\n            if (dataUtils.isIntType(this.expression.dataType) && parsedVal != parseInt(inputValue, 10)) {\r\n                result.success = false;\r\n                result.message = '\"' + inputValue + '\" ' + i18n.getText('ErrIncorrectInteger');\r\n            }\r\n        }\r\n    };\r\n    InputExpressionRenderer.prototype.showValidationError = function (message, target) {\r\n        _super.prototype.showValidationError.call(this, message, target);\r\n        this.inputBuilder.addClass(\"eqjs-invalid\");\r\n    };\r\n    InputExpressionRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    return InputExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { InputExpressionRenderer };\r\n//# sourceMappingURL=input_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { eqconsts, DataKind, ConditionPart, } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExpressionRenderer } from './expression_renderer';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar ListExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(ListExpressionRenderer, _super);\r\n    function ListExpressionRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.menuItemsList = [];\r\n        _this.showWhenReady = false;\r\n        return _this;\r\n    }\r\n    ListExpressionRenderer.prototype.isEditable = function () {\r\n        return !this.isReadOnly()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    ListExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        var newValue = this.adjustNewValue(value);\r\n        if (value !== this.expression.value) {\r\n            var text = this.getValueText(value);\r\n            this.expression.setContent(newValue, text);\r\n            if (!silent) {\r\n                this.expression.getParent().fireChangedEvent(ConditionPart.Value);\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    ListExpressionRenderer.prototype.getValueText = function (value) {\r\n        var result = \"\";\r\n        if (Array.isArray(value)) {\r\n            for (var _i = 0, _a = this.menuItemsList; _i < _a.length; _i++) {\r\n                var item = _a[_i];\r\n                if (value.indexOf(item.id) >= 0) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            for (var _b = 0, _c = this.menuItemsList; _b < _c.length; _b++) {\r\n                var item = _c[_b];\r\n                if (item.id === value) {\r\n                    result += item.text + ',';\r\n                }\r\n            }\r\n        }\r\n        if (result) {\r\n            result = result.substring(0, result.length - 1);\r\n        }\r\n        return result;\r\n    };\r\n    ListExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextList || i18n.getText('MsgEmptyListValue');\r\n    };\r\n    ListExpressionRenderer.prototype.getListName = function () {\r\n        return this.valueEditor.name;\r\n    };\r\n    ListExpressionRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        this.fillMenuItemsList(function () {\r\n            _this.renderMenuBlock();\r\n        });\r\n    };\r\n    ListExpressionRenderer.prototype.getLabelText = function () {\r\n        if (!this.expression.isEmpty()) {\r\n            return this.expression.getText();\r\n        }\r\n        else {\r\n            return this.getEmptyText();\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.showLoader = function () {\r\n        //NOTHING TO DO\r\n    };\r\n    ListExpressionRenderer.prototype.hideLoader = function () {\r\n        //NOTHING TO DO\r\n    };\r\n    ListExpressionRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        if (this.menu) {\r\n            this.menu.showMenu({\r\n                anchor: this.labelElement,\r\n                selectedIds: this.getValuesAsArray(),\r\n                itemSelectedCallback: function (item, selectedItems) {\r\n                    if (!_this.menu.options.multiselect) {\r\n                        _this.setValue(item.id);\r\n                    }\r\n                    else if (selectedItems) {\r\n                        var selectedIds = [];\r\n                        var selLength = selectedItems.length;\r\n                        for (var i = 0; i < selLength; i++)\r\n                            selectedIds.push(selectedItems[i].id);\r\n                        _this.setValue(selectedIds);\r\n                    }\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this.showWhenReady = true;\r\n            this.showLoader();\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.closeEditor = function () {\r\n        this.menu.hideMenu();\r\n    };\r\n    ListExpressionRenderer.prototype.renderMenuBlock = function () {\r\n        var multiSelect = false;\r\n        if (this.expression) {\r\n            multiSelect = this.expression.kind === DataKind.List;\r\n        }\r\n        var queryPanel = this.panel;\r\n        var options = {\r\n            items: this.menuItemsList,\r\n            multiselect: multiSelect,\r\n            container: queryPanel ? queryPanel.options.menuContainer : null,\r\n            showSelected: true\r\n        };\r\n        if (queryPanel) {\r\n            dataUtils.assignDeep(options, queryPanel.options.menuOptions);\r\n        }\r\n        ;\r\n        if (queryPanel && queryPanel.options.isSubQuery) {\r\n            options.zIndex = queryPanel.options.dialogZIndex + 1000;\r\n        }\r\n        var menuId = this.element.id;\r\n        if (menuId) {\r\n            options.id = menuId + '-EditorMenu';\r\n        }\r\n        if (queryPanel) {\r\n            options.domWriteItemsId = queryPanel.options.domWriteItemsId;\r\n        }\r\n        ;\r\n        options.buttons = {\r\n            submit: i18n.getText('ButtonApply'),\r\n            cancel: i18n.getText('ButtonCancel')\r\n        };\r\n        this.menu = new PopupMenu(options);\r\n    };\r\n    ListExpressionRenderer.prototype.getValuesAsArray = function () {\r\n        if (this.expression.kind !== DataKind.List) {\r\n            return [this.expression.value];\r\n        }\r\n        else {\r\n            //splits value by ',' \r\n            var res = this.expression.value.match(/\"[^\"\\\\]*(?:\\\\.[^\"\\\\]*)*\"|[^,]+/g);\r\n            return res\r\n                ? res.map(function (a) {\r\n                    if (a.charAt(0) == '\"' && a.charAt(a.length - 1) == '\"') {\r\n                        a = a.substring(1, a.length - 1);\r\n                        return a.replace(/\\\"/g, '\"');\r\n                    }\r\n                    else {\r\n                        return a;\r\n                    }\r\n                })\r\n                : [];\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.adjustNewValue = function (newValue) {\r\n        if (Array.isArray(newValue)) {\r\n            return newValue.map(function (a) {\r\n                if (a.indexOf(',') >= 0) {\r\n                    a = a.replace(/\"/g, '\\\"');\r\n                    return '\"' + a + '\"';\r\n                }\r\n                else {\r\n                    return a;\r\n                }\r\n            }).join(',');\r\n        }\r\n        else {\r\n            return newValue;\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        this.menuItemsList = this.valueEditor.values;\r\n        if (onComplete) {\r\n            onComplete();\r\n        }\r\n    };\r\n    ListExpressionRenderer.prototype.takeDefaultValue = function () {\r\n        if (!this.menuItemsList)\r\n            return;\r\n        var itemLen = this.menuItemsList.length;\r\n        for (var i = 0; i < itemLen; i++) {\r\n            var item = this.menuItemsList[i];\r\n            if (item.isDefault) {\r\n                this.setValue(item.id, true);\r\n                break;\r\n            }\r\n        }\r\n    };\r\n    return ListExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { ListExpressionRenderer };\r\nvar CustomListExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(CustomListExpressionRenderer, _super);\r\n    function CustomListExpressionRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.isLoading = false;\r\n        _this.onClickTemp = null;\r\n        return _this;\r\n    }\r\n    CustomListExpressionRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        if (this.isLoading)\r\n            return;\r\n        this.isLoading = true;\r\n        this.fillMenuItemsList(function () {\r\n            _this.isLoading = false;\r\n            if (_this.isEmptyValue()) {\r\n                _this.takeDefaultValue();\r\n            }\r\n            if (!_this.expression.isEmpty() && _this.expression._isDefaultValue) {\r\n                var text = _this.getValueText(_this.expression.value);\r\n                _this.expression.setContent(_this.expression.value, text);\r\n                _this.expression.getParent().fireChangedEvent();\r\n            }\r\n            _this.renderMenuBlock();\r\n            if (_this.showWhenReady) {\r\n                _this.showWhenReady = false;\r\n                _this.hideLoader();\r\n                _this.showEditor();\r\n            }\r\n        });\r\n    };\r\n    CustomListExpressionRenderer.prototype.showLoader = function () {\r\n        this.labelElement.style.display = 'none';\r\n        if (!this.loaderElement) {\r\n            this.loaderElement = domel('div', this.element)\r\n                .addClass(this.cssPrefix + \"-ve-loader\")\r\n                .toDOM();\r\n        }\r\n        this.loaderElement.style.display = 'block';\r\n    };\r\n    CustomListExpressionRenderer.prototype.hideLoader = function () {\r\n        this.loaderElement.style.display = 'none';\r\n        this.labelElement.removeAttribute('style');\r\n    };\r\n    CustomListExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        var _this = this;\r\n        var listName = this.getListName();\r\n        var listRequestHandler = this.panel.getContext().getListRequestHandler();\r\n        if (eqconsts.constLists[listName]) {\r\n            this.menuItemsList = eqconsts.constLists[listName];\r\n            if (onComplete) {\r\n                onComplete();\r\n            }\r\n        }\r\n        else if (listRequestHandler) {\r\n            listRequestHandler({\r\n                listName: listName,\r\n                editorId: this.valueEditor.id,\r\n                editorParams: this.valueEditor.extraParams,\r\n                value: this.getValue()\r\n            }, function (list) {\r\n                _this.menuItemsList = list;\r\n                if (onComplete) {\r\n                    onComplete();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return CustomListExpressionRenderer;\r\n}(ListExpressionRenderer));\r\nexport { CustomListExpressionRenderer };\r\nvar SqlListExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(SqlListExpressionRenderer, _super);\r\n    function SqlListExpressionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SqlListExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        var _this = this;\r\n        var context = this.panel.getContext();\r\n        var editor = this.valueEditor;\r\n        var listRequestHandler = context.getListRequestHandler();\r\n        if (listRequestHandler) {\r\n            var requestData = {\r\n                listName: \"SQL\",\r\n                editorId: this.valueEditor.id,\r\n                editorParams: this.valueEditor.extraParams,\r\n                value: this.getValue()\r\n            };\r\n            //requestData.sql = editor.sql;\r\n            listRequestHandler(requestData, function (list) {\r\n                _this.menuItemsList = list;\r\n                if (onComplete) {\r\n                    onComplete();\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return SqlListExpressionRenderer;\r\n}(CustomListExpressionRenderer));\r\nexport { SqlListExpressionRenderer };\r\n//# sourceMappingURL=list_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { ConditionPart, } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ListExpressionRenderer } from './list_expression_renderer';\r\nimport { browserUtils } from '../../../utils/browser_utils';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar AttributeExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(AttributeExpressionRenderer, _super);\r\n    function AttributeExpressionRenderer(panel, expression, entitiesMenu, slot) {\r\n        var _this = _super.call(this, panel, expression, null, slot) || this;\r\n        _this.menu = entitiesMenu;\r\n        return _this;\r\n    }\r\n    AttributeExpressionRenderer.prototype.renderEditor = function () {\r\n        //create menu\r\n    };\r\n    AttributeExpressionRenderer.prototype.getLabelText = function () {\r\n        var model = this.panel.getContext().getModel();\r\n        var attrId = this.expression.value;\r\n        var attrObj = attrId ? model.getAttributeById(attrId) : null;\r\n        var attrFormat = this.panel.options.attrElementFormat;\r\n        return attrObj ? model.getAttributeText(attrObj, attrFormat) : this.getEmptyText();\r\n    };\r\n    AttributeExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        if (silent === void 0) { silent = false; }\r\n        silent = silent && value !== this.expression.value;\r\n        var result = _super.prototype.setValue.call(this, value, true);\r\n        if (!silent) {\r\n            this.expression.getParent().fireChangedEvent(ConditionPart.EntityAttr | ConditionPart.Operator);\r\n        }\r\n        return result;\r\n    };\r\n    AttributeExpressionRenderer.prototype.isEditable = function () {\r\n        return !this.isReadOnly()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Attribute) === QPEditablePart.Attribute);\r\n    };\r\n    AttributeExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextAttribute || i18n.getText('MsgEmptyAttrValue');\r\n    };\r\n    AttributeExpressionRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-attrelement\";\r\n    };\r\n    AttributeExpressionRenderer.prototype.adjustWidth = function () {\r\n        if (browserUtils.isMobileMode()) {\r\n            return;\r\n        }\r\n        var elWidth = this.element.clientWidth;\r\n        var parWidth = this.element.parentElement.clientWidth;\r\n        if (elWidth > parWidth / 2) {\r\n            domel(this.element)\r\n                .addClass(this.cssPrefix + \"-attrelement-wide\");\r\n        }\r\n    };\r\n    return AttributeExpressionRenderer;\r\n}(ListExpressionRenderer));\r\nexport { AttributeExpressionRenderer };\r\n//# sourceMappingURL=attribute_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { BaseElementRenderer } from './base_element_renderer';\r\nvar DropDownRenderer = /** @class */ (function (_super) {\r\n    __extends(DropDownRenderer, _super);\r\n    function DropDownRenderer(slot) {\r\n        return _super.call(this, slot) || this;\r\n    }\r\n    DropDownRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        var menu = this.getMenu();\r\n        if (menu) {\r\n            menu.showMenu({\r\n                anchor: this.labelElement,\r\n                itemSelectedCallback: function (item) {\r\n                    _this.itemSelected(item.id);\r\n                    return false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    DropDownRenderer.prototype.closeEditor = function () {\r\n        var menu = this.getMenu();\r\n        if (menu)\r\n            menu.hideMenu();\r\n    };\r\n    return DropDownRenderer;\r\n}(BaseElementRenderer));\r\nexport { DropDownRenderer };\r\n//# sourceMappingURL=dropdown_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { QueryChangeAction } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { DropDownRenderer } from '../dropdown_renderer';\r\nimport { eqCssPrefix } from '../../../utils/utils';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar AddRowRenderer = /** @class */ (function (_super) {\r\n    __extends(AddRowRenderer, _super);\r\n    function AddRowRenderer(panel, entitiesMenu, slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = panel;\r\n        _this.menu = entitiesMenu;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(AddRowRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    AddRowRenderer.prototype.getLabelText = function () {\r\n        return i18n.getText('CmdClickToAddCondition');\r\n    };\r\n    AddRowRenderer.prototype.getClassesToAdd = function () {\r\n        return eqCssPrefix + \"-addrow \" + this.cssPrefix + \"-addrow\";\r\n    };\r\n    AddRowRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Addition) === QPEditablePart.Addition);\r\n    };\r\n    AddRowRenderer.prototype.renderLabelElement = function () {\r\n        var _this = this;\r\n        var displayedText = this.getLabelText();\r\n        if (this.isEditable()) {\r\n            this.labelElement = domel('a')\r\n                .attr('href', 'javascript:void(0)')\r\n                .title(displayedText)\r\n                .text(displayedText)\r\n                .on('click', function (ev) {\r\n                ev.preventDefault();\r\n                _this.showEditor();\r\n                return false;\r\n            })\r\n                .toDOM();\r\n        }\r\n        else {\r\n            this.labelElement = domel('div')\r\n                .toDOM();\r\n        }\r\n        return this.labelElement;\r\n    };\r\n    AddRowRenderer.prototype.renderEditor = function () {\r\n        // do nothing - the menu is alredy created\r\n    };\r\n    AddRowRenderer.prototype.itemSelected = function (id) {\r\n        var query = this.panel.getQuery();\r\n        var descr = {\r\n            parent: query.getRootCondition(),\r\n            attributeId: id\r\n        };\r\n        var cond = query.addSimpleCondition(descr);\r\n        if (cond) {\r\n            query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n        }\r\n    };\r\n    AddRowRenderer.prototype.getMenu = function () {\r\n        return this.menu;\r\n    };\r\n    return AddRowRenderer;\r\n}(DropDownRenderer));\r\nexport { AddRowRenderer };\r\n//# sourceMappingURL=addrow_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { DataKind, ConditionPart } from '@easyquery/core';\r\nimport { DropDownRenderer } from '../dropdown_renderer';\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar OperatorRenderer = /** @class */ (function (_super) {\r\n    __extends(OperatorRenderer, _super);\r\n    function OperatorRenderer(panel, condition, text, slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = panel;\r\n        _this.condition = condition;\r\n        _this.displayedText = text;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(OperatorRenderer.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    OperatorRenderer.prototype.renderEditor = function () {\r\n        var _this = this;\r\n        //create menu\r\n        var model = this.panel.getContext().getModel();\r\n        var query = this.panel.getQuery();\r\n        var items = [];\r\n        var isRelatedToSubQuery = function (operator) {\r\n            return operator.defaultOperand.kind == DataKind.Query;\r\n        };\r\n        var attrId = (this.condition && this.condition.expressions && this.condition.expressions[0]) ? this.condition.expressions[0].value : null;\r\n        var attr = attrId ? model.getAttributeById(this.condition.expressions[0].value) : null;\r\n        if (attr && attr.operators) {\r\n            attr.operators.forEach(function (operId) {\r\n                var operator = model.getOperatorById(operId);\r\n                var related = isRelatedToSubQuery(operator);\r\n                if (!query.isEx() && related) {\r\n                    return;\r\n                }\r\n                if (operator && !(_this.panel.options.isSubQuery && related)) {\r\n                    items.push({\r\n                        id: operId,\r\n                        text: i18n.getText('Operators', operId, 'caption') || operator.caption\r\n                    });\r\n                }\r\n            });\r\n        }\r\n        var options = {\r\n            items: items,\r\n            adjustHeight: this.panel.options.adjustEntitiesMenuHeight,\r\n            id: dataUtils.generateId('opmn'),\r\n            domWriteItemsId: this.panel.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.panel.options.menuOptions);\r\n        this.menu = new PopupMenu(options);\r\n    };\r\n    OperatorRenderer.prototype.getLabelText = function () {\r\n        return this.displayedText;\r\n    };\r\n    OperatorRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextOperator || i18n.getText('MsgEmptyOperator');\r\n    };\r\n    OperatorRenderer.prototype.getClassesToAdd = function () {\r\n        return this.cssPrefix + \"-condelement \" + this.cssPrefix + \"-operelement\";\r\n    };\r\n    OperatorRenderer.prototype.isEditable = function () {\r\n        return this.condition.enabled && !this.condition.isReadOnly()\r\n            && ((this.panel.options.editableParts & QPEditablePart.Operator) === QPEditablePart.Operator);\r\n    };\r\n    OperatorRenderer.prototype.itemSelected = function (id) {\r\n        this.condition.setOperatorId(id);\r\n        this.condition.fireChangedEvent(ConditionPart.Operator);\r\n    };\r\n    OperatorRenderer.prototype.getMenu = function () {\r\n        return this.menu;\r\n    };\r\n    return OperatorRenderer;\r\n}(DropDownRenderer));\r\nexport { OperatorRenderer };\r\n//# sourceMappingURL=operator_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n, DataType, utils as dataUtils } from '@easydata/core';\r\nimport { DefaultDateTimePicker } from '@easydata/ui';\r\nimport { ExpressionRenderer } from './expression_renderer';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar DateTimeExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(DateTimeExpressionRenderer, _super);\r\n    function DateTimeExpressionRenderer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.dtp = null;\r\n        _this.internalDateFormat = 'yyyy-MM-dd';\r\n        _this.internalTimeFormat = 'HH:mm';\r\n        return _this;\r\n    }\r\n    DateTimeExpressionRenderer.prototype.renderEditor = function () {\r\n    };\r\n    DateTimeExpressionRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        if (this.dtp)\r\n            return;\r\n        var pickerOptions = {\r\n            yearRange: this.panel.options.yearRange,\r\n            showCalendar: this.expression.dataType !== DataType.Time,\r\n            showTimePicker: this.expression.dataType !== DataType.Date,\r\n            oneClickDateSelection: this.panel.options.oneClickDateSelection,\r\n            showDateTimeInput: this.panel.options.showDateTimeInput,\r\n            onApply: function (dateTime) {\r\n                var value = _this.convertToInternalFormat(dateTime);\r\n                _this.setValue(value);\r\n                _this.dtp = null;\r\n                setTimeout(function () { return _this.labelElement.focus(); }, 100);\r\n            },\r\n            onCancel: function () {\r\n                _this.labelElement.innerText = _this.getLabelText();\r\n                _this.dtp = null;\r\n                setTimeout(function () { return _this.labelElement.focus(); }, 100);\r\n            },\r\n            onDateTimeChanged: function (dateTime) {\r\n                var value = i18n.dateTimeToStr(dateTime, _this.expression.dataType);\r\n                _this.labelElement.innerText = value;\r\n            }\r\n        };\r\n        this.dtp = this.panel.options.dateTimePickerResolver\r\n            ? this.panel.options.dateTimePickerResolver(pickerOptions)\r\n            : new DefaultDateTimePicker(pickerOptions);\r\n        var model = this.expression.getModel();\r\n        var value = this.expression.value;\r\n        var dateTime = new Date();\r\n        if (this.expression.dataType != DataType.Time && model.isDateMacro(value)) {\r\n            dateTime = model.getDateMacroValue(value);\r\n        }\r\n        else if (this.expression.dataType == DataType.Time && model.isTimeMacro(value)) {\r\n            dateTime = model.getTimeMacroValue(value);\r\n        }\r\n        else {\r\n            dateTime = this.convertFromInternalFormat(value);\r\n        }\r\n        this.dtp.setDateTime(dateTime);\r\n        this.dtp.show(this.element);\r\n    };\r\n    DateTimeExpressionRenderer.prototype.closeEditor = function () {\r\n        this.dtp.cancel();\r\n        this.dtp = null;\r\n    };\r\n    DateTimeExpressionRenderer.prototype.getLabelText = function () {\r\n        if (!this.expression.value)\r\n            return this.getEmptyText();\r\n        var defValue = '${{Today}}';\r\n        var value = this.expression.value;\r\n        var model = this.expression.getModel();\r\n        if (model) {\r\n            if (model.isDateMacro(value) || model.isTimeMacro(value)) {\r\n                var macroText = value.substring(3, value.length - 2);\r\n                var res = i18n.getText(macroText);\r\n                return res ? res : defValue;\r\n            }\r\n        }\r\n        var result = i18n.dateTimeToStr(this.convertFromInternalFormat(value), this.expression.dataType);\r\n        return result;\r\n    };\r\n    DateTimeExpressionRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    DateTimeExpressionRenderer.prototype.convertFromInternalFormat = function (dateTime) {\r\n        return dataUtils.strToDateTime(dateTime, this.internalDateFormat + ' ' + this.internalTimeFormat);\r\n    };\r\n    DateTimeExpressionRenderer.prototype.convertToInternalFormat = function (dateTime) {\r\n        return dataUtils.dateTimeToStr(dateTime, this.internalDateFormat + ' ' + this.internalTimeFormat);\r\n    };\r\n    return DateTimeExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { DateTimeExpressionRenderer };\r\n//# sourceMappingURL=datetime_expression_render.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { SortDirection, Expression, DataKind, ExprTag, Query, QueryChangeAction, ConditionPart } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ExpressionRenderer } from \"./expression_renderer\";\r\nimport { PopupMenu } from '../../../utils/popup_menu';\r\nimport { QueryPanel } from '../../query_panel';\r\nimport { QPEditablePart } from '../../../types/qp_editable_part';\r\nvar SubQueryExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(SubQueryExpressionRenderer, _super);\r\n    function SubQueryExpressionRenderer() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    SubQueryExpressionRenderer.prototype.renderEditor = function () {\r\n        this.dialogBlockBody = domel('div')\r\n            .addClass(\"kfrm-form\")\r\n            //.setStyle('height', '100%')\r\n            .toDOM();\r\n        this.createEntitiesMenu();\r\n        this.renderColumnBlock();\r\n        this.renderQueryPanelBlock();\r\n    };\r\n    SubQueryExpressionRenderer.prototype.isEditable = function () {\r\n        return _super.prototype.isEditable.call(this)\r\n            && ((this.panel.options.editableParts & QPEditablePart.Value) === QPEditablePart.Value);\r\n    };\r\n    SubQueryExpressionRenderer.prototype.setValue = function (value, silent) {\r\n        if (value instanceof Query) {\r\n            this.expression.subQuery = value;\r\n            if (!silent) {\r\n                this.expression.getParent().fireChangedEvent(ConditionPart.Value);\r\n            }\r\n        }\r\n    };\r\n    SubQueryExpressionRenderer.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        var exprType = this.expression.dataType;\r\n        this.colEntitiesList = model.getEntitiesTreeWithFilter(function (ent, attr) {\r\n            if (attr) {\r\n                return attr.useInConditions && attr.dataType === exprType;\r\n            }\r\n            else {\r\n                //if it's entity\r\n                return ent.attributes && ent.useInConditions;\r\n            }\r\n        });\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.element.getAttribute('data-id');\r\n        if (menuId) {\r\n            menuId += '-SubColumnMenu';\r\n        }\r\n        var options = {\r\n            items: this.colEntitiesList,\r\n            adjustHeight: this.panel.options.adjustEntitiesMenuHeight,\r\n            id: menuId,\r\n            zIndex: this.panel.options.dialogZIndex + 1000,\r\n            isSubQuery: true,\r\n            domWriteItemsId: this.panel.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.panel.options.menuOptions);\r\n        this.colEntitiesMenu = new PopupMenu(options);\r\n    };\r\n    SubQueryExpressionRenderer.prototype.renderColumnBlock = function () {\r\n        var _this = this;\r\n        this.columnBlock = domel('div', this.dialogBlockBody)\r\n            .addClass(\"kfrm-field\")\r\n            .addChild('label', function (b) { return b\r\n            .addText(i18n.getText('SubQueryColumnTitle')); })\r\n            .addChild('a', function (b) { return _this.columnElement = b\r\n            .attr('href', 'javascript:void(0)')\r\n            .on('click', function (e) {\r\n            _this.colEntitiesMenu.showMenu({\r\n                anchor: _this.columnElement,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (data, items) {\r\n                    var attrId = data.id;\r\n                    _this.setResultAttributeId(attrId);\r\n                    return false;\r\n                }\r\n            });\r\n        })\r\n            .toDOM(); })\r\n            .toDOM();\r\n    };\r\n    SubQueryExpressionRenderer.prototype.getEmptyText = function () {\r\n        return this.panel.options.emptyTextValue || i18n.getText('MsgSubQueryValue');\r\n    };\r\n    SubQueryExpressionRenderer.prototype.renderQueryPanelBlock = function () {\r\n        var parentEl = domel('div', this.dialogBlockBody)\r\n            .addClass(\"kfrm-field\")\r\n            .addChild('label', function (b) { return b\r\n            .addText(i18n.getText('SubQueryQueryPanelCaption')); })\r\n            .toDOM();\r\n        this.queryPanelBlock =\r\n            domel('div', parentEl)\r\n                .toDOM();\r\n        var qpId = this.element.getAttribute('data-id');\r\n        if (qpId) {\r\n            this.queryPanelBlock.id = qpId + '-SubQueryPanel';\r\n        }\r\n    };\r\n    SubQueryExpressionRenderer.prototype.setResultAttributeId = function (attrId) {\r\n        var attrObj = this.getContext().getModel().getAttributeById(attrId);\r\n        if (attrObj) {\r\n            var subQuery = this.getSubQuery();\r\n            var cols = subQuery.getColumns();\r\n            var column = void 0;\r\n            if (cols.length > 0) {\r\n                column = cols[0];\r\n                column.expr.setValue(attrId);\r\n                column.expr.dataType = attrObj.dataType;\r\n                column.fireChangedEvent();\r\n            }\r\n            else {\r\n                column = subQuery.createColumn();\r\n                column.sorting = SortDirection.None;\r\n                column.sortIndex = -1;\r\n                var expr = new Expression(column);\r\n                expr.setValue(attrId);\r\n                expr.tag = ExprTag.EntityAttribute;\r\n                expr.kind = DataKind.Attribute;\r\n                expr.dataType = attrObj.dataType;\r\n                column.expr = expr;\r\n                cols.push(column);\r\n                subQuery.fireColumnsChangedEvent(QueryChangeAction.Add, column);\r\n            }\r\n            this.columnElement.innerText = this.getAttributeText(attrObj);\r\n        }\r\n    };\r\n    SubQueryExpressionRenderer.prototype.getSubQuery = function () {\r\n        return this.queryPanel.getQuery();\r\n    };\r\n    SubQueryExpressionRenderer.prototype.getAttributeText = function (attribute) {\r\n        if (!attribute)\r\n            return i18n.getText('SubQueryEmptyColumn');\r\n        var attrText = i18n.getText('Attributes', attribute.id);\r\n        if (!attrText)\r\n            attrText = attribute.caption;\r\n        var format = this.panel.options.attrElementFormat;\r\n        if (!format)\r\n            return attrText;\r\n        var result = format.replace(new RegExp(\"{attr}\", 'g'), attrText);\r\n        var entityPath = this.getContext()\r\n            .getModel()\r\n            .getFullEntityPathByAttr(attribute.id, '.');\r\n        return result.replace(new RegExp(\"{entity}\", 'g'), entityPath);\r\n    };\r\n    SubQueryExpressionRenderer.prototype.showEditor = function () {\r\n        var _this = this;\r\n        var parentQuery = this.panel.getQuery();\r\n        var parentPanel = this.panel;\r\n        var context = this.getContext();\r\n        this.queryPanelBlock.innerHTML = \"\";\r\n        var subQuery = context.createQuery();\r\n        if (this.expression.subQuery) {\r\n            subQuery.loadFromData(this.expression.subQuery.toJSONData());\r\n        }\r\n        var subOptions = dataUtils.assign({}, parentPanel.options);\r\n        subOptions.isSubQuery = true;\r\n        subOptions.showAddRow = true;\r\n        subOptions.menuContainer = document.body;\r\n        subOptions.menuOptions.isSubQuery = true;\r\n        subOptions.entitiesListFilter = function (listItems, listOptions) {\r\n            if (parentPanel.options.entitiesListFilter) {\r\n                var subQueryPanelListOptions = listOptions || {};\r\n                subQueryPanelListOptions.isSubQuery = true;\r\n                parentPanel.options.entitiesListFilter(listItems, subQueryPanelListOptions);\r\n            }\r\n        };\r\n        this.queryPanel = new QueryPanel(this.queryPanelBlock, subQuery);\r\n        this.queryPanel.init(this.panel.getContext(), subOptions);\r\n        var attrId = null;\r\n        var cols = subQuery.getColumns();\r\n        ;\r\n        if (cols.length == 0) {\r\n            var condition = this.expression.getParent();\r\n            if (condition.expressions.length > 0) {\r\n                var attrExpr = condition.expressions[0];\r\n                attrId = (attrExpr.tag == ExprTag.EntityAttribute\r\n                    || attrExpr.kind == DataKind.Attribute) ? attrExpr.value : null;\r\n            }\r\n        }\r\n        else {\r\n            attrId = cols[0].expr.value;\r\n        }\r\n        if (attrId) {\r\n            this.setResultAttributeId(attrId);\r\n        }\r\n        else {\r\n            this.columnElement.innerText = i18n.getText(\"SubQueryEmptyColumn\");\r\n        }\r\n        this.queryPanel.refresh();\r\n        var rootCondEl = this.queryPanelBlock.querySelector('.eqjs-qp-conditions-root');\r\n        if (rootCondEl) {\r\n            rootCondEl.style.minHeight = '100px';\r\n        }\r\n        var dialogService = this.panel\r\n            .getContext()\r\n            .getServices()\r\n            .getDialogService();\r\n        dialogService.open({\r\n            title: i18n.getText('SubQueryDialogTitle'),\r\n            body: this.dialogBlockBody,\r\n            width: this.panel.options.subQueryDialogWidth,\r\n            //height: this.panel.options.subQueryDialogHeight,\r\n            closable: true,\r\n            cancelable: true,\r\n            onSubmit: function () {\r\n                var value = _this.queryPanel.getQuery();\r\n                // validate subquery\r\n                if (value.tryValidate({ checkExpressions: true })) {\r\n                    _this.setValue(value);\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    SubQueryExpressionRenderer.prototype.closeEditor = function () {\r\n    };\r\n    return SubQueryExpressionRenderer;\r\n}(ExpressionRenderer));\r\nexport { SubQueryExpressionRenderer };\r\n//# sourceMappingURL=subquery_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { ExprTag } from \"@easyquery/core\";\r\nimport { CustomListExpressionRenderer } from \"./list_expression_renderer\";\r\nvar BindToParentColumnExpressionRenderer = /** @class */ (function (_super) {\r\n    __extends(BindToParentColumnExpressionRenderer, _super);\r\n    function BindToParentColumnExpressionRenderer(panel, expression, editor, slot) {\r\n        var _this = _super.call(this, panel, expression, editor, slot) || this;\r\n        _this.expression.tag = ExprTag.ParentColumn;\r\n        return _this;\r\n    }\r\n    BindToParentColumnExpressionRenderer.prototype.fillMenuItemsList = function (onComplete) {\r\n        var query = this.panel.getQuery().getParentQuery();\r\n        var parent = this.expression.getParent();\r\n        var attrDataType = parent.expressions[0].dataType;\r\n        this.menuItemsList = query\r\n            .getColumns()\r\n            .filter(function (col) { return col.expr.dataType == attrDataType; })\r\n            .map(function (col) {\r\n            return { id: col.id, text: col.caption };\r\n        });\r\n        if (onComplete) {\r\n            onComplete();\r\n        }\r\n    };\r\n    return BindToParentColumnExpressionRenderer;\r\n}(CustomListExpressionRenderer));\r\nexport { BindToParentColumnExpressionRenderer };\r\n//# sourceMappingURL=bind_to_parent_column_expression_renderer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, eqconsts, CondTag, EqValueEditor, EqEditorTag, DataKind, QueryChangePart, QueryChangeAction, ConditionPart } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { eqDragManager, DropEffect } from '@easydata/ui';\r\nimport { QPEditablePart } from '../types/qp_editable_part';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { SimpleConditionRenderer } from './renderers/querypanel/condition_renderer';\r\nimport { ConditionGroupRenderer } from './renderers/querypanel/condition_group_renderer';\r\nimport { InputExpressionRenderer } from './renderers/querypanel/input_expression_renderer';\r\nimport { AttributeExpressionRenderer } from './renderers/querypanel/attribute_expression_renderer';\r\nimport { AddRowRenderer } from './renderers/querypanel/addrow_renderer';\r\nimport { ListExpressionRenderer, SqlListExpressionRenderer, CustomListExpressionRenderer } from './renderers/querypanel/list_expression_renderer';\r\nimport { OperatorRenderer } from './renderers/querypanel/operator_renderer';\r\nimport { DateTimeExpressionRenderer } from './renderers/querypanel/datetime_expression_render';\r\nimport { SubQueryExpressionRenderer } from './renderers/querypanel/subquery_expression_renderer';\r\nimport { eqCssPrefix, eqCssMobile, safeFocus } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { BindToParentColumnExpressionRenderer } from './renderers/querypanel/bind_to_parent_column_expression_renderer';\r\n/**\r\n * The query panel wiget, implemented without JQuery.\r\n */\r\nvar QueryPanel = /** @class */ (function (_super) {\r\n    __extends(QueryPanel, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function QueryPanel(slot, customQuery) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            editableParts: QPEditablePart.All,\r\n            isSubQuery: false,\r\n            activeCondition: null,\r\n            entitiesPopupHandler: null,\r\n            entitiesListFilter: null,\r\n            menuContainer: document.body,\r\n            showRootRow: true,\r\n            showAddRow: true,\r\n            showCheckboxes: false,\r\n            allowParameterization: false,\r\n            allowInJoinConditions: false,\r\n            showPoweredBy: false,\r\n            buttons: {\r\n                condition: null,\r\n                group: null\r\n            },\r\n            alwaysShowButtonsInGroups: false,\r\n            alwaysShowButtonsInConditions: false,\r\n            showConjunctions: true,\r\n            accentActiveCondition: true,\r\n            activateRootOnStart: true,\r\n            yearRange: 'c-10:c+10',\r\n            oneClickDateSelection: true,\r\n            showDateTimeInput: false,\r\n            attrElementFormat: '{entity} {attr}',\r\n            menuOptions: {\r\n                showSearchBoxAfter: 30,\r\n                searchBoxAutoFocus: true,\r\n                activateOnMouseOver: true,\r\n                itemRenderedCallback: null\r\n            },\r\n            allowDragDrop: true,\r\n            attrPlacement: 0,\r\n            sortEntities: false,\r\n            subQueryDialogWidth: 600,\r\n            subQueryDialogHeight: 300,\r\n            dialogZIndex: 100000,\r\n            numberListSeparators: [',', ';'],\r\n            autoEditNewCondition: false,\r\n            onConditionRendered: null,\r\n            onGetConditionRenderer: null,\r\n            onGetExpressionRenderer: null,\r\n            onGetOperatorRenderer: null,\r\n            onOperatorRendered: null,\r\n            onGetAddRowRenderer: null,\r\n            defaultQuery: null\r\n        };\r\n        _this.customQuery = null;\r\n        _this.landingSlot = domel('div')\r\n            .addClass(_this.cssPrefix + \"-cond-landing-slot\")\r\n            .addChildElement(domel('div')\r\n            .toDOM())\r\n            .toDOM();\r\n        if (!_this.slot.classList.contains(_this.cssPrefix + \"-panel\")) {\r\n            _this.slot.classList.add(_this.cssPrefix + \"-panel\");\r\n        }\r\n        _this.group = WidgetGroup.Query;\r\n        if (customQuery) {\r\n            _this.customQuery = customQuery;\r\n        }\r\n        return _this;\r\n    }\r\n    Object.defineProperty(QueryPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-qp';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    QueryPanel.prototype.getWidgetType = function () {\r\n        return 'queryPanel';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    QueryPanel.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        //detach previously defined query observer (if any)\r\n        this.detachQueryObserver();\r\n        this.attachQueryObserver();\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        if (this.options.allowDragDrop) {\r\n            var model_1 = this.getContext().getModel();\r\n            eqDragManager.registerDropContainer({\r\n                element: this.slot,\r\n                scopes: [\"entityAttr\"],\r\n                onDragEnter: function (container, ev) {\r\n                    _this.slot.classList.add(eqCssPrefix + \"-drophover\");\r\n                    ev.dragImage.classList.add('eqjs-sortable-helper');\r\n                    _this.showLandingSlot();\r\n                    var attrId = ev.data.attrId;\r\n                    if (!model_1.checkAttrProperty(attrId, \"useInConditions\")) {\r\n                        ev.dropEffect = DropEffect.Forbid;\r\n                    }\r\n                },\r\n                onDragOver: function (container, ev) {\r\n                },\r\n                onDragLeave: function (container, ev) {\r\n                    ev.dragImage.classList.remove('eqjs-sortable-helper');\r\n                    ev.dragImage.style.removeProperty('width');\r\n                    _this.slot.classList.remove(eqCssPrefix + \"-drophover\");\r\n                    _this.hideLangindSlot();\r\n                },\r\n                onDrop: function (container, ev) {\r\n                    var query = _this.getQuery();\r\n                    var descr = {\r\n                        parent: query.getRootCondition(),\r\n                        attributeId: ev.data.attrId\r\n                    };\r\n                    var cond = query.addSimpleCondition(descr);\r\n                    if (cond) {\r\n                        query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    QueryPanel.prototype.destroyCore = function () {\r\n        eqDragManager.removeDropContainer(this.slot);\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    QueryPanel.prototype.getEntitiesMenu = function () {\r\n        return this.entitiesMenu;\r\n    };\r\n    QueryPanel.prototype.getConditionMenu = function () {\r\n        return this.conditionMenu;\r\n    };\r\n    QueryPanel.prototype.getLinkTypeMenu = function () {\r\n        return this.linkTypeMenu;\r\n    };\r\n    QueryPanel.prototype.getConditionGroupMenu = function (isRoot) {\r\n        if (isRoot === void 0) { isRoot = false; }\r\n        return isRoot ? this.rootGroupMenu : this.groupMenu;\r\n    };\r\n    QueryPanel.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to conditions\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Conditions && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            var focusedBefore = document.activeElement;\r\n            var isFocusInside = _this.slot.contains(focusedBefore) || focusedBefore == document.body;\r\n            switch (edata.action) {\r\n                case QueryChangeAction.Modify: {\r\n                    var conds = edata.changee;\r\n                    var modifyCondition_1 = function (cond, autoEdit) {\r\n                        var el = _this.slot.querySelector(\"div[data-id=\" + cond.id + \"]\");\r\n                        if (el) {\r\n                            autoEdit = autoEdit\r\n                                && ((edata.condPart & ConditionPart.Operator) === ConditionPart.Operator)\r\n                                && cond.expressions.length > 1\r\n                                && (cond.expressions[1]._isDefaultValue || cond.expressions[1].value == '' ||\r\n                                    cond.expressions[1].value == null);\r\n                            var isActive = el.classList.contains('active');\r\n                            var renderer = _this.getConditionRenderer(cond, el);\r\n                            if (renderer) {\r\n                                var newEl = renderer.render(autoEdit);\r\n                                if (isActive) {\r\n                                    _this.toggleConditionPicked(cond);\r\n                                }\r\n                                if (isFocusInside && !autoEdit) {\r\n                                    var focusElem = newEl.querySelector('a') || newEl.querySelector('.eqjs-qp-condition-button');\r\n                                    if (focusElem) {\r\n                                        safeFocus(focusElem);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    var autoEdit_1 = _this.options.autoEditNewCondition;\r\n                    if (Array.isArray(conds)) {\r\n                        conds.forEach(function (cond) { return modifyCondition_1(cond, autoEdit_1); });\r\n                        autoEdit_1 = false;\r\n                    }\r\n                    else {\r\n                        modifyCondition_1(conds, autoEdit_1);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Add: {\r\n                    var conds = edata.changee;\r\n                    var addCondition_1 = function (cond) {\r\n                        var renderer = _this.getConditionRenderer(cond);\r\n                        if (renderer) {\r\n                            var parent_1 = cond.getParent();\r\n                            var parentEl = _this.slot.querySelector(\"div[data-id=\" + parent_1.id + \"]\");\r\n                            if (parentEl) {\r\n                                var newCondContainer = parentEl.lastChild;\r\n                                if (newCondContainer) {\r\n                                    var el = renderer.render(_this.options.autoEditNewCondition);\r\n                                    newCondContainer.appendChild(el);\r\n                                    el.scrollIntoView(false);\r\n                                    if (isFocusInside && !_this.options.autoEditNewCondition) {\r\n                                        el.querySelector(\"a\").focus();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(conds)) {\r\n                        conds.forEach(function (cond) { return addCondition_1(cond); });\r\n                    }\r\n                    else {\r\n                        addCondition_1(conds);\r\n                    }\r\n                    break;\r\n                }\r\n                case QueryChangeAction.Delete: {\r\n                    var conds = edata.changee;\r\n                    var deleteCondition_1 = function (cond) {\r\n                        var el = _this.slot.querySelector(\"div[data-id=\" + cond.id + \"]\");\r\n                        if (el) {\r\n                            var parent_2 = _this.slot.querySelector(\"div[data-id=\" + cond.getParent().id + \"] > .eqjs-qp-row-group\");\r\n                            ;\r\n                            var next = el.nextSibling;\r\n                            var prev = el.previousSibling;\r\n                            el.parentElement.removeChild(el);\r\n                            if (isFocusInside) {\r\n                                var focusCond = next || prev || parent_2;\r\n                                var focusElem = focusCond.querySelector('a') || focusCond.querySelector('.eqjs-qp-condition-button');\r\n                                if (focusElem) {\r\n                                    focusElem.focus();\r\n                                }\r\n                            }\r\n                        }\r\n                    };\r\n                    if (Array.isArray(conds)) {\r\n                        conds.forEach(function (cond) { return deleteCondition_1(cond); });\r\n                    }\r\n                    else {\r\n                        deleteCondition_1(conds);\r\n                    }\r\n                    break;\r\n                }\r\n                default:\r\n                    _this.refresh();\r\n                    break;\r\n            }\r\n        });\r\n    };\r\n    QueryPanel.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    QueryPanel.prototype.getQuery = function () {\r\n        if (this.customQuery) {\r\n            return this.customQuery;\r\n        }\r\n        return this.context.getQuery();\r\n    };\r\n    QueryPanel.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    QueryPanel.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n        // dateFormatValue & dateFormatDisplay back compatibility\r\n        if (this.options.dateFormatValue) {\r\n            i18n.updateLocaleSettings({\r\n                editDateFormat: this.options.dateFormatValue\r\n            });\r\n        }\r\n        if (this.options.dateFormatDisplay) {\r\n            // TO DO: process option\r\n        }\r\n        if (typeof this.options.editableParts === \"undefined\") {\r\n            this.options.editableParts = QPEditablePart.All;\r\n        }\r\n        if (browserUtils.isMobileMode()) {\r\n            this.options.buttons = this.options.buttons || {};\r\n            this.options.buttons.condition = [\"menu\"];\r\n            this.options.buttons.group = [\"menu\"];\r\n        }\r\n    };\r\n    QueryPanel.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    QueryPanel.prototype.render = function () {\r\n        try {\r\n            this.entitiesMenu = this.createEntitiesMenu();\r\n            this.createConditionMenus();\r\n            this.createLinkTypeMenu();\r\n            this.rootContainer = domel('div', this.slot)\r\n                .toDOM();\r\n            domel(this.slot)\r\n                .removeClass(eqCssMobile)\r\n                .addClass(browserUtils.getMobileCssClass());\r\n            var query = this.getQuery();\r\n            var root = query.getRootCondition();\r\n            var renderer = this.getConditionRenderer(root, this.rootContainer);\r\n            if (renderer) {\r\n                renderer.render();\r\n            }\r\n            if (this.options.showAddRow) {\r\n                this.addRowElement = domel('div', this.slot)\r\n                    .toDOM();\r\n                var addrowRenderer = this.getAddRowRenderer(this.addRowElement);\r\n                if (addrowRenderer)\r\n                    addrowRenderer.render();\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.context.throwError({\r\n                action: \"QueryPanel rendering\",\r\n                text: e.message,\r\n                sourceError: e\r\n            });\r\n        }\r\n    };\r\n    QueryPanel.prototype.getConditionRenderer = function (condition, slot) {\r\n        var renderer;\r\n        if (this.options.onGetConditionRenderer) {\r\n            renderer = this.options.onGetConditionRenderer(condition, slot);\r\n            if (renderer) {\r\n                return renderer;\r\n            }\r\n        }\r\n        switch (condition.tag) {\r\n            case CondTag.Simple:\r\n                return new SimpleConditionRenderer(this, condition, slot);\r\n            case CondTag.Group:\r\n                return new ConditionGroupRenderer(this, condition, slot);\r\n        }\r\n        return null;\r\n    };\r\n    QueryPanel.prototype.getExpressionRenderer = function (expression, slot) {\r\n        if (!expression) {\r\n            throw 'Expression is not defined in the condition';\r\n        }\r\n        var model = this.getContext().getModel();\r\n        var condition = expression.getParent();\r\n        var operator = model.getOperatorById(condition.getOperatorId());\r\n        var attribute = model.getAttributeById(condition.expressions[0].value);\r\n        var operand = model.getOperand(attribute, operator, expression.getIndex());\r\n        var editor;\r\n        var tag;\r\n        if (operand && operand.editor && operand.editor.tag !== EqEditorTag.Unknown) {\r\n            editor = operand.editor;\r\n        }\r\n        else if (attribute && attribute.defaultEditor) {\r\n            editor = attribute.defaultEditor;\r\n        }\r\n        else {\r\n            editor = new EqValueEditor();\r\n        }\r\n        tag = editor.tag;\r\n        var exprType = expression.dataType;\r\n        if (exprType == DataType.Unknown) {\r\n            exprType = attribute.dataType;\r\n        }\r\n        if (expression.kind === DataKind.Attribute) {\r\n            if (expression.getIndex() === 0) { // Base attribute expression\r\n                return new AttributeExpressionRenderer(this, expression, this.entitiesMenu, slot);\r\n            }\r\n            else {\r\n                var attributeMenu = this.createEntitiesMenu(function (ent, attr) {\r\n                    if (attr) {\r\n                        return attr.useInConditions && attr.dataType === exprType;\r\n                    }\r\n                    return true;\r\n                });\r\n                return new AttributeExpressionRenderer(this, expression, attributeMenu, slot);\r\n            }\r\n        }\r\n        else if (expression.kind === DataKind.Query) {\r\n            tag = EqEditorTag.SubQuery;\r\n        }\r\n        else if (expression.kind === DataKind.Scalar) {\r\n            if (tag == EqEditorTag.Unknown && (expression.dataType === DataType.Date\r\n                || expression.dataType === DataType.DateTime || expression.dataType === DataType.Time)) {\r\n                tag = EqEditorTag.DateTime;\r\n            }\r\n        }\r\n        else if (expression.kind == DataKind.ParentColumn) {\r\n            tag = EqEditorTag.BindToParentColumn;\r\n        }\r\n        if (this.options.onGetExpressionRenderer) {\r\n            var renderer = this.options.onGetExpressionRenderer(this, expression, editor, slot);\r\n            if (renderer) {\r\n                return renderer;\r\n            }\r\n        }\r\n        switch (tag) {\r\n            case EqEditorTag.List:\r\n                return new ListExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.SqlList:\r\n                return new SqlListExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.CustomList:\r\n                return new CustomListExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.DateTime:\r\n                return new DateTimeExpressionRenderer(this, expression, editor, slot);\r\n            case EqEditorTag.SubQuery:\r\n                return new SubQueryExpressionRenderer(this, expression, editor, slot);\r\n            //move to ERS later\r\n            case EqEditorTag.BindToParentColumn:\r\n                return new BindToParentColumnExpressionRenderer(this, expression, editor, slot);\r\n            default:\r\n                return new InputExpressionRenderer(this, expression, editor, slot);\r\n        }\r\n    };\r\n    QueryPanel.prototype.getOperatorRenderer = function (condition, text, slot) {\r\n        var renderer;\r\n        if (this.options.onGetOperatorRenderer)\r\n            renderer = this.options.onGetOperatorRenderer(condition, text, slot);\r\n        if (renderer)\r\n            return renderer;\r\n        return new OperatorRenderer(this, condition, text, slot);\r\n    };\r\n    QueryPanel.prototype.getAddRowRenderer = function (slot) {\r\n        var renderer;\r\n        if (this.options.onGetAddRowRenderer)\r\n            renderer = this.options.onGetAddRowRenderer(slot);\r\n        if (renderer)\r\n            return renderer;\r\n        return new AddRowRenderer(this, this.entitiesMenu, slot);\r\n    };\r\n    QueryPanel.prototype.createEntitiesMenu = function (filterFunc) {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return null;\r\n        var menuId = this.slot.id || \"eq-querypanel\";\r\n        menuId += '-EntitiesMenu';\r\n        var entitiesList = model.getEntitiesTree({\r\n            addUIC: true,\r\n            addUIR: false,\r\n            addUIS: false,\r\n            attrPlacement: this.options.attrPlacement,\r\n            sortEntities: this.options.sortEntities\r\n        }, filterFunc);\r\n        var options = {\r\n            items: entitiesList,\r\n            adjustHeight: this.options.adjustEntitiesMenuHeight,\r\n            id: menuId,\r\n            domWriteItemsId: this.options.domWriteItemsId\r\n        };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        return new PopupMenu(options);\r\n    };\r\n    QueryPanel.prototype.showEntitiesMenu = function (options) {\r\n        this.entitiesMenu.showMenu(options);\r\n    };\r\n    QueryPanel.prototype.createConditionMenus = function () {\r\n        //ConditionMenu\r\n        {\r\n            var query = this.getQuery();\r\n            var menuId = this.slot.id || \"eq-querypanel\";\r\n            menuId += '-ConditionMenu';\r\n            var items = [\r\n                {\r\n                    id: \"enable\",\r\n                    text: i18n.getText('MenuEnable')\r\n                },\r\n                {\r\n                    id: \"delete\",\r\n                    text: i18n.getText('CmdDelete')\r\n                }\r\n            ];\r\n            if (query.isEx()) {\r\n                if (this.options.allowParameterization || this.options.allowInJoinConditions) {\r\n                    items.push({ id: \"delimiter\", text: \"---\" });\r\n                }\r\n                ;\r\n                if (this.options.allowParameterization) {\r\n                    items.push({\r\n                        id: \"param\",\r\n                        text: i18n.getText('MenuParameterization')\r\n                    });\r\n                }\r\n                ;\r\n                if (this.options.allowInJoinConditions) {\r\n                    items.push({\r\n                        id: \"inJoin\",\r\n                        text: i18n.getText('MenuJoinCond')\r\n                    });\r\n                }\r\n                ;\r\n            }\r\n            var options = { items: items, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId, showSearchBoxAfter: 100, showSelected: true };\r\n            dataUtils.assign(options, this.options.menuOptions);\r\n            this.conditionMenu = new PopupMenu(options);\r\n        }\r\n        //groupMenu\r\n        {\r\n            var menuId = this.slot.id || \"eq-querypanel\";\r\n            menuId += '-GroupMenu';\r\n            var items = [\r\n                {\r\n                    id: \"enable\",\r\n                    text: i18n.getText('MenuEnable')\r\n                },\r\n                {\r\n                    id: \"delete\",\r\n                    text: i18n.getText('CmdDelete')\r\n                },\r\n                {\r\n                    id: \"delimiter\",\r\n                    text: \"---\"\r\n                },\r\n                {\r\n                    id: \"addCondition\",\r\n                    text: i18n.getText('CmdAddCondition')\r\n                },\r\n                {\r\n                    id: \"addGroup\",\r\n                    text: i18n.getText('CmdAddCondGroup')\r\n                }\r\n            ];\r\n            var options = { items: items, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId, showSearchBoxAfter: 100, showSelected: true };\r\n            dataUtils.assign(options, this.options.menuOptions);\r\n            this.groupMenu = new PopupMenu(options);\r\n        }\r\n        //rootGroupMenu\r\n        {\r\n            var menuId = this.slot.id || \"eq-querypanel\";\r\n            menuId += '-RootGroupMenu';\r\n            var items = [\r\n                {\r\n                    id: \"addCondition\",\r\n                    text: i18n.getText('CmdAddCondition')\r\n                },\r\n                {\r\n                    id: \"addGroup\",\r\n                    text: i18n.getText('CmdAddCondGroup')\r\n                }\r\n            ];\r\n            var options = { items: items, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId, showSearchBoxAfter: 100, showSelected: true };\r\n            dataUtils.assign(options, this.options.menuOptions);\r\n            this.rootGroupMenu = new PopupMenu(options);\r\n        }\r\n    };\r\n    QueryPanel.prototype.createLinkTypeMenu = function () {\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-LinkTypeMenu';\r\n        }\r\n        var typeList = eqconsts.predicateLinkTypeList;\r\n        var itemList = typeList.map(function (item) {\r\n            return {\r\n                id: item.id,\r\n                text: i18n.getText(item.key)\r\n            };\r\n        });\r\n        var options = { items: itemList, adjustHeight: this.options.adjustEntitiesMenuHeight, id: menuId, domWriteItemsId: this.options.domWriteItemsId };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.linkTypeMenu = new PopupMenu(options);\r\n    };\r\n    QueryPanel.prototype.toggleConditionPicked = function (condition, force) {\r\n        if (force === void 0) { force = undefined; }\r\n        var el;\r\n        var isActive;\r\n        if (condition) {\r\n            el = this.slot.querySelector(\"div[data-id=\" + condition.id + \"][data-condrow], div[data-id=\" + condition.id + \"] > div[data-grouprow]\");\r\n            if (el) {\r\n                isActive = el.classList.contains('active');\r\n            }\r\n        }\r\n        //clear 'active' in all rows\r\n        var rows = this.slot.querySelectorAll(\".\" + this.cssPrefix + \"-row\");\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            if (row.hasAttribute('data-group-row')) {\r\n                if (!this.options.alwaysShowButtonsInGroups) {\r\n                    domel(row)\r\n                        .data(\"show-buttons\", null);\r\n                }\r\n            }\r\n            else {\r\n                if (!this.options.alwaysShowButtonsInConditions) {\r\n                    domel(row)\r\n                        .data(\"show-buttons\", null);\r\n                }\r\n            }\r\n            domel(row)\r\n                .removeClass('active');\r\n        }\r\n        if (el && !isActive) {\r\n            domel(el)\r\n                .addClass('active')\r\n                .data(\"show-buttons\", \"\");\r\n        }\r\n    };\r\n    QueryPanel.prototype.showLandingSlot = function () {\r\n        var container = this.slot.querySelector('.eqjs-qp-conditions-root');\r\n        if (container) {\r\n            container.appendChild(this.landingSlot);\r\n            this.landingSlot.scrollIntoView({ block: \"center\", behavior: \"smooth\" });\r\n        }\r\n    };\r\n    QueryPanel.prototype.hideLangindSlot = function () {\r\n        if (this.landingSlot.parentElement) {\r\n            this.landingSlot.parentElement.removeChild(this.landingSlot);\r\n        }\r\n    };\r\n    return QueryPanel;\r\n}(Widget));\r\nexport { QueryPanel };\r\n//# sourceMappingURL=query_panel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup, QueryChangeAction } from '@easyquery/core';\r\nimport { slideUp, slideDown, domel } from '@easydata/ui';\r\nimport { QueryPanel } from './query_panel';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar FilterBar = /** @class */ (function (_super) {\r\n    __extends(FilterBar, _super);\r\n    function FilterBar(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            applyOnClose: true,\r\n            showApplyButton: true,\r\n            showClearButton: true,\r\n            queryPanel: {\r\n                showAddRow: true,\r\n                showCheckboxes: true,\r\n                alwaysShowButtonsInGroups: true\r\n            }\r\n        };\r\n        _this.headerClickListener = _this.headerClickHandler.bind(_this);\r\n        _this.group = WidgetGroup.Query;\r\n        return _this;\r\n    }\r\n    FilterBar.prototype.getWidgetType = function () {\r\n        return 'filterBar';\r\n    };\r\n    Object.defineProperty(FilterBar.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-fb';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    FilterBar.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.destroyCore();\r\n        this.qpElement = domel('div')\r\n            .addClass(this.cssPrefix + \"-querypanel\")\r\n            .toDOM();\r\n        this.queryPanel = new QueryPanel(this.qpElement);\r\n        this.queryPanel.init(context, options.queryPanel || {});\r\n        this.attachQueryObserver();\r\n    };\r\n    FilterBar.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    FilterBar.prototype.applyBtnClick = function (ev) {\r\n        this.applyFilter();\r\n    };\r\n    FilterBar.prototype.clearBtnClick = function (ev) {\r\n        this.clearFilter();\r\n    };\r\n    FilterBar.prototype.showQueryPanel = function (callback) {\r\n        var _this = this;\r\n        slideDown(this.qpBlock, 200, function () {\r\n            _this.updateHeader();\r\n            if (callback)\r\n                callback();\r\n        });\r\n    };\r\n    FilterBar.prototype.hideQueryPanel = function () {\r\n        var _this = this;\r\n        slideUp(this.qpBlock, 200, function () {\r\n            _this.updateHeader();\r\n            if (_this.options.applyOnClose) {\r\n                _this.applyFilter();\r\n            }\r\n        });\r\n    };\r\n    FilterBar.prototype.headerClickHandler = function (ev) {\r\n        ev.preventDefault();\r\n        if (domel(this.qpBlock).isVisible()) { // close query panel\r\n            this.hideQueryPanel();\r\n        }\r\n        else { //open query panel\r\n            this.showQueryPanel();\r\n        }\r\n    };\r\n    FilterBar.prototype.updateHeader = function () {\r\n        if (!this.headerTextElement)\r\n            return;\r\n        var text = '';\r\n        var query = this.getContext().getQuery();\r\n        if (query) {\r\n            text = query.getConditionsText();\r\n        }\r\n        if (text == '') {\r\n            text = i18n.getText('StrNoFilterDefined');\r\n        }\r\n        domel(this.headerTextElement)\r\n            .text(text)\r\n            .attr('title', text);\r\n        if (!query || query.isEmptyConditions()) { //empty query, don't show query panel and arrow, show link in header\r\n            domel(this.headerTextElement).hide();\r\n            domel(this.headerLinkElement).show();\r\n            if (!domel(this.qpBlock).isVisible()) {\r\n                domel(this.headerArrowBlock).hide();\r\n                this.headerElement.style.cursor = '';\r\n                this.headerElement.removeEventListener('click', this.headerClickListener);\r\n            }\r\n        }\r\n        else {\r\n            this.headerElement.style.cursor = 'pointer';\r\n            this.headerElement.removeEventListener('click', this.headerClickListener);\r\n            this.headerElement.addEventListener('click', this.headerClickListener);\r\n            domel(this.headerTextElement).show();\r\n            domel(this.headerLinkElement).hide();\r\n            domel(this.headerArrowBlock).show();\r\n        }\r\n        if (domel(this.qpBlock).isVisible()) { // close query panel\r\n            this.headerArrowElement.classList.add(this.cssPrefix + \"-header-arrowUp\");\r\n        }\r\n        else {\r\n            this.headerArrowElement.classList.remove(this.cssPrefix + \"-header-arrowUp\");\r\n        }\r\n        this.textResize();\r\n    };\r\n    FilterBar.prototype.render = function () {\r\n        var _this = this;\r\n        domel(this.slot)\r\n            .addClass(this.cssPrefix + \"-container\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .addChild('div', function (builder) { return _this.headerElement = builder\r\n            .addClass(_this.cssPrefix + \"-header\")\r\n            .addChild('div', function (builder) { return _this.headerIconElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-icon\")\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.headerTextBlock = builder\r\n            .addClass(_this.cssPrefix + \"-header-textblock\")\r\n            .addChild('div', function (builder) { return _this.headerTextElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-text\")\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.headerLinkElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-text \" + _this.cssPrefix + \"-header-link\")\r\n            .text(i18n.getText('StrNoFilterClickToAdd'))\r\n            .hide()\r\n            .on('click', function () {\r\n            _this.queryPanel.showEntitiesMenu({\r\n                anchor: _this.headerLinkElement,\r\n                selectedIds: null,\r\n                itemSelectedCallback: function (item, items) {\r\n                    var attrid = item.id;\r\n                    _this.showQueryPanel(function () {\r\n                        var query = _this.getContext().getQuery();\r\n                        var descr = {\r\n                            parent: query.getRootCondition(),\r\n                            attributeId: attrid\r\n                        };\r\n                        var cond = query.addSimpleCondition(descr);\r\n                        if (cond) {\r\n                            query.fireConditionsChangedEvent(QueryChangeAction.Add, cond);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        })\r\n            .toDOM(); })\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.headerArrowBlock = builder\r\n            .addClass(_this.cssPrefix + \"-header-arrowblock\")\r\n            .addChild('div', function (builder) { return _this.headerArrowElement = builder\r\n            .addClass(_this.cssPrefix + \"-header-arrow\")\r\n            .toDOM(); })\r\n            .toDOM(); })\r\n            .toDOM(); })\r\n            .addChild('div', function (builder) { return _this.qpBlock = builder\r\n            .addClass(_this.cssPrefix + \"-querypanelblock\")\r\n            .addClass(browserUtils.getMobileCssClass())\r\n            .hide()\r\n            .addChildElement(_this.qpElement)\r\n            .toDOM(); });\r\n        if (this.options.showApplyButton || this.options.showClearButton) {\r\n            this.buttonsBlock = domel('div', this.qpBlock)\r\n                .addClass(this.cssPrefix + \"-buttonsblock\")\r\n                .addClass(browserUtils.getMobileCssClass())\r\n                .toDOM();\r\n        }\r\n        if (this.options.showApplyButton) {\r\n            domel('a', this.buttonsBlock)\r\n                .attr('href', 'javascript:void(0)')\r\n                .addClass(this.cssPrefix + \"-button \" + this.cssPrefix + \"-button-apply\")\r\n                .text(i18n.getText('ButtonApply'))\r\n                .on('click', this.applyBtnClick.bind(this));\r\n        }\r\n        if (this.options.showClearButton) {\r\n            domel('a', this.buttonsBlock)\r\n                .attr('href', 'javascript:void(0)')\r\n                .addClass(this.cssPrefix + \"-button \" + this.cssPrefix + \"-button-clear\")\r\n                .text(i18n.getText('CmdClear'))\r\n                .on('click', this.clearBtnClick.bind(this));\r\n        }\r\n        window.addEventListener('resize', function () {\r\n            _this.textResize();\r\n        });\r\n        this.updateHeader();\r\n        this.queryPanel.refresh();\r\n        setTimeout(function () { return _this.textResize(); }, 500);\r\n    };\r\n    FilterBar.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    FilterBar.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    FilterBar.prototype.applyFilter = function () {\r\n        if (this.options.applyFilterCallback) {\r\n            this.options.applyFilterCallback();\r\n        }\r\n    };\r\n    FilterBar.prototype.clearFilter = function () {\r\n        var query = this.getContext().getQuery();\r\n        if (query) {\r\n            query.clearConditions();\r\n            query.fireConditionsChangedEvent(QueryChangeAction.All);\r\n        }\r\n    };\r\n    FilterBar.prototype.textResize = function () {\r\n        this.headerTextBlock.style.width = (this.slot.clientWidth - this.headerIconElement.offsetWidth\r\n            - (domel(this.headerArrowBlock).isVisible() ? this.headerArrowBlock.offsetWidth : 0)) + \"px\";\r\n    };\r\n    FilterBar.prototype.destroyCore = function () {\r\n        if (this.queryPanel)\r\n            this.queryPanel.destroy();\r\n        this.detachQueryObserver();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    FilterBar.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getContext().getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            _this.updateHeader();\r\n        });\r\n    };\r\n    FilterBar.prototype.detachQueryObserver = function () {\r\n        var query = this.getContext().getQuery();\r\n        if (query)\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n    };\r\n    return FilterBar;\r\n}(Widget));\r\nexport { FilterBar };\r\n//# sourceMappingURL=filter_bar.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from \"@easyquery/core\";\r\n/**\r\n * The widget responsed for rendering html content\r\n */\r\nvar HtmlContentWidget = /** @class */ (function (_super) {\r\n    __extends(HtmlContentWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function HtmlContentWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.contentElement = slot;\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    HtmlContentWidget.prototype.getWidgetType = function () {\r\n        return 'htmlContent';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    HtmlContentWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    HtmlContentWidget.prototype.refreshCore = function () {\r\n        this.clear();\r\n        if (!this.context.resultContent)\r\n            return;\r\n        this.render();\r\n    };\r\n    /**\r\n     * Renders widget\r\n     */\r\n    HtmlContentWidget.prototype.render = function () {\r\n        if (this.context.resultContent) {\r\n            this.contentElement.innerHTML += this.context.resultContent;\r\n        }\r\n    };\r\n    /**\r\n     * Clears content.\r\n     */\r\n    HtmlContentWidget.prototype.clear = function () {\r\n        this.contentElement.innerHTML = \"\";\r\n    };\r\n    HtmlContentWidget.prototype.destroyCore = function () {\r\n        this.clear();\r\n    };\r\n    return HtmlContentWidget;\r\n}(Widget));\r\nexport { HtmlContentWidget };\r\n//# sourceMappingURL=html_content_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { WidgetGroup } from '@easyquery/core';\r\nimport { HtmlContentWidget } from './html_content_widget';\r\n/**\r\n * The widget responsed for rendering html grid.\r\n */\r\nvar EqHtmlGrid = /** @class */ (function (_super) {\r\n    __extends(EqHtmlGrid, _super);\r\n    /**\r\n    * The default constructor.\r\n    * @param slot The html element.\r\n    */\r\n    function EqHtmlGrid(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            maxButtonCount: 10,\r\n            useBootstrap: false\r\n        };\r\n        return _this;\r\n    }\r\n    EqHtmlGrid.prototype.getWidgetType = function () {\r\n        return 'eqHtmlGrid';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    EqHtmlGrid.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n    };\r\n    EqHtmlGrid.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    EqHtmlGrid.prototype.refreshCore = function () {\r\n        _super.prototype.refreshCore.call(this);\r\n        this.renderPageNavigator();\r\n    };\r\n    EqHtmlGrid.prototype.destroyCore = function () {\r\n        this.slot.innerHTML = '';\r\n    };\r\n    /**\r\n     * Renders page navigator.\r\n     */\r\n    EqHtmlGrid.prototype.renderPageNavigator = function () {\r\n        var _this = this;\r\n        var pageNavigatorPlaceholder = document.getElementById(\"PageNavigator\");\r\n        if (!pageNavigatorPlaceholder) {\r\n            return;\r\n        }\r\n        var pageCount = parseInt(pageNavigatorPlaceholder.getAttribute('data-pagecount'));\r\n        var pageIndex = parseInt(pageNavigatorPlaceholder.getAttribute('data-pageindex'));\r\n        if (pageCount > 1) {\r\n            var buttonClick = function (ev) {\r\n                var element = ev.target;\r\n                if (element.hasAttribute('data-page')) {\r\n                    var pageNum = parseInt(element.getAttribute('data-page'));\r\n                    _this.context.fetchDataChunk({\r\n                        chunk: {\r\n                            page: pageNum\r\n                        },\r\n                        success: function () {\r\n                            _this.context.refreshWidgets(WidgetGroup.Result);\r\n                        }\r\n                    });\r\n                }\r\n            };\r\n            var maxButtonCount = this.options.maxButtonCount || 10;\r\n            var zeroBasedIndex = pageIndex - 1;\r\n            var firstPageIndex = zeroBasedIndex - (zeroBasedIndex % maxButtonCount) + 1;\r\n            var lastPageIndex = firstPageIndex + maxButtonCount - 1;\r\n            if (lastPageIndex > pageCount) {\r\n                lastPageIndex = pageCount;\r\n            }\r\n            var ul = document.createElement('ul');\r\n            if (this.options.useBootstrap) {\r\n                ul.className = \"pagination\";\r\n            }\r\n            else {\r\n                ul.className = \"eqv-pagination\";\r\n            }\r\n            if (this.options.pageItemCssClass) {\r\n                ul.className += \" \" + (this.options.pageItemCssClass);\r\n            }\r\n            var li = document.createElement('li');\r\n            if (this.options.useBootstrap) {\r\n                li.className = \"page-item\";\r\n            }\r\n            var a = document.createElement('span');\r\n            a.setAttribute(\"aria-hidden\", 'true');\r\n            if (this.options.useBootstrap) {\r\n                a.className = \"page-link\";\r\n            }\r\n            if (firstPageIndex == 1) {\r\n                li.className += \" disabled\";\r\n            }\r\n            else {\r\n                if (this.options.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                    a.className = \"page-link\";\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (firstPageIndex - 1));\r\n                    a = newA;\r\n                }\r\n                a.addEventListener(\"click\", buttonClick);\r\n            }\r\n            a.innerHTML = \"&laquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            for (var i = firstPageIndex; i <= lastPageIndex; i++) {\r\n                li = document.createElement('li');\r\n                if (this.options.useBootstrap) {\r\n                    li.className = \"page-item\";\r\n                }\r\n                if (i == pageIndex)\r\n                    li.className += \" active\";\r\n                a = document.createElement('a');\r\n                a.setAttribute('href', 'javascript:void(0)');\r\n                a.innerHTML = i.toString();\r\n                a.setAttribute('data-page', i.toString());\r\n                a.className = \"page-link\";\r\n                a.addEventListener(\"click\", buttonClick);\r\n                li.appendChild(a);\r\n                ul.appendChild(li);\r\n            }\r\n            li = document.createElement('li');\r\n            if (this.options.useBootstrap) {\r\n                li.className = \"page-item\";\r\n            }\r\n            a = document.createElement(\"span\");\r\n            a.setAttribute('aria-hidden', 'true');\r\n            if (this.options.useBootstrap) {\r\n                a.className = \"page-link\";\r\n            }\r\n            if (lastPageIndex == pageCount) {\r\n                li.className += \"disabled\";\r\n            }\r\n            else {\r\n                if (this.options.useBootstrap) {\r\n                    a = document.createElement('a');\r\n                    a.setAttribute('href', 'javascript:void(0)');\r\n                    a.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                    a.className += \" page-link\";\r\n                }\r\n                else {\r\n                    var newA = document.createElement('a');\r\n                    newA.setAttribute('href', 'javascript:void(0)');\r\n                    newA.setAttribute(\"data-page\", \"\" + (lastPageIndex + 1));\r\n                    a = newA;\r\n                }\r\n                a.addEventListener(\"click\", buttonClick);\r\n            }\r\n            a.innerHTML = \"&raquo;\";\r\n            li.appendChild(a);\r\n            ul.appendChild(li);\r\n            pageNavigatorPlaceholder.appendChild(ul);\r\n        }\r\n    };\r\n    return EqHtmlGrid;\r\n}(HtmlContentWidget));\r\nexport { EqHtmlGrid };\r\n//# sourceMappingURL=eq_result_html_grid.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\n/**\r\n * Base class for GRID.\r\n */\r\nvar Grid = /** @class */ (function (_super) {\r\n    __extends(Grid, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function Grid(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            useCustomLocaleSettings: false\r\n        };\r\n        _this.slot = slot;\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    Grid.prototype.getWidgetType = function () {\r\n        return 'grid';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    Grid.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        if (options) {\r\n            dataUtils.assignDeep(this.options, options);\r\n        }\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    Grid.prototype.refreshCore = function () {\r\n        this.clear();\r\n        if (!this.context.resultTable) {\r\n            return;\r\n        }\r\n        this.render();\r\n    };\r\n    /**\r\n     * Renders widget\r\n     */\r\n    Grid.prototype.render = function () {\r\n        if (this.options.beforeTableRendering) {\r\n            this.options.beforeTableRendering(this.context.resultTable);\r\n        }\r\n        this.applyDisplayFormats();\r\n    };\r\n    Grid.prototype.applyDisplayFormats = function () {\r\n    };\r\n    /**\r\n     * Clears GRID.\r\n     */\r\n    Grid.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    return Grid;\r\n}(Widget));\r\nexport { Grid };\r\n//# sourceMappingURL=grid.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { WidgetGroup, QueryChangeAction, ExprTag, QueryChangePart, SortDirection } from '@easyquery/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { EasyGrid } from '@easydata/ui';\r\nimport { Grid } from './grid';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nvar EasyGridWidget = /** @class */ (function (_super) {\r\n    __extends(EasyGridWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function EasyGridWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.hasCustomTotalsSettings = false;\r\n        //!!!! DO NOT forget to add types for options\r\n        _this.options = { autoRefresh: true };\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    EasyGridWidget.prototype.getWidgetType = function () {\r\n        return 'easyGrid';\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    EasyGridWidget.prototype.init = function (context, options) {\r\n        var _this = this;\r\n        _super.prototype.init.call(this, context, options);\r\n        var gridOptions = __assign({}, options, { slot: this.slot, dataTable: context.resultTable });\r\n        this.options = dataUtils.assign(this.options, options);\r\n        gridOptions.onAddColumnClick = function (ev) { return _this.addColumnClickHandler(ev); };\r\n        gridOptions.onColumnMoved = function (ev) { return _this.columnMovedHandler(ev); };\r\n        if (this.context.calcTotals) {\r\n            if (gridOptions.totals) {\r\n                this.hasCustomTotalsSettings = true;\r\n            }\r\n            else {\r\n                gridOptions.totals = __assign({}, this.context.getTotalsSettings(), { calculator: null });\r\n            }\r\n            gridOptions.totals.calculator = this.context.getServices()\r\n                .getTotalCalculator();\r\n        }\r\n        this.destroy();\r\n        this.grid = new EasyGrid(gridOptions);\r\n        if (this.options.autoRefresh) {\r\n            this.attachQueryObserver();\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.updateTotalsSettings();\r\n        this.render();\r\n    };\r\n    EasyGridWidget.prototype.render = function () {\r\n        this.createEntitiesMenu();\r\n        this.grid.refresh();\r\n    };\r\n    EasyGridWidget.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (!edata || (edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                return;\r\n            }\r\n            if (event.data.source == _this) {\r\n                _this.grid.refresh();\r\n            }\r\n            else {\r\n                _this.refresh();\r\n            }\r\n        });\r\n    };\r\n    EasyGridWidget.prototype.destroyCore = function () {\r\n        this.detachQueryObserver();\r\n        if (this.grid)\r\n            this.grid.destroy();\r\n        this.slot.innerHTML = '';\r\n    };\r\n    EasyGridWidget.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.getContext().getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.updateTotalsSettings = function () {\r\n        var context = this.getContext();\r\n        if (context.calcTotals && !this.hasCustomTotalsSettings) {\r\n            var settings = context.getTotalsSettings();\r\n            this.grid.options.totals.calcGrandTotals = settings.calcGrandTotals;\r\n            this.grid.options.totals.cols = settings.cols;\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.createEntitiesMenu = function () {\r\n        var model = this.getContext().getModel();\r\n        if (!model || model.isEmpty())\r\n            return;\r\n        var menuId = this.slot.id;\r\n        if (menuId) {\r\n            menuId += '-EntitiesMenu';\r\n        }\r\n        var entitiesList = model.getEntitiesTree({ addUIC: false, addUIR: true, addUIS: false });\r\n        var options = { items: entitiesList, id: menuId };\r\n        dataUtils.assign(options, this.options.menuOptions);\r\n        this.entitiesMenu = new PopupMenu(options);\r\n    };\r\n    EasyGridWidget.prototype.getModel = function () {\r\n        return this.context.getModel();\r\n    };\r\n    EasyGridWidget.prototype.getQuery = function () {\r\n        return this.context.getQuery();\r\n    };\r\n    EasyGridWidget.prototype.clear = function () {\r\n        if (this.grid)\r\n            this.grid.clear();\r\n    };\r\n    EasyGridWidget.prototype.addColumnClickHandler = function (ev) {\r\n        var _this = this;\r\n        this.entitiesMenu.showMenu({\r\n            anchor: ev.sourceEvent.target,\r\n            selectedIds: null,\r\n            itemSelectedCallback: function (data, items) {\r\n                var attrid = data.id;\r\n                _this.addNewColumn(attrid);\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    EasyGridWidget.prototype.columnMovedHandler = function (ev) {\r\n        var query = this.getQuery();\r\n        var oldIndex = dataUtils.findItemIndexById(query.getColumns(), ev.columnId);\r\n        if (oldIndex >= 0) {\r\n            query.moveColumn(oldIndex, ev.newIndex);\r\n            query.fireChangedEvent({\r\n                part: QueryChangePart.Columns,\r\n                action: QueryChangeAction.All,\r\n                source: this\r\n            });\r\n        }\r\n    };\r\n    EasyGridWidget.prototype.addNewColumn = function (attrId) {\r\n        var _this = this;\r\n        var model = this.getContext().getModel();\r\n        var query = this.getContext().getQuery();\r\n        var getColumnByAttrId = function (attrid) {\r\n            var attribute = model.getAttributeById(attrid);\r\n            if (!attribute) {\r\n                return null;\r\n            }\r\n            if (!attribute.useInSorting) {\r\n                if (attribute.lookupAttr) {\r\n                    attrid = attribute.lookupAttr;\r\n                    attribute = model.getAttributeById(attrid);\r\n                    if (!attribute || !attribute.useInSorting) {\r\n                        return null;\r\n                    }\r\n                }\r\n                else\r\n                    return null;\r\n            }\r\n            var column = query.createColumn();\r\n            column.caption = _this.getDefaultColumnCaption(attribute);\r\n            column.sorting = SortDirection.None;\r\n            column.sortIndex = -1;\r\n            column.expr.tag = ExprTag.EntityAttribute;\r\n            //column.expr.id = attrid;\r\n            column.expr.setValue(attrid, true);\r\n            column.params.concat(attribute.params);\r\n            return column;\r\n        };\r\n        if (!this.getContext().getQuery()) {\r\n            return;\r\n        }\r\n        return this.addColumn(getColumnByAttrId(attrId));\r\n    };\r\n    EasyGridWidget.prototype.getDefaultColumnCaption = function (attr) {\r\n        var format = this.options.titleElementFormat || this.options.attrElementFormat;\r\n        var model = this.getContext().getModel();\r\n        return model.getAttributeText(attr, format);\r\n    };\r\n    EasyGridWidget.prototype.addColumn = function (column) {\r\n        var query = this.getContext().getQuery();\r\n        if (!query) {\r\n            return;\r\n        }\r\n        column = this.checkColumn(column);\r\n        if (!column) {\r\n            return;\r\n        }\r\n        column = query.addColumn({\r\n            caption: column.caption,\r\n            attributeId: column.expr.value,\r\n            sorting: column.sorting,\r\n            sortIndex: column.sortIndex\r\n        });\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.Columns,\r\n            action: QueryChangeAction.Add,\r\n            changee: column,\r\n            source: this\r\n        });\r\n        return column;\r\n    };\r\n    EasyGridWidget.prototype.checkColumn = function (col) {\r\n        var query = this.getContext().getQuery();\r\n        var columns = query.getColumns();\r\n        var colJson = JSON.stringify(col.expr.saveToData());\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var qcolJson = JSON.stringify(columns[i].expr.saveToData());\r\n            if (qcolJson === colJson) {\r\n                return null;\r\n            }\r\n        }\r\n        return col;\r\n    };\r\n    return EasyGridWidget;\r\n}(Grid));\r\nexport { EasyGridWidget };\r\n//# sourceMappingURL=easy_grid_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\n/**\r\n * The widget responsed for rendering statement.\r\n * It's usually added for demonstration purposes only.\r\n */\r\nvar StatementPanel = /** @class */ (function (_super) {\r\n    __extends(StatementPanel, _super);\r\n    /**\r\n     * The  default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function StatementPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.panel = slot;\r\n        _this.group = WidgetGroup.Statement;\r\n        if (_this.panel.tagName !== \"TEXTAREA\") {\r\n            _this.panel.innerHTML = '<div class=\"eqv-sql-panel-result\"></div>';\r\n            _this.panel = _this.panel.querySelector('div');\r\n        }\r\n        return _this;\r\n    }\r\n    StatementPanel.prototype.getWidgetType = function () {\r\n        return 'statementPanel';\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    StatementPanel.prototype.refreshCore = function () {\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    StatementPanel.prototype.render = function () {\r\n        this.panel.textContent = this.context.resultStatement ? this.context.resultStatement : \"\";\r\n        var statementText = this.panel.innerHTML.replace(/\\r\\n/g, \"<br />\").replace(/  /g, \"&nbsp;&nbsp;\");\r\n        this.panel.innerHTML = statementText;\r\n    };\r\n    StatementPanel.prototype.destroyCore = function () {\r\n        this.clear();\r\n    };\r\n    StatementPanel.prototype.clear = function () {\r\n        this.panel.innerHTML = \"\";\r\n    };\r\n    return StatementPanel;\r\n}(Widget));\r\nexport { StatementPanel };\r\n//# sourceMappingURL=statement_panel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\n/**\r\n * The widget responsed for rendering process bar.\r\n */\r\nvar ProcessWidget = /** @class */ (function (_super) {\r\n    __extends(ProcessWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     */\r\n    function ProcessWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.element = slot;\r\n        _this.element.style.display = 'none';\r\n        _this.group = WidgetGroup.All;\r\n        return _this;\r\n    }\r\n    ProcessWidget.prototype.getWidgetType = function () {\r\n        return 'processIndicator';\r\n    };\r\n    /**\r\n     * On process start implementation\r\n     */\r\n    ProcessWidget.prototype.onProcessStartCore = function () {\r\n        this.element.style.display = '';\r\n    };\r\n    /**\r\n    * On process end implementation\r\n    */\r\n    ProcessWidget.prototype.onProcessEndCore = function () {\r\n        this.element.style.display = 'none';\r\n    };\r\n    return ProcessWidget;\r\n}(Widget));\r\nexport { ProcessWidget };\r\n//# sourceMappingURL=process_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup, Query, DataKind } from \"@easyquery/core\";\r\nimport { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { ColumnsBar } from './columns_bar';\r\nimport { QueryPanel } from './query_panel';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nvar ManageDrillDownWidget = /** @class */ (function (_super) {\r\n    __extends(ManageDrillDownWidget, _super);\r\n    function ManageDrillDownWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.clickHandler = function () { return _this.openDialog(); };\r\n        _this.columnsBar = null;\r\n        _this.queryPanel = null;\r\n        _this.ddQuery = null;\r\n        _this.cssPrefix = eqCssPrefix;\r\n        _this.group = WidgetGroup.None;\r\n        return _this;\r\n    }\r\n    ManageDrillDownWidget.prototype.getWidgetType = function () {\r\n        return 'manageDrillDown';\r\n    };\r\n    ManageDrillDownWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.options = options;\r\n        this.refresh();\r\n        this.slot.addEventListener('click', this.clickHandler);\r\n    };\r\n    ManageDrillDownWidget.prototype.destroyCore = function () {\r\n        this.slot.removeEventListener('click', this.clickHandler);\r\n    };\r\n    ManageDrillDownWidget.prototype.openDialog = function () {\r\n        var _this = this;\r\n        var dialogService = this.context.getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        var model = this.context.getModel();\r\n        var dialogBody = domel('div')\r\n            .addClass(this.cssPrefix + \"-manage-drilldown\")\r\n            .addChildElement(this.renderColumnsBarBlock())\r\n            .addChildElement(this.renderQueryPanelBlock())\r\n            .toDOM();\r\n        var op = model.addOrUpdateOperator({\r\n            id: 'BindToParentColumn',\r\n            caption: 'is bound to',\r\n            format: '{expr1} [[is bound to]] {expr2}',\r\n            paramCount: 2,\r\n            kind: DataKind.ParentColumn,\r\n            appliedTypes: [DataType.String, DataType.Bool, DataType.Float, DataType.Int32, DataType.Int64, DataType.Word]\r\n        });\r\n        op.defaultOperand.dataType = DataType.String;\r\n        op.defaultOperand.kind = DataKind.ParentColumn;\r\n        model.runThroughEntities(function (attr) {\r\n            var opIdx = attr.operators.indexOf(op.id);\r\n            if (opIdx > 0) {\r\n                dataUtils.moveArrayItem(attr.operators, opIdx, 0);\r\n            }\r\n        }, null);\r\n        this.ddQuery = new Query(model, null, {\r\n            parent: query\r\n        });\r\n        var dds = this.context.getQuery().getDrillDowns();\r\n        if (dds.length) {\r\n            var dd = dds[0];\r\n            this.ddQuery.loadFromData(dd.toJSONData());\r\n        }\r\n        dialogService.open({\r\n            title: 'Manage Drill Down',\r\n            body: dialogBody,\r\n            cancelable: true,\r\n            closable: false,\r\n            beforeOpen: function () {\r\n                var columnsBarSlot = dialogBody.getElementsByClassName(_this.cssPrefix + \"-columnsbar-slot\")[0];\r\n                _this.columnsBar = new ColumnsBar(columnsBarSlot, _this.ddQuery);\r\n                _this.columnsBar.init(_this.context, _this.options.columnsBar);\r\n                var queryPanelSlot = dialogBody.getElementsByClassName(_this.cssPrefix + \"-querypanel-slot\")[0];\r\n                _this.queryPanel = new QueryPanel(queryPanelSlot, _this.ddQuery);\r\n                _this.queryPanel.init(_this.context, _this.options.queryPanel);\r\n                _this.columnsBar.refresh();\r\n                _this.queryPanel.refresh();\r\n            },\r\n            onSubmit: function () {\r\n                return _this.submitDialog();\r\n            },\r\n            onDestroy: function () {\r\n                _this.destroyDialog();\r\n            }\r\n        });\r\n    };\r\n    ManageDrillDownWidget.prototype.renderQueryPanelBlock = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-querypanel-block\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-querypanel-caption\"); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-querypanel-slot\"); })\r\n            .toDOM();\r\n    };\r\n    ManageDrillDownWidget.prototype.renderColumnsBarBlock = function () {\r\n        var _this = this;\r\n        return domel('div')\r\n            .addClass(this.cssPrefix + \"-columnsbar-block\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-columnsbar-caption\"); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass(_this.cssPrefix + \"-columnsbar-slot\"); })\r\n            .toDOM();\r\n    };\r\n    ManageDrillDownWidget.prototype.submitDialog = function () {\r\n        if (this.ddQuery.tryValidate({\r\n            checkExpressions: true\r\n        })) {\r\n            var dds = this.context.getQuery().getDrillDowns();\r\n            if (dds.length) {\r\n                dds[0].loadFromData(this.ddQuery.toJSONData());\r\n                this.context.getQuery().fireChangedEvent();\r\n            }\r\n            else {\r\n                if (!this.ddQuery.isEmpty()) {\r\n                    var dd = this.context.getQuery().addDrillDown();\r\n                    dd.loadFromData(this.ddQuery.toJSONData());\r\n                    this.context.getQuery().fireChangedEvent();\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    ManageDrillDownWidget.prototype.destroyDialog = function () {\r\n        var model = this.context.getModel();\r\n        model.removeOperator('BindToParentColumn', true);\r\n        this.ddQuery = null;\r\n        this.columnsBar && this.columnsBar.destroy();\r\n        this.columnsBar = null;\r\n        this.queryPanel && this.queryPanel.destroy();\r\n        this.queryPanel = null;\r\n    };\r\n    return ManageDrillDownWidget;\r\n}(Widget));\r\nexport { ManageDrillDownWidget };\r\n//# sourceMappingURL=manage_drilldown_widget.js.map","import { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nvar ResultFacetTab = /** @class */ (function () {\r\n    function ResultFacetTab(panel, options) {\r\n        var _this = this;\r\n        this.panel = panel;\r\n        this.title = i18n.getText('Facets', 'DefaultFacetTitle');\r\n        this.cssPrefix = 'eqjs-facet';\r\n        this.dialogTitle = i18n.getText('Facets', 'DefaultDlgTitle');\r\n        this.options = {};\r\n        this.canDisplayFlag = true;\r\n        this.downloadAllClickHandler = function () {\r\n            var chunksToLoad = _this.getChunksForLoading();\r\n            var resultTable = _this.getContext().resultTable;\r\n            var recordsToLoad = resultTable.getTotal() - resultTable.getCachedCount();\r\n            var ds = _this.getDialogService();\r\n            var textDiv;\r\n            var progressDiv;\r\n            var body = domel('div')\r\n                .addChild('div', function (b) { return textDiv = b\r\n                .text(i18n.getText('Facets', 'LoadDataDlgContent')\r\n                .replace('{loadedRecs}', '0')\r\n                .replace('{totalRecs}', \"\" + recordsToLoad))\r\n                .toDOM(); })\r\n                .addChild('div', function (b) { return b\r\n                .addClass(eqCssPrefix + \"-progress-line\")\r\n                .addChild('div', function (b) { return progressDiv = b\r\n                .addClass('fill')\r\n                .setStyle('width', '0%')\r\n                .toDOM(); }); })\r\n                .toDOM();\r\n            var dlg = ds.open({\r\n                title: i18n.getText('Facets', 'LoadDataDlgTitle'),\r\n                body: body,\r\n                submitable: false,\r\n                cancelable: false,\r\n                closable: false\r\n            });\r\n            var loadedRecords = 0;\r\n            var _loop_1 = function (chunk) {\r\n                setTimeout(function () {\r\n                    resultTable.getRows({ offset: chunk.offset, limit: resultTable.chunkSize })\r\n                        .then(function (_) {\r\n                        loadedRecords += _.length;\r\n                        var progress = loadedRecords / recordsToLoad * 100;\r\n                        progressDiv.style.width = progress + \"%\";\r\n                        textDiv.innerText = i18n.getText('Facets', 'LoadDataDlgContent')\r\n                            .replace('{loadedRecs}', \"\" + loadedRecords)\r\n                            .replace('{totalRecs}', \"\" + recordsToLoad);\r\n                        if (progress === 100) {\r\n                            // postpone for 0.5s for smooth closing\r\n                            setTimeout(function () {\r\n                                dlg.submit();\r\n                                _this.refresh();\r\n                            }, 500);\r\n                        }\r\n                    })\r\n                        .catch(function (error) {\r\n                        dlg.submit();\r\n                        _this.refresh();\r\n                        _this.getContext().throwError(error);\r\n                    });\r\n                }, 10);\r\n            };\r\n            for (var _i = 0, chunksToLoad_1 = chunksToLoad; _i < chunksToLoad_1.length; _i++) {\r\n                var chunk = chunksToLoad_1[_i];\r\n                _loop_1(chunk);\r\n            }\r\n        };\r\n        dataUtils.assignDeep(this.options, options);\r\n    }\r\n    ResultFacetTab.prototype.init = function (slot) {\r\n        this.slot = slot;\r\n        this.contentDiv = domel('div', this.slot).toDOM();\r\n        this.displayMessageDiv = domel('div', this.slot).hide().toDOM();\r\n    };\r\n    ResultFacetTab.prototype.showSettingsDialog = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            var ds = _this.getDialogService();\r\n            var content = _this.renderDialogContent();\r\n            ds.open({\r\n                title: _this.dialogTitle,\r\n                body: content,\r\n                cancelable: true,\r\n                closable: false,\r\n                onSubmit: function () {\r\n                    var submited = _this.submitSettingsDialog();\r\n                    if (submited) {\r\n                        resolve(true);\r\n                    }\r\n                    return submited;\r\n                },\r\n                onCancel: function () {\r\n                    resolve(false);\r\n                }\r\n            });\r\n        });\r\n    };\r\n    ResultFacetTab.prototype.renderDialogContent = function () {\r\n        var fieldsContainer;\r\n        var b = domel('div')\r\n            .addClass('kfrm-form')\r\n            .addChild('div', function (b) { return fieldsContainer = b\r\n            .addClass(\"\" + (browserUtils.IsIE()\r\n            ? 'kfrm-fields-ie col-ie-1-4 label-align-right'\r\n            : 'kfrm-fields col-a-1 label-align-right'))\r\n            .toDOM(); });\r\n        this.renderFormFields(b.toDOM(), fieldsContainer);\r\n        return b.toDOM();\r\n    };\r\n    ResultFacetTab.prototype.renderFormFields = function (form, fieldsContainer) {\r\n        var _this = this;\r\n        var cont = fieldsContainer;\r\n        if (browserUtils.IsIE()) {\r\n            cont = domel('div', fieldsContainer)\r\n                .addClass('kfrm-field-ie')\r\n                .toDOM();\r\n        }\r\n        domel(cont)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'tab_name')\r\n            .addText(i18n.getText('Facets', 'TabNameLabel')); })\r\n            .addChild('input', function (b) { return b\r\n            .id('facetTabName')\r\n            .name('tab_name')\r\n            .type('text')\r\n            .attr('value', _this.title); });\r\n    };\r\n    ResultFacetTab.prototype.submitSettingsDialog = function () {\r\n        var tabNameInput = document.querySelector('#facetTabName');\r\n        if (tabNameInput.value.length == 0)\r\n            return false;\r\n        this.title = tabNameInput.value;\r\n        return true;\r\n    };\r\n    ResultFacetTab.prototype.getDialogService = function () {\r\n        return this.getContext()\r\n            .getServices()\r\n            .getDialogService();\r\n    };\r\n    ResultFacetTab.prototype.canDisplay = function () {\r\n        var context = this.getContext();\r\n        var resultTable = context.resultTable;\r\n        return (resultTable.getCachedCount() == resultTable.getTotal());\r\n    };\r\n    ResultFacetTab.prototype.showUnableDisplayMessage = function (message) {\r\n        var context = this.getContext();\r\n        var resultTable = context.resultTable;\r\n        this.displayMessageDiv.innerHTML = message || i18n.getText('Facets', 'ErrNotEnoughData')\r\n            .replace('{totalRecs}', \"\" + resultTable.getTotal())\r\n            .replace('{cachedRecs}', \"\" + resultTable.getCachedCount())\r\n            .replace(/\\[(.*)\\]/g, \"<a href='javascript:void(0)' class=\\\"\" + this.cssPrefix + \"-download-all-link\\\">$1</a>\");\r\n        var link = this.displayMessageDiv.querySelector(\"a.\" + this.cssPrefix + \"-download-all-link\");\r\n        if (link) {\r\n            link.addEventListener('click', this.downloadAllClickHandler);\r\n        }\r\n        domel(this.contentDiv).hide();\r\n        domel(this.displayMessageDiv).show();\r\n    };\r\n    ResultFacetTab.prototype.hideUnableDisplayMessage = function () {\r\n        domel(this.displayMessageDiv).hide();\r\n        domel(this.contentDiv).show();\r\n    };\r\n    ResultFacetTab.prototype.getContext = function () {\r\n        return this.panel.getContext();\r\n    };\r\n    ResultFacetTab.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    ResultFacetTab.prototype.saveToData = function () {\r\n        return { title: this.title, type: this.getType() };\r\n    };\r\n    ResultFacetTab.prototype.loadFromData = function (data) {\r\n        if (data) {\r\n            this.title = data.title;\r\n        }\r\n    };\r\n    ResultFacetTab.prototype.refresh = function () {\r\n        this.hideUnableDisplayMessage();\r\n        if (this.canDisplay()) {\r\n            this.refreshCore();\r\n        }\r\n        else {\r\n            this.showUnableDisplayMessage();\r\n        }\r\n    };\r\n    ResultFacetTab.prototype.getChunksForLoading = function () {\r\n        var resultTable = this.getContext().resultTable;\r\n        var chunkSize = resultTable.chunkSize;\r\n        var cachedChunks = resultTable.getCachedChunks();\r\n        var chunksToLoad = [];\r\n        if (cachedChunks[0].offset != 0) {\r\n            chunksToLoad.push({ offset: 0 });\r\n        }\r\n        for (var i = 1; i < cachedChunks.length; i++) {\r\n            var diffOffset = cachedChunks[i].offset - cachedChunks[i - 1].offset - chunkSize;\r\n            if (diffOffset >= chunkSize) {\r\n                var numbOfChunks = diffOffset / chunkSize;\r\n                for (var j = 1; j <= numbOfChunks; j++) {\r\n                    chunksToLoad.push({ offset: cachedChunks[i - 1].offset + j * chunkSize });\r\n                }\r\n            }\r\n        }\r\n        var lastChunk = cachedChunks[cachedChunks.length - 1];\r\n        var diff = resultTable.getTotal() - lastChunk.offset;\r\n        if (diff >= chunkSize) {\r\n            var numbOfChunks = diff / chunkSize;\r\n            for (var j = 1; j <= numbOfChunks; j++) {\r\n                chunksToLoad.push({ offset: lastChunk.offset + j * chunkSize });\r\n            }\r\n        }\r\n        return chunksToLoad;\r\n    };\r\n    return ResultFacetTab;\r\n}());\r\nexport { ResultFacetTab };\r\n//# sourceMappingURL=result_facet_tab.js.map","/** Represents chart types. */\r\nexport var ChartType;\r\n(function (ChartType) {\r\n    ChartType[ChartType[\"Column\"] = 3] = \"Column\";\r\n    ChartType[ChartType[\"Histogram\"] = 4] = \"Histogram\";\r\n    ChartType[ChartType[\"Bar\"] = 5] = \"Bar\";\r\n    ChartType[ChartType[\"Combo\"] = 6] = \"Combo\";\r\n    ChartType[ChartType[\"Area\"] = 7] = \"Area\";\r\n    ChartType[ChartType[\"Line\"] = 9] = \"Line\";\r\n    ChartType[ChartType[\"Pie\"] = 10] = \"Pie\";\r\n    ChartType[ChartType[\"Donut\"] = 12] = \"Donut\";\r\n    ChartType[ChartType[\"Gauge\"] = 17] = \"Gauge\";\r\n    ChartType[ChartType[\"Candlestick\"] = 18] = \"Candlestick\";\r\n})(ChartType || (ChartType = {}));\r\n//# sourceMappingURL=chart_type.js.map","import { i18n } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar TotalsDialog = /** @class */ (function () {\r\n    function TotalsDialog(context) {\r\n        this.context = context;\r\n    }\r\n    TotalsDialog.prototype.show = function () {\r\n        var _this = this;\r\n        if (!this.context.calcTotals) {\r\n            console.warn('Totals mode is turned off. Set calcTotals options to true');\r\n        }\r\n        var settings = this.context.getTotalsSettings();\r\n        var body = domel('div')\r\n            .addClass('kfrm-form')\r\n            .addChild('div', function (b) {\r\n            b.addClass(\"\" + (browserUtils.IsIE()\r\n                ? 'kfrm-fields-ie col-ie-1-4 label-align-right'\r\n                : 'kfrm-fields col-a-1 label-align-right'));\r\n            TotalsDialog.renderFields(settings, _this.context, b.toDOM());\r\n        })\r\n            .toDOM();\r\n        var ds = this.context.getServices().getDialogService();\r\n        ds.open({\r\n            title: i18n.getText('TotalsDlgTitle'),\r\n            body: body,\r\n            cancelable: true,\r\n            closable: false,\r\n            onSubmit: function () {\r\n                var settings = TotalsDialog.getSelectedSettings(body);\r\n                _this.context.setTotalsSettings(settings);\r\n            }\r\n        });\r\n    };\r\n    TotalsDialog.getSelectedSettings = function (parent) {\r\n        parent = parent || document.body;\r\n        var settings = {\r\n            calcGrandTotals: parent.querySelector('#dataTableCalcGrandTotals').checked,\r\n            cols: {}\r\n        };\r\n        var inputs = Array.from(parent.querySelectorAll('[data-colId]'));\r\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\r\n            var input = inputs_1[_i];\r\n            var colId = input.getAttribute('data-colId');\r\n            settings.cols[colId] = { calcSubTotals: input.checked };\r\n        }\r\n        return settings;\r\n    };\r\n    // for facets dialog\r\n    TotalsDialog.renderFields = function (settings, context, parent) {\r\n        var isIE = browserUtils.IsIE();\r\n        var fieldsClass = isIE ? 'kfrm-fields-ie' : 'kfrm-fields';\r\n        var getCurrent = function () {\r\n            if (isIE) {\r\n                return domel('div', parent)\r\n                    .addClass('kfrm-field-ie')\r\n                    .toDOM();\r\n            }\r\n            else {\r\n                return parent;\r\n            }\r\n        };\r\n        var current = getCurrent();\r\n        var container;\r\n        domel(current)\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-break-30'); });\r\n        var cols = context.getQuery().getUsedInTotalsColumns();\r\n        domel(current)\r\n            .addChild('fieldset', function (b) { return b\r\n            .addChild('legend', function (b) { return b\r\n            .addText(i18n.getText('TotalsDlgLabel')); })\r\n            .addChild('div', function (b) { return container = b\r\n            .addClass(fieldsClass)\r\n            .toDOM(); }); })\r\n            .toDOM();\r\n        domel(container)\r\n            .addChild('label', function (b) { return b\r\n            .addClass('checkbox')\r\n            .addChild('input', function (b) {\r\n            b\r\n                .id('dataTableCalcGrandTotals')\r\n                .type('checkbox');\r\n            if (settings.calcGrandTotals)\r\n                b.attr('checked', '');\r\n        })\r\n            .addText(' ' + i18n.getText('GrandTotalsLabel'))\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-break-20'); }); });\r\n        var _loop_1 = function (col) {\r\n            var sCol = settings.cols[col.id];\r\n            domel(container)\r\n                .addChild('label', function (b) { return b\r\n                .addClass('checkbox')\r\n                .addChild('input', function (b) {\r\n                b\r\n                    .data('colId', col.id)\r\n                    .type('checkbox');\r\n                if (sCol.calcSubTotals)\r\n                    b.attr('checked', '');\r\n            })\r\n                .addText(' ' + col.caption); })\r\n                .toDOM();\r\n        };\r\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\r\n            var col = cols_1[_i];\r\n            _loop_1(col);\r\n        }\r\n    };\r\n    return TotalsDialog;\r\n}());\r\nexport { TotalsDialog };\r\n//# sourceMappingURL=totals_dialog.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { i18n } from '@easyquery/core';\r\nimport { ResultFacetTab } from './result_facet_tab';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { EasyGridWidget } from '../widgets/easy_grid_widget';\r\nimport { TotalsDialog } from '../dialog/totals_dialog';\r\nvar DataTableFacetTab = /** @class */ (function (_super) {\r\n    __extends(DataTableFacetTab, _super);\r\n    function DataTableFacetTab() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.grid = null;\r\n        _this.title = i18n.getText('Facets', 'DataTable', 'FacetTitle');\r\n        _this.dialogTitle = i18n.getText('Facets', 'DataTable', 'DlgTitle');\r\n        return _this;\r\n    }\r\n    DataTableFacetTab.prototype.init = function (slot) {\r\n        _super.prototype.init.call(this, slot);\r\n        var context = this.getContext();\r\n        if (context.calcTotals) {\r\n            this.settings = dataUtils.assign(this.getContext().getDefaultTotalsSettings(), this.settings);\r\n        }\r\n        this.reinitGrid();\r\n    };\r\n    DataTableFacetTab.prototype.reinitGrid = function () {\r\n        if (this.grid)\r\n            this.grid.destroy();\r\n        var options = this.panel.options || {};\r\n        if (options.gridResolver) {\r\n            this.grid = options.gridResolver(this.contentDiv, this.getType());\r\n        }\r\n        if (this.grid == null) {\r\n            this.grid = new EasyGridWidget(this.contentDiv);\r\n        }\r\n        options.grid = options.grid || {};\r\n        options.grid.autoRefresh = false;\r\n        options.grid.addColumns = false;\r\n        var context = this.getContext();\r\n        if (context.calcTotals) {\r\n            options.grid.totals = this.settings;\r\n        }\r\n        this.grid.init(context, options.grid);\r\n    };\r\n    DataTableFacetTab.prototype.getType = function () {\r\n        return FacetType.DataGrid;\r\n    };\r\n    DataTableFacetTab.prototype.canDisplay = function () {\r\n        return true;\r\n    };\r\n    DataTableFacetTab.prototype.renderFormFields = function (form, fieldsContainer) {\r\n        _super.prototype.renderFormFields.call(this, form, fieldsContainer);\r\n        var context = this.getContext();\r\n        if (context.calcTotals) {\r\n            var settings = this.settings || {};\r\n            TotalsDialog.renderFields(settings, context, form);\r\n        }\r\n    };\r\n    DataTableFacetTab.prototype.dropSettings = function () {\r\n        this.settings.cols = this.getContext().getDefaultTotalsSettings().cols;\r\n        this.reinitGrid();\r\n        this.saveToData();\r\n    };\r\n    DataTableFacetTab.prototype.submitSettingsDialog = function () {\r\n        var result = _super.prototype.submitSettingsDialog.call(this);\r\n        if (result) {\r\n            this.settings = TotalsDialog.getSelectedSettings();\r\n            this.reinitGrid();\r\n        }\r\n        return result;\r\n    };\r\n    DataTableFacetTab.prototype.refreshCore = function () {\r\n        var context = this.getContext();\r\n        if (context.calcTotals && context.wereTotalsColumnsChanged(this.settings)) {\r\n            this.dropSettings();\r\n            return;\r\n        }\r\n        if (!this.grid)\r\n            return;\r\n        this.grid.refresh();\r\n    };\r\n    DataTableFacetTab.prototype.destroy = function () {\r\n        if (this.grid) {\r\n            this.grid.destroy();\r\n        }\r\n    };\r\n    DataTableFacetTab.prototype.saveToData = function () {\r\n        var data = _super.prototype.saveToData.call(this);\r\n        if (this.settings) {\r\n            data.cols = this.settings.cols;\r\n            data.calcGrandTotals = this.settings.calcGrandTotals;\r\n        }\r\n        return data;\r\n    };\r\n    DataTableFacetTab.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            this.settings = {\r\n                cols: data.cols,\r\n                calcGrandTotals: data.calcGrandTotals\r\n            };\r\n        }\r\n    };\r\n    return DataTableFacetTab;\r\n}(ResultFacetTab));\r\nexport { DataTableFacetTab };\r\n//# sourceMappingURL=datatable_facet_tab.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup, } from '@easyquery/core';\r\nimport { DataType, utils as dataUtils } from '@easydata/core';\r\nimport { addCssClass, showElement, hideElement, toggleVisibility, isVisible } from '@easydata/ui';\r\nimport { ChartType } from './chart_type';\r\nvar ChartWidget = /** @class */ (function (_super) {\r\n    __extends(ChartWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The html element.\r\n     * @param provider The provider.\r\n     */\r\n    function ChartWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.chartType = ChartType.Pie;\r\n        _this.supportedChartTypes = [];\r\n        _this.dataTable = null;\r\n        _this.potentialLabelColumns = [];\r\n        _this.potentialDataColumns = [];\r\n        _this.labelColumn = -1;\r\n        _this.dataColumns = [];\r\n        _this.options = {\r\n            chartType: ChartType.Pie,\r\n            showOnPaging: false,\r\n            hideSettings: false\r\n        };\r\n        _this.element = slot;\r\n        _this.group = WidgetGroup.Result;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ChartWidget.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-chart';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    ChartWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.dataTable = context.resultTable;\r\n        this.setOptions(options);\r\n    };\r\n    /**\r\n     * Checks, if widget has data.\r\n     * @returns `true` if has data, otherwise - `false`.\r\n     */\r\n    ChartWidget.prototype.hasData = function () {\r\n        var result = this.dataTable != null;\r\n        if (result) {\r\n            result = this.dataTable.getCachedCount() > 0;\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * Checks, if there ara colums for chart\r\n     * @returns `true` if there are columns, otherwise - `false`.\r\n     */\r\n    ChartWidget.prototype.hasColumnsForChart = function () {\r\n        return this.potentialLabelColumns.length > 0 && this.potentialDataColumns.length > 0;\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    ChartWidget.prototype.refreshCore = function () {\r\n        this.prepareChartData();\r\n        this.render();\r\n    };\r\n    ChartWidget.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n        this.supportedChartTypes = this.getSupportedChartTypes();\r\n        if (this.supportedChartTypes.length == 0) {\r\n            throw Error(\"Chart widget should support at least one chart type\");\r\n        }\r\n        if (options.chartType && this.supportedChartTypes.indexOf(options.chartType) >= 0) {\r\n            this.chartType = options.chartType;\r\n        }\r\n        else {\r\n            this.chartType = this.supportedChartTypes[0];\r\n        }\r\n    };\r\n    ChartWidget.prototype.getChartTypeName = function (ct) {\r\n        switch (ct) {\r\n            case ChartType.Area:\r\n                return \"Area chart\";\r\n            case ChartType.Bar:\r\n                return \"Bar chart\";\r\n            case ChartType.Candlestick:\r\n                return \"Candlestick chart\";\r\n            case ChartType.Column:\r\n                return \"Column chart\";\r\n            case ChartType.Combo:\r\n                return \"Combo chart\";\r\n            case ChartType.Donut:\r\n                return \"Donut chart\";\r\n            case ChartType.Gauge:\r\n                return \"Gauge chart\";\r\n            case ChartType.Histogram:\r\n                return \"Histogram chart\";\r\n            case ChartType.Line:\r\n                return \"Line chart\";\r\n            default:\r\n                return \"Pie chart\";\r\n        }\r\n    };\r\n    ChartWidget.prototype.updateSettings = function (settings) {\r\n        this.chartType = settings.type;\r\n        this.labelColumn = settings.labelColumn;\r\n        this.updateChartColumns();\r\n        this.dataColumns[0] = settings.dataColumn;\r\n        this.updateChartColumns();\r\n    };\r\n    /**\r\n     * Prepares data for chart.\r\n     */\r\n    ChartWidget.prototype.prepareChartData = function () {\r\n        var _this = this;\r\n        if (this.dataTable) {\r\n            this.potentialLabelColumns = [];\r\n            this.potentialDataColumns = [];\r\n            var colNum = this.dataTable.columns.count;\r\n            for (var i = 0; i < colNum; i++) {\r\n                var column = this.dataTable.columns.get(i);\r\n                var colType = column.type;\r\n                var colLabel = column.label;\r\n                if (colType === DataType.String) {\r\n                    this.potentialLabelColumns.push({ idx: i, label: colLabel });\r\n                }\r\n                else if (dataUtils.isNumericType(colType)) {\r\n                    this.potentialDataColumns.push({ idx: i, label: colLabel });\r\n                }\r\n            }\r\n            ;\r\n            if (this.labelColumn != -1) {\r\n                if (!this.potentialLabelColumns\r\n                    .filter(function (c) { return c.idx == _this.labelColumn; })\r\n                    .length) {\r\n                    this.labelColumn = -1;\r\n                }\r\n            }\r\n            else {\r\n                this.labelColumn = (this.potentialLabelColumns.length > 0)\r\n                    ? this.potentialLabelColumns[0].idx : -1;\r\n            }\r\n            if (this.dataColumns.length) {\r\n                var ids_1 = this.potentialDataColumns.map(function (d) { return d.idx; });\r\n                this.dataColumns = this.dataColumns.filter(function (v) { return ids_1.indexOf(v) >= 0; });\r\n                if (!this.dataColumns.length) {\r\n                    this.dataColumns = (this.potentialDataColumns.length > 0)\r\n                        ? [].concat(this.potentialDataColumns[0].idx)\r\n                        : [];\r\n                }\r\n            }\r\n            else {\r\n                this.dataColumns = (this.potentialDataColumns.length > 0)\r\n                    ? [].concat(this.potentialDataColumns[0].idx)\r\n                    : [];\r\n            }\r\n            this.initChart();\r\n        }\r\n    };\r\n    ChartWidget.prototype.getSupportedChartTypes = function () {\r\n        var _this = this;\r\n        var chartTypes = this.options.supportedChartTypes\r\n            ? this.options.supportedChartTypes\r\n            : Object.keys(ChartType).map(function (key) { return ChartType[key]; });\r\n        return chartTypes.filter(function (type) { return _this.hasChartTypes.indexOf(type) >= 0; });\r\n    };\r\n    ChartWidget.prototype.getCurrentChartType = function () {\r\n        return this.chartType;\r\n    };\r\n    ChartWidget.prototype.render = function () {\r\n        var _this = this;\r\n        this.clear();\r\n        if (this.hasData() && this.hasColumnsForChart()\r\n            && (this.context.resultTable.getTotal()\r\n                == this.context.resultTable.getCachedCount())) {\r\n            var headerDiv = document.createElement('div');\r\n            addCssClass(headerDiv, this.cssPrefix + \"-header\");\r\n            var mainDiv = document.createElement('div');\r\n            addCssClass(mainDiv, this.cssPrefix + \"-main\");\r\n            if (this.canDraw()) {\r\n                var chartTypeSelector = document.createElement('select');\r\n                for (var _i = 0, _a = this.supportedChartTypes; _i < _a.length; _i++) {\r\n                    var ct = _a[_i];\r\n                    var sopt = document.createElement('option');\r\n                    sopt.value = ct.toString();\r\n                    sopt.text = this.getChartTypeName(ct);\r\n                    chartTypeSelector.appendChild(sopt);\r\n                }\r\n                chartTypeSelector.value = this.chartType.toString();\r\n                headerDiv.appendChild(chartTypeSelector);\r\n                chartTypeSelector.addEventListener('change', function (ev) {\r\n                    var ctkey = ev.target.value;\r\n                    _this.chartType = parseInt(ctkey);\r\n                    _this.refresh();\r\n                });\r\n                this.settingsDiv = document.createElement('div');\r\n                addCssClass(this.settingsDiv, this.cssPrefix + \"-settings\");\r\n                hideElement(this.settingsDiv);\r\n                mainDiv.appendChild(this.settingsDiv);\r\n                this.chartDiv = document.createElement('div');\r\n                addCssClass(this.chartDiv, this.cssPrefix + \"-content\");\r\n                hideElement(this.chartDiv);\r\n                mainDiv.appendChild(this.chartDiv);\r\n                this.initSettingsDiv();\r\n                var chartSettingsBtn = document.createElement('div');\r\n                addCssClass(chartSettingsBtn, this.cssPrefix + \"-settings-icon\");\r\n                chartSettingsBtn.title = \"Settings\";\r\n                headerDiv.appendChild(chartSettingsBtn);\r\n                chartSettingsBtn.addEventListener('click', function (ev) {\r\n                    _this.toggleSettings();\r\n                });\r\n                this.drawChart(100);\r\n            }\r\n            else {\r\n                this.addContentDiv(mainDiv, \"Chart Provider is not defined\");\r\n            }\r\n            if (!this.options.hideSettings) {\r\n                this.element.appendChild(headerDiv);\r\n            }\r\n            this.element.appendChild(mainDiv);\r\n            this.element.style.display = \"\";\r\n        }\r\n        else {\r\n            this.element.style.display = \"none\";\r\n        }\r\n    };\r\n    ChartWidget.prototype.addContentDiv = function (mainDiv, text) {\r\n        var contentDiv = document.createElement('div');\r\n        addCssClass(contentDiv, this.cssPrefix + \"-no-data\");\r\n        contentDiv.innerText = text;\r\n        mainDiv.appendChild(contentDiv);\r\n    };\r\n    /**\r\n     * Clears chart.\r\n     */\r\n    ChartWidget.prototype.clear = function () {\r\n        this.element.innerHTML = '';\r\n    };\r\n    /**\r\n     * Draws chart with delay.\r\n     * @param delay The delay.\r\n     */\r\n    ChartWidget.prototype.drawChart = function (delay) {\r\n        var _this = this;\r\n        showElement(this.chartDiv);\r\n        if (delay > 0) {\r\n            setTimeout(function () { return _this.drawCore(); }, delay);\r\n        }\r\n        else {\r\n            this.drawCore();\r\n        }\r\n    };\r\n    /**\r\n     * Inititialize settings div.\r\n     */\r\n    ChartWidget.prototype.initSettingsDiv = function () {\r\n        var _this = this;\r\n        var settingsHeader = document.createElement('div');\r\n        settingsHeader.textContent = 'SETTINGS';\r\n        addCssClass(settingsHeader, this.cssPrefix + \"-settings-header\");\r\n        this.settingsDiv.appendChild(settingsHeader);\r\n        // Label column\r\n        var labelDiv = document.createElement('div');\r\n        addCssClass(labelDiv, this.cssPrefix + \"-settings-single\");\r\n        this.settingsDiv.appendChild(labelDiv);\r\n        var labelColumnSelectorCaption = document.createElement('span');\r\n        showElement(labelColumnSelectorCaption);\r\n        labelColumnSelectorCaption.textContent = 'Label column';\r\n        labelDiv.appendChild(labelColumnSelectorCaption);\r\n        var labelColumnSelector = document.createElement('select');\r\n        showElement(labelColumnSelector);\r\n        labelDiv.appendChild(labelColumnSelector);\r\n        for (var _i = 0, _a = this.potentialLabelColumns; _i < _a.length; _i++) {\r\n            var col = _a[_i];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            labelColumnSelector.appendChild(sopt);\r\n        }\r\n        if (this.labelColumn >= 0) {\r\n            labelColumnSelector.value = this.labelColumn.toString();\r\n        }\r\n        labelColumnSelector.addEventListener('change', function (ev) {\r\n            _this.labelColumn = parseInt(ev.target.value);\r\n            _this.updateChartColumns();\r\n            _this.toggleSettings(function () {\r\n                _this.drawChart(100);\r\n            });\r\n        });\r\n        // Data column\r\n        var dataDiv = document.createElement('div');\r\n        addCssClass(dataDiv, this.cssPrefix + \"-settings-single\");\r\n        this.settingsDiv.appendChild(dataDiv);\r\n        var dataColumnSelectorCaption = document.createElement('span');\r\n        showElement(dataColumnSelectorCaption);\r\n        dataColumnSelectorCaption.textContent = 'Data column';\r\n        dataDiv.appendChild(dataColumnSelectorCaption);\r\n        var dataColumnSelector = document.createElement('select');\r\n        showElement(dataColumnSelector);\r\n        dataDiv.appendChild(dataColumnSelector);\r\n        for (var _b = 0, _c = this.potentialDataColumns; _b < _c.length; _b++) {\r\n            var col = _c[_b];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            dataColumnSelector.appendChild(sopt);\r\n        }\r\n        if (this.dataColumns.length > 0 && this.dataColumns[0] >= 0) {\r\n            dataColumnSelector.value = this.dataColumns[0].toString();\r\n        }\r\n        dataColumnSelector.addEventListener('change', function (ev) {\r\n            _this.dataColumns[0] = parseInt(ev.target.value);\r\n            _this.updateChartColumns();\r\n            _this.toggleSettings(function () {\r\n                _this.drawChart(100);\r\n            });\r\n        });\r\n    };\r\n    ChartWidget.prototype.getPotentialLabelColumns = function () {\r\n        return this.potentialLabelColumns;\r\n    };\r\n    ChartWidget.prototype.getPotentialDataColumns = function () {\r\n        return this.potentialDataColumns;\r\n    };\r\n    ChartWidget.prototype.getLabelColumnIndex = function () {\r\n        return this.labelColumn;\r\n    };\r\n    ChartWidget.prototype.getDataColumnIndex = function () {\r\n        return this.dataColumns[0];\r\n    };\r\n    /**\r\n     * Toggles settings.\r\n     * @param callback The callback.\r\n     */\r\n    ChartWidget.prototype.toggleSettings = function (callback) {\r\n        var first;\r\n        var second;\r\n        if (isVisible(this.chartDiv)) {\r\n            first = this.chartDiv;\r\n            second = this.settingsDiv;\r\n        }\r\n        else {\r\n            first = this.settingsDiv;\r\n            second = this.chartDiv;\r\n        }\r\n        toggleVisibility(first, second, {\r\n            complete: callback\r\n        });\r\n    };\r\n    return ChartWidget;\r\n}(Widget));\r\nexport { ChartWidget };\r\n//# sourceMappingURL=chart_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { domel } from '@easydata/ui';\r\nimport { EasyDataTable, DataType, utils as dataUtils, i18n } from '@easydata/core';\r\nimport { EasyGrid } from '@easydata/ui';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { ResultFacetTab } from './result_facet_tab';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar AggrFunc;\r\n(function (AggrFunc) {\r\n    AggrFunc[\"Sum\"] = \"SUM\";\r\n    AggrFunc[\"Average\"] = \"AVG\";\r\n    AggrFunc[\"Min\"] = \"MIN\";\r\n    AggrFunc[\"Max\"] = \"MAX\";\r\n    AggrFunc[\"Count\"] = \"COUNT\";\r\n})(AggrFunc || (AggrFunc = {}));\r\nvar PivotTableFacetTab = /** @class */ (function (_super) {\r\n    __extends(PivotTableFacetTab, _super);\r\n    function PivotTableFacetTab() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.cssPrefix = \"eqjs\";\r\n        _this.title = i18n.getText('Facets', 'Pivot', 'FacetTitle');\r\n        _this.dialogTitle = i18n.getText('Facets', 'Pivot', 'DlgTitle');\r\n        _this.pivotTable = new EasyDataTable();\r\n        return _this;\r\n    }\r\n    PivotTableFacetTab.prototype.init = function (slot) {\r\n        _super.prototype.init.call(this, slot);\r\n        this.grid = new EasyGrid({\r\n            slot: this.contentDiv,\r\n            dataTable: this.pivotTable,\r\n            paging: {\r\n                enabled: false\r\n            },\r\n            useRowNumeration: false,\r\n            addColumns: false,\r\n            allowDragDrop: false,\r\n            onGetCellRenderer: function (column, defaultRenderer) {\r\n                if (column.dataColumn && column.dataColumn.id == \"total\") {\r\n                    return function (value, column, cell, rowEl) {\r\n                        defaultRenderer(value, column, cell, rowEl);\r\n                        cell.style.fontWeight = '900';\r\n                    };\r\n                }\r\n            }\r\n        });\r\n    };\r\n    PivotTableFacetTab.prototype.getType = function () {\r\n        return FacetType.PivotTable;\r\n    };\r\n    PivotTableFacetTab.prototype.destroy = function () {\r\n        if (this.grid) {\r\n            this.grid.destroy();\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.createAggrFuncSelectBuilder = function (aggrFunc) {\r\n        var model = this.getContext().getModel();\r\n        var csb = domel('select');\r\n        var aggrfuncs = Object.keys(AggrFunc).map(function (k) { return AggrFunc[k]; });\r\n        var _loop_1 = function (aggrfunc) {\r\n            csb.addChild('option', function (b) {\r\n                b\r\n                    .attr('value', aggrfunc)\r\n                    .text(model.getAggrFunctionCaption(aggrfunc));\r\n            });\r\n        };\r\n        for (var _i = 0, aggrfuncs_1 = aggrfuncs; _i < aggrfuncs_1.length; _i++) {\r\n            var aggrfunc = aggrfuncs_1[_i];\r\n            _loop_1(aggrfunc);\r\n        }\r\n        var options = csb.toDOM().querySelectorAll('option');\r\n        if (aggrFunc != undefined) {\r\n            options.forEach(function (option) {\r\n                if (option.value == aggrFunc) {\r\n                    option.selected = true;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            options[0].selected = true;\r\n        }\r\n        return csb;\r\n    };\r\n    PivotTableFacetTab.prototype.createColumnsSelectBuilder = function (allowedTypes, colName) {\r\n        var dataTable = this.getContextDataTable();\r\n        var csb = domel('select');\r\n        var _loop_2 = function (i) {\r\n            var column = dataTable.columns.get(i);\r\n            var colLabel = column.label;\r\n            var colType = column.type;\r\n            var colId = column.id;\r\n            if (allowedTypes && allowedTypes.indexOf(colType) < 0)\r\n                return \"continue\";\r\n            csb.addChild('option', function (b) {\r\n                b\r\n                    .attr('value', colId)\r\n                    .text(colLabel);\r\n            });\r\n        };\r\n        for (var i = 0; i < dataTable.columns.count; i++) {\r\n            _loop_2(i);\r\n        }\r\n        var options = csb.toDOM().querySelectorAll('option');\r\n        if (options.length > 0) {\r\n            if (colName != undefined) {\r\n                options.forEach(function (option) {\r\n                    if (option.value == colName) {\r\n                        option.selected = true;\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                options[0].selected = true;\r\n            }\r\n        }\r\n        return csb;\r\n    };\r\n    PivotTableFacetTab.prototype.renderFormFields = function (form, fieldsContainer) {\r\n        var _this = this;\r\n        _super.prototype.renderFormFields.call(this, form, fieldsContainer);\r\n        var settings = this.settings || {};\r\n        var colTypes = [DataType.String, DataType.Date, DataType.DateTime, DataType.Int32,\r\n            DataType.Int64, DataType.Word, DataType.Byte];\r\n        var fieldTypes = [DataType.Float, DataType.Int32,\r\n            DataType.Int64, DataType.Word, DataType.Byte, DataType.Currency];\r\n        var isIE = browserUtils.IsIE();\r\n        var current = fieldsContainer;\r\n        var horizClass = isIE ? 'kfrm-fields-ie is-horizontal' : 'kfrm-fields is-horizontal';\r\n        var getCurrent = function () {\r\n            if (isIE) {\r\n                return domel('div', fieldsContainer)\r\n                    .addClass('kfrm-field-ie')\r\n                    .toDOM();\r\n            }\r\n            else {\r\n                return fieldsContainer;\r\n            }\r\n        };\r\n        if (isIE) {\r\n            domel(fieldsContainer)\r\n                .addChildElement(getCurrent());\r\n        }\r\n        else {\r\n            domel(fieldsContainer)\r\n                .addChild('div')\r\n                .addChild('div');\r\n        }\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'column_field')\r\n            .text(i18n.getText('Facets', 'Pivot', 'ColumnFieldSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'column_field')\r\n            .addChildElement(_this.createColumnsSelectBuilder(colTypes, settings.colName)\r\n            .id('pivotTableColFieldSelector')\r\n            .toDOM()); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'row_field')\r\n            .text(i18n.getText('Facets', 'Pivot', 'RowFieldSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'row_field')\r\n            .addChildElement(_this.createColumnsSelectBuilder(colTypes, settings.rowName)\r\n            .id('pivotTableRowFieldSelector')\r\n            .toDOM()); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'data_function')\r\n            .text(i18n.getText('Facets', 'Pivot', 'CellDataSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass(horizClass)\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'data_function')\r\n            .addChildElement(_this.createAggrFuncSelectBuilder(settings.aggrFunc)\r\n            .id('pivotTableAggrFuncSelector')\r\n            .toDOM()); })\r\n            .addChild('label', function (b) { return b.addText('of  '); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .attr('name', 'data_column')\r\n            .addChildElement(_this.createColumnsSelectBuilder(fieldTypes, settings.fieldName)\r\n            .id('pivotTableCellFieldSelector')\r\n            .toDOM()); }); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('div')\r\n            .addChild('div', function (b) { return b\r\n            .addClass(horizClass)\r\n            .addChild('label', function (b) { return b\r\n            .addClass('checkbox')\r\n            .addChild('input', function (b) {\r\n            b\r\n                .id('pivotTableHasTotalsRow')\r\n                .type('checkbox');\r\n            if (settings.totalsRow)\r\n                b.attr('checked', '');\r\n        })\r\n            .addText(' ' + i18n.getText('Facets', 'Pivot', 'TotalsRowLabel')); })\r\n            .addChild('label', function (b) { return b\r\n            .addClass('checkbox')\r\n            .addChild('input', function (b) {\r\n            b\r\n                .id('pivotTableHasTotalsCol')\r\n                .type('checkbox');\r\n            if (settings.totalsCol)\r\n                b.attr('checked', '');\r\n        })\r\n            .addText(' ' + i18n.getText('Facets', 'Pivot', 'TotalsColLabel')); }); });\r\n    };\r\n    PivotTableFacetTab.prototype.submitSettingsDialog = function () {\r\n        var result = _super.prototype.submitSettingsDialog.call(this);\r\n        if (result) {\r\n            this.settings = {\r\n                colName: document.getElementById('pivotTableColFieldSelector').value,\r\n                rowName: document.getElementById('pivotTableRowFieldSelector').value,\r\n                aggrFunc: document.getElementById('pivotTableAggrFuncSelector').value,\r\n                fieldName: document.getElementById('pivotTableCellFieldSelector').value,\r\n                totalsRow: document.getElementById('pivotTableHasTotalsRow').checked,\r\n                totalsCol: document.getElementById('pivotTableHasTotalsCol').checked\r\n            };\r\n            this.refresh();\r\n        }\r\n        return result;\r\n    };\r\n    PivotTableFacetTab.prototype.saveToData = function () {\r\n        var data = _super.prototype.saveToData.call(this);\r\n        if (this.settings) {\r\n            dataUtils.assignDeep(data, this.settings);\r\n        }\r\n        return data;\r\n    };\r\n    PivotTableFacetTab.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            this.settings = dataUtils.assignDeep(this.settings, data);\r\n            if (this.settings.aggrFunc == 'AVERAGE') {\r\n                this.settings.aggrFunc = AggrFunc.Average;\r\n            }\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.refreshCore = function () {\r\n        this.updatePivotData();\r\n        if (this.grid) {\r\n            this.grid.refresh();\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.getContextDataTable = function () {\r\n        var context = this.getContext();\r\n        return context.resultTable;\r\n    };\r\n    PivotTableFacetTab.prototype.updatePivotData = function () {\r\n        this.pivotTable.clear();\r\n        var dataTable = this.getContextDataTable();\r\n        if (!dataTable || dataTable.getTotal() == 0) {\r\n            return;\r\n        }\r\n        if (!this.settings) {\r\n            return;\r\n        }\r\n        var colName = this.settings.colName;\r\n        var rowName = this.settings.rowName;\r\n        var fieldName = this.settings.fieldName;\r\n        var colIdx = dataTable.columns.getIndex(colName);\r\n        var rowIdx = dataTable.columns.getIndex(rowName);\r\n        var fieldIdx = dataTable.columns.getIndex(fieldName);\r\n        if (colIdx == undefined || rowIdx == undefined || fieldIdx == undefined) {\r\n            this.showUnableDisplayMessage(i18n.getText('Facets', 'ErrQueryChanged'));\r\n            return;\r\n        }\r\n        var columnCol = dataTable.columns.get(colIdx);\r\n        var columnRow = dataTable.columns.get(rowIdx);\r\n        var rowLabel = columnRow.label;\r\n        var rowType = columnRow.type;\r\n        var colLabel = columnCol.label;\r\n        var colValues = [];\r\n        var rowValues = [];\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var colValue = rows[i].getValue(colIdx);\r\n            if (colValues.indexOf(colValue) < 0) {\r\n                colValues.push(colValue);\r\n            }\r\n            var rowValue = rows[i].getValue(rowIdx);\r\n            if (rowValues.indexOf(rowValue) < 0) {\r\n                rowValues.push(rowValue);\r\n            }\r\n        }\r\n        this.pivotTable.columns.add({\r\n            id: rowLabel + '\\\\' + colLabel,\r\n            label: rowLabel + '\\\\' + colLabel,\r\n            type: rowType\r\n        });\r\n        var null_columns = [];\r\n        for (var i = 0; i < colValues.length; i++) {\r\n            var colValue = colValues[i];\r\n            if (!colValue) {\r\n                null_columns.push(i);\r\n            }\r\n            else {\r\n                this.pivotTable.columns.add({\r\n                    type: DataType.Float,\r\n                    id: colValue,\r\n                    label: colValue\r\n                });\r\n            }\r\n        }\r\n        var new_rows = [];\r\n        for (var i = 0; i < rowValues.length; i++) {\r\n            new_rows.push([]);\r\n            new_rows[i].push(rowValues[i]);\r\n        }\r\n        for (var i = 0; i < rowValues.length; i++) {\r\n            for (var j = 0; j < colValues.length; j++) {\r\n                if (null_columns.indexOf(j) >= 0)\r\n                    continue;\r\n                new_rows[i].push(this.calcAggrFunc(this.settings.aggrFunc, {\r\n                    colName: this.settings.colName,\r\n                    rowName: this.settings.rowName,\r\n                    fieldName: this.settings.fieldName,\r\n                    rowValue: rowValues[i],\r\n                    colValue: colValues[j]\r\n                }));\r\n            }\r\n        }\r\n        if (this.settings.totalsCol) {\r\n            this.pivotTable.columns.add({\r\n                id: \"total\",\r\n                label: i18n.getText('Facets', 'Pivot', 'TotalGridLabel'),\r\n                type: DataType.Float\r\n            });\r\n            for (var i = 0; i < new_rows.length; i++) {\r\n                var totalByRow = 0;\r\n                var row = new_rows[i];\r\n                for (var j = 1; j < row.length; j++) {\r\n                    var value = row[j];\r\n                    if (value !== null)\r\n                        totalByRow += value;\r\n                }\r\n                row.push(totalByRow);\r\n            }\r\n        }\r\n        for (var _i = 0, new_rows_1 = new_rows; _i < new_rows_1.length; _i++) {\r\n            var row = new_rows_1[_i];\r\n            this.pivotTable.addRow(row);\r\n        }\r\n        if (this.settings.totalsRow) {\r\n            var total_row = [];\r\n            total_row.push(i18n.getText('Facets', 'Pivot', 'TotalGridLabel'));\r\n            for (var i = 1; i < this.pivotTable.columns.count; i++) {\r\n                var totalByCol = 0;\r\n                var rows_1 = this.pivotTable.getCachedRows();\r\n                for (var j = 0; j < rows_1.length - 1; j++) {\r\n                    totalByCol += rows_1[j].getValue(i);\r\n                }\r\n                total_row.push(totalByCol);\r\n            }\r\n            this.pivotTable.addRow(total_row);\r\n            this.contentDiv.classList.add('pivot-grid-totals-row');\r\n        }\r\n        else {\r\n            this.contentDiv.classList.remove('pivot-grid-totals-row');\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.calcAggrFunc = function (func, options) {\r\n        switch (func) {\r\n            case AggrFunc.Sum:\r\n                return this.sum(options);\r\n            case AggrFunc.Average:\r\n                return this.average(options);\r\n            case AggrFunc.Min:\r\n                return this.min(options);\r\n            case AggrFunc.Max:\r\n                return this.max(options);\r\n            case AggrFunc.Count:\r\n                return this.count(options);\r\n            default:\r\n                return 0;\r\n        }\r\n    };\r\n    PivotTableFacetTab.prototype.sum = function (options) {\r\n        var result = 0;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            result += fieldValue;\r\n        }\r\n        return result;\r\n    };\r\n    PivotTableFacetTab.prototype.average = function (options) {\r\n        var result = 0;\r\n        var count = 0;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            result += fieldValue;\r\n            count++;\r\n        }\r\n        if (count != 0)\r\n            result = result / count;\r\n        return result;\r\n    };\r\n    PivotTableFacetTab.prototype.min = function (options) {\r\n        var min = Number.MAX_SAFE_INTEGER;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            if (fieldValue < min) {\r\n                min = fieldValue;\r\n            }\r\n        }\r\n        if (min == Number.MAX_SAFE_INTEGER)\r\n            return null;\r\n        return min;\r\n    };\r\n    PivotTableFacetTab.prototype.max = function (options) {\r\n        var max = Number.MIN_SAFE_INTEGER;\r\n        var dataTable = this.getContextDataTable();\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            var fieldValue = rows[i].getValue(options.fieldName);\r\n            if (fieldValue > max) {\r\n                max = fieldValue;\r\n            }\r\n        }\r\n        if (max == Number.MIN_SAFE_INTEGER)\r\n            return null;\r\n        return max;\r\n    };\r\n    PivotTableFacetTab.prototype.count = function (options) {\r\n        var dataTable = this.getContextDataTable();\r\n        var count = 0;\r\n        var rows = dataTable.getCachedRows();\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var rowValue = rows[i].getValue(options.rowName);\r\n            var colValue = rows[i].getValue(options.colName);\r\n            if (rowValue !== options.rowValue\r\n                || colValue !== options.colValue) {\r\n                continue;\r\n            }\r\n            count++;\r\n        }\r\n        return count;\r\n    };\r\n    return PivotTableFacetTab;\r\n}(ResultFacetTab));\r\nexport { PivotTableFacetTab };\r\n//# sourceMappingURL=pivot_table_facet_tab.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { addElement } from '@easydata/ui';\r\nimport { ChartWidget } from './chart_widget';\r\nimport { ChartType } from './chart_type';\r\nvar ChartJsWidget = /** @class */ (function (_super) {\r\n    __extends(ChartJsWidget, _super);\r\n    function ChartJsWidget() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.colors = [\r\n            '#4dc9f6',\r\n            '#f67019',\r\n            '#f53794',\r\n            '#537bc4',\r\n            '#acc236',\r\n            '#166a8f',\r\n            '#00a950',\r\n            '#58595b',\r\n            '#8549ba'\r\n        ];\r\n        _this.chartLabels = [];\r\n        _this.chartColumns = [];\r\n        _this.hasChartTypes = [\r\n            ChartType.Column,\r\n            ChartType.Bar,\r\n            ChartType.Line,\r\n            ChartType.Pie\r\n        ];\r\n        return _this;\r\n    }\r\n    ChartJsWidget.prototype.getWidgetType = function () {\r\n        return 'chartChartJs';\r\n    };\r\n    ChartJsWidget.hasChartJs = function () {\r\n        return typeof Chart !== 'undefined';\r\n    };\r\n    ChartJsWidget.prototype.canDraw = function () {\r\n        return ChartJsWidget.hasChartJs();\r\n    };\r\n    ChartJsWidget.prototype.initChart = function () {\r\n        if (ChartJsWidget.hasChartJs() && this.labelColumn >= 0\r\n            && this.dataColumns && this.dataColumns.length > 0) {\r\n            this.updateChartColumns();\r\n        }\r\n    };\r\n    ChartJsWidget.prototype.drawCore = function () {\r\n        if (ChartJsWidget.hasChartJs() && this.dataTable\r\n            && this.dataTable.getCachedCount() > 0) {\r\n            var config = this.generateConfig();\r\n            var chartCanvas = this.getChartCanvas(this.chartDiv);\r\n            var chartContext = chartCanvas.getContext('2d');\r\n            new Chart(chartContext, config);\r\n        }\r\n    };\r\n    ChartJsWidget.prototype.updateChartColumns = function () {\r\n        if (this.dataTable) {\r\n            this.chartLabels = [];\r\n            this.chartColumns = [];\r\n            var rows = this.dataTable.getCachedRows();\r\n            for (var i = 0; i < rows.length; i++) {\r\n                this.chartLabels.push(rows[i].getValue(this.labelColumn));\r\n                this.chartColumns.push(rows[i].getValue(this.dataColumns[0]));\r\n            }\r\n        }\r\n    };\r\n    ChartJsWidget.prototype.getChartCanvas = function (slot) {\r\n        var result;\r\n        //find canvas element\r\n        var canvases = slot.getElementsByTagName('canvas');\r\n        if (canvases && canvases.length > 0) {\r\n            result = canvases[0];\r\n        }\r\n        else {\r\n            result = addElement(slot, 'canvas');\r\n        }\r\n        return result;\r\n    };\r\n    ChartJsWidget.prototype.generateConfig = function () {\r\n        var dataColors = [];\r\n        var datasetName = this.dataTable.columns.get(this.dataColumns[0]).label;\r\n        var displayLegend = true;\r\n        var fillValue = true;\r\n        var borderColor;\r\n        if (this.chartType == ChartType.Pie || this.chartType == ChartType.Bar || this.chartType == ChartType.Column) {\r\n            displayLegend = false;\r\n            for (var i = 0; i < this.chartLabels.length; i++) {\r\n                dataColors.push(this.colors[i % this.colors.length]);\r\n            }\r\n        }\r\n        else {\r\n            dataColors = [this.colors[3]];\r\n        }\r\n        if (this.chartType == ChartType.Line) {\r\n            fillValue = false;\r\n            borderColor = this.colors[3];\r\n        }\r\n        return {\r\n            type: this.getChartType(),\r\n            data: {\r\n                datasets: [{\r\n                        data: this.chartColumns,\r\n                        backgroundColor: dataColors,\r\n                        borderColor: borderColor,\r\n                        label: datasetName,\r\n                        fill: fillValue\r\n                    }],\r\n                labels: this.chartLabels\r\n            },\r\n            options: {\r\n                legend: {\r\n                    display: displayLegend\r\n                },\r\n                title: {\r\n                    display: true,\r\n                    text: datasetName\r\n                }\r\n            }\r\n        };\r\n    };\r\n    ChartJsWidget.prototype.getChartType = function () {\r\n        switch (this.chartType) {\r\n            case ChartType.Column:\r\n                return \"bar\";\r\n            case ChartType.Bar:\r\n                return \"horizontalBar\";\r\n            case ChartType.Line:\r\n                return \"line\";\r\n            case ChartType.Pie:\r\n                return \"pie\";\r\n            default:\r\n                return \"pie\";\r\n        }\r\n    };\r\n    return ChartJsWidget;\r\n}(ChartWidget));\r\nexport { ChartJsWidget };\r\n//# sourceMappingURL=chart_widget_chartjs.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DataType } from '@easydata/core';\r\nimport { ChartWidget } from './chart_widget';\r\nimport { ChartType } from './chart_type';\r\nvar GoogleChartWidget = /** @class */ (function (_super) {\r\n    __extends(GoogleChartWidget, _super);\r\n    function GoogleChartWidget() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.hasChartTypes = [\r\n            ChartType.Column,\r\n            ChartType.Bar,\r\n            ChartType.Combo,\r\n            ChartType.Area,\r\n            ChartType.Line,\r\n            ChartType.Pie\r\n        ];\r\n        return _this;\r\n    }\r\n    GoogleChartWidget.prototype.getWidgetType = function () {\r\n        return 'chartGoogle';\r\n    };\r\n    GoogleChartWidget.prototype.canDraw = function () {\r\n        return GoogleChartWidget.hasGoogleCharts();\r\n    };\r\n    GoogleChartWidget.hasGoogleCharts = function () {\r\n        return typeof google !== 'undefined' && typeof google.charts !== 'undefined';\r\n    };\r\n    GoogleChartWidget.prototype.initChart = function () {\r\n        if (GoogleChartWidget.hasGoogleCharts() && this.labelColumn >= 0\r\n            && this.dataColumns && this.dataColumns.length > 0) {\r\n            this.googleDataView =\r\n                new google.visualization.DataView(this.convertToGoogleFormat());\r\n            this.updateChartColumns();\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.convertToGoogleType = function (type) {\r\n        switch (type) {\r\n            case DataType.Date:\r\n                return \"date\";\r\n            case DataType.DateTime:\r\n                return \"datetime\";\r\n            case DataType.Time:\r\n                return \"timeofday\";\r\n            case DataType.Byte:\r\n            case DataType.Word:\r\n            case DataType.Int32:\r\n            case DataType.Int64:\r\n            case DataType.Currency:\r\n            case DataType.Float:\r\n                return \"number\";\r\n            default:\r\n                return \"string\";\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.convertToGoogleValue = function (value, type) {\r\n        switch (type) {\r\n            case DataType.Bool:\r\n                return value.toString();\r\n            default:\r\n                return value;\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.convertToGoogleFormat = function () {\r\n        var googleTable = new google.visualization.DataTable();\r\n        var columns = this.dataTable.columns;\r\n        for (var i = 0; i < columns.count; i++) {\r\n            var column = columns.get(i);\r\n            googleTable.addColumn(this.convertToGoogleType(column.type), column.label, column.id);\r\n        }\r\n        var rows = this.dataTable.getCachedRows();\r\n        googleTable.addRows(rows.length);\r\n        for (var i = 0; i < rows.length; i++) {\r\n            var row = rows[i];\r\n            for (var j = 0; j < columns.count; j++) {\r\n                googleTable.setCell(i, j, this.convertToGoogleValue(row.getValue(j), columns.get(j).type));\r\n            }\r\n        }\r\n        return googleTable;\r\n    };\r\n    GoogleChartWidget.prototype.drawCore = function () {\r\n        if (this.googleDataView != null) {\r\n            var chartOptions = {\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                chartArea: { width: this.getChartAreaWidth }\r\n            };\r\n            var chart = this.createChart(this.chartDiv);\r\n            chart.draw(this.googleDataView, chartOptions);\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.getChartAreaWidth = function (chartType) {\r\n        if (chartType == ChartType.Pie) {\r\n            return \"100%\";\r\n        }\r\n        else {\r\n            return \"50%\";\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.updateChartColumns = function () {\r\n        if (this.googleDataView) {\r\n            this.googleDataView.setColumns([].concat(this.labelColumn).concat(this.dataColumns));\r\n        }\r\n    };\r\n    GoogleChartWidget.prototype.createChart = function (slot) {\r\n        switch (this.chartType) {\r\n            case 3:\r\n                return new google.visualization.ColumnChart(slot);\r\n            case 4:\r\n                return new google.visualization.Histogram(slot);\r\n            case 5:\r\n                return new google.visualization.BarChart(slot);\r\n            case 6:\r\n                return new google.visualization.ComboChart(slot);\r\n            case 7:\r\n                return new google.visualization.AreaChart(slot);\r\n            case 9:\r\n                return new google.visualization.LineChart(slot);\r\n            case 10:\r\n                return new google.visualization.PieChart(slot);\r\n            case 17:\r\n                return new google.visualization.Gauge(slot);\r\n            case 18:\r\n                return new google.visualization.CandlestickChart(slot);\r\n            default:\r\n                return new google.visualization.PieChart(slot);\r\n        }\r\n    };\r\n    return GoogleChartWidget;\r\n}(ChartWidget));\r\nexport { GoogleChartWidget };\r\n//# sourceMappingURL=chart_widget_google.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { ResultFacetTab } from './result_facet_tab';\r\nimport { ChartJsWidget } from '../widgets/charts/chart_widget_chartjs';\r\nimport { GoogleChartWidget } from '../widgets/charts/chart_widget_google';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nvar ChartFacetTab = /** @class */ (function (_super) {\r\n    __extends(ChartFacetTab, _super);\r\n    function ChartFacetTab() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.title = i18n.getText('Facets', 'Chart', 'FacetTitle');\r\n        _this.dialogTitle = i18n.getText('Facets', 'Chart', 'DlgTitle');\r\n        return _this;\r\n    }\r\n    ChartFacetTab.prototype.init = function (slot) {\r\n        _super.prototype.init.call(this, slot);\r\n        if (GoogleChartWidget.hasGoogleCharts()) {\r\n            this.chart = new GoogleChartWidget(this.contentDiv);\r\n        }\r\n        else {\r\n            this.chart = new ChartJsWidget(this.contentDiv);\r\n        }\r\n        var supportedChartTypes = this.panel.options\r\n            ? this.panel.options.supportedChartTypes\r\n            : null;\r\n        this.chart.init(this.getContext(), {\r\n            showOnPaging: true,\r\n            hideSettings: true,\r\n            supportedChartTypes: supportedChartTypes\r\n        });\r\n        if (this.settings) {\r\n            this.chart.updateSettings(this.settings);\r\n        }\r\n        this.chart.prepareChartData();\r\n        //prevent showing chart tab\r\n        domel(this.slot).hide();\r\n    };\r\n    ChartFacetTab.prototype.destroy = function () {\r\n        if (this.chart) {\r\n            this.chart.destroy();\r\n        }\r\n    };\r\n    ChartFacetTab.prototype.getType = function () {\r\n        return FacetType.Chart;\r\n    };\r\n    ChartFacetTab.prototype.renderFormFields = function (form, fieldsContainer) {\r\n        _super.prototype.renderFormFields.call(this, form, fieldsContainer);\r\n        // Chart type\r\n        var chartTypeSelector = document.createElement('select');\r\n        chartTypeSelector.id = 'chart_type_selector';\r\n        chartTypeSelector.name = 'chart_type_selector';\r\n        for (var _i = 0, _a = this.chart.getSupportedChartTypes(); _i < _a.length; _i++) {\r\n            var ct = _a[_i];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = ct.toString();\r\n            sopt.text = this.chart.getChartTypeName(ct);\r\n            chartTypeSelector.appendChild(sopt);\r\n        }\r\n        chartTypeSelector.value = this.chart.getCurrentChartType().toString();\r\n        // Label column\r\n        var labelColumnSelector = document.createElement('select');\r\n        labelColumnSelector.name = 'label_column_selector';\r\n        labelColumnSelector.id = 'label_column_selector';\r\n        for (var _b = 0, _c = this.chart.getPotentialLabelColumns(); _b < _c.length; _b++) {\r\n            var col = _c[_b];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            labelColumnSelector.appendChild(sopt);\r\n        }\r\n        var labelColumn = this.chart.getLabelColumnIndex();\r\n        if (labelColumn >= 0) {\r\n            labelColumnSelector.value = labelColumn.toString();\r\n        }\r\n        // Data column\r\n        var dataColumnSelector = document.createElement('select');\r\n        dataColumnSelector.id = 'data_column_selector';\r\n        dataColumnSelector.name = 'data_column_selector';\r\n        for (var _d = 0, _e = this.chart.getPotentialDataColumns(); _d < _e.length; _d++) {\r\n            var col = _e[_d];\r\n            var sopt = document.createElement('option');\r\n            sopt.value = col.idx.toString();\r\n            sopt.text = col.label;\r\n            dataColumnSelector.appendChild(sopt);\r\n        }\r\n        var dataColumn = this.chart.getDataColumnIndex();\r\n        if (dataColumn >= 0) {\r\n            dataColumnSelector.value = dataColumn.toString();\r\n        }\r\n        var isIE = browserUtils.IsIE();\r\n        var current = fieldsContainer;\r\n        var getCurrent = function () {\r\n            if (isIE) {\r\n                return domel('div', fieldsContainer)\r\n                    .addClass('kfrm-field-ie')\r\n                    .toDOM();\r\n            }\r\n            else {\r\n                return fieldsContainer;\r\n            }\r\n        };\r\n        if (isIE) {\r\n            domel(form)\r\n                .addChildElement(getCurrent());\r\n        }\r\n        else {\r\n            domel(fieldsContainer)\r\n                .addChild('div')\r\n                .addChild('div');\r\n        }\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'chart_type_selector')\r\n            .text(i18n.getText('Facets', 'Chart', 'ChartTypeSelectorLabel')); })\r\n            .addChild('div', function (b) {\r\n            return b\r\n                .addClass('kfrm-select')\r\n                .addChildElement(chartTypeSelector);\r\n        });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'label_column_selector')\r\n            .text(i18n.getText('Facets', 'Chart', 'LabelColumnSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .addChildElement(labelColumnSelector); });\r\n        current = getCurrent();\r\n        domel(current)\r\n            .addChild('label', function (b) { return b\r\n            .attr('for', 'data_column_selector')\r\n            .text(i18n.getText('Facets', 'Chart', 'DataColumnSelectorLabel')); })\r\n            .addChild('div', function (b) { return b\r\n            .addClass('kfrm-select')\r\n            .addChildElement(dataColumnSelector); });\r\n    };\r\n    ChartFacetTab.prototype.submitSettingsDialog = function () {\r\n        var result = _super.prototype.submitSettingsDialog.call(this);\r\n        var chartTypeSelector = document.getElementById('chart_type_selector');\r\n        var ct = parseInt(chartTypeSelector.value);\r\n        var labelColumnSelector = document.getElementById('label_column_selector');\r\n        var labelColumn = parseInt(labelColumnSelector.value);\r\n        var dataColumnSelector = document.getElementById('data_column_selector');\r\n        var dataColumn = parseInt(dataColumnSelector.value);\r\n        if (result) {\r\n            this.settings = {\r\n                type: ct,\r\n                labelColumn: labelColumn,\r\n                dataColumn: dataColumn\r\n            };\r\n            this.chart.updateSettings(this.settings);\r\n            if (this.canDisplay()) {\r\n                this.refresh();\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    ChartFacetTab.prototype.saveToData = function () {\r\n        var data = _super.prototype.saveToData.call(this);\r\n        if (this.settings) {\r\n            data.chartType = this.settings.type;\r\n            data.labelCol = this.settings.labelColumn;\r\n            data.dataCol = this.settings.dataColumn;\r\n        }\r\n        return data;\r\n    };\r\n    ChartFacetTab.prototype.loadFromData = function (data) {\r\n        _super.prototype.loadFromData.call(this, data);\r\n        if (data) {\r\n            this.settings = {\r\n                type: data.chartType,\r\n                dataColumn: data.dataCol,\r\n                labelColumn: data.labelCol\r\n            };\r\n        }\r\n    };\r\n    ChartFacetTab.prototype.refreshCore = function () {\r\n        if (this.chart) {\r\n            this.chart.refresh();\r\n        }\r\n    };\r\n    return ChartFacetTab;\r\n}(ResultFacetTab));\r\nexport { ChartFacetTab };\r\n//# sourceMappingURL=chart_facet_tab.js.map","import { domel } from '@easydata/ui';\r\nimport { i18n } from '@easyquery/core';\r\nvar ExportDialog = /** @class */ (function () {\r\n    function ExportDialog(context) {\r\n        this.context = context;\r\n        this.promise = null;\r\n    }\r\n    ExportDialog.prototype.show = function (defFormat) {\r\n        var _this = this;\r\n        if (defFormat === void 0) { defFormat = null; }\r\n        if (!this.promise) {\r\n            var formats = this.context.getExportFormats();\r\n            if (formats.length == 0)\r\n                throw Error(\"No exporter has been registered.\");\r\n            defFormat = defFormat || formats[0];\r\n            this.promise = new Promise(function (resolve, reject) {\r\n                var ds = _this.context.getServices().getDialogService();\r\n                var body = domel('div')\r\n                    .addClass('kdlg-form-section')\r\n                    .addChild('div', function (b) { return b\r\n                    .addClass('kfrm-form')\r\n                    .addChild('div', function (b) { return b\r\n                    .addClass('kfrm-fields col-a-1 label-align-right')\r\n                    .addChild('label', function (b) { return b\r\n                    .addClass('kdlg-form-label', 'kflex-20')\r\n                    .attr('for', 'export_format')\r\n                    .addText(i18n.getText('ExportDlgTitle')); })\r\n                    .addChild('div', function (b) { return b\r\n                    .addClass('kfrm-select')\r\n                    .addChild('select', function (b) {\r\n                    b\r\n                        .attr('name', 'export_format')\r\n                        .id('exportFormat');\r\n                    for (var _i = 0, _a = _this.context.getExportFormats(); _i < _a.length; _i++) {\r\n                        var format = _a[_i];\r\n                        b.addOption({\r\n                            value: format,\r\n                            title: i18n.getText(format) || format,\r\n                            selected: defFormat == format\r\n                        });\r\n                    }\r\n                }); }); }); })\r\n                    .toDOM();\r\n                ds.open({\r\n                    title: i18n.getText('ExportDlgFmtLabel'),\r\n                    body: body,\r\n                    onSubmit: function () {\r\n                        var format = body.querySelector('#exportFormat').value;\r\n                        _this.context.exportResult({\r\n                            format: format,\r\n                            success: resolve,\r\n                            error: reject\r\n                        });\r\n                        return true;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        return this.promise.finally(function () { return _this.promise = null; });\r\n    };\r\n    return ExportDialog;\r\n}());\r\nexport { ExportDialog };\r\n//# sourceMappingURL=export_dialog.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup, QueryChangePart, } from '@easyquery/core';\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { FacetType } from '../types/facet_type';\r\nimport { DataTableFacetTab } from '../facets/datatable_facet_tab';\r\nimport { ChartFacetTab } from '../facets/chart_facet_tab';\r\nimport { PivotTableFacetTab } from '../facets/pivot_table_facet_tab';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { ExportDialog } from '../dialog/export_dialog';\r\nvar ResultFacetsPanel = /** @class */ (function (_super) {\r\n    __extends(ResultFacetsPanel, _super);\r\n    function ResultFacetsPanel(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.facets = [];\r\n        _this.activeFacetIndex = -1;\r\n        _this.firstRender = true;\r\n        _this.options = {\r\n            showExportButton: true,\r\n            showRefreshButton: true,\r\n            showMaximizeButton: true,\r\n            showProcessIndicator: true\r\n        };\r\n        _this.menuItems = [\r\n            { id: FacetType.DataGrid, text: i18n.getText('Facets', 'AddMenuItems', 'DataTable') },\r\n            { id: FacetType.Chart, text: i18n.getText('Facets', 'AddMenuItems', 'Chart') },\r\n            { id: FacetType.PivotTable, text: i18n.getText('Facets', 'AddMenuItems', 'Pivot') }\r\n        ];\r\n        if (!_this.slot.classList.contains(_this.cssPrefix + \"-panel\")) {\r\n            _this.slot.classList.add(_this.cssPrefix + \"-panel\");\r\n        }\r\n        _this.group = WidgetGroup.Result;\r\n        _this.renderProcessBlock();\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ResultFacetsPanel.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-facets';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ResultFacetsPanel.prototype.getWidgetType = function () {\r\n        return 'facetsPanel';\r\n    };\r\n    ResultFacetsPanel.prototype.destroyCore = function () {\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            facet.destroy();\r\n        }\r\n        this.clear();\r\n    };\r\n    /**\r\n     * Initialize widget.\r\n     * @param context The context.\r\n     * @param options The options.\r\n     */\r\n    ResultFacetsPanel.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.setOptions(options);\r\n        this.destroyCore();\r\n        this.attachQueryObserver();\r\n        this.loadFacets();\r\n    };\r\n    ResultFacetsPanel.prototype.getQuery = function () {\r\n        return this.getContext().getQuery();\r\n    };\r\n    ResultFacetsPanel.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            //if something has changed, and that change is related to columns\r\n            var edata = event.data;\r\n            if (edata.part != QueryChangePart.All) {\r\n                return;\r\n            }\r\n            if (edata.source == _this) {\r\n                return;\r\n            }\r\n            _this.reloadFacets();\r\n            _this.refreshCore(true);\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.refreshCore = function (force) {\r\n        if (force === void 0) { force = false; }\r\n        if (this.firstRender || force) {\r\n            this.clear();\r\n            this.createAddMenu();\r\n            this.render();\r\n        }\r\n        this.renderActiveFacet();\r\n        this.updateTotalRecords();\r\n    };\r\n    ResultFacetsPanel.prototype.createAddMenu = function () {\r\n        this.addMenu = new PopupMenu({\r\n            items: this.menuItems,\r\n            id: \"FacetType-List\"\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.updateTotalRecords = function () {\r\n        var context = this.getContext();\r\n        var total = context.resultTable.getTotal();\r\n        this.recordsDiv.innerHTML = i18n.getText('Facets', 'TotalRecordsLabel') + ' ' + total;\r\n        if (total == 0) {\r\n            domel(this.exportDiv).hide();\r\n        }\r\n        else {\r\n            domel(this.exportDiv).show();\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.renderProcessBlock = function () {\r\n        var html = '<div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"></div></div>';\r\n        ;\r\n        this._processBlock = domel('div')\r\n            .addClass(this.cssPrefix + \"-spinner\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-progress-win8\", browserUtils.getMobileCssClass())\r\n            .addHtml(html); })\r\n            .toDOM();\r\n    };\r\n    ResultFacetsPanel.prototype.onProcessStartCore = function () {\r\n        if (this.options.showProcessIndicator) {\r\n            // FacetsPanel might be not rendered yet, so \r\n            // it has no body\r\n            if (!this._processBlock.parentNode && this.bodyDiv) {\r\n                this.bodyDiv.childNodes.forEach(function (el) {\r\n                    domel(el).hide();\r\n                });\r\n                this.bodyDiv.appendChild(this._processBlock);\r\n            }\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.onProcessEndCore = function () {\r\n        if (this.options.showProcessIndicator) {\r\n            if (this._processBlock.parentNode) {\r\n                try {\r\n                    this._processBlock.parentNode\r\n                        .removeChild(this._processBlock);\r\n                }\r\n                catch (e) {\r\n                }\r\n                finally {\r\n                    this.renderActiveFacet(false);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.render = function () {\r\n        var _this = this;\r\n        this.firstRender = false;\r\n        this.headerDiv = domel('div', this.slot)\r\n            .addClass(this.cssPrefix + \"-header\")\r\n            .toDOM();\r\n        this.tabsDiv =\r\n            domel('div', this.headerDiv)\r\n                .addClass(this.cssPrefix + \"-tabs\")\r\n                .toDOM();\r\n        this.tabsUl = domel('ul', this.tabsDiv)\r\n            .addClass(this.cssPrefix + \"-nav-tabs\")\r\n            .toDOM();\r\n        this.bodyDiv =\r\n            domel('div', this.slot)\r\n                .addClass(this.cssPrefix + \"-body\")\r\n                .toDOM();\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            this.renderFacet(facet);\r\n        }\r\n        domel(this.tabsDiv)\r\n            .addChild('div', function (b) { return b\r\n            .addClass(//`${this.cssPrefix}-header-item`, \r\n        _this.cssPrefix + \"-add-button\")\r\n            .addChild('a', function (b) { return b\r\n            .attr('href', 'javascript:void(0)'); })\r\n            .on('click', function (e) { return _this.addClickHandler(e); }); });\r\n        var manageDiv = domel('div', this.headerDiv)\r\n            .addClass(this.cssPrefix + \"-manage\")\r\n            .toDOM();\r\n        this.recordsDiv = domel('div', manageDiv)\r\n            .addClass(this.cssPrefix + \"-total-recs\")\r\n            .toDOM();\r\n        if (this.options.showRefreshButton || this.options.showExportButton || this.options.showMaximizeButton) {\r\n            var bdb = domel('div', manageDiv)\r\n                .addClass(this.cssPrefix + \"-total-buttons\")\r\n                .toDOM();\r\n            if (this.options.showExportButton) {\r\n                this.exportDiv = domel('button', bdb)\r\n                    .on('click', function () { return _this.exportHandler(); })\r\n                    .addClass(this.cssPrefix + \"-button\")\r\n                    .addClass(this.cssPrefix + \"-button-export\")\r\n                    .title(i18n.getText('Facets', 'ExportBtnTitle'))\r\n                    .toDOM();\r\n            }\r\n            if (this.options.showRefreshButton) {\r\n                domel('button', bdb)\r\n                    .on('click', function () { return _this.refreshHandler(); })\r\n                    .addClass(this.cssPrefix + \"-button\")\r\n                    .addClass(this.cssPrefix + \"-button-refresh\")\r\n                    .title(i18n.getText('Facets', 'RefreshBtnTitle'));\r\n            }\r\n            if (this.options.showMaximizeButton) {\r\n                this.maximizeButton = domel('button', bdb)\r\n                    .on('click', function () { return _this.maximizeHandler(); })\r\n                    .addClass(this.cssPrefix + \"-button\")\r\n                    .addClass(this.cssPrefix + \"-button-maximize\")\r\n                    .title(i18n.getText('Facets', 'MaximizeBtnTitle'))\r\n                    .toDOM();\r\n            }\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.refreshHandler = function () {\r\n        var context = this.getContext();\r\n        context.fetchData({\r\n            success: function () {\r\n                // possibly we should move this logic to context\r\n                context.refreshWidgets(WidgetGroup.Result);\r\n            }\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.exportHandler = function () {\r\n        var context = this.getContext();\r\n        new ExportDialog(context).show();\r\n    };\r\n    ResultFacetsPanel.prototype.maximizeHandler = function () {\r\n        var b = domel(this.slot);\r\n        b.toggleClass(eqCssPrefix + \"-maximized-2window\");\r\n        if (this.slot.classList.contains(eqCssPrefix + \"-maximized-2window\")) {\r\n            this.maximizeButton.title = i18n.getText('Facets', 'RestoreBtnTitle');\r\n            this.maximizeButton.classList.toggle(this.cssPrefix + \"-button-maximize\", false);\r\n            this.maximizeButton.classList.toggle(this.cssPrefix + \"-button-restore\", true);\r\n        }\r\n        else {\r\n            this.maximizeButton.title = i18n.getText('Facets', 'MaximizeBtnTitle');\r\n            this.maximizeButton.classList.toggle(this.cssPrefix + \"-button-restore\", false);\r\n            this.maximizeButton.classList.toggle(this.cssPrefix + \"-button-maximize\", true);\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.renderActiveFacet = function (refresh) {\r\n        var _this = this;\r\n        if (refresh === void 0) { refresh = true; }\r\n        this.tabsUl.querySelectorAll('li') //`.${this.cssPrefix}-header-item.${this.cssPrefix}-facet`)\r\n            .forEach(function (el, index) {\r\n            if (el.classList.contains('active')) {\r\n                el.classList.remove('active');\r\n            }\r\n            if (_this.activeFacetIndex === index) {\r\n                el.classList.add('active');\r\n            }\r\n        });\r\n        this.bodyDiv.querySelectorAll(\".\" + eqCssPrefix + \"-facet\")\r\n            .forEach(function (el, index) {\r\n            domel(el).hide();\r\n            if (_this.activeFacetIndex === index) {\r\n                domel(el).show();\r\n                if (refresh) {\r\n                    _this.facets[index].refresh();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.renderFacet = function (facet) {\r\n        this.renderFacetTab(facet);\r\n        var body = this.renderFacetBody(facet);\r\n        facet.init(body);\r\n    };\r\n    ResultFacetsPanel.prototype.renderFacetTab = function (facet) {\r\n        var _this = this;\r\n        return domel('li', this.tabsUl)\r\n            //.addClass(`${this.cssPrefix}-header-item`, `${this.cssPrefix}-facet`)\r\n            //facet settings button\r\n            .addChild('span', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-facet-settings\")\r\n            .on('click', function (e) {\r\n            e.stopPropagation();\r\n            _this.settingsClickHandler(facet);\r\n        }); })\r\n            .addChild('a', function (b) { return b\r\n            .addText(facet.title)\r\n            .attr('href', 'javascript:void(0)'); })\r\n            //facet close button\r\n            .addChild('span', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-facet-close\")\r\n            .on('click', function (e) {\r\n            e.stopPropagation();\r\n            _this.closeClickHandler(facet);\r\n        }); })\r\n            .on('click', function (e) { return _this.selectClickHandler(facet); })\r\n            .toDOM();\r\n    };\r\n    ResultFacetsPanel.prototype.renderFacetBody = function (facet) {\r\n        var element = domel('div', this.bodyDiv)\r\n            .addClass(eqCssPrefix + \"-facet\")\r\n            .hide()\r\n            .toDOM();\r\n        // makeElementMaximizable(element);\r\n        return element;\r\n    };\r\n    ResultFacetsPanel.prototype.refreshFacetTabs = function () {\r\n        var _this = this;\r\n        this.tabsUl.querySelectorAll('li') //`.${this.cssPrefix}-header-item.${this.cssPrefix}-facet`)\r\n            .forEach(function (item) {\r\n            _this.tabsUl.removeChild(item);\r\n        });\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            this.renderFacetTab(facet);\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.removeFacet = function (facet) {\r\n        var index = this.facets.indexOf(facet);\r\n        if (index >= 0) {\r\n            this.facets.splice(index, 1);\r\n            var header = this.tabsUl.childNodes[index];\r\n            this.tabsUl.removeChild(header);\r\n            var body = this.bodyDiv.childNodes[index];\r\n            this.bodyDiv.removeChild(body);\r\n            if (this.facets.length > 0) {\r\n                this.activeFacetIndex =\r\n                    index < this.facets.length\r\n                        ? index\r\n                        : this.facets.length - 1;\r\n            }\r\n            else {\r\n                this.activeFacetIndex = -1;\r\n            }\r\n            this.renderActiveFacet();\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.addClickHandler = function (ev) {\r\n        var _this = this;\r\n        var table = this.getContext().resultTable;\r\n        this.addMenu.showMenu({\r\n            anchor: ev.target,\r\n            itemSelectedCallback: function (data) {\r\n                var facet = _this.createFacetTab(data.id);\r\n                var facetSlot = _this.renderFacetBody(facet);\r\n                facet.init(facetSlot);\r\n                facet.showSettingsDialog()\r\n                    .then(function (submited) {\r\n                    if (submited) {\r\n                        _this.facets.push(facet);\r\n                        _this.activeFacetIndex = _this.facets.length - 1;\r\n                        _this.renderFacetTab(facet);\r\n                        _this.renderActiveFacet();\r\n                        _this.saveFacets();\r\n                    }\r\n                    else {\r\n                        _this.bodyDiv.removeChild(facetSlot);\r\n                    }\r\n                })\r\n                    .catch(function (error) { return console.error(error); });\r\n            }\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.selectClickHandler = function (facet) {\r\n        var index = this.facets.indexOf(facet);\r\n        this.setActiveFacet(index);\r\n    };\r\n    ResultFacetsPanel.prototype.settingsClickHandler = function (facet) {\r\n        var _this = this;\r\n        facet.showSettingsDialog()\r\n            .then(function (submited) {\r\n            if (submited) {\r\n                _this.refreshFacetTabs();\r\n                _this.renderActiveFacet();\r\n                _this.saveFacets();\r\n            }\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n    };\r\n    ResultFacetsPanel.prototype.closeClickHandler = function (facet) {\r\n        var _this = this;\r\n        var ds = this.getDialogService();\r\n        ds.openConfirm(i18n.getText('Facets', 'RemoveFacetDlgTitle'), i18n.getText('Facets', 'RemoveFacetDlgContent')\r\n            .replace('{facetTitle}', facet.title))\r\n            .then(function (confirmed) {\r\n            if (confirmed) {\r\n                _this.removeFacet(facet);\r\n                _this.saveFacets();\r\n            }\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n    };\r\n    ResultFacetsPanel.prototype.clear = function () {\r\n        this.firstRender = true;\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    ResultFacetsPanel.prototype.createDefaultFacetIfNotExist = function () {\r\n        if (this.facets.length === 0) {\r\n            var facet = this.createFacetTab(FacetType.DataGrid);\r\n            this.facets.push(facet);\r\n            this.activeFacetIndex = 0;\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.setActiveFacet = function (index) {\r\n        if (this.activeFacetIndex != index) {\r\n            this.activeFacetIndex = index;\r\n            this.renderActiveFacet();\r\n            this.saveFacets();\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.setOptions = function (options) {\r\n        dataUtils.assignDeep(this.options, options);\r\n    };\r\n    ResultFacetsPanel.prototype.getDialogService = function () {\r\n        return this.getContext()\r\n            .getServices()\r\n            .getDialogService();\r\n    };\r\n    ResultFacetsPanel.prototype.createFacetTab = function (type) {\r\n        var options = this.options[type];\r\n        switch (type) {\r\n            case FacetType.Chart:\r\n                return new ChartFacetTab(this, options);\r\n            case FacetType.PivotTable:\r\n                return new PivotTableFacetTab(this, options);\r\n            default:\r\n                return new DataTableFacetTab(this, options);\r\n        }\r\n    };\r\n    ResultFacetsPanel.prototype.saveFacets = function () {\r\n        var query = this.getQuery();\r\n        query.innerData = query.innerData || {};\r\n        query.innerData.facets = {\r\n            active: this.activeFacetIndex,\r\n            items: this.facets.map(function (f) { return f.saveToData(); })\r\n        };\r\n        query.fireChangedEvent({\r\n            part: QueryChangePart.ExtraData,\r\n            source: this\r\n        });\r\n    };\r\n    ResultFacetsPanel.prototype.reloadFacets = function () {\r\n        for (var _i = 0, _a = this.facets; _i < _a.length; _i++) {\r\n            var facet = _a[_i];\r\n            facet.destroy();\r\n        }\r\n        this.loadFacets();\r\n    };\r\n    ResultFacetsPanel.prototype.loadFacets = function () {\r\n        var query = this.getQuery();\r\n        this.facets = [];\r\n        if (query.innerData && query.innerData.facets) {\r\n            var items = query.innerData.facets.items;\r\n            for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\r\n                var fd = items_1[_i];\r\n                var facet = this.createFacetTab(fd.type);\r\n                facet.loadFromData(fd);\r\n                this.facets.push(facet);\r\n            }\r\n            var active = query.innerData.facets.active;\r\n            this.activeFacetIndex = (active >= 0)\r\n                ? active\r\n                : this.facets.length - 1;\r\n        }\r\n        else {\r\n            this.createDefaultFacetIfNotExist();\r\n        }\r\n    };\r\n    return ResultFacetsPanel;\r\n}(Widget));\r\nexport { ResultFacetsPanel };\r\n//# sourceMappingURL=result_facets_panel.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\nimport { ExportDialog } from '../dialog/export_dialog';\r\nvar ExportWidget = /** @class */ (function (_super) {\r\n    __extends(ExportWidget, _super);\r\n    function ExportWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.options = {\r\n            defFormat: 'csv',\r\n            enableExport: true\r\n        };\r\n        _this.clickHandler = function (ev) {\r\n            if (!_this.slot.hasAttribute('disabled'))\r\n                new ExportDialog(_this.context).show(_this.options.defFormat);\r\n        };\r\n        _this.group = WidgetGroup.All;\r\n        return _this;\r\n    }\r\n    ExportWidget.prototype.getWidgetType = function () {\r\n        return 'exportWidget';\r\n    };\r\n    ExportWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.options = dataUtils.assignDeep(this.options, options);\r\n        this.slot.addEventListener('click', this.clickHandler);\r\n    };\r\n    ExportWidget.prototype.refreshCore = function () {\r\n        if (this.options.enableExport && this.context.resultTable\r\n            && this.context.resultTable.getCachedCount() > 0) {\r\n            this.slot.removeAttribute('disabled');\r\n        }\r\n        else {\r\n            this.slot.setAttribute('disabled', '');\r\n        }\r\n    };\r\n    ExportWidget.prototype.destroyCore = function () {\r\n        this.slot.removeAttribute('disabled');\r\n        this.slot.removeEventListener('click', this.clickHandler);\r\n    };\r\n    return ExportWidget;\r\n}(Widget));\r\nexport { ExportWidget };\r\n//# sourceMappingURL=export_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\nvar LocaleWidget = /** @class */ (function (_super) {\r\n    __extends(LocaleWidget, _super);\r\n    /**\r\n    * The default constructor.\r\n    * @param slot The html element.\r\n    */\r\n    function LocaleWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.changeLocale = function () {\r\n            var newLocale = _this.selectEl.value;\r\n            i18n.setCurrentLocale(newLocale);\r\n            _this.context.refreshWidgets(WidgetGroup.All);\r\n        };\r\n        _this.group = WidgetGroup.None;\r\n        return _this;\r\n    }\r\n    LocaleWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.clear();\r\n        this.render();\r\n    };\r\n    LocaleWidget.prototype.getWidgetType = function () {\r\n        return 'changeLocale';\r\n    };\r\n    LocaleWidget.prototype.render = function () {\r\n        var locales = i18n.getLocales();\r\n        if (locales.length > 1) {\r\n            this.selectEl = document.createElement('select');\r\n            for (var _i = 0, locales_1 = locales; _i < locales_1.length; _i++) {\r\n                var locale = locales_1[_i];\r\n                var optionEl = document.createElement('option');\r\n                optionEl.value = locale.locale;\r\n                optionEl.innerHTML = this.displayLocaleName(locale);\r\n                this.selectEl.appendChild(optionEl);\r\n            }\r\n            this.selectEl.value = i18n.getCurrentLocale();\r\n            this.selectEl.classList.add('eqv-select');\r\n            this.selectEl.addEventListener('change', this.changeLocale);\r\n            this.slot.appendChild(this.selectEl);\r\n        }\r\n    };\r\n    LocaleWidget.prototype.displayLocaleName = function (locale) {\r\n        if (locale.englishName && locale.displayName) {\r\n            return locale.englishName + \" - \" + locale.displayName;\r\n        }\r\n        else if (locale.englishName) {\r\n            return locale.englishName;\r\n        }\r\n        else if (locale.displayName) {\r\n            return locale.displayName;\r\n        }\r\n        return locale.locale;\r\n    };\r\n    LocaleWidget.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n    };\r\n    LocaleWidget.prototype.destroyCore = function () {\r\n        this.clear();\r\n    };\r\n    return LocaleWidget;\r\n}(Widget));\r\nexport { LocaleWidget };\r\n//# sourceMappingURL=locale_widget.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Widget, WidgetGroup } from '@easyquery/core';\r\nimport { browserUtils } from '../utils/browser_utils';\r\n/**\r\n * The widget responsed for rendering the name of the current query.\r\n */\r\nvar QueryNameWidget = /** @class */ (function (_super) {\r\n    __extends(QueryNameWidget, _super);\r\n    /**\r\n     * The default constructor.\r\n     * @param slot The HTML element where our widget should be placed.\r\n     */\r\n    function QueryNameWidget(slot) {\r\n        var _this = _super.call(this, slot) || this;\r\n        _this.queryEventCallbackId = null;\r\n        _this.group = WidgetGroup.Query | WidgetGroup.QueryStatus;\r\n        return _this;\r\n    }\r\n    QueryNameWidget.prototype.init = function (context, options) {\r\n        _super.prototype.init.call(this, context, options);\r\n        this.destroyCore();\r\n        this.attachQueryObserver();\r\n    };\r\n    Object.defineProperty(QueryNameWidget.prototype, \"cssPrefix\", {\r\n        get: function () {\r\n            return 'eqjs-query-name';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    QueryNameWidget.prototype.getWidgetType = function () {\r\n        return 'queryName';\r\n    };\r\n    /**\r\n     * Refresh widget implementation\r\n     */\r\n    QueryNameWidget.prototype.refreshCore = function () {\r\n        this.render();\r\n    };\r\n    QueryNameWidget.prototype.render = function () {\r\n        this.slot.classList.add(\"\" + this.cssPrefix);\r\n        var mobClass = browserUtils.getMobileCssClass();\r\n        if (mobClass) {\r\n            this.slot.classList.add(mobClass);\r\n        }\r\n        if (!this.nameSlot) {\r\n            this.nameSlot = document.createElement('div');\r\n            this.nameSlot.classList.add(this.cssPrefix + \"-text\");\r\n            this.nameSlot.classList.add(this.cssPrefix + \"-theme\");\r\n            this.slot.appendChild(this.nameSlot);\r\n        }\r\n        if (!this.asteriskSlot) {\r\n            this.asteriskSlot = document.createElement('span');\r\n            this.asteriskSlot.innerHTML = \"*\";\r\n            this.asteriskSlot.classList.add(this.cssPrefix + \"-asterisk\");\r\n            this.slot.appendChild(this.asteriskSlot);\r\n        }\r\n        if (!this.tooltipSlot) {\r\n            this.tooltipSlot = document.createElement('span');\r\n            this.tooltipSlot.classList.add(this.cssPrefix + \"-tooltip\");\r\n            this.tooltipSlot.classList.add(this.cssPrefix + \"-theme\");\r\n            this.slot.appendChild(this.tooltipSlot);\r\n        }\r\n        // Update\r\n        var queryName = this.context.getQuery().getName();\r\n        this.nameSlot.textContent = queryName;\r\n        this.tooltipSlot.textContent = queryName;\r\n        this.asteriskSlot.style.visibility = this.context.getQuery().isModified() ? \"visible\" : \"hidden\";\r\n    };\r\n    QueryNameWidget.prototype.clear = function () {\r\n        this.slot.innerHTML = \"\";\r\n        this.nameSlot = null;\r\n        this.tooltipSlot = null;\r\n        this.asteriskSlot = null;\r\n    };\r\n    QueryNameWidget.prototype.attachQueryObserver = function () {\r\n        var _this = this;\r\n        var query = this.context.getQuery();\r\n        this.queryEventCallbackId = query.addChangedCallback(function (event) {\r\n            _this.refreshCore();\r\n        });\r\n    };\r\n    QueryNameWidget.prototype.detachQueryObserver = function () {\r\n        if (this.queryEventCallbackId) {\r\n            var query = this.context.getQuery();\r\n            query.removeChangedCallback(this.queryEventCallbackId);\r\n        }\r\n    };\r\n    QueryNameWidget.prototype.destroyCore = function () {\r\n        this.clear();\r\n        this.detachQueryObserver();\r\n    };\r\n    return QueryNameWidget;\r\n}(Widget));\r\nexport { QueryNameWidget };\r\n//# sourceMappingURL=queryname_widget.js.map","import { i18n } from '@easydata/core';\r\nimport { utils as dataUtils } from '@easydata/core';\r\nimport { EqContext, WidgetGroup } from '@easyquery/core';\r\nimport { DefaultDialogService, addElement, domel } from '@easydata/ui';\r\nimport { EasyGridWidget } from '../widgets/easy_grid_widget';\r\nimport { ChartJsWidget } from '../widgets/charts/chart_widget_chartjs';\r\nimport { EntitiesPanel } from '../widgets/entities_panel';\r\nimport { ColumnsPanel } from '../widgets/columns_panel';\r\nimport { ColumnsBar } from '../widgets/columns_bar';\r\nimport { LocaleWidget } from '../widgets/locale_widget';\r\nimport { QueryPanel } from '../widgets/query_panel';\r\nimport { ProcessWidget } from '../widgets/process_widget';\r\nimport { FilterBar } from '../widgets/filter_bar';\r\nimport { SortingBar } from '../widgets/sorting_bar';\r\nimport { QueryNameWidget } from '../widgets/queryname_widget';\r\nimport { StatementPanel } from '../widgets/statement_panel';\r\nimport { ResultFacetsPanel } from '../widgets/result_facets_panel';\r\nimport { convertOldOptions } from '../utils/options_converter';\r\nimport { eqCssPrefix } from '../utils/utils';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { ExportWidget } from '../widgets/export_widget';\r\nvar View = /** @class */ (function () {\r\n    function View() {\r\n        this.domRoots = [document];\r\n        this.defaultViewOptions = {\r\n            enableExport: true,\r\n            disableConfirmationOnQueryChange: false,\r\n            queryFileExtensions: 'text/xml,application/json',\r\n            result: {\r\n                clearResultOnQueryChange: true,\r\n                showChart: true,\r\n                showProcessIndicator: true\r\n            },\r\n            widgets: {\r\n                resultGrid: {\r\n                    addColumns: false\r\n                }\r\n            }\r\n        };\r\n        this.resultOptions = {};\r\n        this.enableExport = false;\r\n        this.resetContext();\r\n        this.renderSpinner();\r\n        this.defaultErrorHandler = function (error) {\r\n            console.error(error.action + \": \" + error.text);\r\n            if (error.sourceError) {\r\n                console.error(error.sourceError);\r\n            }\r\n        };\r\n    }\r\n    View.prototype.resetContext = function () {\r\n        this.context = new EqContext();\r\n        this.context\r\n            .getServices()\r\n            .registerDialogServiceResolver(function () { return new DefaultDialogService(); });\r\n    };\r\n    View.prototype.init = function (options) {\r\n        // to support shadow DOM rendering\r\n        if (options && options.shadowRoots)\r\n            this.domRoots = this.domRoots.concat(options.shadowRoots);\r\n        options = this.initOptions(options);\r\n        this.initWidgets(options);\r\n        this.context.init(options);\r\n        this.initDone();\r\n    };\r\n    View.prototype.initDone = function () { };\r\n    View.prototype.initWidgets = function (options) {\r\n        var queryPanel = \"QueryPanel\";\r\n        var columnsPanel = \"ColumnsPanel\";\r\n        var entitiesPanel = \"EntitiesPanel\";\r\n        var resultPanel = \"ResultPanel\";\r\n        var columnsBar = \"ColumnsBar\";\r\n        var sortingBar = \"SortingBar\";\r\n        var filterBar = \"FilterBar\";\r\n        var processBar = \"ProcessBar\";\r\n        var statementPanel = \"StatementPanel\";\r\n        var changeLocale = \"ChangeLocale\";\r\n        var queryNameLabel = \"QueryNameLabel\";\r\n        var facetsPanel = \"ResultFacetsPanel\";\r\n        var resultCount = \"ResultCount\";\r\n        var exportButton = \"ExportButton\";\r\n        if (options.slots) {\r\n            queryNameLabel = options.slots.queryNameLabel || queryNameLabel;\r\n            queryPanel = options.slots.queryPanel || queryPanel;\r\n            columnsPanel = options.slots.columnsPanel || columnsPanel;\r\n            columnsBar = options.slots.columnsBar || columnsBar;\r\n            entitiesPanel = options.slots.entitiesPanel || entitiesPanel;\r\n            resultPanel = options.slots.resultPanel || resultPanel;\r\n            statementPanel = options.slots.statementPanel || statementPanel;\r\n            processBar = options.slots.processBar || processBar;\r\n            changeLocale = options.slots.changeLocale || changeLocale;\r\n            facetsPanel = options.slots.facetsPanel || facetsPanel;\r\n            resultCount = options.slots.resultCountSpan || resultCount;\r\n            filterBar = options.slots.filterBar || filterBar;\r\n            exportButton = options.slots.exportButtons || exportButton;\r\n        }\r\n        var epElement = this.resolveElement(entitiesPanel);\r\n        if (epElement && !this.entitiesPanelWidget) {\r\n            this.entitiesPanelWidget = this.createEntitiesPanelWidget(epElement);\r\n            this.context.addWidget(this.entitiesPanelWidget);\r\n        }\r\n        var cpElement = this.resolveElement(columnsPanel);\r\n        if (cpElement && !this.columnsPanelWidget) {\r\n            this.columnsPanelWidget = this.createColumnsPanelWidget(cpElement);\r\n            this.context.addWidget(this.columnsPanelWidget);\r\n        }\r\n        var cbElement = this.resolveElement(columnsBar);\r\n        if (cbElement && !this.columnsBarWidget) {\r\n            this.columnsBarWidget = this.createColumnsBarWidget(cbElement);\r\n            this.context.addWidget(this.columnsBarWidget);\r\n        }\r\n        var qpElement = this.resolveElement(queryPanel);\r\n        if (qpElement && !this.queryPanelWidget) {\r\n            this.queryPanelWidget = this.createQueryPanelWidget(qpElement);\r\n            this.context.addWidget(this.queryPanelWidget);\r\n        }\r\n        this.resultPanelSlot = this.resolveElement(resultPanel);\r\n        if (this.resultPanelSlot) {\r\n            if (!this.resultGridWidget) {\r\n                var gridPanel = addElement(this.resultPanelSlot, 'div', { cssClass: 'eqv-result-grid' });\r\n                this.resultGridWidget = this.createResultGridWidget(gridPanel);\r\n                this.context.addWidget(this.resultGridWidget);\r\n            }\r\n            if (this.resultOptions.showChart && !this.chartWidget) {\r\n                var chartPanel = addElement(this.resultPanelSlot, 'div', { cssClass: 'eqv-chart-panel' });\r\n                chartPanel.style.display = 'none';\r\n                this.chartWidget = this.createChartWidget(chartPanel);\r\n                this.context.addWidget(this.chartWidget);\r\n            }\r\n        }\r\n        var qnElement = this.resolveElement(queryNameLabel);\r\n        if (qnElement && !this.queryNameWidget) {\r\n            this.queryNameWidget = this.createQueryNameWidget(qnElement);\r\n            this.context.addWidget(this.queryNameWidget);\r\n        }\r\n        var fbElement = this.resolveElement(filterBar);\r\n        if (fbElement && !this.filterBarWidget) {\r\n            this.filterBarWidget = this.createFilterBarWidget(fbElement);\r\n            this.context.addWidget(this.filterBarWidget);\r\n        }\r\n        var sbElement = this.resolveElement(sortingBar);\r\n        if (sbElement && !this.sortingBarWidget) {\r\n            this.sortingBarWidget = this.createSortingBarWidget(sbElement);\r\n            this.context.addWidget(this.sortingBarWidget);\r\n        }\r\n        var pbElement = this.resolveElement(processBar);\r\n        if (pbElement && !this.processWidget) {\r\n            this.processWidget = this.createProcessWidget(pbElement);\r\n            this.context.addWidget(this.processWidget);\r\n        }\r\n        var stElement = this.resolveElement(statementPanel);\r\n        if (stElement && !this.statementPanelWidget) {\r\n            this.statementPanelWidget = this.createStatementPanelWidget(stElement);\r\n            this.context.addWidget(this.statementPanelWidget);\r\n        }\r\n        var clElement = this.resolveElement(changeLocale);\r\n        if (clElement) {\r\n            var widget = this.createLocaleWidget(clElement);\r\n            this.context.addWidget(widget);\r\n        }\r\n        var fpElement = this.resolveElement(facetsPanel);\r\n        if (fpElement && !this.resultFacetPanelWidget) {\r\n            this.resultFacetPanelWidget = this.createResultFacetsPanel(fpElement);\r\n            this.context.addWidget(this.resultFacetPanelWidget);\r\n        }\r\n        var ewElement = this.resolveElement(exportButton);\r\n        if (ewElement && !this.exportWidget) {\r\n            this.exportWidget = this.createExportWidget(ewElement);\r\n            this.context.addWidget(this.exportWidget);\r\n        }\r\n        this.resultCountSlot = this.resolveElement(resultCount);\r\n    };\r\n    View.prototype.resolveElement = function (elementOrId) {\r\n        if (typeof elementOrId === 'string') {\r\n            for (var _i = 0, _a = this.domRoots; _i < _a.length; _i++) {\r\n                var domRoot = _a[_i];\r\n                var el = domRoot.getElementById(elementOrId);\r\n                if (el)\r\n                    return el;\r\n            }\r\n            return null;\r\n        }\r\n        return elementOrId;\r\n    };\r\n    View.prototype.resolveElementsByClassName = function (className) {\r\n        var result = [];\r\n        for (var _i = 0, _a = this.domRoots; _i < _a.length; _i++) {\r\n            var domRoot = _a[_i];\r\n            var elemList = domRoot.querySelectorAll('.' + className);\r\n            for (var i = 0; i < elemList.length; i++) {\r\n                result.push(elemList[i]);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n    * Shows records count.\r\n    * @param count The value to show.\r\n    */\r\n    View.prototype.displayRecordsCount = function (count) {\r\n        if (this.resultCountSlot && (typeof count !== 'undefined')) {\r\n            this.resultCountSlot.style.display = \"inline\";\r\n            this.resultCountSlot.innerHTML = i18n.getText(\"MsgResultCount\").replace(\"{0}\", count.toString());\r\n        }\r\n    };\r\n    View.prototype.initOptions = function (options) {\r\n        if (options) {\r\n            options = dataUtils.assignDeep({}, this.defaultViewOptions, options);\r\n        }\r\n        else {\r\n            options = convertOldOptions(this.defaultViewOptions);\r\n        }\r\n        // for backward compability with options from version 5.x of EQ.JS\r\n        if (!options.broker) {\r\n            options.broker = {};\r\n        }\r\n        if (!options.handlers) {\r\n            options.handlers = {};\r\n        }\r\n        if (!options.handlers.onError) {\r\n            options.handlers.onError = this.defaultErrorHandler;\r\n        }\r\n        if (!options.widgets) {\r\n            options.widgets = {};\r\n        }\r\n        this.resultOptions = dataUtils.assignDeep(this.resultOptions, options.result);\r\n        if (typeof this.resultOptions.showProcessIndicator == 'undefined') {\r\n            this.resultOptions.showProcessIndicator = true;\r\n        }\r\n        else if (options.widgets.facetsPanel) {\r\n            options.widgets.facetsPanel.showProcessIndicator\r\n                = this.resultOptions.showProcessIndicator;\r\n        }\r\n        // support old format \r\n        if (!options.widgets.easyGrid) {\r\n            options.widgets.easyGrid = options.widgets.resultGrid || {};\r\n        }\r\n        options.widgets.easyGrid.paging =\r\n            dataUtils.assignDeep(this.resultOptions.paging, options.widgets.easyGrid.paging);\r\n        this.enableExport = options.enableExport || false;\r\n        if (!options.widgets.exportWidget) {\r\n            options.widgets.exportWidget = {};\r\n        }\r\n        options.widgets.exportWidget.enableExport = this.enableExport;\r\n        return options;\r\n    };\r\n    View.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    /**\r\n     * Sets dialog service for the view\r\n     * @param dialogService The dialog service.\r\n     */\r\n    View.prototype.setDialogService = function (dialogService) {\r\n        this.context.getServices()\r\n            .registerDialogServiceResolver(function () { return dialogService; });\r\n    };\r\n    View.prototype.executeQuery = function (options) {\r\n        console.log('`executeQuery` is deprecated. Use `fetchData` instead');\r\n        this.fetchData(options);\r\n    };\r\n    /**\r\n    * Fetches the data according to the query and other options defined in the context.\r\n    * @param options The options.\r\n    */\r\n    View.prototype.fetchData = function (options) {\r\n        var _this = this;\r\n        options = options || { refresh: true };\r\n        this.showResultSpinner();\r\n        this.context.fetchData({\r\n            options: {\r\n                page: options.page,\r\n                pageSize: options.pageSize\r\n            },\r\n            success: function (result) {\r\n                _this.hideResultSpinner();\r\n                _this.toggleExportButtons();\r\n                _this.displayRecordsCount(_this.context.resultTable.getTotal());\r\n                if (options.refresh === true) {\r\n                    _this.context.refreshWidgets(WidgetGroup.Result);\r\n                }\r\n                if (options.callback) {\r\n                    options.callback();\r\n                }\r\n                if (options.success) {\r\n                    options.success();\r\n                }\r\n            },\r\n            error: function () {\r\n                _this.hideResultSpinner();\r\n            }\r\n        });\r\n    };\r\n    View.prototype.toggleExportButtons = function () {\r\n        if (this.enableExport && this.context.resultTable\r\n            && this.context.resultTable.getCachedCount() > 0) {\r\n            this.enableExportButtons();\r\n        }\r\n        else {\r\n            this.disableExportButtons();\r\n        }\r\n    };\r\n    View.prototype.enableExportButtons = function () {\r\n        // Nothing to do\r\n    };\r\n    View.prototype.disableExportButtons = function () {\r\n        // Nothing to do\r\n    };\r\n    View.prototype.renderSpinner = function () {\r\n        var html = '<div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"></div></div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"></div></div>';\r\n        ;\r\n        this._spinnerDiv = domel('div')\r\n            .addClass(\"eqjs-result-spinner\")\r\n            .addChild('div', function (b) { return b\r\n            .addClass(eqCssPrefix + \"-progress-win8\", browserUtils.getMobileCssClass())\r\n            .addHtml(html); })\r\n            .toDOM();\r\n    };\r\n    View.prototype.showResultSpinner = function () {\r\n        if (this.resultOptions.showProcessIndicator && this.resultPanelSlot) {\r\n            if (!this._spinnerDiv.parentNode) {\r\n                for (var i = 0; i < this.resultPanelSlot.children.length; i++) {\r\n                    var el = this.resultPanelSlot.children[i];\r\n                    domel(el).hide();\r\n                }\r\n                this.resultPanelSlot.appendChild(this._spinnerDiv);\r\n            }\r\n        }\r\n    };\r\n    View.prototype.hideResultSpinner = function () {\r\n        if (this.resultOptions.showProcessIndicator && this.resultPanelSlot) {\r\n            if (this._spinnerDiv.parentNode) {\r\n                this._spinnerDiv.parentNode.removeChild(this._spinnerDiv);\r\n                for (var i = 0; i < this.resultPanelSlot.children.length; i++) {\r\n                    var el = this.resultPanelSlot.children[i];\r\n                    domel(el).show();\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Creates the widget that represents Chart Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createChartWidget = function (slotElement) {\r\n        if (this.resultOptions.chartWidgetResolver) {\r\n            return this.resultOptions.chartWidgetResolver(slotElement);\r\n        }\r\n        else {\r\n            return new ChartJsWidget(slotElement);\r\n        }\r\n    };\r\n    /**\r\n    * Creates the widget that represents Grid Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createResultGridWidget = function (slotElement) {\r\n        if (this.resultOptions.resultGridResolver) {\r\n            return this.resultOptions.resultGridResolver(slotElement);\r\n        }\r\n        else {\r\n            return new EasyGridWidget(slotElement);\r\n        }\r\n    };\r\n    /**\r\n    * Creates the widget that represents Entity Panel.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createEntitiesPanelWidget = function (slot) {\r\n        return new EntitiesPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Columns Panel.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createColumnsPanelWidget = function (slot) {\r\n        return new ColumnsPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Query Panel.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createQueryPanelWidget = function (slot) {\r\n        return new QueryPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Locale Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createLocaleWidget = function (slot) {\r\n        return new LocaleWidget(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Process Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createProcessWidget = function (slot) {\r\n        return new ProcessWidget(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Columns Bar.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createColumnsBarWidget = function (slot) {\r\n        return new ColumnsBar(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Filter Bar.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createFilterBarWidget = function (slot) {\r\n        return new FilterBar(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Sorting Bar.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createSortingBarWidget = function (slot) {\r\n        return new SortingBar(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Query Name Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    View.prototype.createQueryNameWidget = function (slot) {\r\n        return new QueryNameWidget(slot);\r\n    };\r\n    /**\r\n     * Creates the widget that represents Statement Panel Widget.\r\n     * @param slot\r\n     */\r\n    View.prototype.createStatementPanelWidget = function (slot) {\r\n        return new StatementPanel(slot);\r\n    };\r\n    /**\r\n    * Creates the widget that represents Result Facets Panel Widget.\r\n    * @param slot\r\n    */\r\n    View.prototype.createResultFacetsPanel = function (slot) {\r\n        return new ResultFacetsPanel(slot);\r\n    };\r\n    /**\r\n     * Creates the widget that represents Export funcionality.\r\n     * @param slot\r\n     */\r\n    View.prototype.createExportWidget = function (slot) {\r\n        return new ExportWidget(slot);\r\n    };\r\n    View.prototype.detach = function () {\r\n        if (this.entitiesPanelWidget) {\r\n            this.entitiesPanelWidget.destroy();\r\n            this.entitiesPanelWidget = null;\r\n        }\r\n        if (this.columnsPanelWidget) {\r\n            this.columnsPanelWidget.destroy();\r\n            this.columnsPanelWidget = null;\r\n        }\r\n        if (this.queryPanelWidget) {\r\n            this.queryPanelWidget.destroy();\r\n            this.queryPanelWidget = null;\r\n        }\r\n        if (this.columnsBarWidget) {\r\n            this.columnsBarWidget.destroy();\r\n            this.columnsBarWidget = null;\r\n        }\r\n        if (this.resultGridWidget) {\r\n            this.resultGridWidget.destroy();\r\n            this.resultGridWidget = null;\r\n        }\r\n        if (this.chartWidget) {\r\n            this.chartWidget.destroy();\r\n            this.chartWidget = null;\r\n        }\r\n        if (this.queryNameWidget) {\r\n            this.queryNameWidget.destroy();\r\n            this.queryNameWidget = null;\r\n        }\r\n        if (this.processWidget) {\r\n            this.processWidget.destroy();\r\n            this.processWidget = null;\r\n        }\r\n        if (this.localeWidget) {\r\n            this.localeWidget.destroy();\r\n            this.localeWidget = null;\r\n        }\r\n        if (this.statementPanelWidget) {\r\n            this.statementPanelWidget.destroy();\r\n            this.statementPanelWidget = null;\r\n        }\r\n        if (this.filterBarWidget) {\r\n            this.filterBarWidget.destroy();\r\n            this.filterBarWidget = null;\r\n        }\r\n        if (this.sortingBarWidget) {\r\n            this.sortingBarWidget.destroy();\r\n            this.sortingBarWidget = null;\r\n        }\r\n        if (this.statementWidget) {\r\n            this.statementWidget.destroy();\r\n            this.statementWidget = null;\r\n        }\r\n        if (this.exportWidget) {\r\n            this.exportWidget.destroy();\r\n            this.exportWidget = null;\r\n        }\r\n        if (this.resultFacetPanelWidget) {\r\n            this.resultFacetPanelWidget.destroy();\r\n            this.resultFacetPanelWidget = null;\r\n        }\r\n        if (this.resultCountSlot) {\r\n            this.resultCountSlot.innerHTML = '';\r\n            this.resultCountSlot = null;\r\n        }\r\n        if (this.resultPanelSlot) {\r\n            this.resultPanelSlot.innerHTML = '';\r\n            this.resultPanelSlot = null;\r\n        }\r\n        this.domRoots = [document];\r\n        this.resetContext();\r\n    };\r\n    return View;\r\n}());\r\nexport { View };\r\n//# sourceMappingURL=view.js.map","/**\r\n * Converts options from old 4.x format to [[EqViewOptions]]\r\n * @param defaultOptions The default [[EqViewOptions]] object to be extended by old options.\r\n * @returns Converted [[EqViewOptions]] object.\r\n */\r\nexport function convertOldOptions(defaultOptions) {\r\n    var oldOptions = window['easyQuerySettings'];\r\n    var oldViewOptions = window['easyQueryViewSettings'];\r\n    var newOptions = defaultOptions;\r\n    if (oldOptions) {\r\n        newOptions = { broker: {} };\r\n        //url options starts\r\n        newOptions.broker['serviceUrl'] = oldOptions.serviceUrl;\r\n        newOptions.broker['newQueryUrl'] = oldOptions.newQueryUrl;\r\n        newOptions.broker['saveQueryUrl'] = oldOptions.saveQueryUrl;\r\n        newOptions.broker['executeQueryUrl'] = oldOptions.executeQueryUrl;\r\n        newOptions.broker['removeQueryUrl'] = oldOptions.removeQueryUrl;\r\n        newOptions.broker['loadModelUrl'] = oldOptions.loadModelUrl;\r\n        newOptions.broker['loadQueryUrl'] = oldOptions.loadQueryUrl;\r\n        newOptions.broker['loadQueryListUrl'] = oldOptions.loadQueryListUrl;\r\n        newOptions.broker['syncQueryUrl'] = oldOptions.syncQueryUrl;\r\n        newOptions.broker['executeSqlUrl'] = oldOptions.executeQueryUrl;\r\n        newOptions.broker['listRequestUrl'] = oldOptions.listRequestUrl;\r\n        //url options ends\r\n        newOptions.broker['syncQueryOptions'] = oldOptions.syncQueryOptions;\r\n        newOptions.loadModelOnStart = oldOptions.loadModelOnStart;\r\n        newOptions.loadQueryOnStart = oldOptions.loadQueryOnStart;\r\n        newOptions.defaultModelId = oldOptions.defaultModelId;\r\n        newOptions.defaultQueryId = oldOptions.defaultQueryId;\r\n        newOptions.locale = oldOptions.locale;\r\n        newOptions.initialQuery = oldOptions.initialQuery;\r\n        newOptions.handlers = {};\r\n        newOptions.handlers.onInit = oldOptions.onInit;\r\n        newOptions.handlers.onInitialModelLoad = oldOptions.onInitialModelLoad;\r\n        newOptions.handlers.onLoadModel = oldOptions.onLoadModel;\r\n        newOptions.handlers.onLoadQuery = oldOptions.onLoadQuery;\r\n        newOptions.handlers.onProcessEnd = oldOptions.onProcessEnd;\r\n        newOptions.handlers.onProcessStart = oldOptions.onProcessStart;\r\n        newOptions.handlers.listRequestHandler = oldOptions.listRequestHandler;\r\n        newOptions.widgets = {};\r\n        newOptions.widgets.columnsPanel = oldOptions.columnsPanel;\r\n        newOptions.widgets.entitiesPanel = oldOptions.entitiesPanel;\r\n        newOptions.widgets.queryPanel = oldOptions.queryPanel;\r\n        newOptions.widgets.columnsBar = oldOptions.columnsBar;\r\n        newOptions.result = { paging: {}, showChart: false };\r\n    }\r\n    if (oldViewOptions) {\r\n        if (typeof oldViewOptions.showChart === 'undefined') {\r\n            newOptions.result.showChart = oldViewOptions.showChart;\r\n        }\r\n        newOptions.result.paging = oldViewOptions.paging;\r\n        if (newOptions.result.paging) {\r\n            newOptions.result.grid.useBootstrap = oldOptions.useBootstrap;\r\n        }\r\n    }\r\n    return newOptions;\r\n}\r\n//# sourceMappingURL=options_converter.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { i18n } from '@easydata/core';\r\nimport { QueryChangePart, WidgetGroup } from '@easyquery/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { PopupMenu } from '../utils/popup_menu';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { View } from '../views/view';\r\n/**\r\n * The EasyQuery client-side view that represents the UI for advanced search page\r\n */\r\nvar AdvancedSearchView = /** @class */ (function (_super) {\r\n    __extends(AdvancedSearchView, _super);\r\n    function AdvancedSearchView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.exportButtons = [];\r\n        // Name of the class to add to disabled elements.\r\n        _this.disabledClass = \"eqjs-disabled\";\r\n        _this.dropdownContainerClass = \"eqv-dropdown-container\";\r\n        _this.dropdownButtonClass = \"eqv-drop-button\";\r\n        _this.dropdownContentClass = \"eqv-dropdown-content\";\r\n        _this.dropdownShowClass = \"eqv-dropdown-show\";\r\n        _this._querySaveTemplate = \"<div id=\\\"kdlg-dialog-form\\\" class=\\\"kfrm-form\\\">\\n            <div class=\\\"kfrm-fields label-above\\\">\\n                <label for=\\\"kdlg-dialog-form-input\\\" id=\\\"kdlg-dialog-form-content\\\"></label>\\n                <input type=\\\"text\\\" name=\\\"kdlg-dialog-form-input\\\" id=\\\"kdlg-dialog-form-input\\\" />\\n            </div>\\n        </div>\";\r\n        _this.queryListMenu = null;\r\n        _this.fetchDataButtonClickHandler = _this.fetchDataButtonClick.bind(_this);\r\n        _this.clearQueryButtonClickHandler = _this.clearQueryButtonClick.bind(_this);\r\n        _this.newQueryButtonClickHandler = _this.newQueryButtonClick.bind(_this);\r\n        _this.loadQueryButtonClickHandler = _this.loadQueryButtonClick.bind(_this);\r\n        _this.saveQueryButtonClickHandler = _this.saveQueryButtonClick.bind(_this);\r\n        _this.copyQueryButtonClickHandler = _this.copyQueryButtonClick.bind(_this);\r\n        _this.removeQueryButtonClickHandler = _this.removeQueryButtonClick.bind(_this);\r\n        _this.storageButtonClickHandler = _this.storageDropButtonClick.bind(_this);\r\n        _this.saveQueryToFileButtonClickHandler = _this.saveQueryToFileButtonClick.bind(_this);\r\n        _this.loadQueryFromFileButtonClickHandler = _this.loadQueryFromFileButtonClick.bind(_this);\r\n        var self = _this;\r\n        _this.exportButtonClickHandler = function (e) {\r\n            if (!this.classList.contains(self.disabledClass)) {\r\n                var format = this.getAttribute(\"data-format\");\r\n                self.getContext().exportResult({ format: format });\r\n            }\r\n        };\r\n        _this.queryChangedHandler = function (ev) {\r\n            var eventData = ev.data;\r\n            if (_this.resultOptions.clearResultOnQueryChange) {\r\n                _this.context.clearResult();\r\n                _this.context.refreshWidgets(WidgetGroup.Result);\r\n            }\r\n            _this.disableExportButtons();\r\n            if (_this.resultCountSlot) {\r\n                _this.resultCountSlot.style.display = \"none\";\r\n            }\r\n            if (_this.options.syncQueryOnChange) {\r\n                _this.syncQuery();\r\n            }\r\n            // if (this.options.executeQueryOnChange) {\r\n            //     console.warn('`options.executeQueryOnChange` is deprecated. Use fetchDataOnChange instead');\r\n            //     this.options.fetchDataOnChange = true;\r\n            // }\r\n            if (_this.options.fetchDataOnChange) {\r\n                if (!eventData || eventData.part != QueryChangePart.ExtraData) {\r\n                    _this.fetchData();\r\n                }\r\n            }\r\n        };\r\n        _this.outsideClickHandler = function (event) {\r\n            var currentContent = null;\r\n            if (event.target.matches(\".\" + _this.dropdownButtonClass)) {\r\n                currentContent = event.target.parentElement.querySelector(\".\" + _this.dropdownContentClass);\r\n            }\r\n            else if (event.target.matches(\".\" + _this.dropdownButtonClass + \" > span\")) {\r\n                currentContent = event.target.parentElement.parentElement.querySelector(\".\" + _this.dropdownContentClass);\r\n            }\r\n            var dropdowns = _this.resolveElementsByClassName(_this.dropdownContentClass);\r\n            for (var i = 0; i < dropdowns.length; i++) {\r\n                var openDropdown = dropdowns[i];\r\n                if (currentContent != openDropdown) {\r\n                    if (openDropdown.classList.contains(_this.dropdownShowClass)) {\r\n                        openDropdown.classList.remove(_this.dropdownShowClass);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    AdvancedSearchView.prototype.refreshQueryList = function () {\r\n        var _this = this;\r\n        if (this.queryListPanel) {\r\n            this.queryListPanel.innerHTML = '';\r\n            this.context.loadQueryList({\r\n                success: function (data) {\r\n                    var b = domel('ul', _this.queryListPanel)\r\n                        .addClass('list-group list-group-flush');\r\n                    data.map(function (item) {\r\n                        b.addChild('li', function (b) {\r\n                            b.addClass('list-group-item')\r\n                                .setStyle('cursor', 'pointer')\r\n                                .data('id', item.id)\r\n                                .text(item.name)\r\n                                .on('click', function () {\r\n                                _this.checkIfQueryModified(function () { return _this.loadQuery(item.id); });\r\n                            });\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.initOptions = function (options) {\r\n        this.options = _super.prototype.initOptions.call(this, options);\r\n        if (typeof (this.options.syncQueryOnChange) == 'undefined') {\r\n            this.options.syncQueryOnChange = true;\r\n        }\r\n        var query = this.context.getQuery();\r\n        query.addChangedCallback(this.queryChangedHandler);\r\n        // hide any dropdown menu when user clicks somewhere\r\n        window.addEventListener('click', this.outsideClickHandler);\r\n        return this.options;\r\n    };\r\n    AdvancedSearchView.prototype.initWidgets = function (options) {\r\n        var _this = this;\r\n        _super.prototype.initWidgets.call(this, options);\r\n        var exportClass = \"eqjs-export\";\r\n        var queryContentInputId = \"QueryContentJson\";\r\n        var clearQueryButtonId = \"ClearQueryButton\";\r\n        var newQueryButtonId = \"NewQueryButton\";\r\n        var loadQueryButtonId = \"LoadQueryButton\";\r\n        var saveQueryButtonId = \"SaveQueryButton\";\r\n        var copyQueryButtonId = \"CopyQueryButton\";\r\n        var removeQueryButtonId = \"RemoveQueryButton\";\r\n        var storageButtonId = \"StorageDropButton\";\r\n        var fetchDataButtonId = \"FetchDataButton\";\r\n        var loadQueryFromFileButtonId = \"LoadQueryFromFileButton\";\r\n        var saveQueryToFileButtonId = \"SaveQueryToFileButton\";\r\n        var queryListPanelId = \"QueryListPanel\";\r\n        if (options.slots) {\r\n            queryContentInputId = options.slots.queryContentInput || queryContentInputId;\r\n            fetchDataButtonId = options.slots.fetchDataButton || fetchDataButtonId;\r\n            clearQueryButtonId = options.slots.clearQueryButton || clearQueryButtonId;\r\n            newQueryButtonId = options.slots.newQueryButton || newQueryButtonId;\r\n            loadQueryButtonId = options.slots.loadQueryButton || loadQueryButtonId;\r\n            saveQueryButtonId = options.slots.saveQueryButton || saveQueryButtonId;\r\n            copyQueryButtonId = options.slots.copyQueryButton || copyQueryButtonId;\r\n            removeQueryButtonId = options.slots.removeQueryButton || removeQueryButtonId;\r\n            storageButtonId = options.slots.storageButton || storageButtonId;\r\n            exportClass = options.slots.exportClass || exportClass;\r\n            loadQueryFromFileButtonId = options.slots.loadQueryFromFileButton || loadQueryFromFileButtonId;\r\n            saveQueryToFileButtonId = options.slots.saveQueryToFileButton || saveQueryToFileButtonId;\r\n            queryListPanelId = options.slots.queryListPanel || queryListPanelId;\r\n        }\r\n        this.exportButtons = this.domRoots.reduce(function (elems, root) {\r\n            return elems.concat(Array.from(root.querySelectorAll(\".\" + exportClass)));\r\n        }, []);\r\n        if (!options.enableExport) {\r\n            this.hideExportButtons();\r\n        }\r\n        this.disableExportButtons();\r\n        //Add event listener for export buttons\r\n        var self = this;\r\n        this.exportButtons.forEach(function (button) {\r\n            button.addEventListener('click', _this.exportButtonClickHandler);\r\n        });\r\n        if (!this.fetchDataButton) {\r\n            this.fetchDataButton = this.resolveElement(fetchDataButtonId);\r\n            if (!this.fetchDataButton) {\r\n                this.fetchDataButton = this.resolveElement('ExecuteQueryButton'); //deprecated, should be removed on the next major update\r\n            }\r\n            if (this.fetchDataButton) {\r\n                this.fetchDataButton.addEventListener('click', this.fetchDataButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.clearQueryButton) {\r\n            this.clearQueryButton = this.resolveElement(clearQueryButtonId);\r\n            if (this.clearQueryButton) {\r\n                this.clearQueryButton.addEventListener('click', this.clearQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.newQueryButton) {\r\n            this.newQueryButton = this.resolveElement(newQueryButtonId);\r\n            if (this.newQueryButton) {\r\n                this.newQueryButton.addEventListener('click', this.newQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.loadQueryButton) {\r\n            this.loadQueryButton = this.resolveElement(loadQueryButtonId);\r\n            if (this.loadQueryButton) {\r\n                this.loadQueryButton.addEventListener('click', this.loadQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.saveQueryButton) {\r\n            this.saveQueryButton = this.resolveElement(saveQueryButtonId);\r\n            if (this.saveQueryButton) {\r\n                this.saveQueryButton.addEventListener('click', this.saveQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.copyQueryButton) {\r\n            this.copyQueryButton = this.resolveElement(copyQueryButtonId);\r\n            if (this.copyQueryButton) {\r\n                this.copyQueryButton.addEventListener('click', this.copyQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.removeQueryButton) {\r\n            this.removeQueryButton = this.resolveElement(removeQueryButtonId);\r\n            if (this.removeQueryButton) {\r\n                this.removeQueryButton.addEventListener('click', this.removeQueryButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.storageDropButton) {\r\n            this.storageDropButton = this.resolveElement(storageButtonId);\r\n            if (this.storageDropButton) {\r\n                this.storageDropButton.addEventListener('click', this.storageButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.saveQueryToFileButton) {\r\n            this.saveQueryToFileButton = this.resolveElement(saveQueryToFileButtonId);\r\n            if (this.saveQueryToFileButton) {\r\n                this.saveQueryToFileButton.addEventListener('click', this.saveQueryToFileButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.queryListPanel) {\r\n            this.queryListPanel = this.resolveElement(queryListPanelId);\r\n            //For backward compatibility. Remove on the next update\r\n            if (!this.queryListPanel) {\r\n                this.queryListPanel = this.resolveElement('QueryListSlot');\r\n            }\r\n            if (this.queryListPanel) {\r\n                this.context.addEventListener('ready', function () {\r\n                    _this.refreshQueryList();\r\n                });\r\n            }\r\n        }\r\n        if (!this.loadQueryFromFileButton) {\r\n            this.loadQueryFromFileButton = this.resolveElement(loadQueryFromFileButtonId);\r\n            if (this.loadQueryFromFileButton) {\r\n                this.loadQueryFromFileInput = document.createElement('input');\r\n                this.loadQueryFromFileInput.type = 'file';\r\n                this.loadQueryFromFileInput.accept = options.queryFileExtensions;\r\n                this.loadQueryFromFileInput.style.display = 'none';\r\n                document.body.appendChild(this.loadQueryFromFileInput);\r\n                this.loadQueryFromFileInput.addEventListener('change', this.loadQueryFromFileInputSelect.bind(this));\r\n                this.loadQueryFromFileButton.addEventListener('click', this.loadQueryFromFileButtonClickHandler);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Sends current query to the backend.\r\n    */\r\n    AdvancedSearchView.prototype.syncQuery = function () {\r\n        var _this = this;\r\n        this.context.syncQuery({\r\n            success: function (responseData) {\r\n                if (responseData.statement) {\r\n                    _this.context.refreshWidgets(WidgetGroup.Statement);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Disables export buttons.\r\n    */\r\n    AdvancedSearchView.prototype.disableExportButtons = function () {\r\n        var _this = this;\r\n        this.exportButtons.forEach(function (button) {\r\n            button.disabled = true;\r\n            if (!button.classList.contains(_this.disabledClass)) {\r\n                button.classList.add(_this.disabledClass);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Enables export buttons.\r\n    */\r\n    AdvancedSearchView.prototype.enableExportButtons = function () {\r\n        var _this = this;\r\n        this.exportButtons.forEach(function (button) {\r\n            button.disabled = false;\r\n            if (button.classList.contains(_this.disabledClass)) {\r\n                button.classList.remove(_this.disabledClass);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Hides export buttons.\r\n    */\r\n    AdvancedSearchView.prototype.hideExportButtons = function () {\r\n        this.exportButtons.forEach(function (button) {\r\n            button.style.display = \"none\";\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.clearQueryButtonClick = function () {\r\n        this.context.clearQuery();\r\n        this.context.refreshWidgets(WidgetGroup.Statement);\r\n    };\r\n    AdvancedSearchView.prototype.createNewQuery = function (options) {\r\n        return this.context.newQuery(options);\r\n    };\r\n    AdvancedSearchView.prototype.loadQuery = function (queryId) {\r\n        if (!queryId)\r\n            return;\r\n        this.context.loadQuery({\r\n            queryId: queryId,\r\n            silent: false\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveQuery = function (success, error) {\r\n        var _this = this;\r\n        this.context.saveQuery({\r\n            success: function () {\r\n                if (success)\r\n                    success();\r\n                _this.context.getQuery().fireChangedEvent({\r\n                    part: QueryChangePart.Properties,\r\n                    wasModified: false\r\n                });\r\n                _this.refreshQueryList();\r\n            },\r\n            error: error\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveCurrentQuery = function (copyQuery, callback) {\r\n        var _this = this;\r\n        if (copyQuery === void 0) { copyQuery = false; }\r\n        var query = this.context.getQuery();\r\n        if (query.isNewbie || copyQuery) {\r\n            this.showSaveQueryDialog(function (result) { return new Promise(function (resolve) {\r\n                if (!result)\r\n                    return;\r\n                query.regenerateId();\r\n                query.setName(result);\r\n                query.fireChangedEvent({\r\n                    part: QueryChangePart.Properties,\r\n                    wasModified: true\r\n                });\r\n                _this.saveQuery(function () { resolve({ success: true }); callback; }, function (error) { return resolve({ success: false, message: error }); });\r\n            }); });\r\n        }\r\n        else {\r\n            this.saveQuery(callback);\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.checkIfQueryModified = function (callback) {\r\n        var _this = this;\r\n        if (this.context.getQuery().isModified()\r\n            && !this.options.disableConfirmationOnQueryChange) {\r\n            this.showQueryChangedDialog(function (result) {\r\n                if (result) {\r\n                    _this.saveCurrentQuery(false, callback);\r\n                }\r\n                else {\r\n                    callback();\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            callback();\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.removeCurrentQuery = function () {\r\n        var _this = this;\r\n        this.context.removeQuery({\r\n            success: function () {\r\n                _this.createNewQuery({\r\n                    useStorage: false\r\n                });\r\n                if (_this.resultCountSlot) {\r\n                    _this.resultCountSlot.style.display = \"none\";\r\n                }\r\n                _this.context.clearResult();\r\n                _this.refreshQueryList();\r\n            }\r\n        });\r\n    };\r\n    // ------------------ Dialog wrappers ---------------------\r\n    AdvancedSearchView.prototype.showNewQueryDialog = function (callback) {\r\n        var ds = this.context.getServices().getDialogService();\r\n        var defVal = i18n.getText('NewQueryDefName');\r\n        var dlg = ds.open({\r\n            title: i18n.getText('NewQueryTitle'),\r\n            body: this._querySaveTemplate,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                if (defVal) {\r\n                    input.value = defVal;\r\n                }\r\n                var content = document.getElementById('kdlg-dialog-form-content');\r\n                content.innerHTML = i18n.getText('NewQueryContent');\r\n                input.focus();\r\n            },\r\n            onSubmit: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                var value = input.value;\r\n                if (value && value.replace(/\\s/g, '').length > 0) {\r\n                    if (!callback)\r\n                        return true;\r\n                    dlg.disableButtons();\r\n                    var header_1 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_1 = domel('div', header_1)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    callback(value)\r\n                        .then(function (result) {\r\n                        header_1.removeChild(processEl_1);\r\n                        dlg.enableButtons();\r\n                        if (result.success) {\r\n                            dlg.close();\r\n                        }\r\n                        else {\r\n                            dlg.showAlert(result.message, 'error');\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.showQueryChangedDialog = function (callback) {\r\n        var ds = this.context.getServices().getDialogService();\r\n        ds.openConfirm(i18n.getText('QueryChangedTitle'), i18n.getText('QueryChangedContent'), callback);\r\n    };\r\n    AdvancedSearchView.prototype.showSaveQueryDialog = function (callback) {\r\n        var ds = this.context.getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        var newQueryName = query.isNewbie\r\n            ? query.getName()\r\n            : i18n.getText('SaveQueryDefName').replace('{queryName}', query.getName());\r\n        var dlg = ds.open({\r\n            title: i18n.getText('SaveQueryTitle'),\r\n            body: this._querySaveTemplate,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                input.value = newQueryName;\r\n                var content = document.getElementById('kdlg-dialog-form-content');\r\n                content.innerHTML = i18n.getText('SaveQueryContent');\r\n                input.focus();\r\n            },\r\n            onSubmit: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                var value = input.value;\r\n                if (value && value.replace(/\\s/g, '').length > 0) {\r\n                    if (!callback)\r\n                        return true;\r\n                    dlg.disableButtons();\r\n                    var header_2 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_2 = domel('div', header_2)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    callback(value)\r\n                        .then(function (result) {\r\n                        dlg.enableButtons();\r\n                        header_2.removeChild(processEl_2);\r\n                        if (result.success) {\r\n                            dlg.close();\r\n                        }\r\n                        else {\r\n                            dlg.showAlert(result.message, 'error');\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.showRemoveQueryDialog = function (callback) {\r\n        var ds = this.context.getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        ds.openConfirm(i18n.getText('RemoveQueryTitle'), i18n.getText('RemoveQueryContent').replace('{queryName}', query.getName()), callback);\r\n    };\r\n    AdvancedSearchView.prototype.showSaveQueryToFileDialog = function (callback) {\r\n        var ds = this.getContext().getServices().getDialogService();\r\n        var query = this.context.getQuery();\r\n        var body = this.renderSaveToFileDialogBody(query.getName());\r\n        var dlg = ds.open({\r\n            title: i18n.getText('SaveQueryToFileDlgTitle'),\r\n            body: body,\r\n            onSubmit: function () {\r\n                var fileNameInput = body.querySelector('#kdlgFileNameInput');\r\n                var fileName = fileNameInput ? fileNameInput.value : \"Query\";\r\n                var formatSelector = body.querySelector('#kdlgFileFormatSelector');\r\n                var format = formatSelector ? formatSelector.value : 'json';\r\n                if (callback) {\r\n                    dlg.disableButtons();\r\n                    var header_3 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_3 = domel('div', header_3)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    callback(fileName, format)\r\n                        .then(function (result) {\r\n                        dlg.enableButtons();\r\n                        header_3.removeChild(processEl_3);\r\n                        if (result.success) {\r\n                            dlg.close();\r\n                        }\r\n                        else {\r\n                            dlg.showAlert(result.message, 'error');\r\n                        }\r\n                    });\r\n                    return false;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.renderSaveToFileDialogBody = function (name, format) {\r\n        if (format === void 0) { format = \"json\"; }\r\n        var isIE = browserUtils.IsIE();\r\n        var fieldsClass = isIE\r\n            ? 'kfrm-fields-ie col-ie-1-4 label-align-right'\r\n            : 'kfrm-fields col-a-1 label-align-right';\r\n        var horizClass = isIE\r\n            ? 'kfrm-fields-ie is-horizontal'\r\n            : 'kfrm-fields is-horizontal';\r\n        return domel('div')\r\n            .addClass('kfrm-form')\r\n            .addChild('div', function (b) {\r\n            b.addClass(fieldsClass)\r\n                .addChild('label', function (b) { return b\r\n                .attr('for', 'file_name')\r\n                .addText(i18n.getText('FileNameLabel')); })\r\n                .addChild('div', function (b) { return b\r\n                .addClass(horizClass)\r\n                .addChild('input', function (b) { return b\r\n                .id('kdlgFileNameInput')\r\n                .name('file_name')\r\n                .type('text')\r\n                .attr('value', name); })\r\n                .addChild('label', function (b) { return b\r\n                .addText('.'); })\r\n                .addChild('div', function (b) { return b\r\n                .addClass('kfrm-select')\r\n                .addChild('select', function (b) { return b\r\n                .id('kdlgFileFormatSelector')\r\n                .addClass('kdlg-form-control')\r\n                .addOption({\r\n                value: 'xml',\r\n                selected: 'xml' === format\r\n            })\r\n                .addOption({\r\n                value: 'json',\r\n                selected: 'json' === format\r\n            }); }); }); });\r\n        })\r\n            .toDOM();\r\n    };\r\n    // ------------------ Query management buttons handler ---------------------\r\n    AdvancedSearchView.prototype.newQueryButtonClick = function () {\r\n        var _this = this;\r\n        this.checkIfQueryModified(function () {\r\n            _this.createNewQuery();\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveQueryToFileButtonClick = function () {\r\n        var _this = this;\r\n        this.showSaveQueryToFileDialog(function (fileName, format) { return new Promise(function (resolve) {\r\n            _this.context.getQueryFile({\r\n                fileName: fileName,\r\n                format: format,\r\n                success: function () { return resolve({ success: true }); },\r\n                error: function (error) { return resolve({ success: false, message: error }); }\r\n            });\r\n        }); });\r\n    };\r\n    AdvancedSearchView.prototype.loadQueryFromFileButtonClick = function () {\r\n        var _this = this;\r\n        this.checkIfQueryModified(function () {\r\n            _this.showLoadQueryFromFileDialog();\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.showLoadQueryFromFileDialog = function () {\r\n        this.loadQueryFromFileInput.click();\r\n    };\r\n    AdvancedSearchView.prototype.loadQueryFromFileInputSelect = function () {\r\n        var _this = this;\r\n        var files = this.loadQueryFromFileInput.files;\r\n        var file = files.item(0);\r\n        var data = new FormData();\r\n        data.append(file.name, file);\r\n        this.loadQueryFromFileInput.value = \"\";\r\n        this.context.uploadQueryFile({\r\n            data: data,\r\n            success: function () {\r\n                _this.syncQuery();\r\n                _this.refreshQueryList();\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.loadQueryButtonClick = function () {\r\n        var _this = this;\r\n        this.context.loadQueryList({\r\n            success: function (data) {\r\n                _this.fillLoadQueryButtonMenu(data);\r\n                _this.queryListMenu.showMenu({\r\n                    anchor: _this.loadQueryButton,\r\n                    adjustHeight: false,\r\n                    itemSelectedCallback: function (data) {\r\n                        _this.checkIfQueryModified(function () { return _this.loadQuery(data.id); });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.fillLoadQueryButtonMenu = function (queryList) {\r\n        var query = this.getContext().getQuery();\r\n        this.queryListMenu = new PopupMenu({\r\n            items: queryList.map(function (item) { return ({ id: item.id, text: item.name }); }),\r\n            selectedIds: query.getId()\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.saveQueryButtonClick = function () {\r\n        this.saveCurrentQuery();\r\n    };\r\n    AdvancedSearchView.prototype.copyQueryButtonClick = function () {\r\n        this.saveCurrentQuery(true);\r\n    };\r\n    AdvancedSearchView.prototype.removeQueryButtonClick = function () {\r\n        var _this = this;\r\n        this.showRemoveQueryDialog(function (result) {\r\n            if (result) {\r\n                _this.removeCurrentQuery();\r\n            }\r\n        });\r\n    };\r\n    AdvancedSearchView.prototype.storageDropButtonClick = function () {\r\n        var _this = this;\r\n        var container = this.storageDropButton.parentElement;\r\n        var content = container.querySelector(\".\" + this.dropdownContentClass);\r\n        if (content) {\r\n            window.setTimeout(function () { return content.classList.toggle(_this.dropdownShowClass); }, 100);\r\n        }\r\n    };\r\n    AdvancedSearchView.prototype.fetchDataButtonClick = function () {\r\n        this.fetchData();\r\n    };\r\n    AdvancedSearchView.prototype.detach = function () {\r\n        var _this = this;\r\n        this.enableExportButtons();\r\n        this.exportButtons.forEach(function (button) {\r\n            button.removeEventListener('click', _this.exportButtonClickHandler);\r\n        });\r\n        this.exportButtons = [];\r\n        if (this.fetchDataButton) {\r\n            this.fetchDataButton.removeEventListener('click', this.fetchDataButtonClickHandler);\r\n            this.fetchDataButton = null;\r\n        }\r\n        if (this.clearQueryButton) {\r\n            this.clearQueryButton.removeEventListener('click', this.clearQueryButtonClickHandler);\r\n            this.clearQueryButton = null;\r\n        }\r\n        if (this.newQueryButton) {\r\n            this.newQueryButton.removeEventListener('click', this.newQueryButtonClickHandler);\r\n            this.newQueryButton = null;\r\n        }\r\n        if (this.loadQueryButton) {\r\n            this.loadQueryButton.removeEventListener('click', this.loadQueryButtonClickHandler);\r\n            this.loadQueryButton = null;\r\n        }\r\n        if (this.saveQueryButton) {\r\n            this.saveQueryButton.removeEventListener('click', this.saveQueryButtonClickHandler);\r\n            this.saveQueryButton = null;\r\n        }\r\n        if (this.copyQueryButton) {\r\n            this.copyQueryButton.removeEventListener('click', this.copyQueryButtonClickHandler);\r\n            this.copyQueryButton = null;\r\n        }\r\n        if (this.removeQueryButton) {\r\n            this.removeQueryButton.removeEventListener('click', this.removeQueryButtonClickHandler);\r\n            this.removeQueryButton = null;\r\n        }\r\n        if (this.storageDropButton) {\r\n            this.storageDropButton.removeEventListener('click', this.storageButtonClickHandler);\r\n            this.storageDropButton = null;\r\n        }\r\n        if (this.saveQueryToFileButton) {\r\n            this.saveQueryToFileButton.removeEventListener('click', this.saveQueryToFileButtonClickHandler);\r\n            this.saveQueryToFileButton = null;\r\n        }\r\n        if (this.queryListPanel) {\r\n            this.queryListPanel = null;\r\n        }\r\n        if (this.loadQueryFromFileButton) {\r\n            if (this.loadQueryFromFileInput) {\r\n                document.body.removeChild(this.loadQueryFromFileInput);\r\n            }\r\n            this.loadQueryFromFileButton.removeEventListener('click', this.loadQueryFromFileButtonClickHandler);\r\n            this.loadQueryFromFileButton = null;\r\n        }\r\n        _super.prototype.detach.call(this);\r\n    };\r\n    return AdvancedSearchView;\r\n}(View));\r\nexport { AdvancedSearchView };\r\n//left for backward compatibility\r\nvar AdvancedSearchViewJQuery = /** @class */ (function (_super) {\r\n    __extends(AdvancedSearchViewJQuery, _super);\r\n    function AdvancedSearchViewJQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return AdvancedSearchViewJQuery;\r\n}(AdvancedSearchView));\r\nexport { AdvancedSearchViewJQuery };\r\n//# sourceMappingURL=adv_search_view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { QueryChangePart } from '@easyquery/core';\r\nimport { View } from './view';\r\n/**\r\n * The view that represents a data-filtering scenario (a text search for one entity/table)\r\n */\r\nvar DataFilterView = /** @class */ (function (_super) {\r\n    __extends(DataFilterView, _super);\r\n    function DataFilterView() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DataFilterView.prototype.initOptions = function (options) {\r\n        var _this = this;\r\n        options = _super.prototype.initOptions.call(this, options);\r\n        var query = this.context.getQuery();\r\n        query.addChangedCallback(function () {\r\n            if (_this.resultOptions.clearResultOnQueryChange) {\r\n                _this.context.clearResult();\r\n            }\r\n            if (options.syncQueryOnChange) {\r\n                _this.context.syncQuery();\r\n            }\r\n        });\r\n        this.context.addEventListener('ready', this.fetchData.bind(this));\r\n        return options;\r\n    };\r\n    DataFilterView.prototype.initWidgets = function (options) {\r\n        var _this = this;\r\n        _super.prototype.initWidgets.call(this, options);\r\n        if (this.sortingBarWidget) {\r\n            this.context.getQuery().addChangedCallback(function (ev) {\r\n                var edata = ev.data;\r\n                if (!edata || (edata.part != QueryChangePart.SortingColumns\r\n                    && edata.part != QueryChangePart.Columns && edata.part != QueryChangePart.All)) {\r\n                    return;\r\n                }\r\n                _this.fetchData();\r\n            });\r\n        }\r\n        if (this.filterBarWidget) {\r\n            var widgetType = this.filterBarWidget.getWidgetType();\r\n            options.widgets[widgetType] = options.widgets[widgetType] = {};\r\n            if (!options.widgets[widgetType].applyFilterCallback) {\r\n                options.widgets[widgetType].applyFilterCallback = function () {\r\n                    _this.fetchData();\r\n                };\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Obsolete. Left for backward compatibility.\r\n     * Use fetchData() instead\r\n     * @deprecated Use `fetchData()`\r\n     */\r\n    DataFilterView.prototype.applyQueryFilter = function () {\r\n        console.warn('applyQueryFilter is obsolete. Use fetchData instead');\r\n        this.fetchData();\r\n    };\r\n    return DataFilterView;\r\n}(View));\r\nexport { DataFilterView };\r\n//left for backward compatibility\r\nvar DataFilterViewJQuery = /** @class */ (function (_super) {\r\n    __extends(DataFilterViewJQuery, _super);\r\n    function DataFilterViewJQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return DataFilterViewJQuery;\r\n}(DataFilterView));\r\nexport { DataFilterViewJQuery };\r\n//# sourceMappingURL=data_filter_view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { EqHtmlGrid } from \"../widgets/eq_result_html_grid\";\r\nimport { DataFilterView } from \"./data_filter_view\";\r\n/**\r\n * The EasyQuery client-side view that represents the UI for data filtering page\r\n */\r\nvar HtmlDataFilterView = /** @class */ (function (_super) {\r\n    __extends(HtmlDataFilterView, _super);\r\n    function HtmlDataFilterView() {\r\n        return _super.call(this) || this;\r\n    }\r\n    /**\r\n    * Creates the widget that represents Grid Widget.\r\n    * @param slot The HTMLElement to place the created widget in.\r\n    * @returns the created Widget object.\r\n    */\r\n    HtmlDataFilterView.prototype.createResultGridWidget = function (element) {\r\n        return new EqHtmlGrid(element);\r\n    };\r\n    /**\r\n     * Obsolete. Left for backward compatibility.\r\n     * Use fetchData() instead\r\n     */\r\n    HtmlDataFilterView.prototype.applyQueryFilter = function () {\r\n        console.warn('applyQueryFilter is obsolete. Use fetchData instead');\r\n        this.fetchData();\r\n    };\r\n    return HtmlDataFilterView;\r\n}(DataFilterView));\r\nexport { HtmlDataFilterView };\r\n//# sourceMappingURL=html_data_filter_view.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { WidgetGroup, QueryChangePart } from '@easyquery/core';\r\nimport { i18n, utils as dataUtils } from '@easydata/core';\r\nimport { domel } from '@easydata/ui';\r\nimport { browserUtils } from '../utils/browser_utils';\r\nimport { View } from './view';\r\n/**\r\n * The view that represents the \"ad-hoc reporting\" scenario\r\n */\r\nvar ReportView = /** @class */ (function (_super) {\r\n    __extends(ReportView, _super);\r\n    function ReportView() {\r\n        var _this = _super.call(this) || this;\r\n        _this.reports = [];\r\n        _this.reportCache = [];\r\n        _this.exportButtons = [];\r\n        _this.exportClass = \"eqjs-export\";\r\n        _this.disabledClass = \"eqjs-disabled\";\r\n        _this.enableExport = false;\r\n        _this.useReportCache = true;\r\n        _this._reportSaveTemplate = \"<div id=\\\"kdlg-dialog-form\\\" class=\\\"kfrm-form\\\">\\n            <div class=\\\"kfrm-fields label-above\\\">\\n                <label for=\\\"kdlg-dialog-form-input\\\" id=\\\"kdlg-dialog-form-content\\\"></label>\\n                <input type=\\\"text\\\" name=\\\"kdlg-dialog-form-input\\\" id=\\\"kdlg-dialog-form-input\\\" />\\n            </div>\\n        </div>\";\r\n        var self = _this;\r\n        _this.exportButtonClickHandler = function (e) {\r\n            if (!this.classList.contains(self.disabledClass)) {\r\n                var format = this.getAttribute(\"data-format\");\r\n                self.getContext().exportResult({ format: format });\r\n            }\r\n        };\r\n        _this.clearReportButtonClickHandler = _this.clearReportButtonClick.bind(_this);\r\n        _this.newReportButtonClickHandler = _this.newReportButtonClick.bind(_this);\r\n        _this.loadReportButtonClickHandler = _this.loadReportButtonClick.bind(_this);\r\n        _this.saveReportButtonClickHandler = _this.saveReportButtonClick.bind(_this);\r\n        _this.removeReportButtonClickHandler = _this.removeReportButtonClick.bind(_this);\r\n        _this.updateReportButtonClickHandler = _this.updateReportButtonClick.bind(_this);\r\n        browserUtils.onMobileModeChanged(function (_) {\r\n            document.location.reload();\r\n        });\r\n        return _this;\r\n    }\r\n    ReportView.prototype.initOptions = function (options) {\r\n        var _this = this;\r\n        options = _super.prototype.initOptions.call(this, options);\r\n        if (typeof (options.syncReportOnChange) === \"undefined\") {\r\n            options.syncReportOnChange = true;\r\n        }\r\n        if (typeof (options.syncQueryOnChange) == \"undefined\") {\r\n            options.syncQueryOnChange = options.syncReportOnChange;\r\n        }\r\n        if (typeof (options.useReportCache) !== \"undefined\") {\r\n            this.useReportCache = options.useReportCache;\r\n        }\r\n        this.defaultReportId = options.defaultReportId;\r\n        var query = this.context.getQuery();\r\n        query.addChangedCallback(function (event) {\r\n            var eventData = event.data;\r\n            if (eventData) {\r\n                if (eventData.changeType == \"query.switched\") {\r\n                    _this.context.refreshWidgets(WidgetGroup.Query);\r\n                }\r\n                else {\r\n                    _this.disableExportButtons();\r\n                    if (_this.resultCountSlot) {\r\n                        _this.resultCountSlot.style.display = \"none\";\r\n                    }\r\n                }\r\n            }\r\n            if (options.syncQueryOnChange) {\r\n                var needSync = eventData && eventData.changeType != \"query.switched\" && !eventData.noSync;\r\n                if (needSync) {\r\n                    _this.syncReport();\r\n                }\r\n            }\r\n            //clear dataset result on query change\r\n            if (_this.resultOptions.clearResultOnQueryChange) {\r\n                if (!eventData\r\n                    || eventData.changeType == \"query.switched\"\r\n                    || eventData.part == QueryChangePart.ExtraData) {\r\n                    return;\r\n                }\r\n                _this.context.clearResult();\r\n                _this.context.refreshWidgets(WidgetGroup.Result);\r\n            }\r\n        });\r\n        return options;\r\n    };\r\n    ReportView.prototype.initDone = function () {\r\n        var _this = this;\r\n        _super.prototype.initDone.call(this);\r\n        window.setTimeout(function () {\r\n            _this.context.loadQueryList({\r\n                success: function (data) {\r\n                    if (Array.isArray(data)) {\r\n                        _this.reports = data;\r\n                        var exists = _this.reports.filter(function (r) { return r.id == _this.defaultReportId; }).length > 0;\r\n                        if (exists) {\r\n                            _this.renderReportList({ reportId: _this.defaultReportId });\r\n                        }\r\n                        else {\r\n                            _this.renderReportList();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }, 100);\r\n    };\r\n    ReportView.prototype.initWidgets = function (options) {\r\n        var _this = this;\r\n        _super.prototype.initWidgets.call(this, options);\r\n        var clearReportButton = \"ClearReportButton\";\r\n        var newReportButton = \"NewReportButton\";\r\n        var loadReportButton = \"LoadReportButton\";\r\n        var saveReportButton = \"SaveReportButton\";\r\n        var removeReportButton = \"RemoveReportButton\";\r\n        var updateReportButton = \"UpdateReportButton\";\r\n        var resultCountSpan = \"ResultCount\";\r\n        var exportButtons = \"ResultExportButtons\";\r\n        var exportClass = this.exportClass;\r\n        if (options.slots) {\r\n            resultCountSpan = options.slots.resultCountSpan || resultCountSpan;\r\n            exportButtons = options.slots.exportButtons || exportButtons;\r\n            clearReportButton = options.slots.clearReportButton || clearReportButton;\r\n            newReportButton = options.slots.newReportButton || newReportButton;\r\n            loadReportButton = options.slots.loadReportButton || loadReportButton;\r\n            saveReportButton = options.slots.saveReportButton || saveReportButton;\r\n            removeReportButton = options.slots.removeReportButton || removeReportButton;\r\n            updateReportButton = options.slots.updateReportButton || updateReportButton;\r\n            exportClass = options.slots.exportClass || exportClass;\r\n        }\r\n        this.exportButtons = this.domRoots.reduce(function (elems, root) {\r\n            return elems.concat(Array.from(root.querySelectorAll(\".\" + exportClass)));\r\n        }, []);\r\n        this.enableExport = options.enableExport;\r\n        if (this.enableExport) {\r\n            //Add event listener for export buttons\r\n            this.exportButtons.forEach(function (button) {\r\n                button.addEventListener('click', _this.exportButtonClickHandler);\r\n            });\r\n        }\r\n        else {\r\n            this.hideExportButtons();\r\n        }\r\n        this.exportButtonsContainer = this.resolveElement(exportButtons);\r\n        if (!this.clearReportButton) {\r\n            this.clearReportButton = this.resolveElement(clearReportButton);\r\n            if (this.clearReportButton) {\r\n                this.clearReportButton.addEventListener('click', this.clearReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.newReportButton) {\r\n            this.newReportButton = this.resolveElement(newReportButton);\r\n            if (this.newReportButton) {\r\n                this.newReportButton.addEventListener('click', this.newReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.loadReportButton) {\r\n            this.loadReportButton = this.resolveElement(loadReportButton);\r\n            if (this.loadReportButton) {\r\n                this.loadReportButton.addEventListener('click', this.loadReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!saveReportButton) {\r\n            this.saveReportButton = this.resolveElement(saveReportButton);\r\n            if (this.saveReportButton) {\r\n                this.saveReportButton.addEventListener('click', this.saveReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.removeReportButton) {\r\n            this.removeReportButton = this.resolveElement(removeReportButton);\r\n            if (this.removeReportButton) {\r\n                this.removeReportButton.addEventListener('click', this.removeReportButtonClickHandler);\r\n            }\r\n        }\r\n        if (!this.updateReportButton) {\r\n            this.updateReportButton = this.resolveElement(updateReportButton);\r\n            if (this.updateReportButton) {\r\n                this.updateReportButton.addEventListener('click', this.updateReportButtonClickHandler);\r\n            }\r\n        }\r\n        this.reportListSlot = document.getElementById('ReportList');\r\n        this.resultCountSlot = this.resolveElement(resultCountSpan);\r\n    };\r\n    /**\r\n    * Creates a new report.\r\n    */\r\n    ReportView.prototype.newReport = function () {\r\n        var _this = this;\r\n        var ds = this.context.getServices().getDialogService();\r\n        var dlg = ds.open({\r\n            title: i18n.getText('NewReportDlgTitle'),\r\n            body: this._reportSaveTemplate,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                input.value = i18n.getText('NewReportDefName');\r\n                var content = document.getElementById('kdlg-dialog-form-content');\r\n                content.innerHTML = i18n.getText('SaveReportDlgLabel');\r\n                input.focus();\r\n            },\r\n            onSubmit: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                var value = input.value;\r\n                if (value && value.replace(/\\s/g, '').length > 0) {\r\n                    dlg.disableButtons();\r\n                    var header_1 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_1 = domel('div', header_1)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    var query = _this.context.getQuery();\r\n                    query.reset();\r\n                    _this.context.newQuery({\r\n                        name: value,\r\n                        success: function () {\r\n                            dlg.close();\r\n                            var query = _this.context.getQuery();\r\n                            var reportId = query.getId();\r\n                            _this.insertIntoReportList({ id: reportId, name: query.getName() });\r\n                            _this.renderReportList({ reportId: reportId });\r\n                        },\r\n                        error: function (error) {\r\n                            header_1.removeChild(processEl_1);\r\n                            dlg.enableButtons();\r\n                            dlg.showAlert(error, 'error');\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Loads report by ID.\r\n    * @param reportId The ID of the report to load.\r\n    */\r\n    ReportView.prototype.loadReport = function (reportId) {\r\n        var _this = this;\r\n        if (!reportId) {\r\n            throw 'Empty report ID!';\r\n        }\r\n        var reportToLoad = this.findReportById(reportId);\r\n        if (!reportToLoad)\r\n            return;\r\n        var self = this;\r\n        var query = self.context.getQuery();\r\n        var reportLoaded = function () {\r\n            _this.renderReportProps();\r\n            query.fireChangedEvent({\r\n                part: QueryChangePart.All,\r\n                noSync: true,\r\n                changeType: 'query.switched'\r\n            });\r\n            _this.fetchData();\r\n        };\r\n        var reportContent = this.useReportCache ? this.getReportContentFromCache(reportToLoad) : null;\r\n        if (reportContent) {\r\n            query.clear();\r\n            query.loadFromJson(reportContent);\r\n            reportLoaded();\r\n        }\r\n        else {\r\n            this.context.loadQuery({\r\n                queryId: reportId,\r\n                silent: true,\r\n                success: function () {\r\n                    _this.saveReportContentInCache(reportToLoad, query.toJSON());\r\n                    reportLoaded();\r\n                }\r\n            });\r\n        }\r\n        this.setActiveReport(reportId);\r\n    };\r\n    /**\r\n    * Shows the dialog to save the report with new name.\r\n    */\r\n    ReportView.prototype.saveCurrentReportAs = function () {\r\n        var _this = this;\r\n        var query = this.context.getQuery();\r\n        var ds = this.context.getServices().getDialogService();\r\n        var dlg = ds.open({\r\n            title: i18n.getText('NewReportDlgTitle'),\r\n            body: this._reportSaveTemplate,\r\n            submitable: true,\r\n            closable: true,\r\n            cancelable: true,\r\n            submitOnEnter: true,\r\n            arrangeParents: false,\r\n            beforeOpen: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                input.value = query.getName();\r\n                var content = document.getElementById('kdlg-dialog-form-content');\r\n                content.innerHTML = i18n.getText('SaveReportDlgLabel');\r\n                input.focus();\r\n            },\r\n            onSubmit: function () {\r\n                var input = document.getElementById(\"kdlg-dialog-form-input\");\r\n                var value = input.value;\r\n                if (value && value.replace(/\\s/g, '').length > 0) {\r\n                    query.setId(dataUtils.generateId(value.replace(/\\s/g, '')));\r\n                    dlg.disableButtons();\r\n                    var header_2 = dlg.getRootElement().querySelector('header');\r\n                    var processEl_2 = domel('div', header_2)\r\n                        .addClass('eqjs-process-bar local')\r\n                        .toDOM();\r\n                    _this.context.newQuery({\r\n                        clearQuery: false,\r\n                        name: value,\r\n                        success: function () {\r\n                            dlg.close();\r\n                            _this.context.refreshWidgets(WidgetGroup.Query);\r\n                            var savedQuery = _this.context.getQuery();\r\n                            var reportId = savedQuery.getId();\r\n                            _this.fetchData();\r\n                            _this.insertIntoReportList({ id: reportId, name: query.getName() });\r\n                            _this.renderReportList({ reportId: reportId });\r\n                            _this.setActiveReport(reportId);\r\n                            _this.renderReportProps();\r\n                        },\r\n                        error: function (error) {\r\n                            header_2.removeChild(processEl_2);\r\n                            dlg.enableButtons();\r\n                            dlg.showAlert(error, 'error');\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Removes current report.\r\n    */\r\n    ReportView.prototype.removeCurrentReport = function () {\r\n        var _this = this;\r\n        var report = this.context.getQuery();\r\n        var ds = this.context.getServices().getDialogService();\r\n        ds.openConfirm(i18n.getText('RemoveReportContent').replace('{reportName}', report.getName()))\r\n            .then(function (result) {\r\n            if (result) {\r\n                var reportId_1 = report.getId();\r\n                _this.context.removeQuery({\r\n                    queryId: reportId_1,\r\n                    success: function () {\r\n                        var index = _this.removeFromReportList(reportId_1);\r\n                        _this.renderReportList({ reportIndex: index });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Sends current report's query to back-end.\r\n    */\r\n    ReportView.prototype.syncReport = function () {\r\n        var _this = this;\r\n        if (this.useReportCache) {\r\n            var query = this.context.getQuery();\r\n            var currentReport = this.findReportById(query.getId());\r\n            if (currentReport) {\r\n                currentReport.lastUpdated = Date.now();\r\n                this.saveReportContentInCache(currentReport, query.toJSON());\r\n            }\r\n        }\r\n        this.context.syncQuery({\r\n            success: function (responseData) {\r\n                if (responseData.query)\r\n                    _this.context.refreshWidgets(WidgetGroup.Query);\r\n                if (responseData.statement)\r\n                    _this.context.refreshWidgets(WidgetGroup.Statement);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n    * Sets active report.\r\n    * @param reportId The ID of the report to make active.\r\n    */\r\n    ReportView.prototype.setActiveReport = function (reportId) {\r\n        var rlItems = this.reportListSlot.querySelectorAll('li');\r\n        for (var i = 0; i < rlItems.length; i++) {\r\n            var item = rlItems[i];\r\n            item.classList.remove('active');\r\n            var rid = item.getAttribute('data-rid');\r\n            if (rid === reportId) {\r\n                item.classList.add('active');\r\n            }\r\n        }\r\n        ;\r\n    };\r\n    /**\r\n    * Renders current report.\r\n    */\r\n    ReportView.prototype.renderReportProps = function () {\r\n        var query = this.context.getQuery();\r\n        var titleElem = document.getElementById('ReportTitle');\r\n        titleElem.innerHTML = query.getName();\r\n        var columnsPanel = document.querySelector('.columns-bar');\r\n        if (columnsPanel) {\r\n            columnsPanel.innerHTML = '<strong>Columns:</strong>';\r\n            var columns = query.getColumns();\r\n            for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\r\n                var column = columns_1[_i];\r\n                columnsPanel.innerHTML += '<span class=\"label label-default\">' + column.caption + '</span> ';\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * Renders the list of reports.\r\n    * @param options The options. In particular, `options.reportIndex` defines which report should be active.\r\n    */\r\n    ReportView.prototype.renderReportList = function (options) {\r\n        this.renderReportPanels();\r\n        if (!this.reportListSlot.matches('li')) {\r\n            this.reportListSlot.innerHTML = \"\";\r\n            options = options || { reportId: (this.reports.length > 0 ? this.reports[0].id : null) };\r\n            var ul = document.createElement('ul');\r\n            ul.className = 'list-group list-group-flush';\r\n            this.reportListSlot.appendChild(ul);\r\n            for (var _i = 0, _a = this.reports; _i < _a.length; _i++) {\r\n                var report = _a[_i];\r\n                this.renderReportItemInList(report, ul);\r\n            }\r\n            if (options.reportId) {\r\n                this.loadReport(options.reportId);\r\n            }\r\n            if (typeof (options.reportIndex) !== \"undefined\") {\r\n                var idx = options.reportIndex;\r\n                if (idx >= this.reports.length)\r\n                    idx = this.reports.length - 1;\r\n                if (idx < 0 && this.reports.length > 0)\r\n                    idx = 0;\r\n                if (idx >= 0)\r\n                    this.loadReport(this.reports[idx].id);\r\n            }\r\n        }\r\n    };\r\n    ReportView.prototype.detach = function () {\r\n        var _this = this;\r\n        if (this.exportButtonsContainer) {\r\n            this.showExportButtons();\r\n            this.exportButtons.forEach(function (button) {\r\n                button.removeEventListener('click', _this.exportButtonClickHandler);\r\n            });\r\n            this.exportButtons = [];\r\n            this.exportButtonsContainer = null;\r\n        }\r\n        if (this.clearReportButton) {\r\n            this.clearReportButton.removeEventListener('click', this.clearReportButtonClickHandler);\r\n            this.clearReportButton = null;\r\n        }\r\n        if (this.newReportButton) {\r\n            this.newReportButton.removeEventListener('click', this.newReportButtonClickHandler);\r\n            this.newReportButton = null;\r\n        }\r\n        if (!this.loadReportButton) {\r\n            this.loadReportButton.removeEventListener('click', this.loadReportButtonClickHandler);\r\n            this.loadReportButton = null;\r\n        }\r\n        if (this.saveReportButton) {\r\n            this.saveReportButton.addEventListener('click', this.saveReportButtonClickHandler);\r\n            this.saveReportButton = null;\r\n        }\r\n        if (!this.removeReportButton) {\r\n            this.removeReportButton.removeEventListener('click', this.removeReportButtonClickHandler);\r\n            this.removeReportButton = null;\r\n        }\r\n        if (this.updateReportButton) {\r\n            this.updateReportButton.removeEventListener('click', this.updateReportButtonClickHandler);\r\n            this.removeReportButton = null;\r\n        }\r\n        if (this.reportListSlot) {\r\n            this.reportListSlot.innerHTML = '';\r\n            this.reportListSlot = null;\r\n        }\r\n        if (this.resultCountSlot) {\r\n            this.resultCountSlot.innerHTML = '';\r\n            this.resultCountSlot = null;\r\n        }\r\n        _super.prototype.detach.call(this);\r\n    };\r\n    /**\r\n    * Renders a single item in the list of reports.\r\n    * @param report The [[Report]] object to render.\r\n    * @param ul The [[HTMLUListElement]] to add the item to.\r\n    */\r\n    ReportView.prototype.renderReportItemInList = function (report, ul) {\r\n        if (!ul) {\r\n            ul = this.reportListSlot.querySelector(\"ul\");\r\n        }\r\n        var reportName = report.name || report.description || \"\";\r\n        var li = document.createElement('li');\r\n        li.className = \"list-group-item\";\r\n        li.style.cursor = 'pointer';\r\n        li.setAttribute('data-rid', report.id);\r\n        li.innerText = reportName;\r\n        var self = this;\r\n        li.addEventListener('click', function (e) {\r\n            var target = e.target;\r\n            var rid = target.getAttribute('data-rid');\r\n            self.loadReport(rid);\r\n            self.setActiveReport(rid);\r\n        });\r\n        ul.appendChild(li);\r\n    };\r\n    /**\r\n    * Renders report panels.\r\n    */\r\n    ReportView.prototype.renderReportPanels = function () {\r\n        var reportsContainer = document.getElementById(\"ReportsContainer\");\r\n        var noReportPanel = document.getElementById(\"NoReportPanel\");\r\n        if (this.reports.length > 0) {\r\n            this.hideElement(noReportPanel);\r\n            this.showElement(reportsContainer);\r\n        }\r\n        else {\r\n            this.hideElement(reportsContainer);\r\n            this.showElement(noReportPanel);\r\n        }\r\n    };\r\n    //TODO: Move these two functions to @easydata/ui\r\n    ReportView.prototype.hideElement = function (element) {\r\n        if (element) {\r\n            element.style.visibility = 'hidden';\r\n        }\r\n    };\r\n    ReportView.prototype.showElement = function (element) {\r\n        if (element) {\r\n            element.style.removeProperty('visibility');\r\n        }\r\n    };\r\n    /**\r\n    * Inserts the report to the list of reports.\r\n    * @param report The [[Report]] object to be inserted.\r\n    */\r\n    ReportView.prototype.insertIntoReportList = function (report) {\r\n        this.reports.push(report);\r\n    };\r\n    /**\r\n    * Removes the report from the list of reports.\r\n    * @param reportId The ID of the report to be removed.\r\n    * @returns the index of removed report.\r\n    */\r\n    ReportView.prototype.removeFromReportList = function (reportId) {\r\n        var index = this.indexOfReportById(reportId);\r\n        if (index >= 0)\r\n            this.reports.splice(index, 1);\r\n        return index;\r\n    };\r\n    ReportView.prototype.indexOfReportById = function (reportId) {\r\n        for (var i = 0; i < this.reports.length; i++) {\r\n            if (this.reports[i].id === reportId)\r\n                return i;\r\n        }\r\n        return -1;\r\n    };\r\n    /**\r\n    * The handler of the \"Clear\" button click.\r\n    */\r\n    ReportView.prototype.clearReportButtonClick = function () {\r\n        this.clearErrors();\r\n        this.context.clearQuery();\r\n    };\r\n    /**\r\n    * The handler of the \"Update\" button click.\r\n    */\r\n    ReportView.prototype.updateReportButtonClick = function () {\r\n        this.fetchData();\r\n    };\r\n    /**\r\n    * The handler of the \"Save\" button click.\r\n    */\r\n    ReportView.prototype.saveReportButtonClick = function () {\r\n        this.saveCurrentReportAs();\r\n    };\r\n    /**\r\n    * The handler of the \"Load\" button click.\r\n    */\r\n    ReportView.prototype.loadReportButtonClick = function () {\r\n        this.loadReport(\"LastQuery\");\r\n    };\r\n    /**\r\n    * The handler of the \"Remove\" button click.\r\n    */\r\n    ReportView.prototype.removeReportButtonClick = function () {\r\n        this.removeCurrentReport();\r\n    };\r\n    /**\r\n    * The handler of the \"New\" button click.\r\n    */\r\n    ReportView.prototype.newReportButtonClick = function () {\r\n        this.newReport();\r\n    };\r\n    /**\r\n    * The handler of errors.\r\n    * @param error The error object.\r\n    */\r\n    ReportView.prototype.errorHandler = function (error) {\r\n    };\r\n    /**\r\n    * Clears the errors.\r\n    */\r\n    ReportView.prototype.clearErrors = function () {\r\n    };\r\n    /**\r\n    * Disables export buttons.\r\n    */\r\n    ReportView.prototype.disableExportButtons = function () {\r\n        this.hideExportButtons();\r\n    };\r\n    /**\r\n    * Enables export buttons.\r\n    */\r\n    ReportView.prototype.enableExportButtons = function () {\r\n        this.showExportButtons();\r\n    };\r\n    /**\r\n    * Hides export buttons.\r\n    */\r\n    ReportView.prototype.hideExportButtons = function () {\r\n        if (this.exportButtonsContainer) {\r\n            this.exportButtonsContainer.style.display = \"none\";\r\n        }\r\n    };\r\n    /**\r\n    * Shows export buttons.\r\n    */\r\n    ReportView.prototype.showExportButtons = function () {\r\n        if (this.exportButtonsContainer) {\r\n            this.exportButtonsContainer.style.display = \"initial\";\r\n        }\r\n    };\r\n    /**\r\n     * Saves reports content to the cache.\r\n     * @param report  The report.\r\n     * @param content The content (Query serialized into JSON).\r\n     */\r\n    ReportView.prototype.saveReportContentInCache = function (report, content) {\r\n        var item = this.findReportCacheItem(report.id);\r\n        if (!item) {\r\n            item = { id: report.id };\r\n            this.reportCache.push(item);\r\n        }\r\n        item.lastUpdated = report.lastUpdated;\r\n        item.content = content;\r\n    };\r\n    /**\r\n     * Gets the report content from cache.\r\n     * @param report The report.\r\n     * @returns Content of the report (Query in JSOn string)\r\n     */\r\n    ReportView.prototype.getReportContentFromCache = function (report) {\r\n        var item = this.findReportCacheItem(report.id);\r\n        if (item && item.lastUpdated === report.lastUpdated) {\r\n            return item.content;\r\n        }\r\n        return null;\r\n    };\r\n    ReportView.prototype.findReportById = function (id) {\r\n        for (var _i = 0, _a = this.reports; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.id === id) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    ReportView.prototype.findReportCacheItem = function (id) {\r\n        for (var _i = 0, _a = this.reportCache; _i < _a.length; _i++) {\r\n            var item = _a[_i];\r\n            if (item.id === id) {\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    return ReportView;\r\n}(View));\r\nexport { ReportView };\r\n//left for backward compatibility\r\nvar ReportViewJQuery = /** @class */ (function (_super) {\r\n    __extends(ReportViewJQuery, _super);\r\n    function ReportViewJQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return ReportViewJQuery;\r\n}(ReportView));\r\nexport { ReportViewJQuery };\r\n//# sourceMappingURL=report_view.js.map","import { i18n } from '@easydata/core';\r\nfunction addOldEasyQueryUIMapper() {\r\n    i18n.addMapper(function (info) {\r\n        if (!info && !info.texts)\r\n            return;\r\n        for (var prop in info.texts) {\r\n            switch (prop) {\r\n                case 'PredicateTitle':\r\n                    info.texts['ConditionGroupTitle'] = info.texts[prop];\r\n                    break;\r\n                case 'RootPredicateTitle':\r\n                    info.texts['RootConditionGroupTitle'] = info.texts[prop];\r\n                    break;\r\n                case 'ErrIncorrectPredicateTitleFormat':\r\n                    info.texts['ErrIncorrectGroupTitleFormat'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonAddPredicate':\r\n                    info.texts['ButtonAddGroup'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonDelete':\r\n                    info.texts['CmdDelete'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonClear':\r\n                    info.texts['CmdClear'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonEnable':\r\n                    info.texts['CmdToggleEnable'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonAddCondition':\r\n                    info.texts['CmdAddCondition'] = info.texts[prop];\r\n                    break;\r\n                case 'ButtonAddGroup':\r\n                    info.texts['CmdAddCondGroup'] = info.texts[prop];\r\n                    break;\r\n                default:\r\n                    //do nothing\r\n                    break;\r\n            }\r\n        }\r\n    });\r\n}\r\nfunction addEasyQueryUITexts() {\r\n    i18n.updateDefaultTexts({\r\n        AltMenuAttribute: 'Attribute',\r\n        AltMenuConstantExpression: 'Constant expression',\r\n        ButtonApply: 'Apply',\r\n        ButtonCancel: 'Cancel',\r\n        ButtonClose: 'Close',\r\n        ButtonNext: 'Next',\r\n        ButtonPrev: 'Prev',\r\n        ButtonNow: 'Now',\r\n        ButtonOK: 'OK',\r\n        MenuEnable: 'Enabled',\r\n        MenuParameterization: 'Parameterized',\r\n        MenuJoinCond: 'Use in JOIN',\r\n        CmdClear: 'Clear',\r\n        CmdDelete: 'Delete',\r\n        CmdToggleEnable: 'Toggle enable',\r\n        CmdAddCondition: 'Add condition',\r\n        CmdAddCondGroup: 'Add group of conditions',\r\n        ButtonSelectAll: 'Select all',\r\n        ButtonDeselectAll: 'Clear selection',\r\n        ButtonAddColumns: 'Add column(s)',\r\n        ButtonAddConditions: 'Add condition(s)',\r\n        CmdClickToAddCondition: '[Add new condition]',\r\n        CmdDeleteRow: 'Delete this row',\r\n        ErrIncorrectGroupTitleFormat: 'Incorrect condition group title format',\r\n        ErrNotNumber: ' is not a number',\r\n        ErrIncorrectInteger: 'Incorrect integer value',\r\n        ErrIncorrectNumberList: 'Incorrect list format',\r\n        False: 'False',\r\n        LinkTypeAll: 'all',\r\n        LinkTypeAny: 'any',\r\n        LinkTypeNone: 'none',\r\n        LinkTypeNotAll: 'not all',\r\n        ConjAll: 'and',\r\n        ConjAny: 'or',\r\n        ConjNotAll: 'and',\r\n        ConjNone: 'or',\r\n        MsgApplySelection: '[Apply selection]',\r\n        MsgAs: 'as',\r\n        MsgEmptyList: '(empty list)',\r\n        MsgEmptyListValue: '[select value]',\r\n        MsgEmptyScalarValue: '[enter value]',\r\n        MsgSubQueryValue: '[edit sub-query]',\r\n        MsgEmptyAttrValue: '[select attribute]',\r\n        MsgEmptyOperator: '[Unrecognized operator]',\r\n        MsgEmptyCustomSql: '[enter SQL expression]',\r\n        MsgCustomSql: '[Custom SQL]',\r\n        MsgNoResult: 'No result',\r\n        MsgResultCount: '{0} records found',\r\n        MsgOf: 'of',\r\n        ConditionGroupTitle: '{lt} of the following apply',\r\n        RootConditionGroupTitle: 'Select records where {lt} of the following apply',\r\n        StrAddConditions: 'Add conditions',\r\n        SubQueryDialogTitle: 'Edit sub-query',\r\n        SubQueryColumnTitle: 'Column:',\r\n        SubQueryEmptyColumn: '[select column]',\r\n        SubQueryQueryPanelCaption: 'Conditions',\r\n        True: 'True',\r\n        ButtonSorting: 'Sorting',\r\n        ButtonToAggr: 'Change to aggregate column',\r\n        ButtonToSimple: 'Change to simple column',\r\n        CmdAscending: 'Ascending',\r\n        CmdClickToAddColumn: '[Add new column]',\r\n        CmdDeleteColumn: 'Delete column',\r\n        CmdDeleteSorting: 'Delete sorting',\r\n        CmdDescending: 'Descending',\r\n        CmdGroupSort: 'Sorting',\r\n        CmdNotSorted: 'Not sorted',\r\n        ColTypeAggrFunc: 'Aggregate function',\r\n        ColTypeCompound: 'Calculated',\r\n        ColTypeGroup: 'Column type',\r\n        ColTypeSimple: 'Simple column',\r\n        HeaderExpression: 'Expression',\r\n        HeaderSorting: 'Sorting',\r\n        HeaderTitle: 'Title',\r\n        SortHeaderColumn: 'Column',\r\n        SortHeaderSorting: 'Sorting',\r\n        StrAddColumns: 'Add columns',\r\n        CustomExpression: 'Custom Expression',\r\n        CmdMoveToStart: 'Move to start',\r\n        CmdMoveRight: 'Move right',\r\n        CmdMoveLeft: 'Move left',\r\n        CmdMoveToEnd: 'Move to the end',\r\n        CmdMoveUp: 'Move up',\r\n        CmdMoveDown: 'Move down',\r\n        ButtonMenu: 'Show menu',\r\n        CmdToSimple: 'Not aggregated',\r\n        CmdMoveToFirst: 'Move to the first',\r\n        CmdMoveToPrev: 'Move to the previous',\r\n        CmdMoveToNext: 'Move to the next',\r\n        CmdMoveToLast: 'Move to the last',\r\n        CmdHiddenColumn: 'Hidden',\r\n        RowButtonTitle: 'Click to see the available options',\r\n        //FilterBar\r\n        StrNoFilterDefined: 'No filter defined',\r\n        StrNoFilterClickToAdd: 'No filter defined. Click to add a new condition',\r\n        //Time picker\r\n        HintHours: 'Hours',\r\n        HintMinutes: 'Minutes',\r\n        //advanced search view texts\r\n        RemoveQueryTitle: 'Confirmation',\r\n        RemoveQueryContent: 'Remove query [{queryName}]?',\r\n        NewQueryTitle: 'New query',\r\n        NewQueryContent: 'Enter new query name',\r\n        NewQueryDefName: 'New query',\r\n        SaveQueryTitle: 'Save query',\r\n        SaveQueryContent: 'Please, enter query name: ',\r\n        SaveQueryDefName: '{queryName} copy',\r\n        QueryChangedTitle: 'Confirmation',\r\n        QueryChangedContent: 'Query was changed. Do you want to save it first?',\r\n        UpdateQuerySelector: '[click here to load query]',\r\n        FileNameLabel: 'File name: ',\r\n        SaveQueryToFileDlgTitle: 'Save query to file',\r\n        //report view texts\r\n        NewReportDefName: 'New report',\r\n        NewReportDlgTitle: 'New report',\r\n        SaveReportDlgTitle: 'Save report',\r\n        SaveReportDlgLabel: 'Report name:',\r\n        RemoveReportContent: 'Remove report \\'{reportName}\\'?',\r\n        //facets\r\n        Facets: {\r\n            TotalRecordsLabel: 'Total records:',\r\n            AddMenuItems: {\r\n                Chart: 'Chart',\r\n                Pivot: 'Pivot table',\r\n                DataTable: 'Data table'\r\n            },\r\n            LoadDataDlgTitle: 'Downloading data',\r\n            LoadDataDlgContent: 'Records loaded: {loadedRecs}/{totalRecs}',\r\n            RefreshBtnTitle: 'Refresh',\r\n            ExportBtnTitle: 'Export',\r\n            MaximizeBtnTitle: 'Maximize',\r\n            RestoreBtnTitle: 'Restore Down',\r\n            RemoveFacetDlgTitle: 'Remove facet',\r\n            RemoveFacetDlgContent: \"Are you sure, that you want to delete {facetTitle} tab?\",\r\n            DefaultDlgTitle: 'Setup facet',\r\n            DefaultFacetTitle: '',\r\n            TabNameLabel: 'Tab name',\r\n            ErrQueryChanged: 'FAILED TO DISPLAY. QUERY WAS CHANGED',\r\n            ErrNotEnoughData: \"We can't display the graph because not all data for this query is loaded. \\n        The total number of records: {totalRecs}, currently loaded: {cachedRecs}. \\n        You can [download the result]. Please note: this may take some time and consume a lot of memory.\",\r\n            Chart: {\r\n                FacetTitle: 'Chart',\r\n                DlgTitle: 'Chart settings',\r\n                DataColumnSelectorLabel: 'Data column',\r\n                LabelColumnSelectorLabel: 'Label column',\r\n                ChartTypeSelectorLabel: 'Chart type'\r\n            },\r\n            Pivot: {\r\n                FacetTitle: 'Pivot table',\r\n                DlgTitle: 'Pivot settings',\r\n                ColumnFieldSelectorLabel: 'Column field',\r\n                RowFieldSelectorLabel: 'Row field',\r\n                CellDataSelectorLabel: 'Cell data',\r\n                TotalsRowLabel: 'Totals row',\r\n                TotalsColLabel: 'Totals col',\r\n                TotalGridLabel: 'Total'\r\n            },\r\n            DataTable: {\r\n                FacetTitle: 'Result table',\r\n                DlgTitle: 'Table facet settings'\r\n            }\r\n        },\r\n        TotalsDlgLabel: 'Totals',\r\n        GrandTotalsLabel: 'Grand totals',\r\n        TotalsDlgTitle: 'Select totals',\r\n        //formats\r\n        ExportDlgTitle: 'Export result',\r\n        ExportDlgFmtLabel: 'Format',\r\n        'csv': 'CSV',\r\n        'excel-html': 'Excel'\r\n    });\r\n}\r\naddOldEasyQueryUIMapper();\r\naddEasyQueryUITexts();\r\n//# sourceMappingURL=text_resources.js.map","import { EqServiceProvider } from \"@easyquery/core\";\r\nEqServiceProvider.prototype.registerDialogServiceResolver = function (resolver) {\r\n    this['dialogServiceResolver'] = resolver;\r\n};\r\nEqServiceProvider.prototype.getDialogService = function () {\r\n    if (!this['dialogService']) {\r\n        if (!this['dialogServiceResolver']) {\r\n            throw 'DialogServiceResolver is not defined';\r\n        }\r\n        this['dialogService'] = this['dialogServiceResolver']();\r\n    }\r\n    return this['dialogService'];\r\n};\r\n//# sourceMappingURL=extensions.js.map","export * from './widgets/entities_panel';\r\nexport * from './widgets/columns_panel';\r\nexport * from './widgets/columns_bar';\r\nexport * from './widgets/sorting_bar';\r\nexport * from './widgets/query_panel';\r\nexport * from './widgets/filter_bar';\r\nexport * from './widgets/html_content_widget';\r\nexport * from './widgets/eq_result_html_grid';\r\nexport * from './widgets/grid';\r\nexport * from './widgets/easy_grid_widget';\r\nexport * from './widgets/statement_panel';\r\nexport * from './widgets/process_widget';\r\nexport * from './widgets/manage_drilldown_widget';\r\nexport * from './widgets/result_facets_panel';\r\nexport * from './widgets/export_widget';\r\nexport * from './widgets/charts/chart_type';\r\nexport * from './widgets/charts/chart_widget';\r\nexport * from './widgets/charts/chart_widget_google';\r\nexport * from './widgets/charts/chart_widget_chartjs';\r\nexport * from './widgets/renderers/base_element_renderer';\r\nexport * from './widgets/renderers/dropdown_renderer';\r\nexport * from './widgets/renderers/columnsbar/aggrfunc_column_renderer';\r\nexport * from './widgets/renderers/columnsbar/simple_column_renderer';\r\nexport * from './widgets/renderers/columnsbar/column_renderer';\r\nexport * from './widgets/renderers/columnspanel/aggrfunc_column_renderer';\r\nexport * from './widgets/renderers/columnspanel/simple_column_renderer';\r\nexport * from './widgets/renderers/columnspanel/column_renderer';\r\nexport * from './widgets/renderers/columnspanel/customsql_column_renderer';\r\nexport * from './widgets/renderers/querypanel/input_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/datetime_expression_render';\r\nexport * from './widgets/renderers/querypanel/condition_renderer';\r\nexport * from './widgets/renderers/querypanel/condition_group_renderer';\r\nexport * from './widgets/renderers/querypanel/attribute_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/expression_renderer';\r\nexport * from './widgets/renderers/querypanel/operator_renderer';\r\nexport * from './widgets/renderers/querypanel/subquery_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/list_expression_renderer';\r\nexport * from './widgets/renderers/querypanel/text_renderer';\r\nexport * from './widgets/renderers/querypanel/addrow_renderer';\r\nexport * from './facets/result_facet_tab';\r\nexport * from './facets/datatable_facet_tab';\r\nexport * from './facets/chart_facet_tab';\r\nexport * from './facets/pivot_table_facet_tab';\r\nexport * from './views/view';\r\nexport * from './views/adv_search_view';\r\nexport * from './views/data_filter_view';\r\nexport * from './views/html_data_filter_view';\r\nexport * from './views/report_view';\r\nexport * from './utils/dropdown';\r\nexport * from './utils/popup_menu';\r\nexport * from './types/qp_editable_part';\r\nexport * from './types/facet_type';\r\nexport * from './dialog/export_dialog';\r\nexport * from './dialog/totals_dialog';\r\nimport './i18n/text_resources';\r\nimport './extensions';\r\nif (!Element.prototype.matches) {\r\n    Element.prototype.matches =\r\n        Element.prototype.msMatchesSelector\r\n            || Element.prototype.webkitMatchesSelector;\r\n}\r\n// support NodeList forEach in IE11\r\nif (window['NodeList'] && !window['NodeList'].prototype.forEach) {\r\n    window['NodeList'].prototype.forEach = Array.prototype.forEach;\r\n}\r\n//# sourceMappingURL=public_api.js.map","var majVer = 7;\r\nvar minVer = 0;\r\nvar magic = 45;\r\nMath.trunc = Math.trunc || function (x) {\r\n    if (isNaN(x)) {\r\n        return NaN;\r\n    }\r\n    if (x > 0) {\r\n        return Math.floor(x);\r\n    }\r\n    return Math.ceil(x);\r\n};\r\nexport var lcv = {\r\n    __kt: 0,\r\n    ck: function (key) {\r\n        if (!key)\r\n            return;\r\n        try {\r\n            var part1 = key.slice(0, key.length - 8);\r\n            var infoBytes = _bs(part1);\r\n            var part2 = key.slice(key.length - 8);\r\n            var ed = f36(magic);\r\n            if (part2[0] !== ed[0] || part2[2] !== ed[1])\r\n                return;\r\n            var idx = minVer % 4;\r\n            var shift = majVer + minVer;\r\n            if (part2[4 + idx] != encChar(shift, 19)) {\r\n                return;\r\n            }\r\n            if (part2[1] != encChar(infoBytes[3])) {\r\n                return;\r\n            }\r\n            lcv.__kt = part2[3] != encChar(infoBytes[5]) ? 1 : 2;\r\n        }\r\n        catch (error) {\r\n        }\r\n    }\r\n};\r\nfunction encChar(x, b) {\r\n    if (b === void 0) { b = 20; }\r\n    return String.fromCharCode(65 + x % b);\r\n}\r\nfunction _bs(str) {\r\n    var binary_string = urlatob(str);\r\n    var len = binary_string.length;\r\n    var bytes = new Uint8Array(len);\r\n    for (var i = 0; i < len; i++) {\r\n        bytes[i] = binary_string.charCodeAt(i);\r\n    }\r\n    return bytes;\r\n}\r\nfunction urlatob(str) {\r\n    var s = str;\r\n    s = s.replace(/-/g, '+');\r\n    s = s.replace(/_/g, '/');\r\n    switch (s.length % 4) {\r\n        case 0:\r\n            break;\r\n        case 2:\r\n            s += \"==\";\r\n            break;\r\n        case 3:\r\n            s += \"=\";\r\n            break;\r\n    }\r\n    return window.atob(s);\r\n}\r\nfunction f36(val) {\r\n    var str = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\r\n    var tb = 36;\r\n    var i = 1;\r\n    var result = \"AA\";\r\n    var rest = val;\r\n    do {\r\n        result = setCharAt(result, i--, str[rest % tb]);\r\n        rest = Math.trunc(rest / tb);\r\n    } while (rest > 0);\r\n    return result;\r\n}\r\nfunction setCharAt(str, index, chr) {\r\n    if (index > str.length - 1)\r\n        return str;\r\n    return str.substr(0, index) + chr + str.substr(index + 1);\r\n}\r\n//# sourceMappingURL=lcv.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Condition, CondTag } from \"@easyquery/core\";\r\nimport { lcv } from '../utils/lcv';\r\nvar ConditionEx = /** @class */ (function (_super) {\r\n    __extends(ConditionEx, _super);\r\n    function ConditionEx() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.readOnly = false;\r\n        _this.parameterized = false;\r\n        _this.inJoin = false;\r\n        return _this;\r\n    }\r\n    ConditionEx.prototype.isReadOnly = function () {\r\n        return this.readOnly || (this.getParent() && this.getParent().isReadOnly());\r\n    };\r\n    ConditionEx.prototype.setReadOnly = function (value) {\r\n        this.readOnly = value || (this.getParent() && this.getParent().isReadOnly());\r\n        this.conditions && this.conditions.forEach(function (cond) {\r\n            cond.setReadOnly(value);\r\n        });\r\n    };\r\n    ConditionEx.prototype.isParameterized = function () {\r\n        return this.parameterized;\r\n    };\r\n    ConditionEx.prototype.setParameterized = function (value) {\r\n        this.parameterized = value;\r\n    };\r\n    ConditionEx.prototype.isInJoin = function () {\r\n        return this.inJoin;\r\n    };\r\n    ConditionEx.prototype.setInJoin = function (value) {\r\n        this.inJoin = value;\r\n    };\r\n    ConditionEx.prototype.loadFromData = function (model, data) {\r\n        _super.prototype.loadFromData.call(this, model, data);\r\n        if (!lcv.__kt)\r\n            return;\r\n        if (typeof data.readOnly !== 'undefined') {\r\n            this.setReadOnly(data.readOnly);\r\n        }\r\n        if (typeof data.inJoin !== 'undefined') {\r\n            this.setInJoin(data.inJoin);\r\n        }\r\n        if (typeof data.parameterized !== 'undefined') {\r\n            this.setParameterized(data.parameterized);\r\n        }\r\n        //if condition group\r\n        //this.linkType = data.linking;\r\n        if (data.conds) {\r\n            for (var i = 0; i < data.conds.length; i++) {\r\n                var newCond = this.query.createCondition();\r\n                newCond.loadFromData(model, data.conds[i]);\r\n                this.conditions.push(newCond);\r\n                newCond.setParent(this);\r\n            }\r\n        }\r\n    };\r\n    ConditionEx.prototype.saveToData = function () {\r\n        var obj = _super.prototype.saveToData.call(this);\r\n        if (!lcv.__kt)\r\n            return obj;\r\n        if (lcv.__kt !== 0)\r\n            if (this.isReadOnly()) {\r\n                obj.readOnly = this.isReadOnly();\r\n            }\r\n        if (this.isParameterized()) {\r\n            obj.parameterized = this.isParameterized();\r\n        }\r\n        if (this.isInJoin()) {\r\n            obj.inJoin = this.isInJoin();\r\n        }\r\n        if (this.tag == CondTag.Group) {\r\n            //if condition group\r\n            //obj.linking = this.linkType;\r\n            obj.conds = [];\r\n            for (var i = 0; i < this.conditions.length; i++) {\r\n                obj.conds.push(this.conditions[i].saveToData());\r\n            }\r\n        }\r\n        return obj;\r\n    };\r\n    return ConditionEx;\r\n}(Condition));\r\nexport { ConditionEx };\r\n//# sourceMappingURL=condition_ex.js.map","import { EqContext } from '@easyquery/core';\r\nimport { QueryEx } from './query/query_ex';\r\nimport { EqServerQueryStorage } from './main/eqs_query_storage';\r\nimport { DataModelEx } from './dm/model_ex';\r\nimport { lcv } from './utils/lcv';\r\nimport { EqTotalsCalculator } from './data/eqs_totals_calculator';\r\nvar licenseKeyEndpoint = '/.easyquery/lck';\r\nEqContext.prototype.setLicenseKeyEndpoint = function (endpoint) {\r\n    licenseKeyEndpoint = endpoint;\r\n};\r\nEqContext.prototype.useEnterprise = function (keyOrInitCallback) {\r\n    var _this = this;\r\n    var func = function (key) {\r\n        lcv.ck(key);\r\n        if (lcv.__kt) {\r\n            var services = _this.getServices();\r\n            services.registerDataModelResolver(function (context) { return new DataModelEx(); });\r\n            services.registerQueryResolver(function (context) { return new QueryEx(context.getModel()); });\r\n            services.registerQueryStorageResolver(function (context) { return new EqServerQueryStorage(context); });\r\n            services.registerTotalCalculator(function (context) { return new EqTotalsCalculator(context); });\r\n            if (lcv.__kt === 1) {\r\n                console.warn('EasyQuery.JS is working in TRIAL MODE! Please order a license to get a proper product key (https://korzh.com/eq).');\r\n                createTrialWM();\r\n                setTimeout(function () {\r\n                    showTrialWM();\r\n                    setTimeout(hideTrialWM, 6000);\r\n                }, 3000);\r\n            }\r\n        }\r\n        else {\r\n            console.error(\"INVALID KEY! EasyQuery.JS is working in Community edition mode! Please contact the vendor (https://korzh.com/support) to resolve this issue\");\r\n        }\r\n    };\r\n    if (typeof (keyOrInitCallback) === \"string\") {\r\n        func(keyOrInitCallback);\r\n    }\r\n    else if (typeof (keyOrInitCallback) === \"function\") {\r\n        var http = this.getServices().getHttpClient();\r\n        var url = licenseKeyEndpoint;\r\n        http.get(url)\r\n            .then(function (result) { func(result.split(\"\").reverse().join(\"\")); keyOrInitCallback(); })\r\n            .catch(function (error) { return console.error(error); });\r\n    }\r\n    else {\r\n        throw new Error(\"Wrong type of 'keyOrInitCallback' parameter. It must be a string with a license key or a callback function.\");\r\n    }\r\n};\r\nvar trialDiv;\r\nfunction createTrialWM() {\r\n    trialDiv = document.createElement(\"div\");\r\n    trialDiv.style.position = \"fixed\";\r\n    trialDiv.style.bottom = \"0\";\r\n    trialDiv.style.right = \"-400px\";\r\n    trialDiv.style.width = \"400px\";\r\n    trialDiv.style.height = \"100px\";\r\n    trialDiv.style.color = \"grey\";\r\n    trialDiv.style.textAlign = \"center\";\r\n    trialDiv.style.opacity = \"0.7\";\r\n    trialDiv.style.font = \"bold 1em Trebuchet MS, Tahoma, Verdana, Geneva, Arial, Helvetica, sans-serif\";\r\n    trialDiv.style.transition = \"right 3s ease-out\";\r\n    var header = document.createElement(\"div\");\r\n    var eq = document.createElement(\"span\");\r\n    eq.innerText = \"EasyQuery\";\r\n    eq.style.color = \"#3A94D4\";\r\n    eq.style.lineHeight = \"50px\";\r\n    header.appendChild(eq);\r\n    var korzh = document.createElement(\"span\");\r\n    korzh.innerText = \"by Korzh.com\";\r\n    korzh.style.marginLeft = \"10px\";\r\n    header.appendChild(korzh);\r\n    trialDiv.appendChild(header);\r\n    var trialOnly = document.createElement(\"div\");\r\n    trialOnly.innerText = \"FOR TRIAL USE ONLY\";\r\n    trialOnly.style.fontSize = \"1.2em\";\r\n    trialOnly.style.fontWeight = \"1000\";\r\n    trialDiv.appendChild(trialOnly);\r\n    document.body.appendChild(trialDiv);\r\n}\r\nfunction showTrialWM() {\r\n    if (trialDiv) {\r\n        trialDiv.style.right = \"0\";\r\n    }\r\n}\r\nfunction hideTrialWM() {\r\n    if (trialDiv) {\r\n        trialDiv.style.right = \"-400px\";\r\n        setTimeout(function () {\r\n            trialDiv.parentNode.removeChild(trialDiv);\r\n        }, 5000);\r\n    }\r\n}\r\n//# sourceMappingURL=extensions.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Column } from \"@easyquery/core\";\r\nimport { lcv } from '../utils/lcv';\r\nvar ColumnEx = /** @class */ (function (_super) {\r\n    __extends(ColumnEx, _super);\r\n    function ColumnEx() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.readOnly = false;\r\n        return _this;\r\n    }\r\n    ColumnEx.prototype.isReadOnly = function () {\r\n        return this.readOnly;\r\n    };\r\n    ColumnEx.prototype.setReadOnly = function (value) {\r\n        this.readOnly = value;\r\n    };\r\n    /**\r\n     * Loads column from its JSON representation object.\r\n     * @param model The Data Model.\r\n     * @param colData The JSON representation object.\r\n     */\r\n    ColumnEx.prototype.loadFromData = function (model, colData) {\r\n        _super.prototype.loadFromData.call(this, model, colData);\r\n        if (!lcv.__kt)\r\n            return;\r\n        if (colData) {\r\n            if (typeof colData.readOnly != 'undefined') {\r\n                this.readOnly = colData.readOnly;\r\n            }\r\n        }\r\n    };\r\n    ColumnEx.prototype.saveToData = function () {\r\n        var colData = _super.prototype.saveToData.call(this);\r\n        if (!lcv.__kt)\r\n            return colData;\r\n        if (this.isReadOnly()) {\r\n            colData.readOnly = this.isReadOnly();\r\n        }\r\n        return colData;\r\n    };\r\n    return ColumnEx;\r\n}(Column));\r\nexport { ColumnEx };\r\n//# sourceMappingURL=column_ex.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Query, CondTag, LinkType } from '@easyquery/core';\r\nimport { ConditionEx } from './condition_ex';\r\nimport { ColumnEx } from './column_ex';\r\nimport { lcv } from '../utils/lcv';\r\nvar QueryEx = /** @class */ (function (_super) {\r\n    __extends(QueryEx, _super);\r\n    function QueryEx(model) {\r\n        return _super.call(this, model) || this;\r\n    }\r\n    QueryEx.prototype.isEx = function () {\r\n        return lcv.__kt !== 0;\r\n    };\r\n    QueryEx.prototype.createCondition = function (tag) {\r\n        if (tag === void 0) { tag = CondTag.Simple; }\r\n        if (!lcv.__kt)\r\n            return _super.prototype.createCondition.call(this, tag);\r\n        return new ConditionEx(this, tag);\r\n    };\r\n    QueryEx.prototype.createColumn = function (justsorted) {\r\n        if (justsorted === void 0) { justsorted = false; }\r\n        if (!lcv.__kt)\r\n            return _super.prototype.createColumn.call(this, justsorted);\r\n        return new ColumnEx(this, justsorted);\r\n    };\r\n    /**\r\n     * Adds a condition group - a group of simple conditions (predicates) linked by AND or OR\r\n     * @param descriptor The descriptor of the new condition group.\r\n     * @returns The new search condition.\r\n     */\r\n    QueryEx.prototype.addConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        if (!lcv.__kt)\r\n            return _super.prototype.addConditionGroup.call(this, descriptor, addChildCondition);\r\n        var parent = descriptor.parent || this.getRootCondition();\r\n        var lType = descriptor.linking || (parent.linkType === LinkType.All ? LinkType.Any : LinkType.All);\r\n        var group = this.createCondition(CondTag.Group);\r\n        group.linkType = lType;\r\n        if (addChildCondition) {\r\n            var model = this.getModel();\r\n            var attr = model.getFirstUICAttr();\r\n            var op = model.getDefaultOperatorForAttr(attr);\r\n            var cond = this.createSimpleConditionObject(attr, op, \"\");\r\n            group.addCondition(cond);\r\n        }\r\n        parent.addCondition(group);\r\n        return group;\r\n    };\r\n    QueryEx.prototype.addExtraConditionGroup = function (descriptor, addChildCondition) {\r\n        if (addChildCondition === void 0) { addChildCondition = true; }\r\n        descriptor.parent = descriptor.parent || this.extraConditions;\r\n        if (!lcv.__kt)\r\n            return _super.prototype.addExtraConditionGroup.call(this, descriptor, addChildCondition);\r\n        return this.addConditionGroup(descriptor);\r\n    };\r\n    return QueryEx;\r\n}(Query));\r\nexport { QueryEx };\r\n//# sourceMappingURL=query_ex.js.map","var EqServerQueryStorage = /** @class */ (function () {\r\n    function EqServerQueryStorage(context) {\r\n        this.context = context;\r\n    }\r\n    EqServerQueryStorage.prototype.init = function () {\r\n    };\r\n    EqServerQueryStorage.prototype.newQuery = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var model = this.context.getModel();\r\n        var modelId = options.modelId || (model ? model.getId() : \"\");\r\n        var requestData = {\r\n            'query': query.toJSONData()\r\n        };\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('NewQuery', { modelId: modelId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.post(url, requestData)\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.getQueryList = function (options) {\r\n        options = options || {};\r\n        var modelId = options.modelId || this.context.getModel().getId();\r\n        var url = this.context.resolveEndpoint('GetQueryList', { modelId: modelId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.get(url)\r\n            .then(function (responseData) {\r\n            if (!responseData.queries) {\r\n                return Promise.reject({\r\n                    message: 'Wrong response format'\r\n                });\r\n            }\r\n            return responseData.queries;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.loadQuery = function (options) {\r\n        options = options || {};\r\n        var model = this.context.getModel();\r\n        var query = this.context.getQuery();\r\n        var modelId = options.modelId || model.getId();\r\n        var queryId = options.queryId || query.getId();\r\n        var url = this.context.resolveEndpoint('GetQuery', { modelId: modelId, queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.get(url)\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.saveQuery = function (options) {\r\n        options = options || {};\r\n        var query = options.query || this.context.getQuery();\r\n        var queryId = options.queryId || query.getId();\r\n        if (options.queryId) {\r\n            query.setId(options.queryId);\r\n        }\r\n        var modelId = options.modelId || query.getModel().getId();\r\n        var queryName = options.name || query.getName();\r\n        if (options.queryId) {\r\n            query.setId(options.queryId);\r\n        }\r\n        var requestData = {\r\n            'query': query.toJSONData(),\r\n            'name': queryName\r\n        };\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('SaveQuery', { modelId: modelId, queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.put(url, requestData)\r\n            .then(function (responseData) {\r\n            return responseData.query;\r\n        });\r\n    };\r\n    EqServerQueryStorage.prototype.removeQuery = function (options) {\r\n        options = options || {};\r\n        var context = this.context;\r\n        var query = context.getQuery();\r\n        var modelId = options.modelId || query.getModel().getId();\r\n        var queryId = options.queryId || query.getId();\r\n        var requestData = {\r\n            'modelId': modelId,\r\n            'queryId': queryId\r\n        };\r\n        if (options.data) {\r\n            requestData['data'] = options.data;\r\n        }\r\n        var url = this.context.resolveEndpoint('RemoveQuery', { modelId: modelId, queryId: queryId });\r\n        var http = this.context.getServices().getHttpClient();\r\n        return http.delete(url, requestData).getPromise();\r\n    };\r\n    return EqServerQueryStorage;\r\n}());\r\nexport { EqServerQueryStorage };\r\n//# sourceMappingURL=eqs_query_storage.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DataModel, Tree } from \"@easyquery/core\";\r\nimport { QueryEx } from \"../query/query_ex\";\r\nimport { lcv } from \"../utils/lcv\";\r\nvar DataModelEx = /** @class */ (function (_super) {\r\n    __extends(DataModelEx, _super);\r\n    function DataModelEx() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    DataModelEx.prototype.buildQueryPath = function (query) {\r\n        if (!lcv.__kt)\r\n            return _super.prototype.buildQueryPath.call(this, query);\r\n        if (this.mainEntity)\r\n            return _super.prototype.buildQueryPath.call(this, query);\r\n        var entities = this.getEntitiesInQuery(query);\r\n        if (entities.length == 0) {\r\n            throw Error(\"Cannon build path. Path is empty\");\r\n        }\r\n        var tree = new Tree(entities[0]);\r\n        for (var i = 1; i < entities.length; i++) {\r\n            var entity = entities[i];\r\n            if (tree.contains(entity)) {\r\n                continue;\r\n            }\r\n            var path = this.findPath(tree.value, entity);\r\n            if (path != null) {\r\n                //Add path to tree\r\n                tree = this.addPathToTree(tree, (path[0] === tree.value) ? path.slice(1) : path);\r\n            }\r\n            else {\r\n                throw Error(\"Unable to build query. Cannot build path.\");\r\n            }\r\n        }\r\n        tree.setParents();\r\n        return tree;\r\n    };\r\n    DataModelEx.prototype.addPathToTree = function (tree, path) {\r\n        if (path.length == 0) {\r\n            return;\r\n        }\r\n        var pathAdded = false;\r\n        for (var _i = 0, _a = tree.childs; _i < _a.length; _i++) {\r\n            var child = _a[_i];\r\n            if (child.value === path[0]) {\r\n                pathAdded = true;\r\n                if (path.length > 1)\r\n                    child = this.addPathToTree(child, path.slice(1));\r\n                break;\r\n            }\r\n        }\r\n        if (!pathAdded) {\r\n            var link = this.findLink(tree.value, path[0]);\r\n            if (link) {\r\n                var newNode = new Tree(path[0]);\r\n                tree.addChild(newNode);\r\n                if (path.length > 1)\r\n                    newNode = this.addPathToTree(newNode, path.slice(1));\r\n            }\r\n            else if (!tree.parent) {\r\n                var node = new Tree(tree);\r\n                tree = new Tree(path[0]);\r\n                tree.addChild(node);\r\n                if (path.length > 1)\r\n                    tree = this.addPathToTree(tree, path.slice(1));\r\n            }\r\n            else {\r\n                throw Error(\"Unable to build query. Cannot build path.\");\r\n            }\r\n        }\r\n        return tree;\r\n    };\r\n    DataModelEx.prototype.findPath = function (entityFrom, entityTo) {\r\n        var curPath = [];\r\n        var curStep = [];\r\n        var nextStep = [];\r\n        var passedEntities = [];\r\n        var pathFound = false;\r\n        curPath.push(entityFrom);\r\n        curStep.push(curPath);\r\n        passedEntities.push(entityFrom);\r\n        while (!pathFound) {\r\n            nextStep = [];\r\n            for (var _i = 0, curStep_1 = curStep; _i < curStep_1.length; _i++) {\r\n                var path = curStep_1[_i];\r\n                pathFound = this.checkPath(path, entityTo, nextStep, passedEntities);\r\n                if (pathFound) {\r\n                    path.push(entityTo);\r\n                    curPath = path;\r\n                    break;\r\n                }\r\n            }\r\n            curStep = [];\r\n            if (!pathFound) {\r\n                if (nextStep.length == 0)\r\n                    return null;\r\n                //copy nextStep to curStep\r\n                for (var _a = 0, nextStep_1 = nextStep; _a < nextStep_1.length; _a++) {\r\n                    var path = nextStep_1[_a];\r\n                    curStep.push(path);\r\n                }\r\n            }\r\n        }\r\n        return curPath;\r\n    };\r\n    DataModelEx.prototype.checkPath = function (path, entityTo, nextStep, passedEntities) {\r\n        var endPoint = path[path.length - 1];\r\n        var entityLinks = this.getLinksByEntity(endPoint);\r\n        for (var _i = 0, entityLinks_1 = entityLinks; _i < entityLinks_1.length; _i++) {\r\n            var link = entityLinks_1[_i];\r\n            var entity2 = null;\r\n            if (link.entityFrom == endPoint) {\r\n                entity2 = link.entityTo;\r\n            }\r\n            else {\r\n                entity2 = link.entityFrom;\r\n            }\r\n            if (entity2 == entityTo) { //if reach the destination\r\n                nextStep = [];\r\n                return true;\r\n            }\r\n            //if destination is not reached yet we add current node (entity2) to the path and proceed\r\n            if (path.indexOf(entity2) < 0 && passedEntities.indexOf(entity2) < 0) { //to prevent cycling\r\n                passedEntities.push(entity2);\r\n                var newPath = new Array();\r\n                newPath = newPath.concat(path);\r\n                newPath.push(entity2);\r\n                nextStep.push(newPath);\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    DataModelEx.prototype.createQuery = function () {\r\n        return new QueryEx(this);\r\n    };\r\n    return DataModelEx;\r\n}(DataModel));\r\nexport { DataModelEx };\r\n//# sourceMappingURL=model_ex.js.map","import { EasyDataTable } from '@easydata/core';\r\nimport { ExprTag, Query, EqTotalsContainer } from '@easyquery/core';\r\nvar EqTotalsCalculator = /** @class */ (function () {\r\n    function EqTotalsCalculator(context) {\r\n        this.context = context;\r\n        this.totals = null;\r\n    }\r\n    EqTotalsCalculator.prototype.getTotals = function () {\r\n        return this.totals;\r\n    };\r\n    EqTotalsCalculator.prototype.calculate = function (options) {\r\n        options = options || {};\r\n        options.maxLevel = options.maxLevel >= 0\r\n            ? options.maxLevel : 0;\r\n        this.totals = new EqTotalsContainer(this.context);\r\n        var levelPromises = [];\r\n        var query = new Query(this.context.getModel());\r\n        query.loadFromData(this.context.getQuery().toJSONData());\r\n        var columns = query.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag == ExprTag.EntityAttribute; });\r\n        // remove last no-aggr column\r\n        var col = columns.pop();\r\n        query.removeColumn(col, null);\r\n        for (var i = 0; i < columns.length; i++) {\r\n            columns[i].enabled = false;\r\n        }\r\n        levelPromises.push(this.processLevel(0, query, options.resultsObtained));\r\n        //totals\r\n        var level = 1;\r\n        var colIdx = 0;\r\n        while (colIdx < columns.length && level <= options.maxLevel) {\r\n            columns[colIdx].enabled = true;\r\n            levelPromises.push(this.processLevel(level, query, options.resultsObtained));\r\n            colIdx++;\r\n            level++;\r\n        }\r\n        return Promise.all(levelPromises)\r\n            .then(function () { return; })\r\n            .catch(function (error) { console.error(error); });\r\n    };\r\n    EqTotalsCalculator.prototype.processLevel = function (level, query, resultsObtained) {\r\n        var _this = this;\r\n        var executor = this.context.getServices()\r\n            .getQueryExecutor();\r\n        return executor.executeQuery({\r\n            query: query\r\n        }).then(function (result) {\r\n            var dataTable = new EasyDataTable({\r\n                chunkSize: _this.context.resultTable.chunkSize\r\n            });\r\n            var resultSet = result.resultSet;\r\n            for (var _i = 0, _a = resultSet.cols; _i < _a.length; _i++) {\r\n                var col = _a[_i];\r\n                dataTable.columns.add(col);\r\n            }\r\n            dataTable.setTotal(result.meta.totalRecords);\r\n            for (var _b = 0, _c = resultSet.rows; _b < _c.length; _b++) {\r\n                var row = _c[_b];\r\n                dataTable.addRow(row);\r\n            }\r\n            var levelData = _this.buildLevelData(dataTable);\r\n            _this.totals.setTotals(level, levelData);\r\n            if (resultsObtained) {\r\n                resultsObtained(level);\r\n            }\r\n        })\r\n            .catch(function (error) { return console.error(error); });\r\n    };\r\n    EqTotalsCalculator.prototype.buildLevelData = function (dataTable) {\r\n        var data = new Map();\r\n        var curQuery = this.context.getQuery();\r\n        var keyColumns = curQuery.getUsedInTotalsColumns();\r\n        var valueColumns = curQuery.getColumns().filter(function (col) { return col.enabled\r\n            && col.expr.tag == ExprTag.AggregateFunction; });\r\n        for (var _i = 0, _a = dataTable.getCachedRows(); _i < _a.length; _i++) {\r\n            var row = _a[_i];\r\n            var key = {};\r\n            var value = {};\r\n            for (var _b = 0, keyColumns_1 = keyColumns; _b < keyColumns_1.length; _b++) {\r\n                var keyCol = keyColumns_1[_b];\r\n                var colIdx = dataTable.columns.getIndex(keyCol.id);\r\n                if (colIdx >= 0)\r\n                    key[keyCol.id] = row.getValue(keyCol.id);\r\n            }\r\n            for (var _c = 0, valueColumns_1 = valueColumns; _c < valueColumns_1.length; _c++) {\r\n                var valueCol = valueColumns_1[_c];\r\n                value[valueCol.id] = row.getValue(valueCol.id);\r\n            }\r\n            data.set(JSON.stringify(key), value);\r\n        }\r\n        return data;\r\n    };\r\n    return EqTotalsCalculator;\r\n}());\r\nexport { EqTotalsCalculator };\r\n//# sourceMappingURL=eqs_totals_calculator.js.map"],"sourceRoot":""}